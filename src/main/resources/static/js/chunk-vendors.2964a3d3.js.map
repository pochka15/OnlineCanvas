{"version":3,"sources":["webpack:///./node_modules/sockjs-client/lib/utils/transport.js","webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/modules/es.array.flat.js","webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/internals/get-substitution.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/polling.js","webpack:///./node_modules/sockjs-client/lib/version.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///../../../src/components/VIcon/VIcon.ts","webpack:///../../../src/mixins/sizeable/index.ts","webpack:///./node_modules/sockjs-client/lib/transport/browser/websocket.js","webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/xhr.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/url-parse/index.js","webpack:///./node_modules/core-js/modules/es.string.anchor.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///../../../src/mixins/proxyable/index.ts","webpack:///../../../src/components/VItemGroup/VItemGroup.ts","webpack:///../../../src/components/VList/VListItemGroup.ts","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///../../../src/mixins/measurable/index.ts","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/sockjs-client/lib/utils/random.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/vuetify-loader/lib/runtime/installDirectives.js","webpack:///./node_modules/sockjs-client/lib/utils/browser.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/iframe-wrap.js","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///./node_modules/core-js/internals/iterator-close.js","webpack:///./node_modules/vue/dist/vue.runtime.esm.js","webpack:///./node_modules/core-js/modules/es.string.starts-with.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///../../../src/mixins/registrable/index.ts","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///../../../src/components/VList/VListItemIcon.ts","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./node_modules/sockjs-client/lib/transport/websocket.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/sockjs-client/lib/transport/xhr-streaming.js","webpack:///./node_modules/core-js/modules/es.math.cbrt.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/core-js/modules/es.array.unscopables.flat.js","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./node_modules/sockjs-client/lib/transport/htmlfile.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/requires-port/index.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./node_modules/core-js/modules/es.string.match.js","webpack:///./node_modules/sockjs-client/lib/event/trans-message.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/sockjs-client/lib/main.js","webpack:///./node_modules/sockjs-client/lib/utils/log.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/htmlfile.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///../../../src/directives/ripple/index.ts","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///../../src/util/mixins.ts","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///../../../src/mixins/bootable/index.ts","webpack:///../../../src/components/transitions/createTransition.ts","webpack:///../../../src/components/transitions/expand-transition.ts","webpack:///../../../src/components/transitions/index.ts","webpack:///../../../src/components/VList/VListGroup.ts","webpack:///../../../src/components/VList/VListItemAction.ts","webpack:///../../../src/components/VAvatar/VAvatar.ts","webpack:///../../../src/components/VAvatar/index.ts","webpack:///../../../src/components/VList/VListItemAvatar.ts","webpack:///../../../src/components/VList/index.ts","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/sockjs-client/lib/utils/url.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/vuetify-loader/lib/runtime/installComponents.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/sockjs-client/lib/transport-list.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-local.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///../../../src/components/VApp/VApp.ts","webpack:///../../../src/mixins/themeable/index.ts","webpack:///./node_modules/sockjs-client/lib/transport/lib/ajax-based.js","webpack:///./node_modules/sockjs-client/lib/shims.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/fabric/dist/fabric.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/sockjs-client/lib/transport/eventsource.js","webpack:///../../src/util/colorUtils.ts","webpack:///./node_modules/sockjs-client/lib/info-iframe.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///../../../src/mixins/binds-attrs/index.ts","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/@stomp/stompjs/esm6/versions.js","webpack:///./node_modules/@stomp/stompjs/esm6/byte.js","webpack:///./node_modules/@stomp/stompjs/esm6/frame-impl.js","webpack:///./node_modules/@stomp/stompjs/esm6/parser.js","webpack:///./node_modules/@stomp/stompjs/esm6/types.js","webpack:///./node_modules/@stomp/stompjs/esm6/augment-websocket.js","webpack:///./node_modules/@stomp/stompjs/esm6/stomp-handler.js","webpack:///./node_modules/@stomp/stompjs/esm6/client.js","webpack:///./node_modules/@stomp/stompjs/esm6/compatibility/heartbeat-info.js","webpack:///./node_modules/@stomp/stompjs/esm6/compatibility/compat-client.js","webpack:///./node_modules/@stomp/stompjs/esm6/compatibility/stomp.js","webpack:///../../src/util/helpers.ts","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/sockjs-client/lib/utils/escape.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///../../../src/mixins/elevatable/index.ts","webpack:///../../../src/components/VSheet/VSheet.ts","webpack:///../../../src/components/VList/VList.ts","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/sockjs-client/lib/info-ajax.js","webpack:///./node_modules/core-js/modules/es.string.ends-with.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///../../../src/util/color/transformSRGB.ts","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/json3/lib/json3.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/sockjs-client/lib/event/eventtarget.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/sockjs-client/lib/event/event.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/querystringify/index.js","webpack:///../../../src/components/VIcon/index.ts","webpack:///./node_modules/sockjs-client/lib/transport/sender/xdr.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/sockjs-client/lib/transport/iframe.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/sockjs-client/lib/iframe-bootstrap.js","webpack:///./node_modules/sockjs-client/lib/location.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///../../../src/mixins/roundable/index.ts","webpack:///./node_modules/core-js/internals/flatten-into-array.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/modules/es.array.every.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/modules/es.promise.finally.js","webpack:///../../../src/mixins/colorable/index.ts","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/sockjs-client/lib/event/emitter.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/sockjs-client/lib/transport/xdr-streaming.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js","webpack:///./node_modules/sockjs-client/lib/info-receiver.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/sockjs-client/lib/facade.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/jsonp.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/sockjs-client/lib/utils/event.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/sockjs-client/lib/info-iframe-receiver.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/modules/es.array.find-index.js","webpack:///./node_modules/core-js/modules/es.string.fixed.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/modules/es.string.small.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/eventsource.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/sockjs-client/lib/entry.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/sockjs-client/lib/utils/browser-crypto.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///../../../src/mixins/ssr-bootable/index.ts","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/sockjs-client/lib/utils/object.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/sockjs-client/lib/transport/browser/abstract-xhr.js","webpack:///../../src/util/console.ts","webpack:///../../src/util/mergeData.ts","webpack:///../../../src/mixins/routable/index.ts","webpack:///../../../src/mixins/groupable/index.ts","webpack:///../../../src/components/VList/VListItem.ts","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///../../../src/directives/resize/index.ts","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-cors.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/sockjs-client/lib/transport/xhr-polling.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/sockjs-client/lib/event/close.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/sockjs-client/lib/transport/xdr-polling.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/sockjs-client/lib/transport/lib/buffered-sender.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/internal-metadata.js","webpack:///./node_modules/sockjs-client/lib/utils/iframe.js","webpack:///../../../src/mixins/toggleable/index.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///../src/install.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createSuper.js","webpack:///../../src/locale/en.ts","webpack:///../../../src/presets/default/index.ts","webpack:///../../../src/services/service/index.ts","webpack:///../../../src/services/presets/index.ts","webpack:///../../../src/services/application/index.ts","webpack:///../../../src/services/breakpoint/index.ts","webpack:///../../../src/services/goto/easing-patterns.ts","webpack:///../../../src/services/goto/util.ts","webpack:///../../../src/services/goto/index.ts","webpack:///../../../../src/services/icons/presets/mdi-svg.ts","webpack:///../../../../src/services/icons/presets/md.ts","webpack:///../../../../src/services/icons/presets/mdi.ts","webpack:///../../../../src/services/icons/presets/fa.ts","webpack:///../../../../src/services/icons/presets/fa4.ts","webpack:///../../../../src/services/icons/presets/fa-svg.ts","webpack:///../../../../src/services/icons/presets/index.ts","webpack:///../../../src/services/icons/index.ts","webpack:///../../../src/services/lang/index.ts","webpack:///../../../src/util/color/transformCIELAB.ts","webpack:///../../../src/services/theme/utils.ts","webpack:///../../../src/services/theme/index.ts","webpack:///../src/framework.ts","webpack:///./node_modules/core-js/internals/classof.js","webpack:///../../../src/components/VMain/VMain.ts","webpack:///./node_modules/sockjs-client/lib/transport/sender/xhr-fake.js","webpack:///./node_modules/core-js/internals/math-sign.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///../../../src/directives/intersect/index.ts","webpack:///../../../src/components/VResponsive/VResponsive.ts","webpack:///../../../src/components/VResponsive/index.ts","webpack:///../../../src/components/VImg/VImg.ts","webpack:///../../../src/mixins/positionable/index.ts","webpack:///../../../src/mixins/applicationable/index.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///../../../src/mixins/dependent/index.ts","webpack:///../../../src/mixins/mobile/index.ts","webpack:///../../../src/components/VOverlay/VOverlay.ts","webpack:///../../../src/components/VOverlay/index.ts","webpack:///../../../src/mixins/overlayable/index.ts","webpack:///../../../src/directives/click-outside/index.ts","webpack:///../../../src/directives/touch/index.ts","webpack:///../../../src/components/VNavigationDrawer/VNavigationDrawer.ts","webpack:///./node_modules/sockjs-client/lib/transport/lib/sender-receiver.js","webpack:///./node_modules/sockjs-client/lib/transport/jsonp-polling.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/eventsource.js","webpack:///./node_modules/sockjs-client/lib/transport/receiver/jsonp.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js"],"names":["debug","module","exports","availableTransports","filterToEnabled","transportsWhitelist","info","transports","main","facade","forEach","trans","transportName","websocket","length","indexOf","enabled","push","facadeTransport","wellKnownSymbol","TO_STRING_TAG","test","String","aFunction","fn","that","undefined","call","a","b","c","apply","arguments","$","flattenIntoArray","toObject","toLength","toInteger","arraySpeciesCreate","target","proto","flat","depthArg","O","this","sourceLen","A","isObject","slice","factories","construct","C","argsLength","args","list","i","Function","join","bind","partArgs","boundFunction","concat","prototype","toIndexedObject","nativeGetOwnPropertyNames","f","toString","windowNames","window","Object","getOwnPropertyNames","getWindowNames","it","error","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","constructor","name","Array","from","DESCRIPTORS","propertyIsEnumerableModule","createPropertyDescriptor","toPrimitive","has","IE8_DOM_DEFINE","nativeGetOwnPropertyDescriptor","getOwnPropertyDescriptor","P","$values","values","stat","floor","Math","replace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","str","position","captures","namedCaptures","replacement","tailPos","m","symbols","match","ch","capture","charAt","fails","createElement","defineProperty","get","inherits","EventEmitter","Polling","Receiver","receiveUrl","AjaxObject","_scheduleReceiver","self","poll","on","msg","emit","once","code","reason","pollIsClosing","removeAllListeners","abort","requireObjectCoercible","repeat","count","result","Infinity","RangeError","fixRegExpWellKnownSymbolLogic","isRegExp","anObject","speciesConstructor","advanceStringIndex","callRegExpExec","regexpExec","arrayPush","min","MAX_UINT32","SUPPORTS_Y","RegExp","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","separator","limit","string","lim","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","separatorCopy","source","index","splitter","regexp","res","done","value","rx","S","unicodeMatching","p","q","e","z","props","large","small","xLarge","xSmall","Boolean","computed","medium","sizeableClasses","isFontAwesome5","some","val","iconType","isSvgPath","icon","SIZE_MAP","mixins","dense","disabled","left","right","size","Number","tag","type","required","default","hasClickListener","listeners$","click","methods","getIcon","iconName","$slots","text","getSize","sizes","explicitSize","key","getDefaultData","staticClass","class","attrs","attrs$","getSvgWrapperData","fontSize","wrapperData","style","height","width","applyColors","data","themeClasses","renderFontIcon","newChildren","delimiterIndex","isMaterialIcon","h","renderSvgIcon","svgData","xmlns","viewBox","role","d","renderSvgIconComponent","component","render","$_wrapperFor","functional","children","Driver","global","WebSocket","MozWebSocket","url","$reduce","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","forced","reduce","callbackfn","classof","R","exec","TypeError","XhrReceiver","bufferPosition","xo","_chunkHandler","status","_cleanup","idx","buf","close","DOMIterables","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","qs","slashes","protocolre","whitespace","trimLeft","rules","address","NaN","ignore","hash","query","lolcation","loc","globalVar","location","finaldestination","protocol","Url","unescape","pathname","href","extractProtocol","toLowerCase","rest","resolve","relative","base","path","last","unshift","up","splice","parser","extracted","parse","instruction","instructions","hostname","port","host","username","password","auth","origin","set","part","pop","char","ins","stringify","createHTML","forcedStringHTMLMethod","anchor","Constructor","prop","event","model","internalLazyValue","internalValue","watch","Proxyable","factory","BaseItemGroup","activeClass","mandatory","max","multiple","items","classes","selectedIndex","selectedItem","selectedItems","filter","selectedValues","toggleMethod","v","created","console","genData","getValue","item","onClick","register","unregister","valueIndex","updateInternalValue","updateItem","updateItemsState","updateMultiple","updateSingle","updateMandatory","defaultValue","isSame","provide","itemGroup","isInGroup","listItemGroup","setTextColor","getBuiltIn","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","next","SKIP_CLOSING","ITERATION_SUPPORT","object","userAgent","V8_VERSION","SPECIES","METHOD_NAME","array","foo","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","len","charCodeAt","getLens","b64","Error","validLen","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","extraBytes","parts","maxChunkLength","len2","isArrayIteratorMethod","getIteratorMethod","iteratorClose","Result","stopped","iterable","unboundFunction","options","iterator","iterFn","step","AS_ENTRIES","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","integer","redefine","setGlobal","copyConstructorProperties","isForced","FORCED","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","noTargetGet","sham","internalObjectKeys","enumBugKeys","hiddenKeys","maxHeight","maxWidth","minHeight","minWidth","measurableStyles","styles","notARegExp","correctIsRegExpLogic","includes","searchString","crypto","_randomStringChars","bytes","randomBytes","ret","substr","number","random","numberString","t","TO_STRING","RegExpPrototype","nativeToString","NOT_GENERIC","INCORRECT_NAME","rf","unsafe","definePropertyModule","CONSTRUCTOR_NAME","configurable","directives","extendOptions","isOpera","navigator","isKonqueror","hasDomain","document","domain","IframeTransport","objectUtils","transport","IframeWrapTransport","transUrl","baseUrl","iframeInfo","extend","sameOrigin","needBody","roundTrips","normalizeComponent","scriptExports","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","existing","beforeCreate","returnMethod","emptyObject","freeze","isUndef","isDef","isTrue","isFalse","isPrimitive","obj","_toString","isPlainObject","isValidArrayIndex","parseFloat","isFinite","isPromise","then","catch","isArray","JSON","toNumber","isNaN","makeMap","expectsLowerCase","map","create","isReservedAttribute","remove","hasOwnProperty","hasOwn","cached","cache","hit","camelizeRE","camelize","_","toUpperCase","capitalize","hyphenateRE","hyphenate","polyfillBind","ctx","boundFn","l","_length","nativeBind","toArray","to","_from","noop","no","identity","looseEqual","isObjectA","isObjectB","isArrayA","isArrayB","every","Date","getTime","keysA","keys","keysB","looseIndexOf","SSR_ATTR","ASSET_TYPES","LIFECYCLE_HOOKS","config","optionMergeStrategies","silent","productionTip","devtools","performance","errorHandler","warnHandler","ignoredElements","keyCodes","isReservedTag","isReservedAttr","isUnknownElement","getTagNamespace","parsePlatformTagName","mustUseProp","async","_lifecycleHooks","unicodeRegExp","isReserved","def","enumerable","writable","bailRE","parsePath","segments","_isServer","hasProto","inBrowser","inWeex","WXEnvironment","platform","weexPlatform","UA","isIE","isIE9","isEdge","isIOS","isFF","nativeWatch","supportsPassive","opts","addEventListener","isServerRendering","env","VUE_ENV","__VUE_DEVTOOLS_GLOBAL_HOOK__","isNative","Ctor","_Set","hasSymbol","Symbol","Reflect","ownKeys","Set","clear","warn","uid","Dep","id","subs","addSub","sub","removeSub","depend","addDep","notify","update","targetStack","pushTarget","popTarget","VNode","elm","componentOptions","asyncFactory","ns","fnContext","fnOptions","fnScopeId","componentInstance","raw","isStatic","isRootInsert","isComment","isCloned","isOnce","asyncMeta","isAsyncPlaceholder","prototypeAccessors","child","defineProperties","createEmptyVNode","node","createTextVNode","cloneVNode","vnode","cloned","arrayProto","arrayMethods","methodsToPatch","method","original","inserted","ob","__ob__","observeArray","dep","arrayKeys","shouldObserve","toggleObserving","Observer","vmCount","protoAugment","copyAugment","walk","src","__proto__","observe","asRootData","isExtensible","_isVue","defineReactive$$1","customSetter","shallow","property","getter","setter","childOb","dependArray","newVal","del","strats","mergeData","toVal","fromVal","mergeDataOrFn","parentVal","childVal","vm","instanceData","defaultData","mergeHook","dedupeHooks","hooks","mergeAssets","key$1","inject","defaultStrat","normalizeProps","normalizeInject","normalized","normalizeDirectives","dirs","def$$1","mergeOptions","_base","extends","mergeField","strat","resolveAsset","warnMissing","assets","camelizedId","PascalCaseId","validateProp","propOptions","propsData","absent","booleanIndex","getTypeIndex","stringIndex","getPropDefaultValue","prevShouldObserve","_props","getType","isSameType","expectedTypes","handleError","err","cur","$parent","errorCaptured","globalHandleError","invokeWithErrorHandling","handler","_handled","logError","timerFunc","isUsingMicroTask","callbacks","pending","flushCallbacks","copies","Promise","setTimeout","MutationObserver","setImmediate","counter","observer","textNode","createTextNode","characterData","nextTick","cb","_resolve","seenObjects","traverse","_traverse","seen","isA","isFrozen","depId","normalizeEvent","passive","once$$1","createFnInvoker","fns","invoker","arguments$1","updateListeners","oldOn","remove$$1","createOnceHandler","old","params","mergeVNodeHook","hookKey","oldHook","wrappedHook","merged","extractPropsFromVNodeData","altKey","checkProp","preserve","simpleNormalizeChildren","normalizeChildren","normalizeArrayChildren","isTextNode","nestedIndex","shift","_isVList","initProvide","_provided","initInjections","resolveInject","provideKey","provideDefault","resolveSlots","slots","slot","name$1","isWhitespace","normalizeScopedSlots","normalSlots","prevSlots","hasNormalSlots","isStable","$stable","$key","_normalized","$hasNormal","normalizeScopedSlot","key$2","proxyNormalSlot","proxy","renderList","renderSlot","fallback","bindObject","nodes","scopedSlotFn","$scopedSlots","$createElement","resolveFilter","isKeyNotMatch","expect","actual","checkKeyCodes","eventKeyCode","builtInKeyCode","eventKeyName","builtInKeyName","mappedKeyCode","bindObjectProps","asProp","isSync","loop","domProps","camelizedKey","hyphenatedKey","$event","renderStatic","isInFor","_staticTrees","tree","_renderProxy","markStatic","markOnce","markStaticNode","bindObjectListeners","ours","resolveScopedSlots","hasDynamicKeys","contentHashKey","bindDynamicKeys","baseObj","prependModifier","symbol","installRenderHelpers","_o","_n","_s","_l","_t","_q","_i","_m","_f","_k","_b","_v","_e","_u","_g","_d","_p","FunctionalRenderContext","contextVm","this$1","_original","isCompiled","needNormalization","listeners","injections","scopedSlots","_c","createFunctionalComponent","mergeProps","renderContext","cloneAndMarkFunctionalResult","vnodes","clone","componentVNodeHooks","init","hydrating","_isDestroyed","keepAlive","mountedNode","prepatch","createComponentInstanceForVnode","activeInstance","$mount","oldVnode","updateChildComponent","insert","_isMounted","callHook","queueActivatedComponent","activateChildComponent","destroy","deactivateChildComponent","$destroy","hooksToMerge","createComponent","baseCtor","cid","resolveAsyncComponent","createAsyncPlaceholder","resolveConstructorOptions","transformModel","nativeOn","abstract","installComponentHooks","_isComponent","_parentVnode","inlineTemplate","toMerge","_merged","mergeHook$1","f1","f2","callback","SIMPLE_NORMALIZE","ALWAYS_NORMALIZE","normalizationType","alwaysNormalize","_createElement","is","pre","applyNS","registerDeepBindings","force","initRender","_vnode","parentVnode","_renderChildren","parentData","_parentListeners","currentRenderingInstance","renderMixin","Vue","$nextTick","_render","ref","ensureCtor","comp","__esModule","toStringTag","errorComp","resolved","owner","owners","loading","loadingComp","sync","timerLoading","timerTimeout","$on","forceRender","renderCompleted","$forceUpdate","clearTimeout","reject","delay","timeout","getFirstComponentChild","initEvents","_events","_hasHookEvent","updateComponentListeners","remove$1","$off","_target","onceHandler","oldListeners","eventsMixin","hookRE","$once","i$1","cbs","$emit","setActiveInstance","prevActiveInstance","initLifecycle","$children","$refs","_watcher","_inactive","_directInactive","_isBeingDestroyed","lifecycleMixin","_update","prevEl","$el","prevVnode","restoreActiveInstance","__patch__","__vue__","teardown","_watchers","_data","mountComponent","el","updateComponent","Watcher","before","renderChildren","newScopedSlots","oldScopedSlots","hasDynamicScopedSlot","needsForceUpdate","$attrs","$listeners","propKeys","_propKeys","isInInactiveTree","direct","handlers","j","queue","activatedChildren","waiting","flushing","resetSchedulerState","currentFlushTimestamp","getNow","now","createEvent","timeStamp","flushSchedulerQueue","watcher","sort","run","activatedQueue","updatedQueue","callActivatedHooks","callUpdatedHooks","queueWatcher","uid$2","expOrFn","isRenderWatcher","deep","user","lazy","active","dirty","deps","newDeps","depIds","newDepIds","expression","cleanupDeps","oldValue","evaluate","sharedPropertyDefinition","sourceKey","initState","initProps","initMethods","initData","initComputed","initWatch","propsOptions","isRoot","getData","computedWatcherOptions","watchers","_computedWatchers","isSSR","userDef","defineComputed","shouldCache","createComputedGetter","createGetterInvoker","createWatcher","$watch","stateMixin","dataDef","propsDef","$set","$delete","immediate","uid$3","initMixin","_init","_uid","initInternalComponent","_self","vnodeComponentOptions","_componentTag","super","superOptions","cachedSuperOptions","modifiedOptions","resolveModifiedOptions","components","modified","latest","sealed","sealedOptions","initUse","use","plugin","installedPlugins","_installedPlugins","install","initMixin$1","mixin","initExtend","Super","SuperId","cachedCtors","_Ctor","Sub","initProps$1","initComputed$1","Comp","initAssetRegisters","definition","getComponentName","matches","pattern","pruneCache","keepAliveInstance","cachedNode","pruneCacheEntry","current","cached$$1","patternTypes","KeepAlive","include","exclude","destroyed","mounted","ref$1","parseInt","builtInComponents","initGlobalAPI","configDef","util","defineReactive","delete","observable","version","acceptValue","attr","isEnumeratedAttr","isValidContentEditableValue","convertEnumeratedValue","isFalsyAttrValue","isBooleanAttr","xlinkNS","isXlink","getXlinkProp","genClassForVnode","parentNode","childNode","mergeClassData","renderClass","dynamicClass","stringifyClass","stringifyArray","stringifyObject","stringified","namespaceMap","svg","math","isHTMLTag","isSVG","unknownElementCache","HTMLUnknownElement","HTMLElement","isTextInputType","selected","querySelector","createElement$1","tagName","setAttribute","createElementNS","namespace","createComment","insertBefore","newNode","referenceNode","removeChild","appendChild","nextSibling","setTextContent","textContent","setStyleScope","nodeOps","registerRef","isRemoval","refs","refInFor","emptyNode","sameVnode","sameInputType","typeA","typeB","createKeyToOldIdx","beginIdx","endIdx","createPatchFunction","backend","modules","emptyNodeAt","createRmCb","childElm","removeNode","createElm","insertedVnodeQueue","parentElm","refElm","nested","ownerArray","setScope","createChildren","invokeCreateHooks","isReactivated","initComponent","reactivateComponent","pendingInsert","isPatchable","innerNode","transition","activate","ref$$1","ancestor","addVnodes","startIdx","invokeDestroyHook","removeVnodes","removeAndInvokeRemoveHook","rm","updateChildren","oldCh","newCh","removeOnly","oldKeyToIdx","idxInOld","vnodeToMove","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","canMove","patchVnode","findIdxInOld","hydrate","postpatch","invokeInsertHook","initial","isRenderedModule","inVPre","hasChildNodes","innerHTML","childrenMatch","firstChild","fullInvoke","isInitialPatch","isRealElement","nodeType","hasAttribute","removeAttribute","oldElm","_leaveCb","patchable","i$2","updateDirectives","oldDir","dir","isCreate","isDestroy","oldDirs","normalizeDirectives$1","newDirs","dirsWithInsert","dirsWithPostpatch","oldArg","arg","callHook$1","componentUpdated","callInsert","emptyModifiers","modifiers","getRawDirName","rawName","baseModules","updateAttrs","inheritAttrs","oldAttrs","setAttr","removeAttributeNS","baseSetAttr","setAttributeNS","__ieph","blocker","stopImmediatePropagation","removeEventListener","updateClass","oldData","cls","transitionClass","_transitionClasses","_prevClass","target$1","klass","RANGE_TOKEN","CHECKBOX_RADIO_TOKEN","normalizeEvents","change","createOnceHandler$1","remove$2","useMicrotaskFix","add$1","attachedTimestamp","_wrapper","currentTarget","ownerDocument","updateDOMListeners","svgContainer","events","updateDOMProps","oldProps","childNodes","_value","strCur","shouldUpdateValue","checkVal","composing","isNotInFocusAndDirty","isDirtyWithModifiers","notInFocus","activeElement","_vModifiers","trim","parseStyleText","cssText","listDelimiter","propertyDelimiter","normalizeStyleData","normalizeStyleBinding","staticStyle","bindingStyle","getStyle","checkChild","styleData","emptyStyle","cssVarRE","importantRE","setProp","setProperty","normalizedName","normalize","vendorNames","capName","updateStyle","oldStaticStyle","oldStyleBinding","normalizedStyle","oldStyle","newStyle","whitespaceRE","addClass","classList","getAttribute","removeClass","tar","resolveTransition","css","autoCssTransition","enterClass","enterToClass","enterActiveClass","leaveClass","leaveToClass","leaveActiveClass","hasTransition","TRANSITION","ANIMATION","transitionProp","transitionEndEvent","animationProp","animationEndEvent","ontransitionend","onwebkittransitionend","onanimationend","onwebkitanimationend","raf","requestAnimationFrame","nextFrame","addTransitionClass","transitionClasses","removeTransitionClass","whenTransitionEnds","expectedType","getTransitionInfo","propCount","ended","onEnd","transformRE","getComputedStyle","transitionDelays","transitionDurations","transitionTimeout","getTimeout","animationDelays","animationDurations","animationTimeout","hasTransform","delays","durations","toMs","s","enter","toggleDisplay","cancelled","_enterCb","appearClass","appearToClass","appearActiveClass","beforeEnter","afterEnter","enterCancelled","beforeAppear","appear","afterAppear","appearCancelled","duration","transitionNode","isAppear","startClass","toClass","beforeEnterHook","enterHook","afterEnterHook","enterCancelledHook","explicitEnterDuration","expectsCSS","userWantsControl","getHookArgumentsLength","show","pendingNode","_pending","isValidDuration","leave","beforeLeave","afterLeave","leaveCancelled","delayLeave","explicitLeaveDuration","performLeave","invokerFns","_enter","platformModules","patch","vmodel","trigger","directive","binding","_vOptions","setSelected","onCompositionStart","onCompositionEnd","prevOptions","curOptions","needReset","hasNoMatchingOption","actuallySetSelected","isMultiple","option","initEvent","dispatchEvent","locateNode","transition$$1","originalDisplay","__vOriginalDisplay","display","unbind","platformDirectives","transitionProps","mode","getRealChild","compOptions","extractTransitionData","placeholder","rawChild","hasParentTransition","isSameChild","oldChild","isNotTextNode","isVShowDirective","Transition","_leaving","oldRawChild","delayedLeave","moveClass","TransitionGroup","beforeMount","kept","prevChildren","rawChildren","transitionData","removed","c$1","pos","getBoundingClientRect","updated","hasMove","callPendingCbs","recordPosition","applyTranslation","_reflow","body","offsetHeight","moved","transform","WebkitTransform","transitionDuration","_moveCb","propertyName","_hasMove","cloneNode","newPos","oldPos","dx","dy","top","platformComponents","IS_PURE","nativeStartsWith","startsWith","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","search","defer","channel","html","IS_IOS","clearImmediate","process","MessageChannel","Dispatch","ONREADYSTATECHANGE","runner","listener","post","postMessage","port2","port1","onmessage","importScripts","versions","v8","generateWarning","defaultImpl","nativeGetPrototypeOf","CORRECT_PROTOTYPE_GETTER","FAILS_ON_PRIMITIVES","getPrototypeOf","Iterators","objectKeys","Properties","_arrayWithHoles","_iterableToArrayLimit","_arr","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","utils","urlUtils","WebsocketDriver","WebSocketTransport","addPath","ws","unloadRef","unloadAdd","onclose","onerror","send","unloadDel","__webpack_amd_options__","InternalStateModule","defineIterator","STRING_ITERATOR","setInternalState","getInternalState","getterFor","iterated","point","state","AjaxBasedTransport","XHRCorsObject","XHRLocalObject","browser","XhrStreamingTransport","nullOrigin","sign","abs","pow","cbrt","x","ctor","superCtor","super_","TempCtor","addToUnscopables","HtmlfileReceiver","HtmlFileTransport","propertyIsEnumerable","UNSCOPABLES","ArrayPrototype","MATCH","$some","regExpExec","nativeMatch","matcher","fullUnicode","matchStr","Event","TransportMessageEvent","defaultConstructor","URL","JSON3","escape","eventUtils","log","EventTarget","CloseEvent","InfoReceiver","SockJS","protocols","readyState","CONNECTING","extensions","protocols_whitelist","_transportsWhitelist","_transportOptions","transportOptions","_timeout","sessionId","_generateSessionId","_server","server","parsedUrl","SyntaxError","secure","isLoopbackAddr","sortedProtocols","getOrigin","_origin","_urlInfo","isOriginEqual","sameScheme","isSchemeEqual","_ir","_receiveInfo","userSetCode","CLOSING","CLOSED","wasClean","_close","OPEN","_transport","quote","rtt","_rto","countRTO","_transUrl","base_url","enabledTransports","_transports","_connect","Transport","attachEvent","timeoutMs","_transportTimeoutId","_transportTimeout","transportUrl","transportObj","_transportMessage","_transportClose","payload","content","_open","forceFail","logObject","level","levelExists","getOwnPropertySymbols","$trim","forcedStringTrimMethod","nativeConstruct","NEW_TARGET_BUG","F","ARGS_BUG","Target","newTarget","$args","instance","toAbsoluteIndex","createMethod","IS_INCLUDES","$this","fromIndex","$filter","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","callWithSafeIterationClosing","createProperty","arrayLike","argumentsLength","mapfn","mapping","iteratorMethod","collection","collectionStrong","argument","getSubstitution","maybeToString","REPLACE","nativeReplace","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","results","accumulatedResult","nextSourcePosition","groups","replacerArgs","_typeof","iframeUtils","polluteGlobalNamespace","addQuery","decodeURIComponent","WPrefix","htmlfileEnabled","constructFunc","createHtmlfile","createIframe","iframeObj","loaded","message","cleanup","axo","iframeEnabled","enumerableOnly","sym","_objectSpread2","getOwnPropertyDescriptors","DELAY_RIPPLE","opacity","isTouchEvent","isKeyboardEvent","calculate","localX","localY","offset","radius","scale","centerX","centerY","y","ripples","container","animation","hide","diff","isRippleEnabled","rippleShow","element","rippleHide","rippleCancelShow","keyboardRipple","keyboardRippleShow","keyboardRippleHide","updateRipple","removeListeners","wasEnabled","Ripple","store","copyright","getOwnPropertyNamesModule","getOwnPropertySymbolsModule","whitespaces","ltrim","rtrim","TYPE","bitmap","eager","isBooted","hasContent","isActive","showLazyContent","mergeTransitions","dest","group","hideOnLeave","leaveAbsolute","functions","expandedParentClass","sizeProperty","offsetProperty","overflow","initialStyle","resetStyles","VExpandTransition","createSimpleTransition","createJavascriptTransition","baseMixins","ripple","appendIcon","color","noAction","prependIcon","subGroup","listClick","$route","matchRoute","beforeDestroy","genIcon","VIcon","genAppendIcon","VListItemIcon","genHeader","VListItem","inputValue","genItems","genPrependIcon","onRouteChange","toggle","filteredChild","roundedClasses","setBackgroundColor","horizontal","tile","VListItemActionText","VListItemContent","VListItemTitle","VListItemSubtitle","VList","VListItemGroup","IndexedObject","nativeAssign","assign","B","alphabet","chr","T","addr","webpackPolyfill","deprecate","paths","CONVERT_TO_STRING","first","second","codeAt","redefineAll","anInstance","iterate","setSpecies","fastKey","internalStateGetterFor","getConstructor","wrapper","IS_MAP","ADDER","define","previous","entry","getEntry","prev","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","kind","originalArray","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","WeakMap","enforce","wmget","wmhas","wmset","metadata","STATE","_arrayLikeToArray","arr2","InternalMetadataModule","checkCorrectnessOfIteration","setToStringTag","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","KEY","nativeMethod","entries","REQUIRED","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","inspectSource","enforceInternalState","TEMPLATE","simple","TO_ENTRIES","setPrototypeOf","Wrapper","NewTarget","NewTargetPrototype","XhrDriver","noCredentials","wrappedWellKnownSymbolModule","NAME","dark","light","isDark","$vuetify","theme","Themeable","themeableProvide","appIsDark","rootIsDark","rootThemeClasses","SenderReceiver","createAjaxSender","opt","headers","ajaxUrl","urlSuffix","ObjectPrototype","FunctionPrototype","StringPrototype","array_slice","isFunction","isString","supportsDescriptors","forceAssign","ToUint32","Empty","binder","bound","boundLength","boundArgs","boxedString","splitString","properlyBoxesContext","properlyBoxesNonStrict","properlyBoxesStrict","__","fun","thisp","hasFirefox2IndexOfBug","sought","string_split","compliantExecNpcg","separator2","extended","string_substr","hasNegativeSubstrBug","fabric","HTMLDocument","Document","implementation","createHTMLDocument","jsdom","virtualWindow","JSDOM","features","FetchExternalResources","resources","jsdomImplForWrapper","implForWrapper","nodeCanvas","Canvas","DOMParser","resizeCanvasIfNeeded","pipelineState","targetCanvas","dWidth","destinationWidth","dHeight","destinationHeight","copyGLTo2DDrawImage","gl","glCanvas","canvas","getContext","translate","sourceY","drawImage","copyGLTo2DPutImageData","numBytes","u8","imageBuffer","u8Clamped","Uint8ClampedArray","readPixels","RGBA","UNSIGNED_BYTE","imgData","ImageData","putImageData","isTouchSupported","maxTouchPoints","isLikelyNode","Buffer","SHARED_ATTRIBUTES","DPI","reNum","commaWsp","rePathCommand","reNonWord","fontPaths","iMatrix","svgNS","perfLimitSizeTotal","maxCacheSideLimit","minCacheSideLimit","charWidthsCache","textureSize","disableStyleCopyPaste","enableGLFiltering","devicePixelRatio","webkitDevicePixelRatio","mozDevicePixelRatio","browserShadowBlurConstant","arcToSegmentsCache","boundsOfCurveCache","cachesBoundsOfCurve","forceGLPutImageData","initFilterBackend","isWebglSupported","maxTextureSize","WebglFilterBackend","tileSize","Canvas2dFilterBackend","_removeEventListener","eventName","__eventListeners","eventListener","fill","off","fire","listenersForEvent","Observable","_objects","_onObjectAdded","renderOnAddRemove","requestRenderAll","insertAt","nonSplicing","objects","somethingRemoved","_onObjectRemoved","forEachObject","getObjects","isEmpty","contains","complexity","memo","CommonMethods","_setOptions","_initGradient","filler","colorStops","Gradient","_initPattern","Pattern","_setObject","_set","sqrt","atan2","PiBy180","PI","PiBy2","cos","angle","angleSlice","sin","removeFromArray","getRandomInt","degreesToRadians","degrees","radiansToDegrees","radians","rotatePoint","subtractEquals","rotateVector","Point","addEquals","vector","ry","transformPoint","ignoreOffset","makeBoundingBoxFromPoints","points","xPoints","minX","maxX","yPoints","minY","maxY","invertTransform","r","toFixed","fractionDigits","parseUnit","unit","Text","DEFAULT_SVG_FONT_SIZE","falseFunction","getKlass","resolveNamespace","getSvgAttributes","attributes","loadImage","crossOrigin","img","createImage","onLoadCallback","onload","substring","loadImageInDom","div","enlivenObjects","reviver","enlivenedObjects","numLoadedObjects","numTotalObjects","onLoaded","fromObject","enlivenPatterns","patterns","numLoadedPatterns","numPatterns","enlivenedPatterns","groupSVGElements","elements","centerPoint","Group","sourcePath","populateWithProperties","destination","properties","drawDashedLine","x2","y2","da","rot","dc","di","draw","save","moveTo","rotate","restore","createCanvasElement","copyCanvasElement","newCanvas","toDataURL","canvasEl","format","quality","multiplyTransformMatrices","is2x2","qrDecompose","denom","scaleX","scaleY","skewX","skewY","translateX","translateY","calcRotateMatrix","theta","calcDimensionsMatrix","scaleMatrix","flipX","flipY","multiply","tan","composeMatrix","matrix","resetObjectTransform","saveObjectTransform","isTransparent","tolerance","temp","_isTransparent","imageData","getImageData","parsePreserveAspectRatioAttribute","attribute","align","meetOrSlice","alignX","alignY","aspectRatioAttrs","clearFabricFontCache","fontFamily","limitDimsByArea","ar","maximumArea","roughWidth","perfLimitSizeY","capValue","findScaleToFit","findScaleToCover","matrixToSVG","NUM_FRACTION_DIGITS","sizeAfterTransform","dimX","dimY","transformMatrix","bbox","_join","commandLengths","repeatedCommands","M","segmentToBezier","th2","th3","cosTh","sinTh","cx1","cy1","mT","fromX","fromY","costh2","sinth2","costh3","sinth3","toX","toY","cp1X","cp1Y","cp2X","cp2Y","arcToSegments","sweep","rotateX","th","px","py","rx2","ry2","py2","px2","pl","root","cx","cy","mTheta","calcVectorAngle","dtheta","ceil","mDelta","ux","uy","vx","vy","ta","tb","getBoundsOfCurve","x0","y0","x1","y1","x3","y3","argsString","t1","t2","b2ac","sqrtb2ac","tvalues","bounds","mt","jlen","fromArcToBeziers","fx","fy","coords","tx","ty","segsNorm","makePathSimpler","converted","controlX","controlY","destinationPath","calcLineLength","CB1","CB2","CB3","CB4","getPointOnCubicBezierIterator","p1x","p1y","p2x","p2y","p3x","p3y","p4x","p4y","pct","c1","c2","c3","c4","getTangentCubicIterator","invT","tangentX","tangentY","QB1","QB2","QB3","getPointOnQuadraticBezierIterator","getTangentQuadraticIterator","pathIterator","perc","tempP","tmpLen","findPercentageForDistance","segInfo","distance","nextLen","lastPerc","nextStep","angleFinder","getPathSegmentsInfo","tempInfo","totalLength","command","destX","destY","getPointOnPath","infos","segPercent","segment","lerp","pathString","currentPath","parsed","coordsStr","re","rNumber","rNumberCommaWsp","rFlagCommaWsp","rArcSeq","regArcArgumentSequence","coordsParsed","commandLength","repeatedCommand","k","klen","getBoundsOfArc","segs","drawArc","beziers","bezier","bezierCurveTo","fromArcToBeizers","invoke","byProperty","find","value1","value2","Element","character","firstLetterOnly","escapeXml","graphemeSplit","textstring","graphemes","getWholeChar","emptyFunction","IS_DONTENUM_BUGGY","addMethods","superclass","returnValue","valueOf","Subclass","callSuper","methodName","parentMethod","_this","superClassMethod","createClass","initialize","subclasses","couldUseAttachEvent","touchEvents","getTouchInfo","touchProp","changedTouches","addListener","removeListener","getPointer","scroll","getScrollLeftTop","_evt","clientX","clientY","pointerType","setStyle","elementStyle","setOpacity","normalizedProperty","styleFloat","parseEl","supportsOpacity","supportsFilters","reOpacity","es","currentStyle","hasLayout","zoom","_slice","getById","getElementById","sliceCanConvertNodelists","getElementStyle","makeElement","className","htmlFor","wrapElement","replaceChild","docElement","documentElement","scrollLeft","scrollTop","getElementOffset","docElem","scrollLeftTop","doc","box","offsetAttributes","borderLeftWidth","borderTopWidth","paddingLeft","paddingTop","clientLeft","clientTop","getNodeCanvas","impl","_canvas","_image","cleanUpJsdomNode","_currentSrc","_attributes","_classList","setImageSmoothing","imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","oImageSmoothingEnabled","defaultView","selectProp","makeElementUnselectable","onselectstart","unselectable","makeElementSelectable","addParamToUrl","param","emptyFn","request","onComplete","xhr","XMLHttpRequest","parameters","onreadystatechange","open","setRequestHeader","defaultEasing","animate","requestAnimFrame","timestamp","time","finish","onChange","easing","startValue","endValue","byValue","onStart","tick","ticktime","currentTime","timePerc","valuePerc","_requestAnimFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","_cancelAnimFrame","cancelAnimationFrame","cancelAnimFrame","calculateColor","begin","animateColor","fromColor","toColor","startColor","Color","getSource","endColor","originalOnComplete","originalOnChange","posValue","colorEasing","asin","elastic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce","ease","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","svgValidTagNames","svgViewBoxElements","svgInvalidAncestors","svgValidParents","attributesMap","visibility","colorAttributes","stroke","fSize","cPath","normalizeAttr","normalizeValue","parentAttributes","parseTransformAttribute","visible","fillIndex","strokeIndex","getSvgRegex","_setStrokeFillOpacity","setAlpha","getAlpha","toRgba","_getMultipleNodes","nodeNames","nodeName","nodeList","nodeArray","getElementsByTagName","parseStyleString","oStyle","chunk","pair","parseStyleObject","getGlobalStylesForElement","svgUid","rule","cssRules","elementMatchesRule","selectors","firstMatching","parentMatching","selectorMatches","doesSomeParentMatch","selector","classNames","elementById","nodelist","parseUseDirectives","xlink","el2","currentTrans","oldLength","applyViewboxTransform","el3","nodeValue","svgValidTagNamesRegEx","svgViewBoxElementsRegEx","svgInvalidAncestorsRegEx","svgValidParentsRegEx","gradientDefs","clipPaths","rotateMatrix","multiplierX","multiplierY","skewMatrix","translateMatrix","transforms","transformList","reTransformList","reTransform","attributeValue","matrices","operation","combinedMatrix","reViewBoxAttrValue","viewBoxWidth","viewBoxHeight","viewBoxAttr","widthAttr","heightAttr","preserveAspectRatio","missingViewBox","missingDimAttr","toBeParsed","parsedDim","widthDiff","heightDiff","hasAncestorWithNodeName","recursivelyParseGradientsXlink","gradient","gradientsAttrs","xlinkAttr","xLink","referencedGradient","referenceClone","parseSVGDocument","parsingOptions","__uid","descendants","selectNodes","getGradientDefs","getCSSRules","parseElements","instances","reFontDeclaration","parseFontDeclaration","fontStyle","fontWeight","lineHeight","tagArray","elList","parseAttributes","parentFontSize","ownAttributes","cssAttrs","parseStyleAttribute","normalizedAttr","normalizedValue","font","mergedAttrs","ElementsParser","parsePointsAttribute","parsedPoints","allRules","styleContents","ruleObj","declaration","propertyValuePairs","_rule","loadSVGFromURL","xml","responseXML","_options","allElements","loadSVGFromString","parseFromString","regexUrl","numElements","createObjects","createObject","findTag","fromElement","createCallback","checkIfDone","resolveGradient","Image","_originalElement","_removeTransformMatrix","resolveClipPath","extractPropertyDefinition","storage","regex","gradientDef","opacityAttr","createClipPathCallback","_newObj","fillRule","clipRule","usingElement","objTransformInv","gTransform","clipPath","calcTransformMatrix","clipPathTag","clipPathOwner","setPositionByOrigin","scalarAdd","scalar","scalarAddEquals","subtract","scalarSubtract","scalarSubtractEquals","multiplyEquals","divide","divideEquals","eq","lt","lte","gt","gte","distanceFrom","midPointFrom","setXY","setX","setY","setFromPoint","swap","Intersection","appendPoint","appendPoints","intersectLineLine","a1","a2","b1","b2","uaT","ubT","uB","ua","ub","intersectLinePolygon","inter","intersectPolygonPolygon","points1","points2","intersectPolygonRectangle","r1","r2","topRight","bottomLeft","inter1","inter2","inter3","inter4","_tryParsingColor","setSource","hue2rgb","colorNameMap","sourceFromHex","sourceFromRgb","sourceFromHsl","_rgbToHsl","g","round","_source","toRgb","toHsl","hsl","toHsla","toHex","toHexa","alpha","toGrayscale","average","currentAlpha","toBlackWhite","threshold","overlayWith","otherColor","otherAlpha","otherSource","reRGBa","reHSLa","reHex","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","fromRgb","fromSource","fromRgba","fromHsl","fromHsla","fromHex","isShortNotation","isRGBa","oColor","scaleMap","skewMap","controls","LEFT","TOP","RIGHT","BOTTOM","CENTER","opposite","bottom","center","findCornerQuadrant","fabricObject","control","cornerAngle","fireEvent","canvasOptions","scaleIsProportional","eventData","uniScaleKey","uniformIsToggled","uniformScaling","isTransformCentered","originX","originY","scalingIsForbidden","by","scaleProportionally","lockX","lockScalingX","lockY","lockScalingY","scaleCursorStyleHandler","notAllowed","skewCursorStyleHandler","lockSkewingY","lockSkewingX","scaleSkewCursorStyleHandler","altActionKey","scaleOrSkewActionName","isAlternative","rotationStyleHandler","lockRotation","cursorStyle","commonEventInfo","pointer","wrapWithFixedAnchor","actionHandler","getCenterPoint","constraint","translateToOriginPoint","actionPerformed","getLocalPoint","corner","getZoom","padding","localPoint","toLocalPoint","offsetX","offsetY","targetHasOneFlip","compensateScaleForSkew","oppositeSkew","scaleToCompensate","axis","reference","newDim","_getTransformedDimensions","newValue","skewObjectX","newSkew","dimNoSkew","totalSkewSize","currentSkew","hasSkewed","dimBeforeSkewing","skewObjectY","skewHandlerX","localPointFromCenter","finalHandler","skewHandlerY","rotationWithSnapping","pivotPoint","lastAngle","ey","ex","curAngle","hasRotated","snapAngle","snapThreshold","rightAngleLocked","leftAngleLocked","scaleObject","newPoint","dim","signX","signY","forbidScaling","gestureScale","lockScalingFlip","hasScaled","originalDistance","oldScaleX","oldScaleY","scaleObjectFromCorner","scaleObjectX","scaleObjectY","scalingYOrSkewingX","scalingY","scalingXOrSkewingY","scalingX","changeWidth","hasResized","strokePadding","strokeWidth","strokeUniform","multiplier","oldWidth","newWidth","dragHandler","newLeft","newTop","moveX","moveY","scalingEqually","controlsUtils","renderCircleControl","styleOverride","xSize","sizeX","cornerSize","ySize","sizeY","transparentCorners","cornerStrokeColor","myLeft","myTop","fillStyle","cornerColor","strokeStyle","lineWidth","beginPath","arc","renderSquareControl","xSizeBy2","ySizeBy2","strokeCornerColor","strokeRect","Control","actionName","touchSizeX","touchSizeY","withConnection","mouseDownHandler","mouseUpHandler","getActionHandler","getMouseDownHandler","getMouseUpHandler","cursorStyleHandler","getActionName","getVisibility","controlKey","objectVisibility","_controlsVisibility","setVisibility","positionHandler","finalMatrix","calcCornerCoords","objectAngle","objectCornerSize","isTouch","cosHalfOffset","sinHalfOffset","cosHalfOffsetComp","sinHalfOffsetComp","controlTriangleAngle","cornerHypotenuse","newTheta","newThetaComp","tl","tr","bl","br","cornerStyle","getColorStop","colorAlpha","keyValuePairs","getLinearCoords","getRadialCoords","__convertPercentUnitsToValues","svgOptions","gradientUnits","propValue","finalValue","gradientTransform","addColorStop","propertiesToInclude","toSVG","markup","commonAttributes","needsSwap","withViewport","additionalTransform","pathOffset","reverse","minRadius","maxRadius","percentageShift","colorStop","toLive","createLinearGradient","createRadialGradient","colorStopEls","patternTransform","setOptions","isError","patternSource","patternWidth","patternHeight","patternOffsetX","patternOffsetY","patternImgSrc","complete","naturalWidth","naturalHeight","createPattern","Shadow","blur","affectStroke","includeDefaultValues","nonScaling","_parseShadow","shadow","shadowStr","offsetsAndBlur","reOffsetsAndBlur","fBoxX","fBoxY","BLUR_BOX","StaticCanvas","CANVAS_INIT_ERROR","renderAndResetBound","renderAndReset","requestRenderAllBound","_initStatic","backgroundColor","backgroundImage","overlayColor","overlayImage","stateful","controlsAboveOverlay","allowTouchScrolling","viewportTransform","backgroundVpt","overlayVpt","enableRetinaScaling","vptCoords","skipOffscreen","_createLowerCanvas","_initOptions","interactive","_initRetinaScaling","setOverlayImage","setBackgroundImage","setOverlayColor","calcOffset","_isRetinaScaling","getRetinaScaling","scaleRatio","__initRetinaScaling","lowerCanvasEl","contextContainer","upperCanvasEl","contextTop","_offset","image","__setBgOverlayImage","__setBgOverlayColor","_createCanvasElement","_applyCanvasStyle","getWidth","getHeight","setWidth","setDimensions","setHeight","dimensions","cssValue","cssOnly","_setBackstoreDimension","hasLostContext","backstoreOnly","_setCssDimension","_isCurrentlyDrawing","freeDrawingBrush","_setBrushStyles","cacheCanvasEl","wrapperEl","setViewportTransform","vpt","activeObject","_activeObject","backgroundObject","overlayObject","setCoords","calcViewportBoundaries","zoomToPoint","after","setZoom","absolutePan","relativePan","getElement","setupState","clearContext","clearRect","_hasITextHandlers","_mouseUpITextHandler","_iTextInstances","renderAll","canvasToDrawOn","renderCanvas","isRendering","iVpt","cancelRequestedRender","_renderBackground","_renderObjects","drawControls","_transformDone","renderCache","forClipping","drawClipPathOnCanvas","_renderOverlay","globalCompositeOperation","zoomX","zoomY","_cacheCanvas","cacheTranslationX","cacheTranslationY","_renderBackgroundOrOverlay","needsVpt","lineTo","closePath","getCenter","centerObjectH","_centerObject","centerObjectV","centerObject","viewportCenterObject","vpCenter","getVpCenter","viewportCenterObjectH","viewportCenterObjectV","toDatalessJSON","toDatalessObject","_toObjectMethod","_toObjects","_toObject","__serializeBgOverlay","excludeFromExport","originalValue","bgImage","overlay","background","svgViewportTransformation","_setSVGPreamble","_setSVGHeader","clipPathId","_setSVGBgOverlayColor","_setSVGBgOverlayImage","_setSVGObjects","suppressPreamble","encoding","createSVGFontFacesMarkup","createSVGRefElementsMarkup","createSVGClipPathMarkup","toClipPathSVG","shouldTransform","row","rowIndex","_char","charIndex","fontList","_setSVGObject","finalWidth","finalHeight","shouldInvert","sendToBack","objs","activeSelection","bringToFront","sendBackwards","intersecting","newIdx","objsMoved","_findNewLowerIndex","isIntersecting","intersectsWithObject","isContainedWithinObject","bringForward","_findNewUpperIndex","dispose","DataURLExporter","EMPTY_JSON","supports","setLineDash","toJSON","createPNGStream","createJPEGStream","BaseBrush","strokeLineCap","strokeLineJoin","strokeMiterLimit","strokeDashArray","lineCap","miterLimit","lineJoin","_saveAndTransform","_setShadow","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","needsFullRender","_resetShadow","PencilBrush","decimate","_points","_drawSegment","p1","p2","midPoint","quadraticCurveTo","onMouseDown","_isMainEvent","_prepareForDrawing","_captureDrawingPath","onMouseMove","oldEnd","onMouseUp","_finalizeAndAddPath","_reset","_addPoint","pointerPoint","convertPointsToSVGPath","multSignX","multSignY","manyPoints","createPath","pathData","Path","decimatePoints","cDistance","adjustedDistance","lastPoint","newPoints","CircleBrush","drawDot","addPoint","dot","originalRenderOnAddRemove","circles","circle","Circle","circleRadius","circleColor","SprayBrush","density","dotWidth","dotWidthVariance","randomOpacity","optimizeOverlapping","sprayChunks","addSprayChunk","sprayChunkPoints","rects","ilen","sprayChunk","rect","Rect","_getOptimizedRects","uniqueRects","uniqueRectsArray","globalAlpha","fillRect","PatternBrush","getPatternSrc","dotDistance","patternCanvas","patternCtx","getPatternSrcFunction","getPattern","topLeft","_getLeftTopCoords","supportLineDash","STROKE_OFFSET","_initInteractive","_createCacheCanvas","centeredScaling","centeredRotation","centeredKey","selection","selectionKey","altSelectionKey","selectionColor","selectionDashArray","selectionBorderColor","selectionLineWidth","selectionFullyContained","hoverCursor","moveCursor","defaultCursor","freeDrawingCursor","rotationCursor","notAllowedCursor","containerClass","perPixelTargetFind","targetFindTolerance","skipTargetFind","isDrawingMode","preserveObjectStacking","stopContextMenu","fireRightClick","fireMiddleClick","targets","_hoveredTarget","_hoveredTargets","_currentTransform","_groupSelector","_initWrapperElement","_createUpperCanvas","_initEventListeners","_chooseObjectsToRender","objsToRender","activeGroupObjects","activeObjects","getActiveObjects","contextTopDirty","renderTopLayer","_drawSelection","renderTop","_normalizePointer","invertedM","vptPointer","restorePointerVpt","isTargetTransparent","normalizedPointer","targetRelativeX","targetRelativeY","_cacheContext","contextCache","originalColor","selectionBackgroundColor","_renderControls","hasBorders","_isSelectionKeyPressed","selectionKeyPressed","_shouldClearSelection","evented","selectable","_shouldCenterTransform","action","centerTransform","_getOriginFromCorner","_getActionFromCorner","alreadySelected","_setupCurrentTransform","__corner","lastX","lastY","shiftKey","_beforeTransform","setCursor","cursor","groupSelector","aleft","atop","_setLineDash","findTarget","skipGroup","activeTarget","activeTargetSubs","ignoreZoom","aObjects","_searchPossibleTargets","_findTargetCorner","_checkTarget","globalPointer","containsPoint","isEditing","subTarget","objToCheck","pointerToUse","subTargetCheck","_absolutePointer","_pointer","cssScale","boundsWidth","boundsHeight","retinaScaling","lowerCanvasClass","_copyCanvasStyle","fromEl","toEl","getSelectionContext","getSelectionElement","getActiveObject","_discardActiveObject","_fireSelectionEvents","oldObjects","somethingChanged","added","oldObject","deselected","setActiveObject","currentActives","_setActiveObject","onSelect","onDeselect","discardActiveObject","originalProperties","_realizeGroupTransformOnObject","_unwindGroupTransformOnObject","layoutProps","originalValues","realizeTransform","clearContextTop","RIGHT_CLICK","MIDDLE_CLICK","LEFT_CLICK","addEventOptions","checkClick","button","mainTouchId","_bindEvents","addOrRemove","_getEventPrefix","enablePointerEvents","functor","eventjsFunctor","canvasElement","eventTypePrefix","_onResize","_onMouseDown","_onMouseMove","_onMouseOut","_onMouseEnter","_onMouseWheel","_onContextMenu","_onDoubleClick","_onDragOver","_onDragEnter","_onDragLeave","_onDrop","_onTouchStart","eventjs","_onGesture","_onDrag","_onOrientationChange","_onShake","_onLongPress","_onMouseUp","_onTouchEnd","eventsBound","_simpleEventHandler","__onTransformGesture","__onDrag","__onMouseWheel","hiddenTextarea","focus","__onOrientationChange","__onShake","__onLongPress","preventDefault","_fireEnterLeaveEvents","stopPropagation","_cacheTransformEventData","_handleEvent","_resetTransformEventData","getPointerId","evt","identifier","pointerId","isPrimary","touches","__onMouseDown","__onMouseUp","_willAddMouseDown","__onMouseMove","_shouldRender","shouldRender","isClick","_onMouseUpInDrawingMode","_finalizeCurrentTransform","targetWasActive","_maybeGroupObjects","isMoving","_setCursorFromEvent","eventType","subTargets","absolutePointer","currentSubTargets","_scaling","hasStateChanged","_addEventOptions","_fire","_onMouseDownInDrawingMode","_onMouseMoveInDrawingMode","_previousPointer","shouldGroup","_shouldGroup","_handleGrouping","saveState","_transformObject","_fireOverOutEvents","fireSyntheticInOutEvents","oldTarget","evtOut","canvasEvtOut","evtIn","canvasEvtIn","_draggedoverTarget","inOpt","outOpt","outFires","inFires","targetChanged","previousTarget","nextTarget","reset","_performTransformAction","getCornerCursor","_updateActiveSelection","_createActiveSelection","currentActiveObjects","removeWithUpdate","addWithUpdate","_createGroup","isActiveLower","groupObjects","exitEditing","ActiveSelection","_groupSelectedObjects","aGroup","_collectObjects","currentObject","selectionX1Y1","selectionX2Y2","allowIntersect","intersectsWithRect","isContainedWithinRect","toCanvasElement","cropping","scaledWidth","scaledHeight","originalWidth","originalHeight","newZoom","vp","originalInteractive","newVp","originalRetina","originalContextTop","loadFromJSON","json","serialized","_enlivenObjects","_setBgOverlay","enlivenedCanvasClip","__setupCanvas","cbIfLoaded","__setBgOverlay","enlivedObject","_toDataURL","_toDataURLWithMultiplier","toDataURLWithMultiplier","cloneWithoutData","backgroundImageOpacity","backgroundImageStretch","supportsLineDash","objectCaching","ALIASING_LIMIT","touchCornerSize","borderColor","borderDashArray","cornerDashArray","strokeDashOffset","borderOpacityWhenMoving","borderScaleFactor","minScaleLimit","hasControls","lockMovementX","lockMovementY","statefullCache","noScaleCache","paintFirst","stateProperties","cacheProperties","colorProperties","inverted","absolutePositioned","_cacheProperties","_updateCacheCanvas","_limitCacheSize","dims","limitedDims","capped","_getCacheCanvasDimensions","objectScale","getTotalObjectScaling","neededX","neededY","drawingWidth","drawingHeight","minCacheSize","dimensionsChanged","cacheWidth","cacheHeight","zoomChanged","shouldRedraw","additionalWidth","additionalHeight","shouldResizeCanvas","canvasWidth","canvasHeight","sizeGrowing","sizeShrinking","setTransform","needFullTransform","_removeDefaultValues","getObjectScaling","retina","getObjectOpacity","shouldConstrainValue","isChanged","groupNeedsUpdate","_constrainScale","isOnACache","setOnGroup","getViewportTransform","isNotVisible","isOnScreen","_setupCompositeOperation","drawSelectionBackground","_setOpacity","drawCacheOnCanvas","_removeCacheCanvas","drawObject","propertySet","isCacheDirty","hasStroke","hasFill","needsItsOwnCache","ownCaching","willDrawShadow","drawClipPathOnCache","originalFill","originalStroke","_setClippingProperties","_drawClipPath","skipCanvas","_getNonTransformedDimensions","_removeShadow","_setStrokeStyles","decl","lineDashOffset","gradientTrasnform","_applyPatternForTransformedGradient","_applyPatternGradientTransform","_setFillStyles","dashArray","alternative","drawBorders","forActiveSelection","drawBordersInGroup","scaling","multX","multY","_renderPaintInOrder","_renderStroke","_renderFill","_renderDashedStroke","pCtx","pCanvas","_findCenterFromElement","_assignTransformMatrixProps","preserveAspectRatioOptions","cropX","cropY","offsetLeft","offsetTop","objectForm","_fromObject","cloneAsImage","origParams","originalGroup","originalShadow","withoutTransform","withoutShadow","boundingRect","getBoundingRect","shadowOffset","originalCanvas","isType","shouldCenterOrigin","_setOriginToCenter","_resetOrigin","centerH","viewportCenterH","centerV","viewportCenterV","viewportCenter","getLocalPointer","pClicked","objectLeftTop","createAccessors","extraParam","enlivedProps","originXOffset","originYOffset","translateToGivenOrigin","fromOriginX","fromOriginY","toOriginX","toOriginY","translateToCenterPoint","leftTop","getPointByOrigin","adjustPosition","offsetFrom","offsetTo","hypotFull","getScaledWidth","xFull","yFull","_originalOriginX","_originalOriginY","originPoint","arrayFromCoords","multiplyMatrices","oCoords","aCoords","lineCoords","ownMatrixCache","matrixCache","_getCoords","absolute","calcACoords","calcLineCoords","getCoords","pointTL","pointBR","intersection","other","otherCoords","lines","_getImageLines","_findCrossPoints","_containsCenterOfCanvas","isPartiallyOnScreen","allPointsAreOutside","topline","rightline","bottomline","leftline","xi","iLine","xcount","lineKey","getScaledHeight","scaleToWidth","boundingRectFactor","scaleToHeight","calcCoords","calcOCoords","cosP","sinP","cosPSinP","cosPMinusSinP","_calcRotateMatrix","_calcTranslateMatrix","startMatrix","_calculateCurrentDimensions","forEachControl","w","skipCorners","_setCornerCoords","transformMatrixKey","sep","prefix","calcOwnMatrix","tMatrix","_calcDimensionsTransformMatrix","flipping","noSkew","_finalizeDimensions","getSvgColorString","getSvgStyles","skipShadow","getSvgFilter","getSvgSpanStyles","useWhiteSpace","term","textDecoration","getSvgTextDecoration","deltaY","decoration","getSvgCommons","getSvgTransform","full","svgTransform","_setSVGBg","textBgRects","_getFillAttributes","_createBaseSVGMarkup","_toSVG","_createBaseClipPathSVGMarkup","objectMarkup","commonPieces","clipPathMarkup","noStyle","styleInfo","shadowInfo","withShadow","vectorEffect","absoluteClipPath","addPaintOrder","originalSet","saveProps","tmpObj","_isEqual","origValue","currentValue","firstPass","dashedPropertySet","forTouch","isControlVisible","touchCorner","controlObject","wh","shouldStroke","setControlVisible","setControlsVisibility","FX_DURATION","fxCenterObjectH","empty","fxCenterObjectV","fxRemove","skipCallbacks","propsToAnimate","_animate","propPair","propIsColor","valueProgress","timeProgress","coordProps","makeEdgeToOriginGetter","propertyNames","originValues","axis1","axis2","dimension","nearest","farthest","Line","_setWidthHeight","_getLeftToOriginX","_getTopToOriginY","calcLinePoints","origStrokeStyle","xMult","yMult","ATTRIBUTE_NAMES","parsedAttributes","_callback","pi","isValidRadius","startAngle","endAngle","setRadius","svgString","startX","startY","endX","endY","largeFlag","getRadiusX","getRadiusY","Triangle","widthBy2","heightBy2","piBy2","Ellipse","getRx","getRy","_initRxRy","isRounded","Polyline","_setPositionDimensions","correctLeftTop","calcDim","_calcDimensions","fromSVG","diffX","diffY","commonRender","fromElementGenerator","_class","Polygon","fromArray","_renderPathCommands","subpathStartX","subpathStartY","_getOffsetTransform","digits","aX","aY","deltaX","pathUrl","useSetOnGroup","isAlreadyGrouped","_updateObjectsACoords","_calcBounds","_updateObjectsCoords","skipControls","_updateObjectCoords","objectLeft","objectTop","_restoreObjectsState","_includeDefaultValues","objsToObject","originalDefaults","_obj","ownCache","_restoreObjectState","toActiveSelection","ungroupOnCanvas","setObjectsCoords","onlyWidthHeight","iLen","jLen","_getBounds","minXY","maxXY","enlivedClipPath","toGroup","newGroup","childrenOverride","srcFromAttribute","_lastScaleX","_lastScaleY","_filterScalingX","_filterScalingY","minimumScaleTrigger","cacheKey","imageSmoothing","filters","_initElement","_element","setElement","removeTexture","_initConfig","applyFilters","resizeFilter","applyResizeFilters","filterBackend","evictCachesForKey","getCrossOrigin","getOriginalSize","_stroke","filterObj","getSrc","hasCrop","strokeSvg","imageMarkup","imageRendering","getSvgSrc","origFill","filtered","setSrc","minimumScale","elementToFilter","_filteredEl","sourceWidth","sourceHeight","isNeutralState","imgElement","_needsResize","elementToDraw","elWidth","elHeight","sX","sY","sW","sH","maxDestW","maxDestH","_resetWidthHeight","CSS_CANVAS","_initFilters","pAR","rWidth","rHeight","pWidth","pHeight","_object","resizeFilters","fromURL","imgOptions","_getAngleValueForStraighten","straighten","fxStraighten","straightenObject","fxStraightenObject","testPrecision","precision","fragmentSource","fragmentShader","createShader","FRAGMENT_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","setupGLContext","captureGPUInfo","isSupported","getParameter","MAX_TEXTURE_SIZE","precisions","webGlPrecision","createWebGLCanvas","aPosition","Float32Array","chooseFastestCopyGLTo2DMethod","canUseImageData","canMeasurePerf","canUseArrayBuffer","ArrayBuffer","canUseUint8Clamped","copyGLTo2D","startTime","drawImageTime","putImageDataTime","testContext","glOptions","premultipliedAlpha","depth","stencil","antialias","clearColor","cachedTexture","getCachedTexture","sourceTexture","createTexture","targetTexture","originalTexture","passes","webgl","programCache","pass","tempFbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","applyTo","bindTexture","TEXTURE_2D","deleteTexture","deleteFramebuffer","clearWebGLCaches","textureCache","textureImageSource","texture","texParameteri","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","texImage2D","uniqueId","gpuInfo","renderer","vendor","ext","getExtension","UNMASKED_RENDERER_WEBGL","UNMASKED_VENDOR_WEBGL","sourceElement","originalImageData","originalEl","BaseFilter","vertexSource","createProgram","vertexShader","VERTEX_SHADER","getShaderInfoLog","program","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","attributeLocations","getAttributeLocations","uniformLocations","getUniformLocations","uStepW","getUniformLocation","uStepH","getAttribLocation","sendAttributeData","aPositionData","attributeLocation","buffer","createBuffer","bindBuffer","ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","FLOAT","bufferData","STATIC_DRAW","_setupFrameBuffer","framebufferTexture2D","COLOR_ATTACHMENT0","_swapTextures","mainParameter","applyToWebGL","applyTo2d","retrieveShader","shader","useProgram","uniform1f","sendUniformData","viewport","drawArrays","TRIANGLE_STRIP","bindAdditionalTexture","textureUnit","activeTexture","TEXTURE0","unbindAdditionalTexture","getMainParameter","setMainParameter","createHelpLayer","helpLayer","mainP","ColorMatrix","colorsOnly","uColorMatrix","uConstants","constants","uniformMatrix4fv","uniform4fv","Brightness","brightness","uBrightness","Convolute","opaque","Convolute_3_1","Convolute_3_0","Convolute_5_1","Convolute_5_0","Convolute_7_1","Convolute_7_0","Convolute_9_1","Convolute_9_0","dstOff","scx","scy","srcOff","wt","weights","side","halfSide","sw","sh","createImageData","dst","alphaFac","uMatrix","uOpaque","uHalfSize","uSize","uniform1fv","Grayscale","lightness","luminosity","uMode","uniform1i","Invert","invert","uInvert","Noise","noise","rand","uNoise","uSeed","Pixelate","blocksize","_j","_iLen","_jLen","uBlocksize","RemoveColor","useAlpha","lowC","highC","uLow","uHigh","Brownie","Vintage","Kodachrome","Technicolor","Polaroid","Sepia","BlackWhite","BlendColor","screen","lighten","darken","exclusion","tint","buildSource","tg","alpha1","uColor","BlendImage","mask","TEXTURE1","calculateMatrix","canvas1","blendData","blendImage","uTransformMatrix","uImage","uniformMatrix3fv","Resize","resizeType","lanczosLobes","uDelta","uTaps","uniform2fv","taps","filterWindow","getFilterWindow","generateShader","tempScale","getTaps","lobeFunction","lanczosCreate","offsets","fragmentSourceTOP","dW","dH","lobes","xx","rcpScaleX","rcpScaleY","newData","oW","oH","sliceByTwo","hermiteFastResize","bilinearFiltering","lanczosResize","tmpCanvas","mult","doneW","doneH","stepW","stepH","dX","dY","u","weight","fX","fY","ratioX","icenter","ratioY","range2X","cacheLanc","range2Y","lanczos","rcpRatioX","rcpRatioY","srcData","destData","destImg","xDiff","yDiff","chnl","origPix","w4","pixels","destImage","destPixels","ratioW","ratioH","ratioWHalf","ratioHHalf","img2","data2","weightsAlpha","gxR","gxG","gxB","gxA","yy","w0","Contrast","contrast","contrastF","uContrast","Saturation","saturation","adjust","uSaturation","Blur","aspectRatio","simpleBlur","canvas2","blurLayer1","blurLayer2","percent","ctx1","ctx2","nSamples","newImageData","delta","chooseRightDelta","blurScale","Gamma","gamma","rInv","gInv","bInv","rVals","gVals","bVals","uGamma","uniform3fv","Composed","subFilters","HueRotation","rotation","rad","aThird","aThirdSqtSin","OneMinusCos","additionalProps","_dimensionAffectingProps","_reNewline","_reSpacesAndTabs","_reSpaceAndTab","_reWords","underline","overline","linethrough","textAlign","superscript","baseline","subscript","textBackgroundColor","_fontSizeFraction","_fontSizeMult","charSpacing","_measuringContext","_styleProperties","__charBounds","CACHE_FONT_SIZE","MIN_TEXT_WIDTH","__skipDimension","setPathInfo","initDimensions","segmentsInfo","getMeasuringContext","_splitText","newLines","_splitTextIntoLines","textLines","_textLines","graphemeLines","_unwrappedTextLines","_unwrappedLines","_text","graphemeText","_clearCache","calcTextWidth","cursorWidth","calcTextHeight","enlargeSpaces","diffSpace","currentLineWidth","numberOfSpaces","accumulatedSpace","line","charBound","spaces","isEndOfWrapping","getLineWidth","kernedWidth","lineIndex","missingNewlineOffset","_setTextStyles","_renderTextLinesBackground","_renderTextDecoration","_renderText","_renderTextStroke","_renderTextFill","charStyle","forMeasuring","textBaseline","_getFontDeclaration","_renderTextLine","_renderChars","styleHas","heightOfLine","lineLeftOffset","lastColor","charBox","currentColor","leftOffset","_getLeftOffset","lineTopOffset","_getTopOffset","boxStart","boxWidth","getHeightOfLine","_getLineLeftOffset","getValueOfPropertyAt","renderLeft","getFontCache","cacheProp","_measureChar","previousChar","prevCharStyle","coupleWidth","previousWidth","fontCache","fontDeclaration","previousFontDeclaration","couple","stylesAreEqual","fontMultiplier","measureText","getHeightOfChar","measureLine","lineInfo","_measureLine","_getWidthOfCharSpacing","grapheme","prevGrapheme","graphemeInfo","startingPoint","totalPathLength","numOfSpaces","lineBounds","positionInPath","_getGraphemeBox","_setGraphemeOnPath","centerPosition","skipLeft","getCompleteStyleDeclaration","prevStyle","previousBox","__lineHeights","_renderTextCommon","lineHeights","isEmptyStyles","actualStyle","nextStyle","timeToRender","isJustify","charsToRender","shortCut","_renderChar","_hasStyleChanged","_applyPatternGradientTransformText","handleFiller","fillOffsets","strokeOffsets","_getStyleDeclaration","fullDecl","shouldFill","fillText","strokeText","setSuperscript","_setScript","setSubscript","schema","get2DCursorLocation","setSelectionStyles","thisStyle","_hasStyleChangedForSvg","__lineWidths","_shouldClearDimensionCache","shouldClear","_forceClearCache","_size","_dy","lastDecoration","currentDecoration","currentFill","lastFill","topOffset","styleObject","family","fontIsGeneric","genericFonts","newLine","newText","additionalProperties","needsDims","isAddingPath","_key","parsedAnchor","textAnchor","originalStrokeWidth","textHeightScaleFactor","lineHeightDiff","scaledDiff","textHeight","offX","p3","0","cleanStyle","letterCount","stylePropertyValue","stylesCount","allStyleObjectPropertiesMatch","graphemeCount","stylePropertyHasBeenSet","removeStyle","lineNum","charNum","_extendStyles","_getLineStyle","_setLineStyle","_setStyleDeclaration","selectionStart","skipWrapping","getSelectionStyles","startIndex","endIndex","selectionEnd","getStyleAtPosition","lineStyle","_deleteStyleDeclaration","_deleteLineStyle","parseDecoration","IText","editable","editingBorderColor","cursorColor","cursorDelay","cursorDuration","caching","_reSpace","_currentCursorOpacity","_selectionDirection","_abortCursorAnimation","__widthOfSpace","inCompositionMode","initBehavior","setSelectionStart","_updateAndFire","setSelectionEnd","_fireSelectionChanged","_updateTextarea","initDelayedCursor","cursorOffsetCache","renderCursorOrSelection","skipRestore","_clearTextArea","boundaries","_getCursorBoundaries","renderCursor","renderSelection","_getCursorBoundariesOffsets","cursorPosition","cursorLocation","charHeight","__isMousedown","startLine","endLine","startChar","endChar","lineOffset","realLineHeight","boxEnd","compositionColor","getCurrentCharFontSize","cp","_getCurrentCharIndex","getCurrentCharColor","initAddedHandler","initRemovedHandler","initCursorSelectionHandlers","initDoubleClickSimulation","mouseMoveHandler","_initCanvasHandlers","_removeCanvasHandlers","_tick","_currentTickState","_animateCursor","targetOpacity","completeMethod","tickState","isAborted","_onTickComplete","_cursorTimeout1","_currentTickCompleteState","restart","abortCursorAnimation","_cursorTimeout2","selectAll","getSelectedText","findWordBoundaryLeft","startFrom","findWordBoundaryRight","findLineBoundaryLeft","findLineBoundaryRight","searchWordBoundary","direction","selectWord","newSelectionStart","newSelectionEnd","selectLine","enterEditing","exitEditingOnOthers","initHiddenTextarea","_saveEditingProps","_setEditingProps","_textBeforeEdit","initMouseMoveHandler","getSelectionStartFromPointer","currentStart","currentEnd","__selectionStartOnMouseDown","restartCursorIfNeeded","fromStringToGraphemeSelection","smallerTextStart","graphemeStart","smallerTextEnd","graphemeEnd","fromGraphemeToStringSelection","newSelection","updateTextareaPosition","updateFromTextArea","_calcTextareaPosition","desiredPosition","compositionStart","upperCanvas","upperCanvasWidth","upperCanvasHeight","clientWidth","clientHeight","_savedProps","_restoreEditingProps","isTextChanged","_removeExtraneousStyles","removeStyleFromTo","styleObj","cursorStart","cursorEnd","lineStart","charStart","lineEnd","charEnd","shiftLineStyles","numericChar","clonedStyles","numericLine","insertNewlineStyleObject","qty","copiedStyle","currentCharStyle","newLineStyles","somethingAdded","isEndOfLine","numIndex","styleCarriedOver","insertCharStyleObject","quantity","currentLineStyles","currentLineStylesCloned","numericIndex","insertNewStyleBlock","insertedText","cursorLoc","addedLines","linesLength","setSelectionStartEndWithShift","setSelectionInBoundaries","__lastClickTime","__lastLastClickTime","__lastPointer","__newClickTime","newPointer","isTripleClick","_stopEvent","__lastIsEditing","__lastSelected","initMousedownHandler","initMouseupHandler","initClicks","doubleClickHandler","tripleClickHandler","_mouseDownHandler","setCursorByClick","_mouseDownHandlerBefore","currentActive","mouseOffset","prevWidth","_getNewSelectionStartFromOffset","distanceBtwLastCharAndCursor","distanceBtwNextCharAndCursor","onKeyDown","onKeyUp","onInput","copy","paste","onCompositionUpdate","_clickHandlerInitialized","keysMap","9","27","33","34","35","36","37","38","39","40","ctrlKeysMapUp","67","88","ctrlKeysMapDown","65","keyCode","ctrlKey","metaKey","_copyDone","fromPaste","removedText","removeFrom","removeTo","nextText","charCount","nextCharCount","charDiff","textareaSelection","backDelete","copiedText","copiedTextStyle","compositionEnd","_getClipboardData","clipboardData","_getWidthBeforeCursor","widthBeforeCursor","getDownCursorOffset","isRight","selectionProp","_getSelectionForOffset","indexOnOtherLine","_getIndexOnLine","textAfterCursor","getUpCursorOffset","textBeforeCursor","charWidth","foundMatch","widthOfCharsOnLine","indexOnLine","leftEdge","rightEdge","offsetFromLeftEdge","offsetFromRightEdge","moveCursorDown","_moveCursorUpOrDown","moveCursorUp","moveCursorWithShift","moveCursorWithoutShift","moveCursorLeft","_moveCursorLeftOrRight","_move","_moveLeft","_moveRight","moveCursorLeftWithoutShift","moveCursorLeftWithShift","moveCursorRight","moveCursorRightWithShift","moveCursorRightWithoutShift","changed","removeChars","insertChars","multipleSpacesRegex","_getSVGLeftTopOffsets","textAndBg","_getSVGTextAndBg","textTop","textLeft","_wrapSVGTextAndBg","lineTop","noShadow","textSpans","textTopOffset","textLeftOffset","_setSVGTextLineBg","_setSVGTextLineText","_createTextCharSpan","styleDecl","shouldUseWhitespace","styleProps","fillStyles","dySpan","_pushTextBgRect","fillColor","_getSVGLineTopOffset","lastHeight","svgStyle","Textbox","dynamicMinWidth","__cachedLines","_wordJoiners","splitByGrapheme","_styleMap","_generateStyleMap","textInfo","realLineCount","realLineCharCount","isWrapping","nextOffset","nextLineIndex","shouldLimit","mapNextLine","_wrapText","desiredWidth","wrapped","_wrapLine","_measureWord","word","charOffset","_line","reservedSpace","words","infix","wordWidth","infixWidth","largestWordWidth","lineJustStarted","additionalSpace","getMinWidth","linesToKeep","scaleSkewStyleHandler","scaleStyleHandler","objectControls","ml","mr","mb","mtr","textBoxControls","EventSourceReceiver","EventSourceDriver","EventSourceTransport","rgb","hexColor","intToHex","colorToInt","InfoReceiverIframe","InfoIframe","go","ifr","activeXDocument","documentCreateElement","GT","LT","PROTOTYPE","SCRIPT","IE_PROTO","EmptyConstructor","scriptTag","NullProtoObjectViaActiveX","write","parentWindow","NullProtoObjectViaIFrame","iframeDocument","iframe","JS","contentWindow","NullProtoObject","ActiveXObject","$find","FIND","SKIPS_HOLES","createIteratorConstructor","IteratorsCore","IteratorPrototype","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","ENTRIES","returnThis","Iterable","IteratorConstructor","DEFAULT","IS_SET","CurrentIteratorPrototype","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","makeWatcher","$data","Versions","V1_0","V1_1","V1_2","BYTE","LF","NULL","binaryBody","escapeHeaderValues","skipContentLengthHeader","_binaryBody","isBinaryBody","_body","TextDecoder","decode","TextEncoder","encode","rawFrame","header","hdrValueUnEscape","serializeCmdAndHeaders","cmdAndHeaders","toUnit8Array","hdrValueEscape","isBodyEmpty","bodyLength","uint8CmdAndHeaders","nullTerminator","uint8Frame","frame","serialize","CR","COLON","Parser","onFrame","onIncomingPing","_encoder","_decoder","_token","_initState","appendMissingNULLonIncoming","chunkWithNull","byte","_onByte","_collectCommand","_reinjectByte","_results","_consumeTokenAsUTF8","_collectHeaders","_consumeByte","_collectHeaderKey","_setupCollectBody","_headerKey","_collectHeaderValue","contentLengthHeader","_bodyBytesRemaining","_collectBodyFixedSize","_collectBodyNullTerminated","_retrievedBody","_consumeTokenAsRaw","rawResult","_collectFrame","StompSocketState","ActivationState","augmentWebsocket","webSocket","terminate","noOp","onopen","ts","origOnClose","closeEvent","_client","_webSocket","_serverFrameHandlers","CONNECTED","_connected","_connectedVersion","_escapeHeaderValues","_setupHeartbeat","onConnect","MESSAGE","subscription","onReceive","_subscriptions","onUnhandledMessage","client","messageId","ack","nack","RECEIPT","_receiptWatchers","onUnhandledReceipt","ERROR","onStompError","_counter","_partialData","_lastServerActivityTS","configure","conf","fromRawFrame","logRawCommunication","serverFrameHandler","onUnhandledFrame","rawChunkAsString","parseChunk","_onclose","brokerURL","_cleanUp","onWebSocketClose","errorEvent","onWebSocketError","connectHeaders","stompVersions","supportedVersions","heartbeatOutgoing","heartbeatIncoming","_transmit","serverOutgoing","serverIncoming","ttl","_pinger","setInterval","_ponger","_closeOrDiscardWebsocket","discardWebsocketOnCommFailure","_discardWebsocket","_closeWebsocket","rawChunk","forceBinaryWSFrames","splitLargeFrames","out","maxWebSocketChunkSize","connected","disconnectHeaders","receipt","watchForReceipt","onDisconnect","clearInterval","hdrs","receiptId","unsubscribe","transactionId","txId","transaction","commit","subscriptionId","__awaiter","thisArg","_arguments","generator","adopt","fulfilled","rejected","connectionTimeout","reconnectDelay","INACTIVE","beforeConnect","onChangeState","_disconnectHeaders","_stompHandler","connectedVersion","ACTIVE","DEACTIVATING","_changeState","_connectionWatcher","forceDisconnect","_createWebSocket","_disposeStompHandler","_resolveSocketClose","_schedule_reconnect","webSocketFactory","protocolVersions","binaryType","_reconnector","retPromise","publish","subscribe","HeartbeatInfo","maxWebSocketFrameSize","_heartbeatInfo","reconnect_delay","closeEventCallback","connectCallback","errorCallback","login","passcode","_parseConnect","disconnectCallback","deactivate","incoming","outgoing","wsFn","WebSocketClass","passiveSupported","testListenerOpts","getNestedValue","Node","getZIndex","tab","esc","space","down","home","backspace","pageup","pagedown","iconPath","override","getObjectValueByPath","optional","chunked","mergeDeep","endPos","propertyKey","extraLookup","extraEscapable","unrollLookup","escapable","unrolled","fromCharCode","quoted","quot","elevation","computedElevation","elevationClasses","outlined","shaped","isInList","isInMenu","isInNav","expand","nav","rounded","subheader","threeLine","twoLine","findIndex","functionToString","InfoAjax","t0","nativeEndsWith","endsWith","endPosition","srgbForwardMatrix","srgbForwardTransform","srgbReverseMatrix","srgbReverseTransform","xyz","postfix","read","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","regexpFlags","stickyHelpers","nativeExec","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","PATCH","reCopy","charsAdded","strCopy","input","isLoader","objectTypes","freeExports","freeGlobal","runInContext","nativeJSON","objectProto","getClass","isProperty","attempt","func","errorFunc","exception","isExtended","stringifySupported","parseSupported","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","forOwn","dontEnums","isConstructor","hasProperty","Escapes","92","8","12","10","13","leadingZeroes","toPaddedString","serializeDate","year","month","date","hours","minutes","seconds","milliseconds","Months","getDay","dateToJSON","nativeStringify","nativeToJSON","unicodePrefix","escapeChar","charCode","escaped","reEscape","indentation","stack","Index","Source","Unescapes","47","98","116","110","102","114","lex","isSigned","hasMembers","previousJSON","isRestored","feature","detection","POLYFILL","NATIVE","_listeners","link","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","E","canBubble","cancelable","bubbles","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","nativeDefineProperty","Attributes","undef","encodeURIComponent","querystring","querystringify","pairs","XDRObject","_start","xdr","XDomainRequest","_error","ontimeout","onprogress","responseText","windowId","iframeUrl","onmessageCallback","_message","detachEvent","iframeMessage","ignored","cdata","RE","FacadeJS","InfoIframeReceiver","parentOrigin","transportMap","at","bootstrap_iframe","currentWindowId","onMessage","_send","nativeJoin","ES3_STRINGS","composite","mapper","targetIndex","sourceIndex","mapFn","ACCESSORS","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","nativeObjectCreate","getOwnPropertyNamesExternal","getOwnPropertyDescriptorModule","defineWellKnownSymbol","HIDDEN","SYMBOL","TO_PRIMITIVE","$Symbol","$stringify","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","wrap","description","isSymbol","$defineProperty","$defineProperties","$getOwnPropertySymbols","$propertyIsEnumerable","$create","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","IS_OBJECT_PROTOTYPE","keyFor","useSetter","useSimple","FORCED_JSON_STRINGIFY","$replacer","$every","INCORRECT_ITERATION","NativePromise","promiseResolve","NON_GENERIC","real","onFinally","colorName","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","third","radix","maxCode","NumberWrapper","error1","error2","dotAll","fired","ai","_defineProperty","thrower","argument0","argument1","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","TO_STRING_TAG_SUPPORT","FunctionPrototypeToString","nameRE","XdrStreamingTransport","cookie_needed","flush","head","promise","macrotask","IS_WEBOS_WEBKIT","WebKitMutationObserver","queueMicrotaskDescriptor","queueMicrotask","exit","task","createWellKnownSymbol","withoutSetter","base64","ieee754","typedArraySupport","subarray","kMaxLength","TYPED_ARRAY_SUPPORT","encodingOrOffset","allocUnsafe","fromArrayBuffer","fromString","assertSize","alloc","checked","isEncoding","fromArrayLike","byteOffset","isBuffer","isnan","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","INSPECT_MAX_BYTES","poolSize","_augment","species","allocUnsafeSlow","_isBuffer","compare","swap16","swap32","swap64","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","MAX_ARGUMENTS_LENGTH","codePoints","checkOffset","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","base64clean","stringtrim","units","leadSurrogate","byteArray","hi","lo","nativeKeys","thisNumberValue","nativeToFixed","acc","fractDigits","dataToString","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","specificCreate","filterOut","_createForOfIteratorHelper","allowArrayLike","normalCompletion","didErr","_e2","XDR","XHRCors","XHRLocal","XHRFake","urlInfo","doXhr","_getReceiver","timeoutRef","preventExtensions","form","area","createForm","enctype","acceptCharset","submit","completed","PREFERRED_STRING","onUnload","afterUnload","isChromePackagedApp","chrome","app","runtime","triggerUnloadCallbacks","unloadTriggered","ir","SHARED","$findIndex","FIND_INDEX","fixed","non","$indexOf","nativeIndexOf","NEGATIVE_ZERO","searchElement","$includes","EXISTS","transportList","_sockjs_onload","newPromiseCapability","promiseCapability","getRandomValues","variable","NASHORN_BUG","aPossiblePrototype","CORRECT_SETTER","TAG","_classCallCheck","IS_RIGHT","REPLACE_SUPPORTS_NAMED_GROUPS","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","arg2","forceStringMethod","stringMethod","regexMethod","$map","XHR","AbstractXHRObject","supportsCORS","withCredentials","cors","createMessage","generateComponentTrace","newMessage","consoleWarn","classifyRE","classify","formatComponentName","file","includeFile","currentRecursiveSequence","styleList","styleProp","parseStyle","styleMap","mergeTarget","mergeClasses","mergeStyles","mergeListeners","append","exact","exactActiveClass","nuxt","proxyClass","computedRipple","isClickable","isLink","generateRouteLink","tabindex","groupClasses","inactive","genAttrs","keydown","check","globalThis","FREEZING","onFreeze","nativeFreeze","ArrayIteratorMethods","ArrayValues","NativeSymbol","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","ARRAY_ITERATOR","Arguments","XhrPollingTransport","XdrPollingTransport","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","microtask","hostReportErrors","newPromiseCapabilityModule","perform","PROMISE","getInternalPromiseState","PromiseConstructor","$fetch","newGenericPromiseCapability","DISPATCH_EVENT","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","REJECTION_HANDLED","PENDING","FULFILLED","REJECTED","HANDLED","UNHANDLED","GLOBAL_CORE_JS_PROMISE","FakePromise","all","isThenable","isReject","notified","chain","reactions","ok","exited","reaction","fail","rejection","onHandleUnhandled","onUnhandled","IS_UNHANDLED","isUnhandled","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","fetch","capability","$promiseResolve","alreadyCalled","race","BufferedSender","sender","sendBuffer","sendStop","sendSchedule","sendScheduleWait","tref","PromiseCapability","$$resolve","$$reject","METADATA","setMetadata","objectID","weakData","getWeakData","meta","unattach","CollectGarbage","Toggleable","_defineProperties","_createClass","protoProps","staticProps","registerComponents","vuetify","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","objectWithoutPropertiesLoose","sourceSymbolKeys","_setPrototypeOf","_inherits","subClass","superClass","_getPrototypeOf","_isNativeReflectConstruct","Proxy","_assertThisInitialized","ReferenceError","_possibleConstructorReturn","assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","possibleConstructorReturn","badge","dataIterator","noResultsText","loadingText","dataTable","itemsPerPageText","ariaLabel","sortDescending","sortAscending","sortNone","activateNone","activateDescending","activateAscending","sortBy","dataFooter","itemsPerPageAll","nextPage","prevPage","firstPage","lastPage","pageText","datePicker","itemsSelected","nextMonthAriaLabel","nextYearAriaLabel","prevMonthAriaLabel","prevYearAriaLabel","noDataText","carousel","delimiter","calendar","moreEvents","fileInput","counterSize","timePicker","am","pm","pagination","page","currentPage","rating","breakpoint","mobileBreakpoint","scrollBarWidth","thresholds","xs","sm","md","lg","icons","iconfont","lang","locales","en","rtl","disable","cspNonce","customProperties","minifyTheme","themeCache","variations","themes","primary","secondary","accent","success","warning","framework","defaultPreset","userPreset","preset","globalPreset","bar","insetFooter","footer","application","xl","xsOnly","smOnly","smAndDown","smAndUp","mdOnly","mdAndDown","mdAndUp","lgOnly","lgAndDown","lgAndUp","xlOnly","mobile","resizeTimeout","Breakpoint","onResize","ssr","breakpoints","linear","totalOffset","_settings","settings","appOffset","getContainer","goTo","isDrawer","isClipped","targetLocation","getOffset","startLocation","timeElapsed","progress","cancel","checkboxOn","checkboxOff","checkboxIndeterminate","menu","subgroup","dropdown","radioOn","radioOff","edit","ratingEmpty","ratingFull","ratingHalf","unfold","plus","minus","iconSet","convertToComponentDeclarations","mdiSvg","mdi","fa","fa4","faSvg","Icons","presets","LANG_PREFIX","getTranslation","usingDefault","shortKey","translation","locale","defaultLocale","Lang","translator","currentLocale","cielabForwardTransform","cielabReverseTransform","transformedY","Ln","lab","isItem","variant","colors","parsedTheme","genVariations","genBaseColor","genColorVariableName","genColorVariable","cssVar","variablesCss","aColor","variants","variantValue","amount","unwatch","vueMeta","Theme","styleEl","oldDark","defaults","defaultTheme","metaKeyName","getOptions","metaInfo","vuetifyStylesheet","nonce","addApp","obs","currentTheme","isHydrating","installed","service","Service","classofRaw","CORRECT_ARGUMENTS","tryGet","callee","paddingRight","paddingBottom","IntersectionObserver","Intersect","contentClass","computedAspectRatio","aspectStyle","__cachedSizer","genContent","hasIntersect","intersect","alt","contain","lazySrc","rootMargin","srcset","currentSrc","isLoading","calculatedAspectRatio","hasError","normalisedSrc","aspect","__cachedImage","backgroundPosition","lazyImg","onLoad","onError","pollForSize","__genPlaceholder","availableProps","applicationProperty","removeApplication","activated","deactivated","callUpdate","updateApplication","_arrayWithoutHoles","_iterableToArray","iter","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","searchChildren","closeDependents","isDependent","openDependents","getOpenDependents","getOpenDependentElements","getClickableDependentElements","validator","isMobile","mobileWidth","isNumber","zIndex","__scrim","computedOpacity","hideOverlay","overlayOpacity","animationFrame","genOverlay","createOverlay","removeOverlay","showScroll","scrollListener","checkPath","hasScrollbar","shouldScroll","isInside","composedPath","dialog","hideScroll","defaultConditional","ClickOutside","handleGesture","touchendY","dirRatio","minDistance","touchendX","touchstartX","touchstartY","touch","createHandlers","touchmoveX","touchmoveY","move","touchstart","touchend","touchmove","Touch","clipped","disableResizeWatcher","disableRouteWatcher","expandOnHover","floating","miniVariant","miniVariantWidth","permanent","stateless","temporary","touchless","isMouseover","touchArea","stackMinZIndex","computedMaxHeight","computedTop","computedTransform","computedWidth","isMiniVariant","hasApp","isBottom","reactsToClick","reactsToMobile","reactsToResize","reactsToRoute","showOverlay","calculateTouchArea","parentRect","closeConditional","genAppend","genPosition","genBackground","genDirectives","swipeRight","genListeners","transitionend","resizeEvent","genPrepend","genBorder","swipeLeft","updateMiniVariant","senderFunc","pollUrl","JsonpReceiver","jsonpSender","JsonPTransport","decodeURI","urlWithId","_createScript","timeoutId","_abort","scriptErrorTimeout","aborting","script2","script","onclick","_scriptError","errorTimer","loadedOkay","charset","nativeSlice","fin","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/chunk-vendors.2964a3d3.js","sourcesContent":["'use strict';\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:transport');\n}\n\nmodule.exports = function(availableTransports) {\n  return {\n    filterToEnabled: function(transportsWhitelist, info) {\n      var transports = {\n        main: []\n      , facade: []\n      };\n      if (!transportsWhitelist) {\n        transportsWhitelist = [];\n      } else if (typeof transportsWhitelist === 'string') {\n        transportsWhitelist = [transportsWhitelist];\n      }\n\n      availableTransports.forEach(function(trans) {\n        if (!trans) {\n          return;\n        }\n\n        if (trans.transportName === 'websocket' && info.websocket === false) {\n          debug('disabled from server', 'websocket');\n          return;\n        }\n\n        if (transportsWhitelist.length &&\n            transportsWhitelist.indexOf(trans.transportName) === -1) {\n          debug('not in whitelist', trans.transportName);\n          return;\n        }\n\n        if (trans.enabled(info)) {\n          debug('enabled', trans.transportName);\n          transports.main.push(trans);\n          if (trans.facadeTransport) {\n            transports.facade.push(trans.facadeTransport);\n          }\n        } else {\n          debug('disabled', trans.transportName);\n        }\n      });\n      return transports;\n    }\n  };\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar flattenIntoArray = require('../internals/flatten-into-array');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\n// `Array.prototype.flat` method\n// https://tc39.es/ecma262/#sec-array.prototype.flat\n$({ target: 'Array', proto: true }, {\n  flat: function flat(/* depthArg = 1 */) {\n    var depthArg = arguments.length ? arguments[0] : undefined;\n    var O = toObject(this);\n    var sourceLen = toLength(O.length);\n    var A = arraySpeciesCreate(O, 0);\n    A.length = flattenIntoArray(A, O, O, sourceLen, 0, depthArg === undefined ? 1 : toInteger(depthArg));\n    return A;\n  }\n});\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\nvar nativeGetOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? nativeGetOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return nativeGetOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:polling');\n}\n\nfunction Polling(Receiver, receiveUrl, AjaxObject) {\n  debug(receiveUrl);\n  EventEmitter.call(this);\n  this.Receiver = Receiver;\n  this.receiveUrl = receiveUrl;\n  this.AjaxObject = AjaxObject;\n  this._scheduleReceiver();\n}\n\ninherits(Polling, EventEmitter);\n\nPolling.prototype._scheduleReceiver = function() {\n  debug('_scheduleReceiver');\n  var self = this;\n  var poll = this.poll = new this.Receiver(this.receiveUrl, this.AjaxObject);\n\n  poll.on('message', function(msg) {\n    debug('message', msg);\n    self.emit('message', msg);\n  });\n\n  poll.once('close', function(code, reason) {\n    debug('close', code, reason, self.pollIsClosing);\n    self.poll = poll = null;\n\n    if (!self.pollIsClosing) {\n      if (reason === 'network') {\n        self._scheduleReceiver();\n      } else {\n        self.emit('close', code || 1006, reason);\n        self.removeAllListeners();\n      }\n    }\n  });\n};\n\nPolling.prototype.abort = function() {\n  debug('abort');\n  this.removeAllListeners();\n  this.pollIsClosing = true;\n  if (this.poll) {\n    this.poll.abort();\n  }\n};\n\nmodule.exports = Polling;\n","module.exports = '1.5.0';\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = ''.repeat || function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","import './VIcon.sass'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Colorable from '../../mixins/colorable'\nimport Sizeable from '../../mixins/sizeable'\nimport Themeable from '../../mixins/themeable'\n\n// Util\nimport { convertToUnit, keys, remapInternalIcon } from '../../util/helpers'\n\n// Types\nimport Vue, { CreateElement, VNode, VNodeChildren, VNodeData } from 'vue'\nimport mixins from '../../util/mixins'\nimport { VuetifyIcon, VuetifyIconComponent } from 'vuetify/types/services/icons'\n\nenum SIZE_MAP {\n  xSmall = '12px',\n  small = '16px',\n  default = '24px',\n  medium = '28px',\n  large = '36px',\n  xLarge = '40px'\n}\n\nfunction isFontAwesome5 (iconType: string): boolean {\n  return ['fas', 'far', 'fal', 'fab', 'fad'].some(val => iconType.includes(val))\n}\n\nfunction isSvgPath (icon: string): boolean {\n  return (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(icon) && /[\\dz]$/i.test(icon) && icon.length > 4)\n}\n\nconst VIcon = mixins(\n  BindsAttrs,\n  Colorable,\n  Sizeable,\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-icon',\n\n  props: {\n    dense: Boolean,\n    disabled: Boolean,\n    left: Boolean,\n    right: Boolean,\n    size: [Number, String],\n    tag: {\n      type: String,\n      required: false,\n      default: 'i',\n    },\n  },\n\n  computed: {\n    medium () {\n      return false\n    },\n    hasClickListener (): boolean {\n      return Boolean(\n        this.listeners$.click || this.listeners$['!click']\n      )\n    },\n  },\n\n  methods: {\n    getIcon (): VuetifyIcon {\n      let iconName = ''\n      if (this.$slots.default) iconName = this.$slots.default[0].text!.trim()\n\n      return remapInternalIcon(this, iconName)\n    },\n    getSize (): string | undefined {\n      const sizes = {\n        xSmall: this.xSmall,\n        small: this.small,\n        medium: this.medium,\n        large: this.large,\n        xLarge: this.xLarge,\n      }\n\n      const explicitSize = keys(sizes).find(key => sizes[key])\n\n      return (\n        (explicitSize && SIZE_MAP[explicitSize]) || convertToUnit(this.size)\n      )\n    },\n    // Component data for both font icon and SVG wrapper span\n    getDefaultData (): VNodeData {\n      return {\n        staticClass: 'v-icon notranslate',\n        class: {\n          'v-icon--disabled': this.disabled,\n          'v-icon--left': this.left,\n          'v-icon--link': this.hasClickListener,\n          'v-icon--right': this.right,\n          'v-icon--dense': this.dense,\n        },\n        attrs: {\n          'aria-hidden': !this.hasClickListener,\n          disabled: this.hasClickListener && this.disabled,\n          type: this.hasClickListener ? 'button' : undefined,\n          ...this.attrs$,\n        },\n        on: this.listeners$,\n      }\n    },\n    getSvgWrapperData () {\n      const fontSize = this.getSize()\n      const wrapperData = {\n        ...this.getDefaultData(),\n        style: fontSize ? {\n          fontSize,\n          height: fontSize,\n          width: fontSize,\n        } : undefined,\n      }\n      this.applyColors(wrapperData)\n\n      return wrapperData\n    },\n    applyColors (data: VNodeData): void {\n      data.class = { ...data.class, ...this.themeClasses }\n      this.setTextColor(this.color, data)\n    },\n    renderFontIcon (icon: string, h: CreateElement): VNode {\n      const newChildren: VNodeChildren = []\n      const data = this.getDefaultData()\n\n      let iconType = 'material-icons'\n      // Material Icon delimiter is _\n      // https://material.io/icons/\n      const delimiterIndex = icon.indexOf('-')\n      const isMaterialIcon = delimiterIndex <= -1\n\n      if (isMaterialIcon) {\n        // Material icon uses ligatures.\n        newChildren.push(icon)\n      } else {\n        iconType = icon.slice(0, delimiterIndex)\n        if (isFontAwesome5(iconType)) iconType = ''\n      }\n\n      data.class[iconType] = true\n      data.class[icon] = !isMaterialIcon\n\n      const fontSize = this.getSize()\n      if (fontSize) data.style = { fontSize }\n\n      this.applyColors(data)\n\n      return h(this.hasClickListener ? 'button' : this.tag, data, newChildren)\n    },\n    renderSvgIcon (icon: string, h: CreateElement): VNode {\n      const svgData: VNodeData = {\n        class: 'v-icon__svg',\n        attrs: {\n          xmlns: 'http://www.w3.org/2000/svg',\n          viewBox: '0 0 24 24',\n          role: 'img',\n          'aria-hidden': true,\n        },\n      }\n\n      const size = this.getSize()\n      if (size) {\n        svgData.style = {\n          fontSize: size,\n          height: size,\n          width: size,\n        }\n      }\n\n      return h(this.hasClickListener ? 'button' : 'span', this.getSvgWrapperData(), [\n        h('svg', svgData, [\n          h('path', {\n            attrs: {\n              d: icon,\n            },\n          }),\n        ]),\n      ])\n    },\n    renderSvgIconComponent (\n      icon: VuetifyIconComponent,\n      h: CreateElement\n    ): VNode {\n      const data: VNodeData = {\n        class: {\n          'v-icon__component': true,\n        },\n      }\n\n      const size = this.getSize()\n      if (size) {\n        data.style = {\n          fontSize: size,\n          height: size,\n          width: size,\n        }\n      }\n\n      this.applyColors(data)\n\n      const component = icon.component\n      data.props = icon.props\n      data.nativeOn = data.on\n\n      return h(this.hasClickListener ? 'button' : 'span', this.getSvgWrapperData(), [\n        h(component, data),\n      ])\n    },\n  },\n\n  render (h: CreateElement): VNode {\n    const icon = this.getIcon()\n\n    if (typeof icon === 'string') {\n      if (isSvgPath(icon)) {\n        return this.renderSvgIcon(icon, h)\n      }\n      return this.renderFontIcon(icon, h)\n    }\n\n    return this.renderSvgIconComponent(icon, h)\n  },\n})\n\nexport default Vue.extend({\n  name: 'v-icon',\n\n  $_wrapperFor: VIcon,\n\n  functional: true,\n\n  render (h, { data, children }): VNode {\n    let iconName = ''\n\n    // Support usage of v-text and v-html\n    if (data.domProps) {\n      iconName = data.domProps.textContent ||\n        data.domProps.innerHTML ||\n        iconName\n\n      // Remove nodes so it doesn't\n      // overwrite our changes\n      delete data.domProps.textContent\n      delete data.domProps.innerHTML\n    }\n\n    return h(VIcon, data, iconName ? [iconName] : children)\n  },\n})\n","import Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'sizeable',\n\n  props: {\n    large: Boolean,\n    small: Boolean,\n    xLarge: Boolean,\n    xSmall: Boolean,\n  },\n\n  computed: {\n    medium (): boolean {\n      return Boolean(\n        !this.xSmall &&\n        !this.small &&\n        !this.large &&\n        !this.xLarge\n      )\n    },\n    sizeableClasses (): object {\n      return {\n        'v-size--x-small': this.xSmall,\n        'v-size--small': this.small,\n        'v-size--default': this.medium,\n        'v-size--large': this.large,\n        'v-size--x-large': this.xLarge,\n      }\n    },\n  },\n})\n","'use strict';\n\nvar Driver = global.WebSocket || global.MozWebSocket;\nif (Driver) {\n\tmodule.exports = function WebSocketBrowserDriver(url) {\n\t\treturn new Driver(url);\n\t};\n} else {\n\tmodule.exports = undefined;\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:xhr');\n}\n\nfunction XhrReceiver(url, AjaxObject) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n\n  this.bufferPosition = 0;\n\n  this.xo = new AjaxObject('POST', url, null);\n  this.xo.on('chunk', this._chunkHandler.bind(this));\n  this.xo.once('finish', function(status, text) {\n    debug('finish', status, text);\n    self._chunkHandler(status, text);\n    self.xo = null;\n    var reason = status === 200 ? 'network' : 'permanent';\n    debug('close', reason);\n    self.emit('close', null, reason);\n    self._cleanup();\n  });\n}\n\ninherits(XhrReceiver, EventEmitter);\n\nXhrReceiver.prototype._chunkHandler = function(status, text) {\n  debug('_chunkHandler', status);\n  if (status !== 200 || !text) {\n    return;\n  }\n\n  for (var idx = -1; ; this.bufferPosition += idx + 1) {\n    var buf = text.slice(this.bufferPosition);\n    idx = buf.indexOf('\\n');\n    if (idx === -1) {\n      break;\n    }\n    var msg = buf.slice(0, idx);\n    if (msg) {\n      debug('message', msg);\n      this.emit('message', msg);\n    }\n  }\n};\n\nXhrReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nXhrReceiver.prototype.abort = function() {\n  debug('abort');\n  if (this.xo) {\n    this.xo.close();\n    debug('close');\n    this.emit('close', null, 'user');\n    this.xo = null;\n  }\n  this._cleanup();\n};\n\nmodule.exports = XhrReceiver;\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\n\nvar required = require('requires-port')\n  , qs = require('querystringify')\n  , slashes = /^[A-Za-z][A-Za-z0-9+-.]*:[\\\\/]+/\n  , protocolre = /^([a-z][a-z0-9.+-]*:)?([\\\\/]{1,})?([\\S\\s]*)/i\n  , whitespace = '[\\\\x09\\\\x0A\\\\x0B\\\\x0C\\\\x0D\\\\x20\\\\xA0\\\\u1680\\\\u180E\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200A\\\\u202F\\\\u205F\\\\u3000\\\\u2028\\\\u2029\\\\uFEFF]'\n  , left = new RegExp('^'+ whitespace +'+');\n\n/**\n * Trim a given string.\n *\n * @param {String} str String to trim.\n * @public\n */\nfunction trimLeft(str) {\n  return (str ? str : '').toString().replace(left, '');\n}\n\n/**\n * These are the parse rules for the URL parser, it informs the parser\n * about:\n *\n * 0. The char it Needs to parse, if it's a string it should be done using\n *    indexOf, RegExp using exec and NaN means set as current value.\n * 1. The property we should set when parsing this value.\n * 2. Indication if it's backwards or forward parsing, when set as number it's\n *    the value of extra chars that should be split off.\n * 3. Inherit from location if non existing in the parser.\n * 4. `toLowerCase` the resulting value.\n */\nvar rules = [\n  ['#', 'hash'],                        // Extract from the back.\n  ['?', 'query'],                       // Extract from the back.\n  function sanitize(address) {          // Sanitize what is left of the address\n    return address.replace('\\\\', '/');\n  },\n  ['/', 'pathname'],                    // Extract from the back.\n  ['@', 'auth', 1],                     // Extract from the front.\n  [NaN, 'host', undefined, 1, 1],       // Set left over value.\n  [/:(\\d+)$/, 'port', undefined, 1],    // RegExp the back.\n  [NaN, 'hostname', undefined, 1, 1]    // Set left over.\n];\n\n/**\n * These properties should not be copied or inherited from. This is only needed\n * for all non blob URL's as a blob URL does not include a hash, only the\n * origin.\n *\n * @type {Object}\n * @private\n */\nvar ignore = { hash: 1, query: 1 };\n\n/**\n * The location object differs when your code is loaded through a normal page,\n * Worker or through a worker using a blob. And with the blobble begins the\n * trouble as the location object will contain the URL of the blob, not the\n * location of the page where our code is loaded in. The actual origin is\n * encoded in the `pathname` so we can thankfully generate a good \"default\"\n * location from it so we can generate proper relative URL's again.\n *\n * @param {Object|String} loc Optional default location object.\n * @returns {Object} lolcation object.\n * @public\n */\nfunction lolcation(loc) {\n  var globalVar;\n\n  if (typeof window !== 'undefined') globalVar = window;\n  else if (typeof global !== 'undefined') globalVar = global;\n  else if (typeof self !== 'undefined') globalVar = self;\n  else globalVar = {};\n\n  var location = globalVar.location || {};\n  loc = loc || location;\n\n  var finaldestination = {}\n    , type = typeof loc\n    , key;\n\n  if ('blob:' === loc.protocol) {\n    finaldestination = new Url(unescape(loc.pathname), {});\n  } else if ('string' === type) {\n    finaldestination = new Url(loc, {});\n    for (key in ignore) delete finaldestination[key];\n  } else if ('object' === type) {\n    for (key in loc) {\n      if (key in ignore) continue;\n      finaldestination[key] = loc[key];\n    }\n\n    if (finaldestination.slashes === undefined) {\n      finaldestination.slashes = slashes.test(loc.href);\n    }\n  }\n\n  return finaldestination;\n}\n\n/**\n * @typedef ProtocolExtract\n * @type Object\n * @property {String} protocol Protocol matched in the URL, in lowercase.\n * @property {Boolean} slashes `true` if protocol is followed by \"//\", else `false`.\n * @property {String} rest Rest of the URL that is not part of the protocol.\n */\n\n/**\n * Extract protocol information from a URL with/without double slash (\"//\").\n *\n * @param {String} address URL we want to extract from.\n * @return {ProtocolExtract} Extracted information.\n * @private\n */\nfunction extractProtocol(address) {\n  address = trimLeft(address);\n\n  var match = protocolre.exec(address)\n    , protocol = match[1] ? match[1].toLowerCase() : ''\n    , slashes = !!(match[2] && match[2].length >= 2);\n\n  return {\n    protocol: protocol,\n    slashes: slashes,\n    rest: match[3]\n  };\n}\n\n/**\n * Resolve a relative URL pathname against a base URL pathname.\n *\n * @param {String} relative Pathname of the relative URL.\n * @param {String} base Pathname of the base URL.\n * @return {String} Resolved pathname.\n * @private\n */\nfunction resolve(relative, base) {\n  if (relative === '') return base;\n\n  var path = (base || '/').split('/').slice(0, -1).concat(relative.split('/'))\n    , i = path.length\n    , last = path[i - 1]\n    , unshift = false\n    , up = 0;\n\n  while (i--) {\n    if (path[i] === '.') {\n      path.splice(i, 1);\n    } else if (path[i] === '..') {\n      path.splice(i, 1);\n      up++;\n    } else if (up) {\n      if (i === 0) unshift = true;\n      path.splice(i, 1);\n      up--;\n    }\n  }\n\n  if (unshift) path.unshift('');\n  if (last === '.' || last === '..') path.push('');\n\n  return path.join('/');\n}\n\n/**\n * The actual URL instance. Instead of returning an object we've opted-in to\n * create an actual constructor as it's much more memory efficient and\n * faster and it pleases my OCD.\n *\n * It is worth noting that we should not use `URL` as class name to prevent\n * clashes with the global URL instance that got introduced in browsers.\n *\n * @constructor\n * @param {String} address URL we want to parse.\n * @param {Object|String} [location] Location defaults for relative paths.\n * @param {Boolean|Function} [parser] Parser for the query string.\n * @private\n */\nfunction Url(address, location, parser) {\n  address = trimLeft(address);\n\n  if (!(this instanceof Url)) {\n    return new Url(address, location, parser);\n  }\n\n  var relative, extracted, parse, instruction, index, key\n    , instructions = rules.slice()\n    , type = typeof location\n    , url = this\n    , i = 0;\n\n  //\n  // The following if statements allows this module two have compatibility with\n  // 2 different API:\n  //\n  // 1. Node.js's `url.parse` api which accepts a URL, boolean as arguments\n  //    where the boolean indicates that the query string should also be parsed.\n  //\n  // 2. The `URL` interface of the browser which accepts a URL, object as\n  //    arguments. The supplied object will be used as default values / fall-back\n  //    for relative paths.\n  //\n  if ('object' !== type && 'string' !== type) {\n    parser = location;\n    location = null;\n  }\n\n  if (parser && 'function' !== typeof parser) parser = qs.parse;\n\n  location = lolcation(location);\n\n  //\n  // Extract protocol information before running the instructions.\n  //\n  extracted = extractProtocol(address || '');\n  relative = !extracted.protocol && !extracted.slashes;\n  url.slashes = extracted.slashes || relative && location.slashes;\n  url.protocol = extracted.protocol || location.protocol || '';\n  address = extracted.rest;\n\n  //\n  // When the authority component is absent the URL starts with a path\n  // component.\n  //\n  if (!extracted.slashes) instructions[3] = [/(.*)/, 'pathname'];\n\n  for (; i < instructions.length; i++) {\n    instruction = instructions[i];\n\n    if (typeof instruction === 'function') {\n      address = instruction(address);\n      continue;\n    }\n\n    parse = instruction[0];\n    key = instruction[1];\n\n    if (parse !== parse) {\n      url[key] = address;\n    } else if ('string' === typeof parse) {\n      if (~(index = address.indexOf(parse))) {\n        if ('number' === typeof instruction[2]) {\n          url[key] = address.slice(0, index);\n          address = address.slice(index + instruction[2]);\n        } else {\n          url[key] = address.slice(index);\n          address = address.slice(0, index);\n        }\n      }\n    } else if ((index = parse.exec(address))) {\n      url[key] = index[1];\n      address = address.slice(0, index.index);\n    }\n\n    url[key] = url[key] || (\n      relative && instruction[3] ? location[key] || '' : ''\n    );\n\n    //\n    // Hostname, host and protocol should be lowercased so they can be used to\n    // create a proper `origin`.\n    //\n    if (instruction[4]) url[key] = url[key].toLowerCase();\n  }\n\n  //\n  // Also parse the supplied query string in to an object. If we're supplied\n  // with a custom parser as function use that instead of the default build-in\n  // parser.\n  //\n  if (parser) url.query = parser(url.query);\n\n  //\n  // If the URL is relative, resolve the pathname against the base URL.\n  //\n  if (\n      relative\n    && location.slashes\n    && url.pathname.charAt(0) !== '/'\n    && (url.pathname !== '' || location.pathname !== '')\n  ) {\n    url.pathname = resolve(url.pathname, location.pathname);\n  }\n\n  //\n  // Default to a / for pathname if none exists. This normalizes the URL\n  // to always have a /\n  //\n  if (url.pathname.charAt(0) !== '/' && url.hostname) {\n    url.pathname = '/' + url.pathname;\n  }\n\n  //\n  // We should not add port numbers if they are already the default port number\n  // for a given protocol. As the host also contains the port number we're going\n  // override it with the hostname which contains no port number.\n  //\n  if (!required(url.port, url.protocol)) {\n    url.host = url.hostname;\n    url.port = '';\n  }\n\n  //\n  // Parse down the `auth` for the username and password.\n  //\n  url.username = url.password = '';\n  if (url.auth) {\n    instruction = url.auth.split(':');\n    url.username = instruction[0] || '';\n    url.password = instruction[1] || '';\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  //\n  // The href is just the compiled result.\n  //\n  url.href = url.toString();\n}\n\n/**\n * This is convenience method for changing properties in the URL instance to\n * insure that they all propagate correctly.\n *\n * @param {String} part          Property we need to adjust.\n * @param {Mixed} value          The newly assigned value.\n * @param {Boolean|Function} fn  When setting the query, it will be the function\n *                               used to parse the query.\n *                               When setting the protocol, double slash will be\n *                               removed from the final url if it is true.\n * @returns {URL} URL instance for chaining.\n * @public\n */\nfunction set(part, value, fn) {\n  var url = this;\n\n  switch (part) {\n    case 'query':\n      if ('string' === typeof value && value.length) {\n        value = (fn || qs.parse)(value);\n      }\n\n      url[part] = value;\n      break;\n\n    case 'port':\n      url[part] = value;\n\n      if (!required(value, url.protocol)) {\n        url.host = url.hostname;\n        url[part] = '';\n      } else if (value) {\n        url.host = url.hostname +':'+ value;\n      }\n\n      break;\n\n    case 'hostname':\n      url[part] = value;\n\n      if (url.port) value += ':'+ url.port;\n      url.host = value;\n      break;\n\n    case 'host':\n      url[part] = value;\n\n      if (/:\\d+$/.test(value)) {\n        value = value.split(':');\n        url.port = value.pop();\n        url.hostname = value.join(':');\n      } else {\n        url.hostname = value;\n        url.port = '';\n      }\n\n      break;\n\n    case 'protocol':\n      url.protocol = value.toLowerCase();\n      url.slashes = !fn;\n      break;\n\n    case 'pathname':\n    case 'hash':\n      if (value) {\n        var char = part === 'pathname' ? '/' : '#';\n        url[part] = value.charAt(0) !== char ? char + value : value;\n      } else {\n        url[part] = value;\n      }\n      break;\n\n    default:\n      url[part] = value;\n  }\n\n  for (var i = 0; i < rules.length; i++) {\n    var ins = rules[i];\n\n    if (ins[4]) url[ins[1]] = url[ins[1]].toLowerCase();\n  }\n\n  url.origin = url.protocol && url.host && url.protocol !== 'file:'\n    ? url.protocol +'//'+ url.host\n    : 'null';\n\n  url.href = url.toString();\n\n  return url;\n}\n\n/**\n * Transform the properties back in to a valid and full URL string.\n *\n * @param {Function} stringify Optional query stringify function.\n * @returns {String} Compiled version of the URL.\n * @public\n */\nfunction toString(stringify) {\n  if (!stringify || 'function' !== typeof stringify) stringify = qs.stringify;\n\n  var query\n    , url = this\n    , protocol = url.protocol;\n\n  if (protocol && protocol.charAt(protocol.length - 1) !== ':') protocol += ':';\n\n  var result = protocol + (url.slashes ? '//' : '');\n\n  if (url.username) {\n    result += url.username;\n    if (url.password) result += ':'+ url.password;\n    result += '@';\n  }\n\n  result += url.host + url.pathname;\n\n  query = 'object' === typeof url.query ? stringify(url.query) : url.query;\n  if (query) result += '?' !== query.charAt(0) ? '?'+ query : query;\n\n  if (url.hash) result += url.hash;\n\n  return result;\n}\n\nUrl.prototype = { set: set, toString: toString };\n\n//\n// Expose the URL parser and some additional properties that might be useful for\n// others or testing.\n//\nUrl.extractProtocol = extractProtocol;\nUrl.location = lolcation;\nUrl.trimLeft = trimLeft;\nUrl.qs = qs;\n\nmodule.exports = Url;\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.anchor` method\n// https://tc39.es/ecma262/#sec-string.prototype.anchor\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('anchor') }, {\n  anchor: function anchor(name) {\n    return createHTML(this, 'a', 'name', name);\n  }\n});\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","import Vue, { VueConstructor } from 'vue'\n\nexport type Proxyable<T extends string = 'value'> = VueConstructor<Vue & {\n  internalLazyValue: unknown\n  internalValue: unknown\n} & Record<T, any>>\n\nexport function factory<T extends string = 'value'> (prop?: T, event?: string): Proxyable<T>\nexport function factory (\n  prop = 'value',\n  event = 'change'\n) {\n  return Vue.extend({\n    name: 'proxyable',\n\n    model: {\n      prop,\n      event,\n    },\n\n    props: {\n      [prop]: {\n        required: false,\n      },\n    },\n\n    data () {\n      return {\n        internalLazyValue: this[prop] as unknown,\n      }\n    },\n\n    computed: {\n      internalValue: {\n        get (): unknown {\n          return this.internalLazyValue\n        },\n        set (val: any) {\n          if (val === this.internalLazyValue) return\n\n          this.internalLazyValue = val\n\n          this.$emit(event, val)\n        },\n      },\n    },\n\n    watch: {\n      [prop] (val) {\n        this.internalLazyValue = val\n      },\n    },\n  })\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-redeclare */\nconst Proxyable = factory()\n\nexport default Proxyable\n","// Styles\nimport './VItemGroup.sass'\n\n// Mixins\nimport Groupable from '../../mixins/groupable'\nimport Proxyable from '../../mixins/proxyable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { consoleWarn } from '../../util/console'\n\n// Types\nimport { VNode } from 'vue/types'\n\nexport type GroupableInstance = InstanceType<typeof Groupable> & {\n  id?: string\n  to?: any\n  value?: any\n }\n\nexport const BaseItemGroup = mixins(\n  Proxyable,\n  Themeable\n).extend({\n  name: 'base-item-group',\n\n  props: {\n    activeClass: {\n      type: String,\n      default: 'v-item--active',\n    },\n    mandatory: Boolean,\n    max: {\n      type: [Number, String],\n      default: null,\n    },\n    multiple: Boolean,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n\n  data () {\n    return {\n      // As long as a value is defined, show it\n      // Otherwise, check if multiple\n      // to determine which default to provide\n      internalLazyValue: this.value !== undefined\n        ? this.value\n        : this.multiple ? [] : undefined,\n      items: [] as GroupableInstance[],\n    }\n  },\n\n  computed: {\n    classes (): Record<string, boolean> {\n      return {\n        'v-item-group': true,\n        ...this.themeClasses,\n      }\n    },\n    selectedIndex (): number {\n      return (this.selectedItem && this.items.indexOf(this.selectedItem)) || -1\n    },\n    selectedItem (): GroupableInstance | undefined {\n      if (this.multiple) return undefined\n\n      return this.selectedItems[0]\n    },\n    selectedItems (): GroupableInstance[] {\n      return this.items.filter((item, index) => {\n        return this.toggleMethod(this.getValue(item, index))\n      })\n    },\n    selectedValues (): any[] {\n      if (this.internalValue == null) return []\n\n      return Array.isArray(this.internalValue)\n        ? this.internalValue\n        : [this.internalValue]\n    },\n    toggleMethod (): (v: any) => boolean {\n      if (!this.multiple) {\n        return (v: any) => this.internalValue === v\n      }\n\n      const internalValue = this.internalValue\n      if (Array.isArray(internalValue)) {\n        return (v: any) => internalValue.includes(v)\n      }\n\n      return () => false\n    },\n  },\n\n  watch: {\n    internalValue: 'updateItemsState',\n    items: 'updateItemsState',\n  },\n\n  created () {\n    if (this.multiple && !Array.isArray(this.internalValue)) {\n      consoleWarn('Model must be bound to an array if the multiple property is true.', this)\n    }\n  },\n\n  methods: {\n\n    genData (): object {\n      return {\n        class: this.classes,\n      }\n    },\n    getValue (item: GroupableInstance, i: number): unknown {\n      return item.value == null || item.value === ''\n        ? i\n        : item.value\n    },\n    onClick (item: GroupableInstance) {\n      this.updateInternalValue(\n        this.getValue(item, this.items.indexOf(item))\n      )\n    },\n    register (item: GroupableInstance) {\n      const index = this.items.push(item) - 1\n\n      item.$on('change', () => this.onClick(item))\n\n      // If no value provided and mandatory,\n      // assign first registered item\n      if (this.mandatory && !this.selectedValues.length) {\n        this.updateMandatory()\n      }\n\n      this.updateItem(item, index)\n    },\n    unregister (item: GroupableInstance) {\n      if (this._isDestroyed) return\n\n      const index = this.items.indexOf(item)\n      const value = this.getValue(item, index)\n\n      this.items.splice(index, 1)\n\n      const valueIndex = this.selectedValues.indexOf(value)\n\n      // Items is not selected, do nothing\n      if (valueIndex < 0) return\n\n      // If not mandatory, use regular update process\n      if (!this.mandatory) {\n        return this.updateInternalValue(value)\n      }\n\n      // Remove the value\n      if (this.multiple && Array.isArray(this.internalValue)) {\n        this.internalValue = this.internalValue.filter(v => v !== value)\n      } else {\n        this.internalValue = undefined\n      }\n\n      // If mandatory and we have no selection\n      // add the last item as value\n      /* istanbul ignore else */\n      if (!this.selectedItems.length) {\n        this.updateMandatory(true)\n      }\n    },\n    updateItem (item: GroupableInstance, index: number) {\n      const value = this.getValue(item, index)\n\n      item.isActive = this.toggleMethod(value)\n    },\n    // https://github.com/vuetifyjs/vuetify/issues/5352\n    updateItemsState () {\n      this.$nextTick(() => {\n        if (this.mandatory &&\n          !this.selectedItems.length\n        ) {\n          return this.updateMandatory()\n        }\n\n        // TODO: Make this smarter so it\n        // doesn't have to iterate every\n        // child in an update\n        this.items.forEach(this.updateItem)\n      })\n    },\n    updateInternalValue (value: any) {\n      this.multiple\n        ? this.updateMultiple(value)\n        : this.updateSingle(value)\n    },\n    updateMandatory (last?: boolean) {\n      if (!this.items.length) return\n\n      const items = this.items.slice()\n\n      if (last) items.reverse()\n\n      const item = items.find(item => !item.disabled)\n\n      // If no tabs are available\n      // aborts mandatory value\n      if (!item) return\n\n      const index = this.items.indexOf(item)\n\n      this.updateInternalValue(\n        this.getValue(item, index)\n      )\n    },\n    updateMultiple (value: any) {\n      const defaultValue = Array.isArray(this.internalValue)\n        ? this.internalValue\n        : []\n      const internalValue = defaultValue.slice()\n      const index = internalValue.findIndex(val => val === value)\n\n      if (\n        this.mandatory &&\n        // Item already exists\n        index > -1 &&\n        // value would be reduced below min\n        internalValue.length - 1 < 1\n      ) return\n\n      if (\n        // Max is set\n        this.max != null &&\n        // Item doesn't exist\n        index < 0 &&\n        // value would be increased above max\n        internalValue.length + 1 > this.max\n      ) return\n\n      index > -1\n        ? internalValue.splice(index, 1)\n        : internalValue.push(value)\n\n      this.internalValue = internalValue\n    },\n    updateSingle (value: any) {\n      const isSame = value === this.internalValue\n\n      if (this.mandatory && isSame) return\n\n      this.internalValue = isSame ? undefined : value\n    },\n  },\n\n  render (h): VNode {\n    return h(this.tag, this.genData(), this.$slots.default)\n  },\n})\n\nexport default BaseItemGroup.extend({\n  name: 'v-item-group',\n\n  provide (): object {\n    return {\n      itemGroup: this,\n    }\n  },\n})\n","// Styles\nimport './VListItemGroup.sass'\n\n// Extensions\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\nexport default mixins(\n  BaseItemGroup,\n  Colorable\n).extend({\n  name: 'v-list-item-group',\n\n  provide () {\n    return {\n      isInGroup: true,\n      listItemGroup: this,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-list-item-group': true,\n      }\n    },\n  },\n\n  methods: {\n    genData (): object {\n      return this.setTextColor(this.color, {\n        ...BaseItemGroup.options.methods.genData.call(this),\n        attrs: {\n          role: 'listbox',\n        },\n      })\n    },\n  },\n})\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// Helpers\nimport { convertToUnit } from '../../util/helpers'\n\n// Types\nimport Vue, { PropType } from 'vue'\n\nexport type NumberOrNumberString = PropType<string | number | undefined>\n\nexport default Vue.extend({\n  name: 'measurable',\n\n  props: {\n    height: [Number, String] as NumberOrNumberString,\n    maxHeight: [Number, String] as NumberOrNumberString,\n    maxWidth: [Number, String] as NumberOrNumberString,\n    minHeight: [Number, String] as NumberOrNumberString,\n    minWidth: [Number, String] as NumberOrNumberString,\n    width: [Number, String] as NumberOrNumberString,\n  },\n\n  computed: {\n    measurableStyles (): object {\n      const styles: Record<string, string> = {}\n\n      const height = convertToUnit(this.height)\n      const minHeight = convertToUnit(this.minHeight)\n      const minWidth = convertToUnit(this.minWidth)\n      const maxHeight = convertToUnit(this.maxHeight)\n      const maxWidth = convertToUnit(this.maxWidth)\n      const width = convertToUnit(this.width)\n\n      if (height) styles.height = height\n      if (minHeight) styles.minHeight = minHeight\n      if (minWidth) styles.minWidth = minWidth\n      if (maxHeight) styles.maxHeight = maxHeight\n      if (maxWidth) styles.maxWidth = maxWidth\n      if (width) styles.width = width\n\n      return styles\n    },\n  },\n})\n","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n\nvar crypto = require('crypto');\n\n// This string has length 32, a power of 2, so the modulus doesn't introduce a\n// bias.\nvar _randomStringChars = 'abcdefghijklmnopqrstuvwxyz012345';\nmodule.exports = {\n  string: function(length) {\n    var max = _randomStringChars.length;\n    var bytes = crypto.randomBytes(length);\n    var ret = [];\n    for (var i = 0; i < length; i++) {\n      ret.push(_randomStringChars.substr(bytes[i] % max, 1));\n    }\n    return ret.join('');\n  }\n\n, number: function(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n, numberString: function(max) {\n    var t = ('' + (max - 1)).length;\n    var p = new Array(t + 1).join('0');\n    return (p + this.number(max)).slice(-t);\n  }\n};\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function installDirectives (component, directives) {\n  var options = typeof component.exports === 'function'\n    ? component.exports.extendOptions\n    : component.options\n\n  if (typeof component.exports === 'function') {\n    options.directives = component.exports.options.directives\n  }\n\n  options.directives = options.directives || {}\n\n  for (var i in directives) {\n    options.directives[i] = options.directives[i] || directives[i]\n  }\n}\n","'use strict';\n\nmodule.exports = {\n  isOpera: function() {\n    return global.navigator &&\n      /opera/i.test(global.navigator.userAgent);\n  }\n\n, isKonqueror: function() {\n    return global.navigator &&\n      /konqueror/i.test(global.navigator.userAgent);\n  }\n\n  // #187 wrap document.domain in try/catch because of WP8 from file:///\n, hasDomain: function () {\n    // non-browser client always has a domain\n    if (!global.document) {\n      return true;\n    }\n\n    try {\n      return !!global.document.domain;\n    } catch (e) {\n      return false;\n    }\n  }\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , IframeTransport = require('../iframe')\n  , objectUtils = require('../../utils/object')\n  ;\n\nmodule.exports = function(transport) {\n\n  function IframeWrapTransport(transUrl, baseUrl) {\n    IframeTransport.call(this, transport.transportName, transUrl, baseUrl);\n  }\n\n  inherits(IframeWrapTransport, IframeTransport);\n\n  IframeWrapTransport.enabled = function(url, info) {\n    if (!global.document) {\n      return false;\n    }\n\n    var iframeInfo = objectUtils.extend({}, info);\n    iframeInfo.sameOrigin = true;\n    return transport.enabled(iframeInfo) && IframeTransport.enabled();\n  };\n\n  IframeWrapTransport.transportName = 'iframe-' + transport.transportName;\n  IframeWrapTransport.needBody = true;\n  IframeWrapTransport.roundTrips = IframeTransport.roundTrips + transport.roundTrips - 1; // html, javascript (2) + transport - no CORS (1)\n\n  IframeWrapTransport.facadeTransport = transport;\n\n  return IframeWrapTransport;\n};\n","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","/*!\n * Vue.js v2.6.12\n * (c) 2014-2020 Evan You\n * Released under the MIT License.\n */\n/*  */\n\nvar emptyObject = Object.freeze({});\n\n// These helpers produce better VM code in JS engines due to their\n// explicitness and function inlining.\nfunction isUndef (v) {\n  return v === undefined || v === null\n}\n\nfunction isDef (v) {\n  return v !== undefined && v !== null\n}\n\nfunction isTrue (v) {\n  return v === true\n}\n\nfunction isFalse (v) {\n  return v === false\n}\n\n/**\n * Check if value is primitive.\n */\nfunction isPrimitive (value) {\n  return (\n    typeof value === 'string' ||\n    typeof value === 'number' ||\n    // $flow-disable-line\n    typeof value === 'symbol' ||\n    typeof value === 'boolean'\n  )\n}\n\n/**\n * Quick object check - this is primarily used to tell\n * Objects from primitive values when we know the value\n * is a JSON-compliant type.\n */\nfunction isObject (obj) {\n  return obj !== null && typeof obj === 'object'\n}\n\n/**\n * Get the raw type string of a value, e.g., [object Object].\n */\nvar _toString = Object.prototype.toString;\n\nfunction toRawType (value) {\n  return _toString.call(value).slice(8, -1)\n}\n\n/**\n * Strict object type check. Only returns true\n * for plain JavaScript objects.\n */\nfunction isPlainObject (obj) {\n  return _toString.call(obj) === '[object Object]'\n}\n\nfunction isRegExp (v) {\n  return _toString.call(v) === '[object RegExp]'\n}\n\n/**\n * Check if val is a valid array index.\n */\nfunction isValidArrayIndex (val) {\n  var n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val)\n}\n\nfunction isPromise (val) {\n  return (\n    isDef(val) &&\n    typeof val.then === 'function' &&\n    typeof val.catch === 'function'\n  )\n}\n\n/**\n * Convert a value to a string that is actually rendered.\n */\nfunction toString (val) {\n  return val == null\n    ? ''\n    : Array.isArray(val) || (isPlainObject(val) && val.toString === _toString)\n      ? JSON.stringify(val, null, 2)\n      : String(val)\n}\n\n/**\n * Convert an input value to a number for persistence.\n * If the conversion fails, return original string.\n */\nfunction toNumber (val) {\n  var n = parseFloat(val);\n  return isNaN(n) ? val : n\n}\n\n/**\n * Make a map and return a function for checking if a key\n * is in that map.\n */\nfunction makeMap (\n  str,\n  expectsLowerCase\n) {\n  var map = Object.create(null);\n  var list = str.split(',');\n  for (var i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase\n    ? function (val) { return map[val.toLowerCase()]; }\n    : function (val) { return map[val]; }\n}\n\n/**\n * Check if a tag is a built-in tag.\n */\nvar isBuiltInTag = makeMap('slot,component', true);\n\n/**\n * Check if an attribute is a reserved attribute.\n */\nvar isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');\n\n/**\n * Remove an item from an array.\n */\nfunction remove (arr, item) {\n  if (arr.length) {\n    var index = arr.indexOf(item);\n    if (index > -1) {\n      return arr.splice(index, 1)\n    }\n  }\n}\n\n/**\n * Check whether an object has the property.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn (obj, key) {\n  return hasOwnProperty.call(obj, key)\n}\n\n/**\n * Create a cached version of a pure function.\n */\nfunction cached (fn) {\n  var cache = Object.create(null);\n  return (function cachedFn (str) {\n    var hit = cache[str];\n    return hit || (cache[str] = fn(str))\n  })\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cached(function (str) {\n  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })\n});\n\n/**\n * Capitalize a string.\n */\nvar capitalize = cached(function (str) {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n});\n\n/**\n * Hyphenate a camelCase string.\n */\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cached(function (str) {\n  return str.replace(hyphenateRE, '-$1').toLowerCase()\n});\n\n/**\n * Simple bind polyfill for environments that do not support it,\n * e.g., PhantomJS 1.x. Technically, we don't need this anymore\n * since native bind is now performant enough in most browsers.\n * But removing it would mean breaking code that was able to run in\n * PhantomJS 1.x, so this must be kept for backward compatibility.\n */\n\n/* istanbul ignore next */\nfunction polyfillBind (fn, ctx) {\n  function boundFn (a) {\n    var l = arguments.length;\n    return l\n      ? l > 1\n        ? fn.apply(ctx, arguments)\n        : fn.call(ctx, a)\n      : fn.call(ctx)\n  }\n\n  boundFn._length = fn.length;\n  return boundFn\n}\n\nfunction nativeBind (fn, ctx) {\n  return fn.bind(ctx)\n}\n\nvar bind = Function.prototype.bind\n  ? nativeBind\n  : polyfillBind;\n\n/**\n * Convert an Array-like object to a real Array.\n */\nfunction toArray (list, start) {\n  start = start || 0;\n  var i = list.length - start;\n  var ret = new Array(i);\n  while (i--) {\n    ret[i] = list[i + start];\n  }\n  return ret\n}\n\n/**\n * Mix properties into target object.\n */\nfunction extend (to, _from) {\n  for (var key in _from) {\n    to[key] = _from[key];\n  }\n  return to\n}\n\n/**\n * Merge an Array of Objects into a single Object.\n */\nfunction toObject (arr) {\n  var res = {};\n  for (var i = 0; i < arr.length; i++) {\n    if (arr[i]) {\n      extend(res, arr[i]);\n    }\n  }\n  return res\n}\n\n/* eslint-disable no-unused-vars */\n\n/**\n * Perform no operation.\n * Stubbing args to make Flow happy without leaving useless transpiled code\n * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).\n */\nfunction noop (a, b, c) {}\n\n/**\n * Always return false.\n */\nvar no = function (a, b, c) { return false; };\n\n/* eslint-enable no-unused-vars */\n\n/**\n * Return the same value.\n */\nvar identity = function (_) { return _; };\n\n/**\n * Check if two values are loosely equal - that is,\n * if they are plain objects, do they have the same shape?\n */\nfunction looseEqual (a, b) {\n  if (a === b) { return true }\n  var isObjectA = isObject(a);\n  var isObjectB = isObject(b);\n  if (isObjectA && isObjectB) {\n    try {\n      var isArrayA = Array.isArray(a);\n      var isArrayB = Array.isArray(b);\n      if (isArrayA && isArrayB) {\n        return a.length === b.length && a.every(function (e, i) {\n          return looseEqual(e, b[i])\n        })\n      } else if (a instanceof Date && b instanceof Date) {\n        return a.getTime() === b.getTime()\n      } else if (!isArrayA && !isArrayB) {\n        var keysA = Object.keys(a);\n        var keysB = Object.keys(b);\n        return keysA.length === keysB.length && keysA.every(function (key) {\n          return looseEqual(a[key], b[key])\n        })\n      } else {\n        /* istanbul ignore next */\n        return false\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      return false\n    }\n  } else if (!isObjectA && !isObjectB) {\n    return String(a) === String(b)\n  } else {\n    return false\n  }\n}\n\n/**\n * Return the first index at which a loosely equal value can be\n * found in the array (if value is a plain object, the array must\n * contain an object of the same shape), or -1 if it is not present.\n */\nfunction looseIndexOf (arr, val) {\n  for (var i = 0; i < arr.length; i++) {\n    if (looseEqual(arr[i], val)) { return i }\n  }\n  return -1\n}\n\n/**\n * Ensure a function is called only once.\n */\nfunction once (fn) {\n  var called = false;\n  return function () {\n    if (!called) {\n      called = true;\n      fn.apply(this, arguments);\n    }\n  }\n}\n\nvar SSR_ATTR = 'data-server-rendered';\n\nvar ASSET_TYPES = [\n  'component',\n  'directive',\n  'filter'\n];\n\nvar LIFECYCLE_HOOKS = [\n  'beforeCreate',\n  'created',\n  'beforeMount',\n  'mounted',\n  'beforeUpdate',\n  'updated',\n  'beforeDestroy',\n  'destroyed',\n  'activated',\n  'deactivated',\n  'errorCaptured',\n  'serverPrefetch'\n];\n\n/*  */\n\n\n\nvar config = ({\n  /**\n   * Option merge strategies (used in core/util/options)\n   */\n  // $flow-disable-line\n  optionMergeStrategies: Object.create(null),\n\n  /**\n   * Whether to suppress warnings.\n   */\n  silent: false,\n\n  /**\n   * Show production mode tip message on boot?\n   */\n  productionTip: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to enable devtools\n   */\n  devtools: process.env.NODE_ENV !== 'production',\n\n  /**\n   * Whether to record perf\n   */\n  performance: false,\n\n  /**\n   * Error handler for watcher errors\n   */\n  errorHandler: null,\n\n  /**\n   * Warn handler for watcher warns\n   */\n  warnHandler: null,\n\n  /**\n   * Ignore certain custom elements\n   */\n  ignoredElements: [],\n\n  /**\n   * Custom user key aliases for v-on\n   */\n  // $flow-disable-line\n  keyCodes: Object.create(null),\n\n  /**\n   * Check if a tag is reserved so that it cannot be registered as a\n   * component. This is platform-dependent and may be overwritten.\n   */\n  isReservedTag: no,\n\n  /**\n   * Check if an attribute is reserved so that it cannot be used as a component\n   * prop. This is platform-dependent and may be overwritten.\n   */\n  isReservedAttr: no,\n\n  /**\n   * Check if a tag is an unknown element.\n   * Platform-dependent.\n   */\n  isUnknownElement: no,\n\n  /**\n   * Get the namespace of an element\n   */\n  getTagNamespace: noop,\n\n  /**\n   * Parse the real tag name for the specific platform.\n   */\n  parsePlatformTagName: identity,\n\n  /**\n   * Check if an attribute must be bound using property, e.g. value\n   * Platform-dependent.\n   */\n  mustUseProp: no,\n\n  /**\n   * Perform updates asynchronously. Intended to be used by Vue Test Utils\n   * This will significantly reduce performance if set to false.\n   */\n  async: true,\n\n  /**\n   * Exposed for legacy reasons\n   */\n  _lifecycleHooks: LIFECYCLE_HOOKS\n});\n\n/*  */\n\n/**\n * unicode letters used for parsing html tags, component names and property paths.\n * using https://www.w3.org/TR/html53/semantics-scripting.html#potentialcustomelementname\n * skipping \\u10000-\\uEFFFF due to it freezing up PhantomJS\n */\nvar unicodeRegExp = /a-zA-Z\\u00B7\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u203F-\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD/;\n\n/**\n * Check if a string starts with $ or _\n */\nfunction isReserved (str) {\n  var c = (str + '').charCodeAt(0);\n  return c === 0x24 || c === 0x5F\n}\n\n/**\n * Define a property.\n */\nfunction def (obj, key, val, enumerable) {\n  Object.defineProperty(obj, key, {\n    value: val,\n    enumerable: !!enumerable,\n    writable: true,\n    configurable: true\n  });\n}\n\n/**\n * Parse simple path.\n */\nvar bailRE = new RegExp((\"[^\" + (unicodeRegExp.source) + \".$_\\\\d]\"));\nfunction parsePath (path) {\n  if (bailRE.test(path)) {\n    return\n  }\n  var segments = path.split('.');\n  return function (obj) {\n    for (var i = 0; i < segments.length; i++) {\n      if (!obj) { return }\n      obj = obj[segments[i]];\n    }\n    return obj\n  }\n}\n\n/*  */\n\n// can we use __proto__?\nvar hasProto = '__proto__' in {};\n\n// Browser environment sniffing\nvar inBrowser = typeof window !== 'undefined';\nvar inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;\nvar weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();\nvar UA = inBrowser && window.navigator.userAgent.toLowerCase();\nvar isIE = UA && /msie|trident/.test(UA);\nvar isIE9 = UA && UA.indexOf('msie 9.0') > 0;\nvar isEdge = UA && UA.indexOf('edge/') > 0;\nvar isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');\nvar isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');\nvar isChrome = UA && /chrome\\/\\d+/.test(UA) && !isEdge;\nvar isPhantomJS = UA && /phantomjs/.test(UA);\nvar isFF = UA && UA.match(/firefox\\/(\\d+)/);\n\n// Firefox has a \"watch\" function on Object.prototype...\nvar nativeWatch = ({}).watch;\n\nvar supportsPassive = false;\nif (inBrowser) {\n  try {\n    var opts = {};\n    Object.defineProperty(opts, 'passive', ({\n      get: function get () {\n        /* istanbul ignore next */\n        supportsPassive = true;\n      }\n    })); // https://github.com/facebook/flow/issues/285\n    window.addEventListener('test-passive', null, opts);\n  } catch (e) {}\n}\n\n// this needs to be lazy-evaled because vue may be required before\n// vue-server-renderer can set VUE_ENV\nvar _isServer;\nvar isServerRendering = function () {\n  if (_isServer === undefined) {\n    /* istanbul ignore if */\n    if (!inBrowser && !inWeex && typeof global !== 'undefined') {\n      // detect presence of vue-server-renderer and avoid\n      // Webpack shimming the process\n      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';\n    } else {\n      _isServer = false;\n    }\n  }\n  return _isServer\n};\n\n// detect devtools\nvar devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;\n\n/* istanbul ignore next */\nfunction isNative (Ctor) {\n  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())\n}\n\nvar hasSymbol =\n  typeof Symbol !== 'undefined' && isNative(Symbol) &&\n  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);\n\nvar _Set;\n/* istanbul ignore if */ // $flow-disable-line\nif (typeof Set !== 'undefined' && isNative(Set)) {\n  // use native Set when available.\n  _Set = Set;\n} else {\n  // a non-standard Set polyfill that only works with primitive keys.\n  _Set = /*@__PURE__*/(function () {\n    function Set () {\n      this.set = Object.create(null);\n    }\n    Set.prototype.has = function has (key) {\n      return this.set[key] === true\n    };\n    Set.prototype.add = function add (key) {\n      this.set[key] = true;\n    };\n    Set.prototype.clear = function clear () {\n      this.set = Object.create(null);\n    };\n\n    return Set;\n  }());\n}\n\n/*  */\n\nvar warn = noop;\nvar tip = noop;\nvar generateComponentTrace = (noop); // work around flow check\nvar formatComponentName = (noop);\n\nif (process.env.NODE_ENV !== 'production') {\n  var hasConsole = typeof console !== 'undefined';\n  var classifyRE = /(?:^|[-_])(\\w)/g;\n  var classify = function (str) { return str\n    .replace(classifyRE, function (c) { return c.toUpperCase(); })\n    .replace(/[-_]/g, ''); };\n\n  warn = function (msg, vm) {\n    var trace = vm ? generateComponentTrace(vm) : '';\n\n    if (config.warnHandler) {\n      config.warnHandler.call(null, msg, vm, trace);\n    } else if (hasConsole && (!config.silent)) {\n      console.error((\"[Vue warn]: \" + msg + trace));\n    }\n  };\n\n  tip = function (msg, vm) {\n    if (hasConsole && (!config.silent)) {\n      console.warn(\"[Vue tip]: \" + msg + (\n        vm ? generateComponentTrace(vm) : ''\n      ));\n    }\n  };\n\n  formatComponentName = function (vm, includeFile) {\n    if (vm.$root === vm) {\n      return '<Root>'\n    }\n    var options = typeof vm === 'function' && vm.cid != null\n      ? vm.options\n      : vm._isVue\n        ? vm.$options || vm.constructor.options\n        : vm;\n    var name = options.name || options._componentTag;\n    var file = options.__file;\n    if (!name && file) {\n      var match = file.match(/([^/\\\\]+)\\.vue$/);\n      name = match && match[1];\n    }\n\n    return (\n      (name ? (\"<\" + (classify(name)) + \">\") : \"<Anonymous>\") +\n      (file && includeFile !== false ? (\" at \" + file) : '')\n    )\n  };\n\n  var repeat = function (str, n) {\n    var res = '';\n    while (n) {\n      if (n % 2 === 1) { res += str; }\n      if (n > 1) { str += str; }\n      n >>= 1;\n    }\n    return res\n  };\n\n  generateComponentTrace = function (vm) {\n    if (vm._isVue && vm.$parent) {\n      var tree = [];\n      var currentRecursiveSequence = 0;\n      while (vm) {\n        if (tree.length > 0) {\n          var last = tree[tree.length - 1];\n          if (last.constructor === vm.constructor) {\n            currentRecursiveSequence++;\n            vm = vm.$parent;\n            continue\n          } else if (currentRecursiveSequence > 0) {\n            tree[tree.length - 1] = [last, currentRecursiveSequence];\n            currentRecursiveSequence = 0;\n          }\n        }\n        tree.push(vm);\n        vm = vm.$parent;\n      }\n      return '\\n\\nfound in\\n\\n' + tree\n        .map(function (vm, i) { return (\"\" + (i === 0 ? '---> ' : repeat(' ', 5 + i * 2)) + (Array.isArray(vm)\n            ? ((formatComponentName(vm[0])) + \"... (\" + (vm[1]) + \" recursive calls)\")\n            : formatComponentName(vm))); })\n        .join('\\n')\n    } else {\n      return (\"\\n\\n(found in \" + (formatComponentName(vm)) + \")\")\n    }\n  };\n}\n\n/*  */\n\nvar uid = 0;\n\n/**\n * A dep is an observable that can have multiple\n * directives subscribing to it.\n */\nvar Dep = function Dep () {\n  this.id = uid++;\n  this.subs = [];\n};\n\nDep.prototype.addSub = function addSub (sub) {\n  this.subs.push(sub);\n};\n\nDep.prototype.removeSub = function removeSub (sub) {\n  remove(this.subs, sub);\n};\n\nDep.prototype.depend = function depend () {\n  if (Dep.target) {\n    Dep.target.addDep(this);\n  }\n};\n\nDep.prototype.notify = function notify () {\n  // stabilize the subscriber list first\n  var subs = this.subs.slice();\n  if (process.env.NODE_ENV !== 'production' && !config.async) {\n    // subs aren't sorted in scheduler if not running async\n    // we need to sort them now to make sure they fire in correct\n    // order\n    subs.sort(function (a, b) { return a.id - b.id; });\n  }\n  for (var i = 0, l = subs.length; i < l; i++) {\n    subs[i].update();\n  }\n};\n\n// The current target watcher being evaluated.\n// This is globally unique because only one watcher\n// can be evaluated at a time.\nDep.target = null;\nvar targetStack = [];\n\nfunction pushTarget (target) {\n  targetStack.push(target);\n  Dep.target = target;\n}\n\nfunction popTarget () {\n  targetStack.pop();\n  Dep.target = targetStack[targetStack.length - 1];\n}\n\n/*  */\n\nvar VNode = function VNode (\n  tag,\n  data,\n  children,\n  text,\n  elm,\n  context,\n  componentOptions,\n  asyncFactory\n) {\n  this.tag = tag;\n  this.data = data;\n  this.children = children;\n  this.text = text;\n  this.elm = elm;\n  this.ns = undefined;\n  this.context = context;\n  this.fnContext = undefined;\n  this.fnOptions = undefined;\n  this.fnScopeId = undefined;\n  this.key = data && data.key;\n  this.componentOptions = componentOptions;\n  this.componentInstance = undefined;\n  this.parent = undefined;\n  this.raw = false;\n  this.isStatic = false;\n  this.isRootInsert = true;\n  this.isComment = false;\n  this.isCloned = false;\n  this.isOnce = false;\n  this.asyncFactory = asyncFactory;\n  this.asyncMeta = undefined;\n  this.isAsyncPlaceholder = false;\n};\n\nvar prototypeAccessors = { child: { configurable: true } };\n\n// DEPRECATED: alias for componentInstance for backwards compat.\n/* istanbul ignore next */\nprototypeAccessors.child.get = function () {\n  return this.componentInstance\n};\n\nObject.defineProperties( VNode.prototype, prototypeAccessors );\n\nvar createEmptyVNode = function (text) {\n  if ( text === void 0 ) text = '';\n\n  var node = new VNode();\n  node.text = text;\n  node.isComment = true;\n  return node\n};\n\nfunction createTextVNode (val) {\n  return new VNode(undefined, undefined, undefined, String(val))\n}\n\n// optimized shallow clone\n// used for static nodes and slot nodes because they may be reused across\n// multiple renders, cloning them avoids errors when DOM manipulations rely\n// on their elm reference.\nfunction cloneVNode (vnode) {\n  var cloned = new VNode(\n    vnode.tag,\n    vnode.data,\n    // #7975\n    // clone children array to avoid mutating original in case of cloning\n    // a child.\n    vnode.children && vnode.children.slice(),\n    vnode.text,\n    vnode.elm,\n    vnode.context,\n    vnode.componentOptions,\n    vnode.asyncFactory\n  );\n  cloned.ns = vnode.ns;\n  cloned.isStatic = vnode.isStatic;\n  cloned.key = vnode.key;\n  cloned.isComment = vnode.isComment;\n  cloned.fnContext = vnode.fnContext;\n  cloned.fnOptions = vnode.fnOptions;\n  cloned.fnScopeId = vnode.fnScopeId;\n  cloned.asyncMeta = vnode.asyncMeta;\n  cloned.isCloned = true;\n  return cloned\n}\n\n/*\n * not type checking this file because flow doesn't play well with\n * dynamically accessing methods on Array prototype\n */\n\nvar arrayProto = Array.prototype;\nvar arrayMethods = Object.create(arrayProto);\n\nvar methodsToPatch = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'splice',\n  'sort',\n  'reverse'\n];\n\n/**\n * Intercept mutating methods and emit events\n */\nmethodsToPatch.forEach(function (method) {\n  // cache original method\n  var original = arrayProto[method];\n  def(arrayMethods, method, function mutator () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var result = original.apply(this, args);\n    var ob = this.__ob__;\n    var inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break\n      case 'splice':\n        inserted = args.slice(2);\n        break\n    }\n    if (inserted) { ob.observeArray(inserted); }\n    // notify change\n    ob.dep.notify();\n    return result\n  });\n});\n\n/*  */\n\nvar arrayKeys = Object.getOwnPropertyNames(arrayMethods);\n\n/**\n * In some cases we may want to disable observation inside a component's\n * update computation.\n */\nvar shouldObserve = true;\n\nfunction toggleObserving (value) {\n  shouldObserve = value;\n}\n\n/**\n * Observer class that is attached to each observed\n * object. Once attached, the observer converts the target\n * object's property keys into getter/setters that\n * collect dependencies and dispatch updates.\n */\nvar Observer = function Observer (value) {\n  this.value = value;\n  this.dep = new Dep();\n  this.vmCount = 0;\n  def(value, '__ob__', this);\n  if (Array.isArray(value)) {\n    if (hasProto) {\n      protoAugment(value, arrayMethods);\n    } else {\n      copyAugment(value, arrayMethods, arrayKeys);\n    }\n    this.observeArray(value);\n  } else {\n    this.walk(value);\n  }\n};\n\n/**\n * Walk through all properties and convert them into\n * getter/setters. This method should only be called when\n * value type is Object.\n */\nObserver.prototype.walk = function walk (obj) {\n  var keys = Object.keys(obj);\n  for (var i = 0; i < keys.length; i++) {\n    defineReactive$$1(obj, keys[i]);\n  }\n};\n\n/**\n * Observe a list of Array items.\n */\nObserver.prototype.observeArray = function observeArray (items) {\n  for (var i = 0, l = items.length; i < l; i++) {\n    observe(items[i]);\n  }\n};\n\n// helpers\n\n/**\n * Augment a target Object or Array by intercepting\n * the prototype chain using __proto__\n */\nfunction protoAugment (target, src) {\n  /* eslint-disable no-proto */\n  target.__proto__ = src;\n  /* eslint-enable no-proto */\n}\n\n/**\n * Augment a target Object or Array by defining\n * hidden properties.\n */\n/* istanbul ignore next */\nfunction copyAugment (target, src, keys) {\n  for (var i = 0, l = keys.length; i < l; i++) {\n    var key = keys[i];\n    def(target, key, src[key]);\n  }\n}\n\n/**\n * Attempt to create an observer instance for a value,\n * returns the new observer if successfully observed,\n * or the existing observer if the value already has one.\n */\nfunction observe (value, asRootData) {\n  if (!isObject(value) || value instanceof VNode) {\n    return\n  }\n  var ob;\n  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {\n    ob = value.__ob__;\n  } else if (\n    shouldObserve &&\n    !isServerRendering() &&\n    (Array.isArray(value) || isPlainObject(value)) &&\n    Object.isExtensible(value) &&\n    !value._isVue\n  ) {\n    ob = new Observer(value);\n  }\n  if (asRootData && ob) {\n    ob.vmCount++;\n  }\n  return ob\n}\n\n/**\n * Define a reactive property on an Object.\n */\nfunction defineReactive$$1 (\n  obj,\n  key,\n  val,\n  customSetter,\n  shallow\n) {\n  var dep = new Dep();\n\n  var property = Object.getOwnPropertyDescriptor(obj, key);\n  if (property && property.configurable === false) {\n    return\n  }\n\n  // cater for pre-defined getter/setters\n  var getter = property && property.get;\n  var setter = property && property.set;\n  if ((!getter || setter) && arguments.length === 2) {\n    val = obj[key];\n  }\n\n  var childOb = !shallow && observe(val);\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get: function reactiveGetter () {\n      var value = getter ? getter.call(obj) : val;\n      if (Dep.target) {\n        dep.depend();\n        if (childOb) {\n          childOb.dep.depend();\n          if (Array.isArray(value)) {\n            dependArray(value);\n          }\n        }\n      }\n      return value\n    },\n    set: function reactiveSetter (newVal) {\n      var value = getter ? getter.call(obj) : val;\n      /* eslint-disable no-self-compare */\n      if (newVal === value || (newVal !== newVal && value !== value)) {\n        return\n      }\n      /* eslint-enable no-self-compare */\n      if (process.env.NODE_ENV !== 'production' && customSetter) {\n        customSetter();\n      }\n      // #7981: for accessor properties without setter\n      if (getter && !setter) { return }\n      if (setter) {\n        setter.call(obj, newVal);\n      } else {\n        val = newVal;\n      }\n      childOb = !shallow && observe(newVal);\n      dep.notify();\n    }\n  });\n}\n\n/**\n * Set a property on an object. Adds the new property and\n * triggers change notification if the property doesn't\n * already exist.\n */\nfunction set (target, key, val) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot set reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.length = Math.max(target.length, key);\n    target.splice(key, 1, val);\n    return val\n  }\n  if (key in target && !(key in Object.prototype)) {\n    target[key] = val;\n    return val\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid adding reactive properties to a Vue instance or its root $data ' +\n      'at runtime - declare it upfront in the data option.'\n    );\n    return val\n  }\n  if (!ob) {\n    target[key] = val;\n    return val\n  }\n  defineReactive$$1(ob.value, key, val);\n  ob.dep.notify();\n  return val\n}\n\n/**\n * Delete a property and trigger change if necessary.\n */\nfunction del (target, key) {\n  if (process.env.NODE_ENV !== 'production' &&\n    (isUndef(target) || isPrimitive(target))\n  ) {\n    warn((\"Cannot delete reactive property on undefined, null, or primitive value: \" + ((target))));\n  }\n  if (Array.isArray(target) && isValidArrayIndex(key)) {\n    target.splice(key, 1);\n    return\n  }\n  var ob = (target).__ob__;\n  if (target._isVue || (ob && ob.vmCount)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      'Avoid deleting properties on a Vue instance or its root $data ' +\n      '- just set it to null.'\n    );\n    return\n  }\n  if (!hasOwn(target, key)) {\n    return\n  }\n  delete target[key];\n  if (!ob) {\n    return\n  }\n  ob.dep.notify();\n}\n\n/**\n * Collect dependencies on array elements when the array is touched, since\n * we cannot intercept array element access like property getters.\n */\nfunction dependArray (value) {\n  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {\n    e = value[i];\n    e && e.__ob__ && e.__ob__.dep.depend();\n    if (Array.isArray(e)) {\n      dependArray(e);\n    }\n  }\n}\n\n/*  */\n\n/**\n * Option overwriting strategies are functions that handle\n * how to merge a parent option value and a child option\n * value into the final value.\n */\nvar strats = config.optionMergeStrategies;\n\n/**\n * Options with restrictions\n */\nif (process.env.NODE_ENV !== 'production') {\n  strats.el = strats.propsData = function (parent, child, vm, key) {\n    if (!vm) {\n      warn(\n        \"option \\\"\" + key + \"\\\" can only be used during instance \" +\n        'creation with the `new` keyword.'\n      );\n    }\n    return defaultStrat(parent, child)\n  };\n}\n\n/**\n * Helper that recursively merges two data objects together.\n */\nfunction mergeData (to, from) {\n  if (!from) { return to }\n  var key, toVal, fromVal;\n\n  var keys = hasSymbol\n    ? Reflect.ownKeys(from)\n    : Object.keys(from);\n\n  for (var i = 0; i < keys.length; i++) {\n    key = keys[i];\n    // in case the object is already observed...\n    if (key === '__ob__') { continue }\n    toVal = to[key];\n    fromVal = from[key];\n    if (!hasOwn(to, key)) {\n      set(to, key, fromVal);\n    } else if (\n      toVal !== fromVal &&\n      isPlainObject(toVal) &&\n      isPlainObject(fromVal)\n    ) {\n      mergeData(toVal, fromVal);\n    }\n  }\n  return to\n}\n\n/**\n * Data\n */\nfunction mergeDataOrFn (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    // in a Vue.extend merge, both should be functions\n    if (!childVal) {\n      return parentVal\n    }\n    if (!parentVal) {\n      return childVal\n    }\n    // when parentVal & childVal are both present,\n    // we need to return a function that returns the\n    // merged result of both functions... no need to\n    // check if parentVal is a function here because\n    // it has to be a function to pass previous merges.\n    return function mergedDataFn () {\n      return mergeData(\n        typeof childVal === 'function' ? childVal.call(this, this) : childVal,\n        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal\n      )\n    }\n  } else {\n    return function mergedInstanceDataFn () {\n      // instance merge\n      var instanceData = typeof childVal === 'function'\n        ? childVal.call(vm, vm)\n        : childVal;\n      var defaultData = typeof parentVal === 'function'\n        ? parentVal.call(vm, vm)\n        : parentVal;\n      if (instanceData) {\n        return mergeData(instanceData, defaultData)\n      } else {\n        return defaultData\n      }\n    }\n  }\n}\n\nstrats.data = function (\n  parentVal,\n  childVal,\n  vm\n) {\n  if (!vm) {\n    if (childVal && typeof childVal !== 'function') {\n      process.env.NODE_ENV !== 'production' && warn(\n        'The \"data\" option should be a function ' +\n        'that returns a per-instance value in component ' +\n        'definitions.',\n        vm\n      );\n\n      return parentVal\n    }\n    return mergeDataOrFn(parentVal, childVal)\n  }\n\n  return mergeDataOrFn(parentVal, childVal, vm)\n};\n\n/**\n * Hooks and props are merged as arrays.\n */\nfunction mergeHook (\n  parentVal,\n  childVal\n) {\n  var res = childVal\n    ? parentVal\n      ? parentVal.concat(childVal)\n      : Array.isArray(childVal)\n        ? childVal\n        : [childVal]\n    : parentVal;\n  return res\n    ? dedupeHooks(res)\n    : res\n}\n\nfunction dedupeHooks (hooks) {\n  var res = [];\n  for (var i = 0; i < hooks.length; i++) {\n    if (res.indexOf(hooks[i]) === -1) {\n      res.push(hooks[i]);\n    }\n  }\n  return res\n}\n\nLIFECYCLE_HOOKS.forEach(function (hook) {\n  strats[hook] = mergeHook;\n});\n\n/**\n * Assets\n *\n * When a vm is present (instance creation), we need to do\n * a three-way merge between constructor options, instance\n * options and parent options.\n */\nfunction mergeAssets (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  var res = Object.create(parentVal || null);\n  if (childVal) {\n    process.env.NODE_ENV !== 'production' && assertObjectType(key, childVal, vm);\n    return extend(res, childVal)\n  } else {\n    return res\n  }\n}\n\nASSET_TYPES.forEach(function (type) {\n  strats[type + 's'] = mergeAssets;\n});\n\n/**\n * Watchers.\n *\n * Watchers hashes should not overwrite one\n * another, so we merge them as arrays.\n */\nstrats.watch = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  // work around Firefox's Object.prototype.watch...\n  if (parentVal === nativeWatch) { parentVal = undefined; }\n  if (childVal === nativeWatch) { childVal = undefined; }\n  /* istanbul ignore if */\n  if (!childVal) { return Object.create(parentVal || null) }\n  if (process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = {};\n  extend(ret, parentVal);\n  for (var key$1 in childVal) {\n    var parent = ret[key$1];\n    var child = childVal[key$1];\n    if (parent && !Array.isArray(parent)) {\n      parent = [parent];\n    }\n    ret[key$1] = parent\n      ? parent.concat(child)\n      : Array.isArray(child) ? child : [child];\n  }\n  return ret\n};\n\n/**\n * Other object hashes.\n */\nstrats.props =\nstrats.methods =\nstrats.inject =\nstrats.computed = function (\n  parentVal,\n  childVal,\n  vm,\n  key\n) {\n  if (childVal && process.env.NODE_ENV !== 'production') {\n    assertObjectType(key, childVal, vm);\n  }\n  if (!parentVal) { return childVal }\n  var ret = Object.create(null);\n  extend(ret, parentVal);\n  if (childVal) { extend(ret, childVal); }\n  return ret\n};\nstrats.provide = mergeDataOrFn;\n\n/**\n * Default strategy.\n */\nvar defaultStrat = function (parentVal, childVal) {\n  return childVal === undefined\n    ? parentVal\n    : childVal\n};\n\n/**\n * Validate component names\n */\nfunction checkComponents (options) {\n  for (var key in options.components) {\n    validateComponentName(key);\n  }\n}\n\nfunction validateComponentName (name) {\n  if (!new RegExp((\"^[a-zA-Z][\\\\-\\\\.0-9_\" + (unicodeRegExp.source) + \"]*$\")).test(name)) {\n    warn(\n      'Invalid component name: \"' + name + '\". Component names ' +\n      'should conform to valid custom element name in html5 specification.'\n    );\n  }\n  if (isBuiltInTag(name) || config.isReservedTag(name)) {\n    warn(\n      'Do not use built-in or reserved HTML elements as component ' +\n      'id: ' + name\n    );\n  }\n}\n\n/**\n * Ensure all props option syntax are normalized into the\n * Object-based format.\n */\nfunction normalizeProps (options, vm) {\n  var props = options.props;\n  if (!props) { return }\n  var res = {};\n  var i, val, name;\n  if (Array.isArray(props)) {\n    i = props.length;\n    while (i--) {\n      val = props[i];\n      if (typeof val === 'string') {\n        name = camelize(val);\n        res[name] = { type: null };\n      } else if (process.env.NODE_ENV !== 'production') {\n        warn('props must be strings when using array syntax.');\n      }\n    }\n  } else if (isPlainObject(props)) {\n    for (var key in props) {\n      val = props[key];\n      name = camelize(key);\n      res[name] = isPlainObject(val)\n        ? val\n        : { type: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"props\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(props)) + \".\",\n      vm\n    );\n  }\n  options.props = res;\n}\n\n/**\n * Normalize all injections into Object-based format\n */\nfunction normalizeInject (options, vm) {\n  var inject = options.inject;\n  if (!inject) { return }\n  var normalized = options.inject = {};\n  if (Array.isArray(inject)) {\n    for (var i = 0; i < inject.length; i++) {\n      normalized[inject[i]] = { from: inject[i] };\n    }\n  } else if (isPlainObject(inject)) {\n    for (var key in inject) {\n      var val = inject[key];\n      normalized[key] = isPlainObject(val)\n        ? extend({ from: key }, val)\n        : { from: val };\n    }\n  } else if (process.env.NODE_ENV !== 'production') {\n    warn(\n      \"Invalid value for option \\\"inject\\\": expected an Array or an Object, \" +\n      \"but got \" + (toRawType(inject)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Normalize raw function directives into object format.\n */\nfunction normalizeDirectives (options) {\n  var dirs = options.directives;\n  if (dirs) {\n    for (var key in dirs) {\n      var def$$1 = dirs[key];\n      if (typeof def$$1 === 'function') {\n        dirs[key] = { bind: def$$1, update: def$$1 };\n      }\n    }\n  }\n}\n\nfunction assertObjectType (name, value, vm) {\n  if (!isPlainObject(value)) {\n    warn(\n      \"Invalid value for option \\\"\" + name + \"\\\": expected an Object, \" +\n      \"but got \" + (toRawType(value)) + \".\",\n      vm\n    );\n  }\n}\n\n/**\n * Merge two option objects into a new one.\n * Core utility used in both instantiation and inheritance.\n */\nfunction mergeOptions (\n  parent,\n  child,\n  vm\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    checkComponents(child);\n  }\n\n  if (typeof child === 'function') {\n    child = child.options;\n  }\n\n  normalizeProps(child, vm);\n  normalizeInject(child, vm);\n  normalizeDirectives(child);\n\n  // Apply extends and mixins on the child options,\n  // but only if it is a raw options object that isn't\n  // the result of another mergeOptions call.\n  // Only merged options has the _base property.\n  if (!child._base) {\n    if (child.extends) {\n      parent = mergeOptions(parent, child.extends, vm);\n    }\n    if (child.mixins) {\n      for (var i = 0, l = child.mixins.length; i < l; i++) {\n        parent = mergeOptions(parent, child.mixins[i], vm);\n      }\n    }\n  }\n\n  var options = {};\n  var key;\n  for (key in parent) {\n    mergeField(key);\n  }\n  for (key in child) {\n    if (!hasOwn(parent, key)) {\n      mergeField(key);\n    }\n  }\n  function mergeField (key) {\n    var strat = strats[key] || defaultStrat;\n    options[key] = strat(parent[key], child[key], vm, key);\n  }\n  return options\n}\n\n/**\n * Resolve an asset.\n * This function is used because child instances need access\n * to assets defined in its ancestor chain.\n */\nfunction resolveAsset (\n  options,\n  type,\n  id,\n  warnMissing\n) {\n  /* istanbul ignore if */\n  if (typeof id !== 'string') {\n    return\n  }\n  var assets = options[type];\n  // check local registration variations first\n  if (hasOwn(assets, id)) { return assets[id] }\n  var camelizedId = camelize(id);\n  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }\n  var PascalCaseId = capitalize(camelizedId);\n  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }\n  // fallback to prototype chain\n  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];\n  if (process.env.NODE_ENV !== 'production' && warnMissing && !res) {\n    warn(\n      'Failed to resolve ' + type.slice(0, -1) + ': ' + id,\n      options\n    );\n  }\n  return res\n}\n\n/*  */\n\n\n\nfunction validateProp (\n  key,\n  propOptions,\n  propsData,\n  vm\n) {\n  var prop = propOptions[key];\n  var absent = !hasOwn(propsData, key);\n  var value = propsData[key];\n  // boolean casting\n  var booleanIndex = getTypeIndex(Boolean, prop.type);\n  if (booleanIndex > -1) {\n    if (absent && !hasOwn(prop, 'default')) {\n      value = false;\n    } else if (value === '' || value === hyphenate(key)) {\n      // only cast empty string / same name to boolean if\n      // boolean has higher priority\n      var stringIndex = getTypeIndex(String, prop.type);\n      if (stringIndex < 0 || booleanIndex < stringIndex) {\n        value = true;\n      }\n    }\n  }\n  // check default value\n  if (value === undefined) {\n    value = getPropDefaultValue(vm, prop, key);\n    // since the default value is a fresh copy,\n    // make sure to observe it.\n    var prevShouldObserve = shouldObserve;\n    toggleObserving(true);\n    observe(value);\n    toggleObserving(prevShouldObserve);\n  }\n  if (\n    process.env.NODE_ENV !== 'production' &&\n    // skip validation for weex recycle-list child component props\n    !(false)\n  ) {\n    assertProp(prop, key, value, vm, absent);\n  }\n  return value\n}\n\n/**\n * Get the default value of a prop.\n */\nfunction getPropDefaultValue (vm, prop, key) {\n  // no default, return undefined\n  if (!hasOwn(prop, 'default')) {\n    return undefined\n  }\n  var def = prop.default;\n  // warn against non-factory defaults for Object & Array\n  if (process.env.NODE_ENV !== 'production' && isObject(def)) {\n    warn(\n      'Invalid default value for prop \"' + key + '\": ' +\n      'Props with type Object/Array must use a factory function ' +\n      'to return the default value.',\n      vm\n    );\n  }\n  // the raw prop value was also undefined from previous render,\n  // return previous default value to avoid unnecessary watcher trigger\n  if (vm && vm.$options.propsData &&\n    vm.$options.propsData[key] === undefined &&\n    vm._props[key] !== undefined\n  ) {\n    return vm._props[key]\n  }\n  // call factory function for non-Function types\n  // a value is Function if its prototype is function even across different execution context\n  return typeof def === 'function' && getType(prop.type) !== 'Function'\n    ? def.call(vm)\n    : def\n}\n\n/**\n * Assert whether a prop is valid.\n */\nfunction assertProp (\n  prop,\n  name,\n  value,\n  vm,\n  absent\n) {\n  if (prop.required && absent) {\n    warn(\n      'Missing required prop: \"' + name + '\"',\n      vm\n    );\n    return\n  }\n  if (value == null && !prop.required) {\n    return\n  }\n  var type = prop.type;\n  var valid = !type || type === true;\n  var expectedTypes = [];\n  if (type) {\n    if (!Array.isArray(type)) {\n      type = [type];\n    }\n    for (var i = 0; i < type.length && !valid; i++) {\n      var assertedType = assertType(value, type[i]);\n      expectedTypes.push(assertedType.expectedType || '');\n      valid = assertedType.valid;\n    }\n  }\n\n  if (!valid) {\n    warn(\n      getInvalidTypeMessage(name, value, expectedTypes),\n      vm\n    );\n    return\n  }\n  var validator = prop.validator;\n  if (validator) {\n    if (!validator(value)) {\n      warn(\n        'Invalid prop: custom validator check failed for prop \"' + name + '\".',\n        vm\n      );\n    }\n  }\n}\n\nvar simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;\n\nfunction assertType (value, type) {\n  var valid;\n  var expectedType = getType(type);\n  if (simpleCheckRE.test(expectedType)) {\n    var t = typeof value;\n    valid = t === expectedType.toLowerCase();\n    // for primitive wrapper objects\n    if (!valid && t === 'object') {\n      valid = value instanceof type;\n    }\n  } else if (expectedType === 'Object') {\n    valid = isPlainObject(value);\n  } else if (expectedType === 'Array') {\n    valid = Array.isArray(value);\n  } else {\n    valid = value instanceof type;\n  }\n  return {\n    valid: valid,\n    expectedType: expectedType\n  }\n}\n\n/**\n * Use function string name to check built-in types,\n * because a simple equality check will fail when running\n * across different vms / iframes.\n */\nfunction getType (fn) {\n  var match = fn && fn.toString().match(/^\\s*function (\\w+)/);\n  return match ? match[1] : ''\n}\n\nfunction isSameType (a, b) {\n  return getType(a) === getType(b)\n}\n\nfunction getTypeIndex (type, expectedTypes) {\n  if (!Array.isArray(expectedTypes)) {\n    return isSameType(expectedTypes, type) ? 0 : -1\n  }\n  for (var i = 0, len = expectedTypes.length; i < len; i++) {\n    if (isSameType(expectedTypes[i], type)) {\n      return i\n    }\n  }\n  return -1\n}\n\nfunction getInvalidTypeMessage (name, value, expectedTypes) {\n  var message = \"Invalid prop: type check failed for prop \\\"\" + name + \"\\\".\" +\n    \" Expected \" + (expectedTypes.map(capitalize).join(', '));\n  var expectedType = expectedTypes[0];\n  var receivedType = toRawType(value);\n  var expectedValue = styleValue(value, expectedType);\n  var receivedValue = styleValue(value, receivedType);\n  // check if we need to specify expected value\n  if (expectedTypes.length === 1 &&\n      isExplicable(expectedType) &&\n      !isBoolean(expectedType, receivedType)) {\n    message += \" with value \" + expectedValue;\n  }\n  message += \", got \" + receivedType + \" \";\n  // check if we need to specify received value\n  if (isExplicable(receivedType)) {\n    message += \"with value \" + receivedValue + \".\";\n  }\n  return message\n}\n\nfunction styleValue (value, type) {\n  if (type === 'String') {\n    return (\"\\\"\" + value + \"\\\"\")\n  } else if (type === 'Number') {\n    return (\"\" + (Number(value)))\n  } else {\n    return (\"\" + value)\n  }\n}\n\nfunction isExplicable (value) {\n  var explicitTypes = ['string', 'number', 'boolean'];\n  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })\n}\n\nfunction isBoolean () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })\n}\n\n/*  */\n\nfunction handleError (err, vm, info) {\n  // Deactivate deps tracking while processing error handler to avoid possible infinite rendering.\n  // See: https://github.com/vuejs/vuex/issues/1505\n  pushTarget();\n  try {\n    if (vm) {\n      var cur = vm;\n      while ((cur = cur.$parent)) {\n        var hooks = cur.$options.errorCaptured;\n        if (hooks) {\n          for (var i = 0; i < hooks.length; i++) {\n            try {\n              var capture = hooks[i].call(cur, err, vm, info) === false;\n              if (capture) { return }\n            } catch (e) {\n              globalHandleError(e, cur, 'errorCaptured hook');\n            }\n          }\n        }\n      }\n    }\n    globalHandleError(err, vm, info);\n  } finally {\n    popTarget();\n  }\n}\n\nfunction invokeWithErrorHandling (\n  handler,\n  context,\n  args,\n  vm,\n  info\n) {\n  var res;\n  try {\n    res = args ? handler.apply(context, args) : handler.call(context);\n    if (res && !res._isVue && isPromise(res) && !res._handled) {\n      res.catch(function (e) { return handleError(e, vm, info + \" (Promise/async)\"); });\n      // issue #9511\n      // avoid catch triggering multiple times when nested calls\n      res._handled = true;\n    }\n  } catch (e) {\n    handleError(e, vm, info);\n  }\n  return res\n}\n\nfunction globalHandleError (err, vm, info) {\n  if (config.errorHandler) {\n    try {\n      return config.errorHandler.call(null, err, vm, info)\n    } catch (e) {\n      // if the user intentionally throws the original error in the handler,\n      // do not log it twice\n      if (e !== err) {\n        logError(e, null, 'config.errorHandler');\n      }\n    }\n  }\n  logError(err, vm, info);\n}\n\nfunction logError (err, vm, info) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn((\"Error in \" + info + \": \\\"\" + (err.toString()) + \"\\\"\"), vm);\n  }\n  /* istanbul ignore else */\n  if ((inBrowser || inWeex) && typeof console !== 'undefined') {\n    console.error(err);\n  } else {\n    throw err\n  }\n}\n\n/*  */\n\nvar isUsingMicroTask = false;\n\nvar callbacks = [];\nvar pending = false;\n\nfunction flushCallbacks () {\n  pending = false;\n  var copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (var i = 0; i < copies.length; i++) {\n    copies[i]();\n  }\n}\n\n// Here we have async deferring wrappers using microtasks.\n// In 2.5 we used (macro) tasks (in combination with microtasks).\n// However, it has subtle problems when state is changed right before repaint\n// (e.g. #6813, out-in transitions).\n// Also, using (macro) tasks in event handler would cause some weird behaviors\n// that cannot be circumvented (e.g. #7109, #7153, #7546, #7834, #8109).\n// So we now use microtasks everywhere, again.\n// A major drawback of this tradeoff is that there are some scenarios\n// where microtasks have too high a priority and fire in between supposedly\n// sequential events (e.g. #4521, #6690, which have workarounds)\n// or even between bubbling of the same event (#6566).\nvar timerFunc;\n\n// The nextTick behavior leverages the microtask queue, which can be accessed\n// via either native Promise.then or MutationObserver.\n// MutationObserver has wider support, however it is seriously bugged in\n// UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It\n// completely stops working after triggering a few times... so, if native\n// Promise is available, we will use it:\n/* istanbul ignore next, $flow-disable-line */\nif (typeof Promise !== 'undefined' && isNative(Promise)) {\n  var p = Promise.resolve();\n  timerFunc = function () {\n    p.then(flushCallbacks);\n    // In problematic UIWebViews, Promise.then doesn't completely break, but\n    // it can get stuck in a weird state where callbacks are pushed into the\n    // microtask queue but the queue isn't being flushed, until the browser\n    // needs to do some other work, e.g. handle a timer. Therefore we can\n    // \"force\" the microtask queue to be flushed by adding an empty timer.\n    if (isIOS) { setTimeout(noop); }\n  };\n  isUsingMicroTask = true;\n} else if (!isIE && typeof MutationObserver !== 'undefined' && (\n  isNative(MutationObserver) ||\n  // PhantomJS and iOS 7.x\n  MutationObserver.toString() === '[object MutationObserverConstructor]'\n)) {\n  // Use MutationObserver where native Promise is not available,\n  // e.g. PhantomJS, iOS7, Android 4.4\n  // (#6466 MutationObserver is unreliable in IE11)\n  var counter = 1;\n  var observer = new MutationObserver(flushCallbacks);\n  var textNode = document.createTextNode(String(counter));\n  observer.observe(textNode, {\n    characterData: true\n  });\n  timerFunc = function () {\n    counter = (counter + 1) % 2;\n    textNode.data = String(counter);\n  };\n  isUsingMicroTask = true;\n} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {\n  // Fallback to setImmediate.\n  // Technically it leverages the (macro) task queue,\n  // but it is still a better choice than setTimeout.\n  timerFunc = function () {\n    setImmediate(flushCallbacks);\n  };\n} else {\n  // Fallback to setTimeout.\n  timerFunc = function () {\n    setTimeout(flushCallbacks, 0);\n  };\n}\n\nfunction nextTick (cb, ctx) {\n  var _resolve;\n  callbacks.push(function () {\n    if (cb) {\n      try {\n        cb.call(ctx);\n      } catch (e) {\n        handleError(e, ctx, 'nextTick');\n      }\n    } else if (_resolve) {\n      _resolve(ctx);\n    }\n  });\n  if (!pending) {\n    pending = true;\n    timerFunc();\n  }\n  // $flow-disable-line\n  if (!cb && typeof Promise !== 'undefined') {\n    return new Promise(function (resolve) {\n      _resolve = resolve;\n    })\n  }\n}\n\n/*  */\n\n/* not type checking this file because flow doesn't play well with Proxy */\n\nvar initProxy;\n\nif (process.env.NODE_ENV !== 'production') {\n  var allowedGlobals = makeMap(\n    'Infinity,undefined,NaN,isFinite,isNaN,' +\n    'parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,' +\n    'Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,' +\n    'require' // for Webpack/Browserify\n  );\n\n  var warnNonPresent = function (target, key) {\n    warn(\n      \"Property or method \\\"\" + key + \"\\\" is not defined on the instance but \" +\n      'referenced during render. Make sure that this property is reactive, ' +\n      'either in the data option, or for class-based components, by ' +\n      'initializing the property. ' +\n      'See: https://vuejs.org/v2/guide/reactivity.html#Declaring-Reactive-Properties.',\n      target\n    );\n  };\n\n  var warnReservedPrefix = function (target, key) {\n    warn(\n      \"Property \\\"\" + key + \"\\\" must be accessed with \\\"$data.\" + key + \"\\\" because \" +\n      'properties starting with \"$\" or \"_\" are not proxied in the Vue instance to ' +\n      'prevent conflicts with Vue internals. ' +\n      'See: https://vuejs.org/v2/api/#data',\n      target\n    );\n  };\n\n  var hasProxy =\n    typeof Proxy !== 'undefined' && isNative(Proxy);\n\n  if (hasProxy) {\n    var isBuiltInModifier = makeMap('stop,prevent,self,ctrl,shift,alt,meta,exact');\n    config.keyCodes = new Proxy(config.keyCodes, {\n      set: function set (target, key, value) {\n        if (isBuiltInModifier(key)) {\n          warn((\"Avoid overwriting built-in modifier in config.keyCodes: .\" + key));\n          return false\n        } else {\n          target[key] = value;\n          return true\n        }\n      }\n    });\n  }\n\n  var hasHandler = {\n    has: function has (target, key) {\n      var has = key in target;\n      var isAllowed = allowedGlobals(key) ||\n        (typeof key === 'string' && key.charAt(0) === '_' && !(key in target.$data));\n      if (!has && !isAllowed) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return has || !isAllowed\n    }\n  };\n\n  var getHandler = {\n    get: function get (target, key) {\n      if (typeof key === 'string' && !(key in target)) {\n        if (key in target.$data) { warnReservedPrefix(target, key); }\n        else { warnNonPresent(target, key); }\n      }\n      return target[key]\n    }\n  };\n\n  initProxy = function initProxy (vm) {\n    if (hasProxy) {\n      // determine which proxy handler to use\n      var options = vm.$options;\n      var handlers = options.render && options.render._withStripped\n        ? getHandler\n        : hasHandler;\n      vm._renderProxy = new Proxy(vm, handlers);\n    } else {\n      vm._renderProxy = vm;\n    }\n  };\n}\n\n/*  */\n\nvar seenObjects = new _Set();\n\n/**\n * Recursively traverse an object to evoke all converted\n * getters, so that every nested property inside the object\n * is collected as a \"deep\" dependency.\n */\nfunction traverse (val) {\n  _traverse(val, seenObjects);\n  seenObjects.clear();\n}\n\nfunction _traverse (val, seen) {\n  var i, keys;\n  var isA = Array.isArray(val);\n  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {\n    return\n  }\n  if (val.__ob__) {\n    var depId = val.__ob__.dep.id;\n    if (seen.has(depId)) {\n      return\n    }\n    seen.add(depId);\n  }\n  if (isA) {\n    i = val.length;\n    while (i--) { _traverse(val[i], seen); }\n  } else {\n    keys = Object.keys(val);\n    i = keys.length;\n    while (i--) { _traverse(val[keys[i]], seen); }\n  }\n}\n\nvar mark;\nvar measure;\n\nif (process.env.NODE_ENV !== 'production') {\n  var perf = inBrowser && window.performance;\n  /* istanbul ignore if */\n  if (\n    perf &&\n    perf.mark &&\n    perf.measure &&\n    perf.clearMarks &&\n    perf.clearMeasures\n  ) {\n    mark = function (tag) { return perf.mark(tag); };\n    measure = function (name, startTag, endTag) {\n      perf.measure(name, startTag, endTag);\n      perf.clearMarks(startTag);\n      perf.clearMarks(endTag);\n      // perf.clearMeasures(name)\n    };\n  }\n}\n\n/*  */\n\nvar normalizeEvent = cached(function (name) {\n  var passive = name.charAt(0) === '&';\n  name = passive ? name.slice(1) : name;\n  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first\n  name = once$$1 ? name.slice(1) : name;\n  var capture = name.charAt(0) === '!';\n  name = capture ? name.slice(1) : name;\n  return {\n    name: name,\n    once: once$$1,\n    capture: capture,\n    passive: passive\n  }\n});\n\nfunction createFnInvoker (fns, vm) {\n  function invoker () {\n    var arguments$1 = arguments;\n\n    var fns = invoker.fns;\n    if (Array.isArray(fns)) {\n      var cloned = fns.slice();\n      for (var i = 0; i < cloned.length; i++) {\n        invokeWithErrorHandling(cloned[i], null, arguments$1, vm, \"v-on handler\");\n      }\n    } else {\n      // return handler return value for single handlers\n      return invokeWithErrorHandling(fns, null, arguments, vm, \"v-on handler\")\n    }\n  }\n  invoker.fns = fns;\n  return invoker\n}\n\nfunction updateListeners (\n  on,\n  oldOn,\n  add,\n  remove$$1,\n  createOnceHandler,\n  vm\n) {\n  var name, def$$1, cur, old, event;\n  for (name in on) {\n    def$$1 = cur = on[name];\n    old = oldOn[name];\n    event = normalizeEvent(name);\n    if (isUndef(cur)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Invalid handler for event \\\"\" + (event.name) + \"\\\": got \" + String(cur),\n        vm\n      );\n    } else if (isUndef(old)) {\n      if (isUndef(cur.fns)) {\n        cur = on[name] = createFnInvoker(cur, vm);\n      }\n      if (isTrue(event.once)) {\n        cur = on[name] = createOnceHandler(event.name, cur, event.capture);\n      }\n      add(event.name, cur, event.capture, event.passive, event.params);\n    } else if (cur !== old) {\n      old.fns = cur;\n      on[name] = old;\n    }\n  }\n  for (name in oldOn) {\n    if (isUndef(on[name])) {\n      event = normalizeEvent(name);\n      remove$$1(event.name, oldOn[name], event.capture);\n    }\n  }\n}\n\n/*  */\n\nfunction mergeVNodeHook (def, hookKey, hook) {\n  if (def instanceof VNode) {\n    def = def.data.hook || (def.data.hook = {});\n  }\n  var invoker;\n  var oldHook = def[hookKey];\n\n  function wrappedHook () {\n    hook.apply(this, arguments);\n    // important: remove merged hook to ensure it's called only once\n    // and prevent memory leak\n    remove(invoker.fns, wrappedHook);\n  }\n\n  if (isUndef(oldHook)) {\n    // no existing hook\n    invoker = createFnInvoker([wrappedHook]);\n  } else {\n    /* istanbul ignore if */\n    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {\n      // already a merged invoker\n      invoker = oldHook;\n      invoker.fns.push(wrappedHook);\n    } else {\n      // existing plain hook\n      invoker = createFnInvoker([oldHook, wrappedHook]);\n    }\n  }\n\n  invoker.merged = true;\n  def[hookKey] = invoker;\n}\n\n/*  */\n\nfunction extractPropsFromVNodeData (\n  data,\n  Ctor,\n  tag\n) {\n  // we are only extracting raw values here.\n  // validation and default values are handled in the child\n  // component itself.\n  var propOptions = Ctor.options.props;\n  if (isUndef(propOptions)) {\n    return\n  }\n  var res = {};\n  var attrs = data.attrs;\n  var props = data.props;\n  if (isDef(attrs) || isDef(props)) {\n    for (var key in propOptions) {\n      var altKey = hyphenate(key);\n      if (process.env.NODE_ENV !== 'production') {\n        var keyInLowerCase = key.toLowerCase();\n        if (\n          key !== keyInLowerCase &&\n          attrs && hasOwn(attrs, keyInLowerCase)\n        ) {\n          tip(\n            \"Prop \\\"\" + keyInLowerCase + \"\\\" is passed to component \" +\n            (formatComponentName(tag || Ctor)) + \", but the declared prop name is\" +\n            \" \\\"\" + key + \"\\\". \" +\n            \"Note that HTML attributes are case-insensitive and camelCased \" +\n            \"props need to use their kebab-case equivalents when using in-DOM \" +\n            \"templates. You should probably use \\\"\" + altKey + \"\\\" instead of \\\"\" + key + \"\\\".\"\n          );\n        }\n      }\n      checkProp(res, props, key, altKey, true) ||\n      checkProp(res, attrs, key, altKey, false);\n    }\n  }\n  return res\n}\n\nfunction checkProp (\n  res,\n  hash,\n  key,\n  altKey,\n  preserve\n) {\n  if (isDef(hash)) {\n    if (hasOwn(hash, key)) {\n      res[key] = hash[key];\n      if (!preserve) {\n        delete hash[key];\n      }\n      return true\n    } else if (hasOwn(hash, altKey)) {\n      res[key] = hash[altKey];\n      if (!preserve) {\n        delete hash[altKey];\n      }\n      return true\n    }\n  }\n  return false\n}\n\n/*  */\n\n// The template compiler attempts to minimize the need for normalization by\n// statically analyzing the template at compile time.\n//\n// For plain HTML markup, normalization can be completely skipped because the\n// generated render function is guaranteed to return Array<VNode>. There are\n// two cases where extra normalization is needed:\n\n// 1. When the children contains components - because a functional component\n// may return an Array instead of a single root. In this case, just a simple\n// normalization is needed - if any child is an Array, we flatten the whole\n// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep\n// because functional components already normalize their own children.\nfunction simpleNormalizeChildren (children) {\n  for (var i = 0; i < children.length; i++) {\n    if (Array.isArray(children[i])) {\n      return Array.prototype.concat.apply([], children)\n    }\n  }\n  return children\n}\n\n// 2. When the children contains constructs that always generated nested Arrays,\n// e.g. <template>, <slot>, v-for, or when the children is provided by user\n// with hand-written render functions / JSX. In such cases a full normalization\n// is needed to cater to all possible types of children values.\nfunction normalizeChildren (children) {\n  return isPrimitive(children)\n    ? [createTextVNode(children)]\n    : Array.isArray(children)\n      ? normalizeArrayChildren(children)\n      : undefined\n}\n\nfunction isTextNode (node) {\n  return isDef(node) && isDef(node.text) && isFalse(node.isComment)\n}\n\nfunction normalizeArrayChildren (children, nestedIndex) {\n  var res = [];\n  var i, c, lastIndex, last;\n  for (i = 0; i < children.length; i++) {\n    c = children[i];\n    if (isUndef(c) || typeof c === 'boolean') { continue }\n    lastIndex = res.length - 1;\n    last = res[lastIndex];\n    //  nested\n    if (Array.isArray(c)) {\n      if (c.length > 0) {\n        c = normalizeArrayChildren(c, ((nestedIndex || '') + \"_\" + i));\n        // merge adjacent text nodes\n        if (isTextNode(c[0]) && isTextNode(last)) {\n          res[lastIndex] = createTextVNode(last.text + (c[0]).text);\n          c.shift();\n        }\n        res.push.apply(res, c);\n      }\n    } else if (isPrimitive(c)) {\n      if (isTextNode(last)) {\n        // merge adjacent text nodes\n        // this is necessary for SSR hydration because text nodes are\n        // essentially merged when rendered to HTML strings\n        res[lastIndex] = createTextVNode(last.text + c);\n      } else if (c !== '') {\n        // convert primitive to vnode\n        res.push(createTextVNode(c));\n      }\n    } else {\n      if (isTextNode(c) && isTextNode(last)) {\n        // merge adjacent text nodes\n        res[lastIndex] = createTextVNode(last.text + c.text);\n      } else {\n        // default key for nested array children (likely generated by v-for)\n        if (isTrue(children._isVList) &&\n          isDef(c.tag) &&\n          isUndef(c.key) &&\n          isDef(nestedIndex)) {\n          c.key = \"__vlist\" + nestedIndex + \"_\" + i + \"__\";\n        }\n        res.push(c);\n      }\n    }\n  }\n  return res\n}\n\n/*  */\n\nfunction initProvide (vm) {\n  var provide = vm.$options.provide;\n  if (provide) {\n    vm._provided = typeof provide === 'function'\n      ? provide.call(vm)\n      : provide;\n  }\n}\n\nfunction initInjections (vm) {\n  var result = resolveInject(vm.$options.inject, vm);\n  if (result) {\n    toggleObserving(false);\n    Object.keys(result).forEach(function (key) {\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production') {\n        defineReactive$$1(vm, key, result[key], function () {\n          warn(\n            \"Avoid mutating an injected value directly since the changes will be \" +\n            \"overwritten whenever the provided component re-renders. \" +\n            \"injection being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        });\n      } else {\n        defineReactive$$1(vm, key, result[key]);\n      }\n    });\n    toggleObserving(true);\n  }\n}\n\nfunction resolveInject (inject, vm) {\n  if (inject) {\n    // inject is :any because flow is not smart enough to figure out cached\n    var result = Object.create(null);\n    var keys = hasSymbol\n      ? Reflect.ownKeys(inject)\n      : Object.keys(inject);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      // #6574 in case the inject object is observed...\n      if (key === '__ob__') { continue }\n      var provideKey = inject[key].from;\n      var source = vm;\n      while (source) {\n        if (source._provided && hasOwn(source._provided, provideKey)) {\n          result[key] = source._provided[provideKey];\n          break\n        }\n        source = source.$parent;\n      }\n      if (!source) {\n        if ('default' in inject[key]) {\n          var provideDefault = inject[key].default;\n          result[key] = typeof provideDefault === 'function'\n            ? provideDefault.call(vm)\n            : provideDefault;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn((\"Injection \\\"\" + key + \"\\\" not found\"), vm);\n        }\n      }\n    }\n    return result\n  }\n}\n\n/*  */\n\n\n\n/**\n * Runtime helper for resolving raw children VNodes into a slot object.\n */\nfunction resolveSlots (\n  children,\n  context\n) {\n  if (!children || !children.length) {\n    return {}\n  }\n  var slots = {};\n  for (var i = 0, l = children.length; i < l; i++) {\n    var child = children[i];\n    var data = child.data;\n    // remove slot attribute if the node is resolved as a Vue slot node\n    if (data && data.attrs && data.attrs.slot) {\n      delete data.attrs.slot;\n    }\n    // named slots should only be respected if the vnode was rendered in the\n    // same context.\n    if ((child.context === context || child.fnContext === context) &&\n      data && data.slot != null\n    ) {\n      var name = data.slot;\n      var slot = (slots[name] || (slots[name] = []));\n      if (child.tag === 'template') {\n        slot.push.apply(slot, child.children || []);\n      } else {\n        slot.push(child);\n      }\n    } else {\n      (slots.default || (slots.default = [])).push(child);\n    }\n  }\n  // ignore slots that contains only whitespace\n  for (var name$1 in slots) {\n    if (slots[name$1].every(isWhitespace)) {\n      delete slots[name$1];\n    }\n  }\n  return slots\n}\n\nfunction isWhitespace (node) {\n  return (node.isComment && !node.asyncFactory) || node.text === ' '\n}\n\n/*  */\n\nfunction normalizeScopedSlots (\n  slots,\n  normalSlots,\n  prevSlots\n) {\n  var res;\n  var hasNormalSlots = Object.keys(normalSlots).length > 0;\n  var isStable = slots ? !!slots.$stable : !hasNormalSlots;\n  var key = slots && slots.$key;\n  if (!slots) {\n    res = {};\n  } else if (slots._normalized) {\n    // fast path 1: child component re-render only, parent did not change\n    return slots._normalized\n  } else if (\n    isStable &&\n    prevSlots &&\n    prevSlots !== emptyObject &&\n    key === prevSlots.$key &&\n    !hasNormalSlots &&\n    !prevSlots.$hasNormal\n  ) {\n    // fast path 2: stable scoped slots w/ no normal slots to proxy,\n    // only need to normalize once\n    return prevSlots\n  } else {\n    res = {};\n    for (var key$1 in slots) {\n      if (slots[key$1] && key$1[0] !== '$') {\n        res[key$1] = normalizeScopedSlot(normalSlots, key$1, slots[key$1]);\n      }\n    }\n  }\n  // expose normal slots on scopedSlots\n  for (var key$2 in normalSlots) {\n    if (!(key$2 in res)) {\n      res[key$2] = proxyNormalSlot(normalSlots, key$2);\n    }\n  }\n  // avoriaz seems to mock a non-extensible $scopedSlots object\n  // and when that is passed down this would cause an error\n  if (slots && Object.isExtensible(slots)) {\n    (slots)._normalized = res;\n  }\n  def(res, '$stable', isStable);\n  def(res, '$key', key);\n  def(res, '$hasNormal', hasNormalSlots);\n  return res\n}\n\nfunction normalizeScopedSlot(normalSlots, key, fn) {\n  var normalized = function () {\n    var res = arguments.length ? fn.apply(null, arguments) : fn({});\n    res = res && typeof res === 'object' && !Array.isArray(res)\n      ? [res] // single vnode\n      : normalizeChildren(res);\n    return res && (\n      res.length === 0 ||\n      (res.length === 1 && res[0].isComment) // #9658\n    ) ? undefined\n      : res\n  };\n  // this is a slot using the new v-slot syntax without scope. although it is\n  // compiled as a scoped slot, render fn users would expect it to be present\n  // on this.$slots because the usage is semantically a normal slot.\n  if (fn.proxy) {\n    Object.defineProperty(normalSlots, key, {\n      get: normalized,\n      enumerable: true,\n      configurable: true\n    });\n  }\n  return normalized\n}\n\nfunction proxyNormalSlot(slots, key) {\n  return function () { return slots[key]; }\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering v-for lists.\n */\nfunction renderList (\n  val,\n  render\n) {\n  var ret, i, l, keys, key;\n  if (Array.isArray(val) || typeof val === 'string') {\n    ret = new Array(val.length);\n    for (i = 0, l = val.length; i < l; i++) {\n      ret[i] = render(val[i], i);\n    }\n  } else if (typeof val === 'number') {\n    ret = new Array(val);\n    for (i = 0; i < val; i++) {\n      ret[i] = render(i + 1, i);\n    }\n  } else if (isObject(val)) {\n    if (hasSymbol && val[Symbol.iterator]) {\n      ret = [];\n      var iterator = val[Symbol.iterator]();\n      var result = iterator.next();\n      while (!result.done) {\n        ret.push(render(result.value, ret.length));\n        result = iterator.next();\n      }\n    } else {\n      keys = Object.keys(val);\n      ret = new Array(keys.length);\n      for (i = 0, l = keys.length; i < l; i++) {\n        key = keys[i];\n        ret[i] = render(val[key], key, i);\n      }\n    }\n  }\n  if (!isDef(ret)) {\n    ret = [];\n  }\n  (ret)._isVList = true;\n  return ret\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering <slot>\n */\nfunction renderSlot (\n  name,\n  fallback,\n  props,\n  bindObject\n) {\n  var scopedSlotFn = this.$scopedSlots[name];\n  var nodes;\n  if (scopedSlotFn) { // scoped slot\n    props = props || {};\n    if (bindObject) {\n      if (process.env.NODE_ENV !== 'production' && !isObject(bindObject)) {\n        warn(\n          'slot v-bind without argument expects an Object',\n          this\n        );\n      }\n      props = extend(extend({}, bindObject), props);\n    }\n    nodes = scopedSlotFn(props) || fallback;\n  } else {\n    nodes = this.$slots[name] || fallback;\n  }\n\n  var target = props && props.slot;\n  if (target) {\n    return this.$createElement('template', { slot: target }, nodes)\n  } else {\n    return nodes\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for resolving filters\n */\nfunction resolveFilter (id) {\n  return resolveAsset(this.$options, 'filters', id, true) || identity\n}\n\n/*  */\n\nfunction isKeyNotMatch (expect, actual) {\n  if (Array.isArray(expect)) {\n    return expect.indexOf(actual) === -1\n  } else {\n    return expect !== actual\n  }\n}\n\n/**\n * Runtime helper for checking keyCodes from config.\n * exposed as Vue.prototype._k\n * passing in eventKeyName as last argument separately for backwards compat\n */\nfunction checkKeyCodes (\n  eventKeyCode,\n  key,\n  builtInKeyCode,\n  eventKeyName,\n  builtInKeyName\n) {\n  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;\n  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {\n    return isKeyNotMatch(builtInKeyName, eventKeyName)\n  } else if (mappedKeyCode) {\n    return isKeyNotMatch(mappedKeyCode, eventKeyCode)\n  } else if (eventKeyName) {\n    return hyphenate(eventKeyName) !== key\n  }\n}\n\n/*  */\n\n/**\n * Runtime helper for merging v-bind=\"object\" into a VNode's data.\n */\nfunction bindObjectProps (\n  data,\n  tag,\n  value,\n  asProp,\n  isSync\n) {\n  if (value) {\n    if (!isObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-bind without argument expects an Object or Array value',\n        this\n      );\n    } else {\n      if (Array.isArray(value)) {\n        value = toObject(value);\n      }\n      var hash;\n      var loop = function ( key ) {\n        if (\n          key === 'class' ||\n          key === 'style' ||\n          isReservedAttribute(key)\n        ) {\n          hash = data;\n        } else {\n          var type = data.attrs && data.attrs.type;\n          hash = asProp || config.mustUseProp(tag, type, key)\n            ? data.domProps || (data.domProps = {})\n            : data.attrs || (data.attrs = {});\n        }\n        var camelizedKey = camelize(key);\n        var hyphenatedKey = hyphenate(key);\n        if (!(camelizedKey in hash) && !(hyphenatedKey in hash)) {\n          hash[key] = value[key];\n\n          if (isSync) {\n            var on = data.on || (data.on = {});\n            on[(\"update:\" + key)] = function ($event) {\n              value[key] = $event;\n            };\n          }\n        }\n      };\n\n      for (var key in value) loop( key );\n    }\n  }\n  return data\n}\n\n/*  */\n\n/**\n * Runtime helper for rendering static trees.\n */\nfunction renderStatic (\n  index,\n  isInFor\n) {\n  var cached = this._staticTrees || (this._staticTrees = []);\n  var tree = cached[index];\n  // if has already-rendered static tree and not inside v-for,\n  // we can reuse the same tree.\n  if (tree && !isInFor) {\n    return tree\n  }\n  // otherwise, render a fresh tree.\n  tree = cached[index] = this.$options.staticRenderFns[index].call(\n    this._renderProxy,\n    null,\n    this // for render fns generated for functional component templates\n  );\n  markStatic(tree, (\"__static__\" + index), false);\n  return tree\n}\n\n/**\n * Runtime helper for v-once.\n * Effectively it means marking the node as static with a unique key.\n */\nfunction markOnce (\n  tree,\n  index,\n  key\n) {\n  markStatic(tree, (\"__once__\" + index + (key ? (\"_\" + key) : \"\")), true);\n  return tree\n}\n\nfunction markStatic (\n  tree,\n  key,\n  isOnce\n) {\n  if (Array.isArray(tree)) {\n    for (var i = 0; i < tree.length; i++) {\n      if (tree[i] && typeof tree[i] !== 'string') {\n        markStaticNode(tree[i], (key + \"_\" + i), isOnce);\n      }\n    }\n  } else {\n    markStaticNode(tree, key, isOnce);\n  }\n}\n\nfunction markStaticNode (node, key, isOnce) {\n  node.isStatic = true;\n  node.key = key;\n  node.isOnce = isOnce;\n}\n\n/*  */\n\nfunction bindObjectListeners (data, value) {\n  if (value) {\n    if (!isPlainObject(value)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'v-on without argument expects an Object value',\n        this\n      );\n    } else {\n      var on = data.on = data.on ? extend({}, data.on) : {};\n      for (var key in value) {\n        var existing = on[key];\n        var ours = value[key];\n        on[key] = existing ? [].concat(existing, ours) : ours;\n      }\n    }\n  }\n  return data\n}\n\n/*  */\n\nfunction resolveScopedSlots (\n  fns, // see flow/vnode\n  res,\n  // the following are added in 2.6\n  hasDynamicKeys,\n  contentHashKey\n) {\n  res = res || { $stable: !hasDynamicKeys };\n  for (var i = 0; i < fns.length; i++) {\n    var slot = fns[i];\n    if (Array.isArray(slot)) {\n      resolveScopedSlots(slot, res, hasDynamicKeys);\n    } else if (slot) {\n      // marker for reverse proxying v-slot without scope on this.$slots\n      if (slot.proxy) {\n        slot.fn.proxy = true;\n      }\n      res[slot.key] = slot.fn;\n    }\n  }\n  if (contentHashKey) {\n    (res).$key = contentHashKey;\n  }\n  return res\n}\n\n/*  */\n\nfunction bindDynamicKeys (baseObj, values) {\n  for (var i = 0; i < values.length; i += 2) {\n    var key = values[i];\n    if (typeof key === 'string' && key) {\n      baseObj[values[i]] = values[i + 1];\n    } else if (process.env.NODE_ENV !== 'production' && key !== '' && key !== null) {\n      // null is a special value for explicitly removing a binding\n      warn(\n        (\"Invalid value for dynamic directive argument (expected string or null): \" + key),\n        this\n      );\n    }\n  }\n  return baseObj\n}\n\n// helper to dynamically append modifier runtime markers to event names.\n// ensure only append when value is already string, otherwise it will be cast\n// to string and cause the type check to miss.\nfunction prependModifier (value, symbol) {\n  return typeof value === 'string' ? symbol + value : value\n}\n\n/*  */\n\nfunction installRenderHelpers (target) {\n  target._o = markOnce;\n  target._n = toNumber;\n  target._s = toString;\n  target._l = renderList;\n  target._t = renderSlot;\n  target._q = looseEqual;\n  target._i = looseIndexOf;\n  target._m = renderStatic;\n  target._f = resolveFilter;\n  target._k = checkKeyCodes;\n  target._b = bindObjectProps;\n  target._v = createTextVNode;\n  target._e = createEmptyVNode;\n  target._u = resolveScopedSlots;\n  target._g = bindObjectListeners;\n  target._d = bindDynamicKeys;\n  target._p = prependModifier;\n}\n\n/*  */\n\nfunction FunctionalRenderContext (\n  data,\n  props,\n  children,\n  parent,\n  Ctor\n) {\n  var this$1 = this;\n\n  var options = Ctor.options;\n  // ensure the createElement function in functional components\n  // gets a unique context - this is necessary for correct named slot check\n  var contextVm;\n  if (hasOwn(parent, '_uid')) {\n    contextVm = Object.create(parent);\n    // $flow-disable-line\n    contextVm._original = parent;\n  } else {\n    // the context vm passed in is a functional context as well.\n    // in this case we want to make sure we are able to get a hold to the\n    // real context instance.\n    contextVm = parent;\n    // $flow-disable-line\n    parent = parent._original;\n  }\n  var isCompiled = isTrue(options._compiled);\n  var needNormalization = !isCompiled;\n\n  this.data = data;\n  this.props = props;\n  this.children = children;\n  this.parent = parent;\n  this.listeners = data.on || emptyObject;\n  this.injections = resolveInject(options.inject, parent);\n  this.slots = function () {\n    if (!this$1.$slots) {\n      normalizeScopedSlots(\n        data.scopedSlots,\n        this$1.$slots = resolveSlots(children, parent)\n      );\n    }\n    return this$1.$slots\n  };\n\n  Object.defineProperty(this, 'scopedSlots', ({\n    enumerable: true,\n    get: function get () {\n      return normalizeScopedSlots(data.scopedSlots, this.slots())\n    }\n  }));\n\n  // support for compiled functional template\n  if (isCompiled) {\n    // exposing $options for renderStatic()\n    this.$options = options;\n    // pre-resolve slots for renderSlot()\n    this.$slots = this.slots();\n    this.$scopedSlots = normalizeScopedSlots(data.scopedSlots, this.$slots);\n  }\n\n  if (options._scopeId) {\n    this._c = function (a, b, c, d) {\n      var vnode = createElement(contextVm, a, b, c, d, needNormalization);\n      if (vnode && !Array.isArray(vnode)) {\n        vnode.fnScopeId = options._scopeId;\n        vnode.fnContext = parent;\n      }\n      return vnode\n    };\n  } else {\n    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };\n  }\n}\n\ninstallRenderHelpers(FunctionalRenderContext.prototype);\n\nfunction createFunctionalComponent (\n  Ctor,\n  propsData,\n  data,\n  contextVm,\n  children\n) {\n  var options = Ctor.options;\n  var props = {};\n  var propOptions = options.props;\n  if (isDef(propOptions)) {\n    for (var key in propOptions) {\n      props[key] = validateProp(key, propOptions, propsData || emptyObject);\n    }\n  } else {\n    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }\n    if (isDef(data.props)) { mergeProps(props, data.props); }\n  }\n\n  var renderContext = new FunctionalRenderContext(\n    data,\n    props,\n    children,\n    contextVm,\n    Ctor\n  );\n\n  var vnode = options.render.call(null, renderContext._c, renderContext);\n\n  if (vnode instanceof VNode) {\n    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)\n  } else if (Array.isArray(vnode)) {\n    var vnodes = normalizeChildren(vnode) || [];\n    var res = new Array(vnodes.length);\n    for (var i = 0; i < vnodes.length; i++) {\n      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);\n    }\n    return res\n  }\n}\n\nfunction cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {\n  // #7817 clone node before setting fnContext, otherwise if the node is reused\n  // (e.g. it was from a cached normal slot) the fnContext causes named slots\n  // that should not be matched to match.\n  var clone = cloneVNode(vnode);\n  clone.fnContext = contextVm;\n  clone.fnOptions = options;\n  if (process.env.NODE_ENV !== 'production') {\n    (clone.devtoolsMeta = clone.devtoolsMeta || {}).renderContext = renderContext;\n  }\n  if (data.slot) {\n    (clone.data || (clone.data = {})).slot = data.slot;\n  }\n  return clone\n}\n\nfunction mergeProps (to, from) {\n  for (var key in from) {\n    to[camelize(key)] = from[key];\n  }\n}\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// inline hooks to be invoked on component VNodes during patch\nvar componentVNodeHooks = {\n  init: function init (vnode, hydrating) {\n    if (\n      vnode.componentInstance &&\n      !vnode.componentInstance._isDestroyed &&\n      vnode.data.keepAlive\n    ) {\n      // kept-alive components, treat as a patch\n      var mountedNode = vnode; // work around flow\n      componentVNodeHooks.prepatch(mountedNode, mountedNode);\n    } else {\n      var child = vnode.componentInstance = createComponentInstanceForVnode(\n        vnode,\n        activeInstance\n      );\n      child.$mount(hydrating ? vnode.elm : undefined, hydrating);\n    }\n  },\n\n  prepatch: function prepatch (oldVnode, vnode) {\n    var options = vnode.componentOptions;\n    var child = vnode.componentInstance = oldVnode.componentInstance;\n    updateChildComponent(\n      child,\n      options.propsData, // updated props\n      options.listeners, // updated listeners\n      vnode, // new parent vnode\n      options.children // new children\n    );\n  },\n\n  insert: function insert (vnode) {\n    var context = vnode.context;\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isMounted) {\n      componentInstance._isMounted = true;\n      callHook(componentInstance, 'mounted');\n    }\n    if (vnode.data.keepAlive) {\n      if (context._isMounted) {\n        // vue-router#1212\n        // During updates, a kept-alive component's child components may\n        // change, so directly walking the tree here may call activated hooks\n        // on incorrect children. Instead we push them into a queue which will\n        // be processed after the whole patch process ended.\n        queueActivatedComponent(componentInstance);\n      } else {\n        activateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  },\n\n  destroy: function destroy (vnode) {\n    var componentInstance = vnode.componentInstance;\n    if (!componentInstance._isDestroyed) {\n      if (!vnode.data.keepAlive) {\n        componentInstance.$destroy();\n      } else {\n        deactivateChildComponent(componentInstance, true /* direct */);\n      }\n    }\n  }\n};\n\nvar hooksToMerge = Object.keys(componentVNodeHooks);\n\nfunction createComponent (\n  Ctor,\n  data,\n  context,\n  children,\n  tag\n) {\n  if (isUndef(Ctor)) {\n    return\n  }\n\n  var baseCtor = context.$options._base;\n\n  // plain options object: turn it into a constructor\n  if (isObject(Ctor)) {\n    Ctor = baseCtor.extend(Ctor);\n  }\n\n  // if at this stage it's not a constructor or an async component factory,\n  // reject.\n  if (typeof Ctor !== 'function') {\n    if (process.env.NODE_ENV !== 'production') {\n      warn((\"Invalid Component definition: \" + (String(Ctor))), context);\n    }\n    return\n  }\n\n  // async component\n  var asyncFactory;\n  if (isUndef(Ctor.cid)) {\n    asyncFactory = Ctor;\n    Ctor = resolveAsyncComponent(asyncFactory, baseCtor);\n    if (Ctor === undefined) {\n      // return a placeholder node for async component, which is rendered\n      // as a comment node but preserves all the raw information for the node.\n      // the information will be used for async server-rendering and hydration.\n      return createAsyncPlaceholder(\n        asyncFactory,\n        data,\n        context,\n        children,\n        tag\n      )\n    }\n  }\n\n  data = data || {};\n\n  // resolve constructor options in case global mixins are applied after\n  // component constructor creation\n  resolveConstructorOptions(Ctor);\n\n  // transform component v-model data into props & events\n  if (isDef(data.model)) {\n    transformModel(Ctor.options, data);\n  }\n\n  // extract props\n  var propsData = extractPropsFromVNodeData(data, Ctor, tag);\n\n  // functional component\n  if (isTrue(Ctor.options.functional)) {\n    return createFunctionalComponent(Ctor, propsData, data, context, children)\n  }\n\n  // extract listeners, since these needs to be treated as\n  // child component listeners instead of DOM listeners\n  var listeners = data.on;\n  // replace with listeners with .native modifier\n  // so it gets processed during parent component patch.\n  data.on = data.nativeOn;\n\n  if (isTrue(Ctor.options.abstract)) {\n    // abstract components do not keep anything\n    // other than props & listeners & slot\n\n    // work around flow\n    var slot = data.slot;\n    data = {};\n    if (slot) {\n      data.slot = slot;\n    }\n  }\n\n  // install component management hooks onto the placeholder node\n  installComponentHooks(data);\n\n  // return a placeholder vnode\n  var name = Ctor.options.name || tag;\n  var vnode = new VNode(\n    (\"vue-component-\" + (Ctor.cid) + (name ? (\"-\" + name) : '')),\n    data, undefined, undefined, undefined, context,\n    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },\n    asyncFactory\n  );\n\n  return vnode\n}\n\nfunction createComponentInstanceForVnode (\n  vnode, // we know it's MountedComponentVNode but flow doesn't\n  parent // activeInstance in lifecycle state\n) {\n  var options = {\n    _isComponent: true,\n    _parentVnode: vnode,\n    parent: parent\n  };\n  // check inline-template render functions\n  var inlineTemplate = vnode.data.inlineTemplate;\n  if (isDef(inlineTemplate)) {\n    options.render = inlineTemplate.render;\n    options.staticRenderFns = inlineTemplate.staticRenderFns;\n  }\n  return new vnode.componentOptions.Ctor(options)\n}\n\nfunction installComponentHooks (data) {\n  var hooks = data.hook || (data.hook = {});\n  for (var i = 0; i < hooksToMerge.length; i++) {\n    var key = hooksToMerge[i];\n    var existing = hooks[key];\n    var toMerge = componentVNodeHooks[key];\n    if (existing !== toMerge && !(existing && existing._merged)) {\n      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;\n    }\n  }\n}\n\nfunction mergeHook$1 (f1, f2) {\n  var merged = function (a, b) {\n    // flow complains about extra args which is why we use any\n    f1(a, b);\n    f2(a, b);\n  };\n  merged._merged = true;\n  return merged\n}\n\n// transform component v-model info (value and callback) into\n// prop and event handler respectively.\nfunction transformModel (options, data) {\n  var prop = (options.model && options.model.prop) || 'value';\n  var event = (options.model && options.model.event) || 'input'\n  ;(data.attrs || (data.attrs = {}))[prop] = data.model.value;\n  var on = data.on || (data.on = {});\n  var existing = on[event];\n  var callback = data.model.callback;\n  if (isDef(existing)) {\n    if (\n      Array.isArray(existing)\n        ? existing.indexOf(callback) === -1\n        : existing !== callback\n    ) {\n      on[event] = [callback].concat(existing);\n    }\n  } else {\n    on[event] = callback;\n  }\n}\n\n/*  */\n\nvar SIMPLE_NORMALIZE = 1;\nvar ALWAYS_NORMALIZE = 2;\n\n// wrapper function for providing a more flexible interface\n// without getting yelled at by flow\nfunction createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType,\n  alwaysNormalize\n) {\n  if (Array.isArray(data) || isPrimitive(data)) {\n    normalizationType = children;\n    children = data;\n    data = undefined;\n  }\n  if (isTrue(alwaysNormalize)) {\n    normalizationType = ALWAYS_NORMALIZE;\n  }\n  return _createElement(context, tag, data, children, normalizationType)\n}\n\nfunction _createElement (\n  context,\n  tag,\n  data,\n  children,\n  normalizationType\n) {\n  if (isDef(data) && isDef((data).__ob__)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"Avoid using observed data object as vnode data: \" + (JSON.stringify(data)) + \"\\n\" +\n      'Always create fresh vnode data objects in each render!',\n      context\n    );\n    return createEmptyVNode()\n  }\n  // object syntax in v-bind\n  if (isDef(data) && isDef(data.is)) {\n    tag = data.is;\n  }\n  if (!tag) {\n    // in case of component :is set to falsy value\n    return createEmptyVNode()\n  }\n  // warn against non-primitive key\n  if (process.env.NODE_ENV !== 'production' &&\n    isDef(data) && isDef(data.key) && !isPrimitive(data.key)\n  ) {\n    {\n      warn(\n        'Avoid using non-primitive value as key, ' +\n        'use string/number value instead.',\n        context\n      );\n    }\n  }\n  // support single function children as default scoped slot\n  if (Array.isArray(children) &&\n    typeof children[0] === 'function'\n  ) {\n    data = data || {};\n    data.scopedSlots = { default: children[0] };\n    children.length = 0;\n  }\n  if (normalizationType === ALWAYS_NORMALIZE) {\n    children = normalizeChildren(children);\n  } else if (normalizationType === SIMPLE_NORMALIZE) {\n    children = simpleNormalizeChildren(children);\n  }\n  var vnode, ns;\n  if (typeof tag === 'string') {\n    var Ctor;\n    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);\n    if (config.isReservedTag(tag)) {\n      // platform built-in elements\n      if (process.env.NODE_ENV !== 'production' && isDef(data) && isDef(data.nativeOn)) {\n        warn(\n          (\"The .native modifier for v-on is only valid on components but it was used on <\" + tag + \">.\"),\n          context\n        );\n      }\n      vnode = new VNode(\n        config.parsePlatformTagName(tag), data, children,\n        undefined, undefined, context\n      );\n    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {\n      // component\n      vnode = createComponent(Ctor, data, context, children, tag);\n    } else {\n      // unknown or unlisted namespaced elements\n      // check at runtime because it may get assigned a namespace when its\n      // parent normalizes children\n      vnode = new VNode(\n        tag, data, children,\n        undefined, undefined, context\n      );\n    }\n  } else {\n    // direct component options / constructor\n    vnode = createComponent(tag, data, context, children);\n  }\n  if (Array.isArray(vnode)) {\n    return vnode\n  } else if (isDef(vnode)) {\n    if (isDef(ns)) { applyNS(vnode, ns); }\n    if (isDef(data)) { registerDeepBindings(data); }\n    return vnode\n  } else {\n    return createEmptyVNode()\n  }\n}\n\nfunction applyNS (vnode, ns, force) {\n  vnode.ns = ns;\n  if (vnode.tag === 'foreignObject') {\n    // use default namespace inside foreignObject\n    ns = undefined;\n    force = true;\n  }\n  if (isDef(vnode.children)) {\n    for (var i = 0, l = vnode.children.length; i < l; i++) {\n      var child = vnode.children[i];\n      if (isDef(child.tag) && (\n        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {\n        applyNS(child, ns, force);\n      }\n    }\n  }\n}\n\n// ref #5318\n// necessary to ensure parent re-render when deep bindings like :style and\n// :class are used on slot nodes\nfunction registerDeepBindings (data) {\n  if (isObject(data.style)) {\n    traverse(data.style);\n  }\n  if (isObject(data.class)) {\n    traverse(data.class);\n  }\n}\n\n/*  */\n\nfunction initRender (vm) {\n  vm._vnode = null; // the root of the child tree\n  vm._staticTrees = null; // v-once cached trees\n  var options = vm.$options;\n  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree\n  var renderContext = parentVnode && parentVnode.context;\n  vm.$slots = resolveSlots(options._renderChildren, renderContext);\n  vm.$scopedSlots = emptyObject;\n  // bind the createElement fn to this instance\n  // so that we get proper render context inside it.\n  // args order: tag, data, children, normalizationType, alwaysNormalize\n  // internal version is used by render functions compiled from templates\n  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };\n  // normalization is always applied for the public version, used in\n  // user-written render functions.\n  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };\n\n  // $attrs & $listeners are exposed for easier HOC creation.\n  // they need to be reactive so that HOCs using them are always updated\n  var parentData = parentVnode && parentVnode.data;\n\n  /* istanbul ignore else */\n  if (process.env.NODE_ENV !== 'production') {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$attrs is readonly.\", vm);\n    }, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, function () {\n      !isUpdatingChildComponent && warn(\"$listeners is readonly.\", vm);\n    }, true);\n  } else {\n    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);\n    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);\n  }\n}\n\nvar currentRenderingInstance = null;\n\nfunction renderMixin (Vue) {\n  // install runtime convenience helpers\n  installRenderHelpers(Vue.prototype);\n\n  Vue.prototype.$nextTick = function (fn) {\n    return nextTick(fn, this)\n  };\n\n  Vue.prototype._render = function () {\n    var vm = this;\n    var ref = vm.$options;\n    var render = ref.render;\n    var _parentVnode = ref._parentVnode;\n\n    if (_parentVnode) {\n      vm.$scopedSlots = normalizeScopedSlots(\n        _parentVnode.data.scopedSlots,\n        vm.$slots,\n        vm.$scopedSlots\n      );\n    }\n\n    // set parent vnode. this allows render functions to have access\n    // to the data on the placeholder node.\n    vm.$vnode = _parentVnode;\n    // render self\n    var vnode;\n    try {\n      // There's no need to maintain a stack because all render fns are called\n      // separately from one another. Nested component's render fns are called\n      // when parent component is patched.\n      currentRenderingInstance = vm;\n      vnode = render.call(vm._renderProxy, vm.$createElement);\n    } catch (e) {\n      handleError(e, vm, \"render\");\n      // return error render result,\n      // or previous vnode to prevent render error causing blank component\n      /* istanbul ignore else */\n      if (process.env.NODE_ENV !== 'production' && vm.$options.renderError) {\n        try {\n          vnode = vm.$options.renderError.call(vm._renderProxy, vm.$createElement, e);\n        } catch (e) {\n          handleError(e, vm, \"renderError\");\n          vnode = vm._vnode;\n        }\n      } else {\n        vnode = vm._vnode;\n      }\n    } finally {\n      currentRenderingInstance = null;\n    }\n    // if the returned array contains only a single node, allow it\n    if (Array.isArray(vnode) && vnode.length === 1) {\n      vnode = vnode[0];\n    }\n    // return empty vnode in case the render function errored out\n    if (!(vnode instanceof VNode)) {\n      if (process.env.NODE_ENV !== 'production' && Array.isArray(vnode)) {\n        warn(\n          'Multiple root nodes returned from render function. Render function ' +\n          'should return a single root node.',\n          vm\n        );\n      }\n      vnode = createEmptyVNode();\n    }\n    // set parent\n    vnode.parent = _parentVnode;\n    return vnode\n  };\n}\n\n/*  */\n\nfunction ensureCtor (comp, base) {\n  if (\n    comp.__esModule ||\n    (hasSymbol && comp[Symbol.toStringTag] === 'Module')\n  ) {\n    comp = comp.default;\n  }\n  return isObject(comp)\n    ? base.extend(comp)\n    : comp\n}\n\nfunction createAsyncPlaceholder (\n  factory,\n  data,\n  context,\n  children,\n  tag\n) {\n  var node = createEmptyVNode();\n  node.asyncFactory = factory;\n  node.asyncMeta = { data: data, context: context, children: children, tag: tag };\n  return node\n}\n\nfunction resolveAsyncComponent (\n  factory,\n  baseCtor\n) {\n  if (isTrue(factory.error) && isDef(factory.errorComp)) {\n    return factory.errorComp\n  }\n\n  if (isDef(factory.resolved)) {\n    return factory.resolved\n  }\n\n  var owner = currentRenderingInstance;\n  if (owner && isDef(factory.owners) && factory.owners.indexOf(owner) === -1) {\n    // already pending\n    factory.owners.push(owner);\n  }\n\n  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {\n    return factory.loadingComp\n  }\n\n  if (owner && !isDef(factory.owners)) {\n    var owners = factory.owners = [owner];\n    var sync = true;\n    var timerLoading = null;\n    var timerTimeout = null\n\n    ;(owner).$on('hook:destroyed', function () { return remove(owners, owner); });\n\n    var forceRender = function (renderCompleted) {\n      for (var i = 0, l = owners.length; i < l; i++) {\n        (owners[i]).$forceUpdate();\n      }\n\n      if (renderCompleted) {\n        owners.length = 0;\n        if (timerLoading !== null) {\n          clearTimeout(timerLoading);\n          timerLoading = null;\n        }\n        if (timerTimeout !== null) {\n          clearTimeout(timerTimeout);\n          timerTimeout = null;\n        }\n      }\n    };\n\n    var resolve = once(function (res) {\n      // cache resolved\n      factory.resolved = ensureCtor(res, baseCtor);\n      // invoke callbacks only if this is not a synchronous resolve\n      // (async resolves are shimmed as synchronous during SSR)\n      if (!sync) {\n        forceRender(true);\n      } else {\n        owners.length = 0;\n      }\n    });\n\n    var reject = once(function (reason) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed to resolve async component: \" + (String(factory)) +\n        (reason ? (\"\\nReason: \" + reason) : '')\n      );\n      if (isDef(factory.errorComp)) {\n        factory.error = true;\n        forceRender(true);\n      }\n    });\n\n    var res = factory(resolve, reject);\n\n    if (isObject(res)) {\n      if (isPromise(res)) {\n        // () => Promise\n        if (isUndef(factory.resolved)) {\n          res.then(resolve, reject);\n        }\n      } else if (isPromise(res.component)) {\n        res.component.then(resolve, reject);\n\n        if (isDef(res.error)) {\n          factory.errorComp = ensureCtor(res.error, baseCtor);\n        }\n\n        if (isDef(res.loading)) {\n          factory.loadingComp = ensureCtor(res.loading, baseCtor);\n          if (res.delay === 0) {\n            factory.loading = true;\n          } else {\n            timerLoading = setTimeout(function () {\n              timerLoading = null;\n              if (isUndef(factory.resolved) && isUndef(factory.error)) {\n                factory.loading = true;\n                forceRender(false);\n              }\n            }, res.delay || 200);\n          }\n        }\n\n        if (isDef(res.timeout)) {\n          timerTimeout = setTimeout(function () {\n            timerTimeout = null;\n            if (isUndef(factory.resolved)) {\n              reject(\n                process.env.NODE_ENV !== 'production'\n                  ? (\"timeout (\" + (res.timeout) + \"ms)\")\n                  : null\n              );\n            }\n          }, res.timeout);\n        }\n      }\n    }\n\n    sync = false;\n    // return in case resolved synchronously\n    return factory.loading\n      ? factory.loadingComp\n      : factory.resolved\n  }\n}\n\n/*  */\n\nfunction isAsyncPlaceholder (node) {\n  return node.isComment && node.asyncFactory\n}\n\n/*  */\n\nfunction getFirstComponentChild (children) {\n  if (Array.isArray(children)) {\n    for (var i = 0; i < children.length; i++) {\n      var c = children[i];\n      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {\n        return c\n      }\n    }\n  }\n}\n\n/*  */\n\n/*  */\n\nfunction initEvents (vm) {\n  vm._events = Object.create(null);\n  vm._hasHookEvent = false;\n  // init parent attached events\n  var listeners = vm.$options._parentListeners;\n  if (listeners) {\n    updateComponentListeners(vm, listeners);\n  }\n}\n\nvar target;\n\nfunction add (event, fn) {\n  target.$on(event, fn);\n}\n\nfunction remove$1 (event, fn) {\n  target.$off(event, fn);\n}\n\nfunction createOnceHandler (event, fn) {\n  var _target = target;\n  return function onceHandler () {\n    var res = fn.apply(null, arguments);\n    if (res !== null) {\n      _target.$off(event, onceHandler);\n    }\n  }\n}\n\nfunction updateComponentListeners (\n  vm,\n  listeners,\n  oldListeners\n) {\n  target = vm;\n  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);\n  target = undefined;\n}\n\nfunction eventsMixin (Vue) {\n  var hookRE = /^hook:/;\n  Vue.prototype.$on = function (event, fn) {\n    var vm = this;\n    if (Array.isArray(event)) {\n      for (var i = 0, l = event.length; i < l; i++) {\n        vm.$on(event[i], fn);\n      }\n    } else {\n      (vm._events[event] || (vm._events[event] = [])).push(fn);\n      // optimize hook:event cost by using a boolean flag marked at registration\n      // instead of a hash lookup\n      if (hookRE.test(event)) {\n        vm._hasHookEvent = true;\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$once = function (event, fn) {\n    var vm = this;\n    function on () {\n      vm.$off(event, on);\n      fn.apply(vm, arguments);\n    }\n    on.fn = fn;\n    vm.$on(event, on);\n    return vm\n  };\n\n  Vue.prototype.$off = function (event, fn) {\n    var vm = this;\n    // all\n    if (!arguments.length) {\n      vm._events = Object.create(null);\n      return vm\n    }\n    // array of events\n    if (Array.isArray(event)) {\n      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {\n        vm.$off(event[i$1], fn);\n      }\n      return vm\n    }\n    // specific event\n    var cbs = vm._events[event];\n    if (!cbs) {\n      return vm\n    }\n    if (!fn) {\n      vm._events[event] = null;\n      return vm\n    }\n    // specific handler\n    var cb;\n    var i = cbs.length;\n    while (i--) {\n      cb = cbs[i];\n      if (cb === fn || cb.fn === fn) {\n        cbs.splice(i, 1);\n        break\n      }\n    }\n    return vm\n  };\n\n  Vue.prototype.$emit = function (event) {\n    var vm = this;\n    if (process.env.NODE_ENV !== 'production') {\n      var lowerCaseEvent = event.toLowerCase();\n      if (lowerCaseEvent !== event && vm._events[lowerCaseEvent]) {\n        tip(\n          \"Event \\\"\" + lowerCaseEvent + \"\\\" is emitted in component \" +\n          (formatComponentName(vm)) + \" but the handler is registered for \\\"\" + event + \"\\\". \" +\n          \"Note that HTML attributes are case-insensitive and you cannot use \" +\n          \"v-on to listen to camelCase events when using in-DOM templates. \" +\n          \"You should probably use \\\"\" + (hyphenate(event)) + \"\\\" instead of \\\"\" + event + \"\\\".\"\n        );\n      }\n    }\n    var cbs = vm._events[event];\n    if (cbs) {\n      cbs = cbs.length > 1 ? toArray(cbs) : cbs;\n      var args = toArray(arguments, 1);\n      var info = \"event handler for \\\"\" + event + \"\\\"\";\n      for (var i = 0, l = cbs.length; i < l; i++) {\n        invokeWithErrorHandling(cbs[i], vm, args, vm, info);\n      }\n    }\n    return vm\n  };\n}\n\n/*  */\n\nvar activeInstance = null;\nvar isUpdatingChildComponent = false;\n\nfunction setActiveInstance(vm) {\n  var prevActiveInstance = activeInstance;\n  activeInstance = vm;\n  return function () {\n    activeInstance = prevActiveInstance;\n  }\n}\n\nfunction initLifecycle (vm) {\n  var options = vm.$options;\n\n  // locate first non-abstract parent\n  var parent = options.parent;\n  if (parent && !options.abstract) {\n    while (parent.$options.abstract && parent.$parent) {\n      parent = parent.$parent;\n    }\n    parent.$children.push(vm);\n  }\n\n  vm.$parent = parent;\n  vm.$root = parent ? parent.$root : vm;\n\n  vm.$children = [];\n  vm.$refs = {};\n\n  vm._watcher = null;\n  vm._inactive = null;\n  vm._directInactive = false;\n  vm._isMounted = false;\n  vm._isDestroyed = false;\n  vm._isBeingDestroyed = false;\n}\n\nfunction lifecycleMixin (Vue) {\n  Vue.prototype._update = function (vnode, hydrating) {\n    var vm = this;\n    var prevEl = vm.$el;\n    var prevVnode = vm._vnode;\n    var restoreActiveInstance = setActiveInstance(vm);\n    vm._vnode = vnode;\n    // Vue.prototype.__patch__ is injected in entry points\n    // based on the rendering backend used.\n    if (!prevVnode) {\n      // initial render\n      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);\n    } else {\n      // updates\n      vm.$el = vm.__patch__(prevVnode, vnode);\n    }\n    restoreActiveInstance();\n    // update __vue__ reference\n    if (prevEl) {\n      prevEl.__vue__ = null;\n    }\n    if (vm.$el) {\n      vm.$el.__vue__ = vm;\n    }\n    // if parent is an HOC, update its $el as well\n    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {\n      vm.$parent.$el = vm.$el;\n    }\n    // updated hook is called by the scheduler to ensure that children are\n    // updated in a parent's updated hook.\n  };\n\n  Vue.prototype.$forceUpdate = function () {\n    var vm = this;\n    if (vm._watcher) {\n      vm._watcher.update();\n    }\n  };\n\n  Vue.prototype.$destroy = function () {\n    var vm = this;\n    if (vm._isBeingDestroyed) {\n      return\n    }\n    callHook(vm, 'beforeDestroy');\n    vm._isBeingDestroyed = true;\n    // remove self from parent\n    var parent = vm.$parent;\n    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {\n      remove(parent.$children, vm);\n    }\n    // teardown watchers\n    if (vm._watcher) {\n      vm._watcher.teardown();\n    }\n    var i = vm._watchers.length;\n    while (i--) {\n      vm._watchers[i].teardown();\n    }\n    // remove reference from data ob\n    // frozen object may not have observer.\n    if (vm._data.__ob__) {\n      vm._data.__ob__.vmCount--;\n    }\n    // call the last hook...\n    vm._isDestroyed = true;\n    // invoke destroy hooks on current rendered tree\n    vm.__patch__(vm._vnode, null);\n    // fire destroyed hook\n    callHook(vm, 'destroyed');\n    // turn off all instance listeners.\n    vm.$off();\n    // remove __vue__ reference\n    if (vm.$el) {\n      vm.$el.__vue__ = null;\n    }\n    // release circular reference (#6759)\n    if (vm.$vnode) {\n      vm.$vnode.parent = null;\n    }\n  };\n}\n\nfunction mountComponent (\n  vm,\n  el,\n  hydrating\n) {\n  vm.$el = el;\n  if (!vm.$options.render) {\n    vm.$options.render = createEmptyVNode;\n    if (process.env.NODE_ENV !== 'production') {\n      /* istanbul ignore if */\n      if ((vm.$options.template && vm.$options.template.charAt(0) !== '#') ||\n        vm.$options.el || el) {\n        warn(\n          'You are using the runtime-only build of Vue where the template ' +\n          'compiler is not available. Either pre-compile the templates into ' +\n          'render functions, or use the compiler-included build.',\n          vm\n        );\n      } else {\n        warn(\n          'Failed to mount component: template or render function not defined.',\n          vm\n        );\n      }\n    }\n  }\n  callHook(vm, 'beforeMount');\n\n  var updateComponent;\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n    updateComponent = function () {\n      var name = vm._name;\n      var id = vm._uid;\n      var startTag = \"vue-perf-start:\" + id;\n      var endTag = \"vue-perf-end:\" + id;\n\n      mark(startTag);\n      var vnode = vm._render();\n      mark(endTag);\n      measure((\"vue \" + name + \" render\"), startTag, endTag);\n\n      mark(startTag);\n      vm._update(vnode, hydrating);\n      mark(endTag);\n      measure((\"vue \" + name + \" patch\"), startTag, endTag);\n    };\n  } else {\n    updateComponent = function () {\n      vm._update(vm._render(), hydrating);\n    };\n  }\n\n  // we set this to vm._watcher inside the watcher's constructor\n  // since the watcher's initial patch may call $forceUpdate (e.g. inside child\n  // component's mounted hook), which relies on vm._watcher being already defined\n  new Watcher(vm, updateComponent, noop, {\n    before: function before () {\n      if (vm._isMounted && !vm._isDestroyed) {\n        callHook(vm, 'beforeUpdate');\n      }\n    }\n  }, true /* isRenderWatcher */);\n  hydrating = false;\n\n  // manually mounted instance, call mounted on self\n  // mounted is called for render-created child components in its inserted hook\n  if (vm.$vnode == null) {\n    vm._isMounted = true;\n    callHook(vm, 'mounted');\n  }\n  return vm\n}\n\nfunction updateChildComponent (\n  vm,\n  propsData,\n  listeners,\n  parentVnode,\n  renderChildren\n) {\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = true;\n  }\n\n  // determine whether component has slot children\n  // we need to do this before overwriting $options._renderChildren.\n\n  // check if there are dynamic scopedSlots (hand-written or compiled but with\n  // dynamic slot names). Static scoped slots compiled from template has the\n  // \"$stable\" marker.\n  var newScopedSlots = parentVnode.data.scopedSlots;\n  var oldScopedSlots = vm.$scopedSlots;\n  var hasDynamicScopedSlot = !!(\n    (newScopedSlots && !newScopedSlots.$stable) ||\n    (oldScopedSlots !== emptyObject && !oldScopedSlots.$stable) ||\n    (newScopedSlots && vm.$scopedSlots.$key !== newScopedSlots.$key)\n  );\n\n  // Any static slot children from the parent may have changed during parent's\n  // update. Dynamic scoped slots may also have changed. In such cases, a forced\n  // update is necessary to ensure correctness.\n  var needsForceUpdate = !!(\n    renderChildren ||               // has new static slots\n    vm.$options._renderChildren ||  // has old static slots\n    hasDynamicScopedSlot\n  );\n\n  vm.$options._parentVnode = parentVnode;\n  vm.$vnode = parentVnode; // update vm's placeholder node without re-render\n\n  if (vm._vnode) { // update child tree's parent\n    vm._vnode.parent = parentVnode;\n  }\n  vm.$options._renderChildren = renderChildren;\n\n  // update $attrs and $listeners hash\n  // these are also reactive so they may trigger child update if the child\n  // used them during render\n  vm.$attrs = parentVnode.data.attrs || emptyObject;\n  vm.$listeners = listeners || emptyObject;\n\n  // update props\n  if (propsData && vm.$options.props) {\n    toggleObserving(false);\n    var props = vm._props;\n    var propKeys = vm.$options._propKeys || [];\n    for (var i = 0; i < propKeys.length; i++) {\n      var key = propKeys[i];\n      var propOptions = vm.$options.props; // wtf flow?\n      props[key] = validateProp(key, propOptions, propsData, vm);\n    }\n    toggleObserving(true);\n    // keep a copy of raw propsData\n    vm.$options.propsData = propsData;\n  }\n\n  // update listeners\n  listeners = listeners || emptyObject;\n  var oldListeners = vm.$options._parentListeners;\n  vm.$options._parentListeners = listeners;\n  updateComponentListeners(vm, listeners, oldListeners);\n\n  // resolve slots + force update if has children\n  if (needsForceUpdate) {\n    vm.$slots = resolveSlots(renderChildren, parentVnode.context);\n    vm.$forceUpdate();\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    isUpdatingChildComponent = false;\n  }\n}\n\nfunction isInInactiveTree (vm) {\n  while (vm && (vm = vm.$parent)) {\n    if (vm._inactive) { return true }\n  }\n  return false\n}\n\nfunction activateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = false;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  } else if (vm._directInactive) {\n    return\n  }\n  if (vm._inactive || vm._inactive === null) {\n    vm._inactive = false;\n    for (var i = 0; i < vm.$children.length; i++) {\n      activateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'activated');\n  }\n}\n\nfunction deactivateChildComponent (vm, direct) {\n  if (direct) {\n    vm._directInactive = true;\n    if (isInInactiveTree(vm)) {\n      return\n    }\n  }\n  if (!vm._inactive) {\n    vm._inactive = true;\n    for (var i = 0; i < vm.$children.length; i++) {\n      deactivateChildComponent(vm.$children[i]);\n    }\n    callHook(vm, 'deactivated');\n  }\n}\n\nfunction callHook (vm, hook) {\n  // #7573 disable dep collection when invoking lifecycle hooks\n  pushTarget();\n  var handlers = vm.$options[hook];\n  var info = hook + \" hook\";\n  if (handlers) {\n    for (var i = 0, j = handlers.length; i < j; i++) {\n      invokeWithErrorHandling(handlers[i], vm, null, vm, info);\n    }\n  }\n  if (vm._hasHookEvent) {\n    vm.$emit('hook:' + hook);\n  }\n  popTarget();\n}\n\n/*  */\n\nvar MAX_UPDATE_COUNT = 100;\n\nvar queue = [];\nvar activatedChildren = [];\nvar has = {};\nvar circular = {};\nvar waiting = false;\nvar flushing = false;\nvar index = 0;\n\n/**\n * Reset the scheduler's state.\n */\nfunction resetSchedulerState () {\n  index = queue.length = activatedChildren.length = 0;\n  has = {};\n  if (process.env.NODE_ENV !== 'production') {\n    circular = {};\n  }\n  waiting = flushing = false;\n}\n\n// Async edge case #6566 requires saving the timestamp when event listeners are\n// attached. However, calling performance.now() has a perf overhead especially\n// if the page has thousands of event listeners. Instead, we take a timestamp\n// every time the scheduler flushes and use that for all event listeners\n// attached during that flush.\nvar currentFlushTimestamp = 0;\n\n// Async edge case fix requires storing an event listener's attach timestamp.\nvar getNow = Date.now;\n\n// Determine what event timestamp the browser is using. Annoyingly, the\n// timestamp can either be hi-res (relative to page load) or low-res\n// (relative to UNIX epoch), so in order to compare time we have to use the\n// same timestamp type when saving the flush timestamp.\n// All IE versions use low-res event timestamps, and have problematic clock\n// implementations (#9632)\nif (inBrowser && !isIE) {\n  var performance = window.performance;\n  if (\n    performance &&\n    typeof performance.now === 'function' &&\n    getNow() > document.createEvent('Event').timeStamp\n  ) {\n    // if the event timestamp, although evaluated AFTER the Date.now(), is\n    // smaller than it, it means the event is using a hi-res timestamp,\n    // and we need to use the hi-res version for event listener timestamps as\n    // well.\n    getNow = function () { return performance.now(); };\n  }\n}\n\n/**\n * Flush both queues and run the watchers.\n */\nfunction flushSchedulerQueue () {\n  currentFlushTimestamp = getNow();\n  flushing = true;\n  var watcher, id;\n\n  // Sort queue before flush.\n  // This ensures that:\n  // 1. Components are updated from parent to child. (because parent is always\n  //    created before the child)\n  // 2. A component's user watchers are run before its render watcher (because\n  //    user watchers are created before the render watcher)\n  // 3. If a component is destroyed during a parent component's watcher run,\n  //    its watchers can be skipped.\n  queue.sort(function (a, b) { return a.id - b.id; });\n\n  // do not cache length because more watchers might be pushed\n  // as we run existing watchers\n  for (index = 0; index < queue.length; index++) {\n    watcher = queue[index];\n    if (watcher.before) {\n      watcher.before();\n    }\n    id = watcher.id;\n    has[id] = null;\n    watcher.run();\n    // in dev build, check and stop circular updates.\n    if (process.env.NODE_ENV !== 'production' && has[id] != null) {\n      circular[id] = (circular[id] || 0) + 1;\n      if (circular[id] > MAX_UPDATE_COUNT) {\n        warn(\n          'You may have an infinite update loop ' + (\n            watcher.user\n              ? (\"in watcher with expression \\\"\" + (watcher.expression) + \"\\\"\")\n              : \"in a component render function.\"\n          ),\n          watcher.vm\n        );\n        break\n      }\n    }\n  }\n\n  // keep copies of post queues before resetting state\n  var activatedQueue = activatedChildren.slice();\n  var updatedQueue = queue.slice();\n\n  resetSchedulerState();\n\n  // call component updated and activated hooks\n  callActivatedHooks(activatedQueue);\n  callUpdatedHooks(updatedQueue);\n\n  // devtool hook\n  /* istanbul ignore if */\n  if (devtools && config.devtools) {\n    devtools.emit('flush');\n  }\n}\n\nfunction callUpdatedHooks (queue) {\n  var i = queue.length;\n  while (i--) {\n    var watcher = queue[i];\n    var vm = watcher.vm;\n    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {\n      callHook(vm, 'updated');\n    }\n  }\n}\n\n/**\n * Queue a kept-alive component that was activated during patch.\n * The queue will be processed after the entire tree has been patched.\n */\nfunction queueActivatedComponent (vm) {\n  // setting _inactive to false here so that a render function can\n  // rely on checking whether it's in an inactive tree (e.g. router-view)\n  vm._inactive = false;\n  activatedChildren.push(vm);\n}\n\nfunction callActivatedHooks (queue) {\n  for (var i = 0; i < queue.length; i++) {\n    queue[i]._inactive = true;\n    activateChildComponent(queue[i], true /* true */);\n  }\n}\n\n/**\n * Push a watcher into the watcher queue.\n * Jobs with duplicate IDs will be skipped unless it's\n * pushed when the queue is being flushed.\n */\nfunction queueWatcher (watcher) {\n  var id = watcher.id;\n  if (has[id] == null) {\n    has[id] = true;\n    if (!flushing) {\n      queue.push(watcher);\n    } else {\n      // if already flushing, splice the watcher based on its id\n      // if already past its id, it will be run next immediately.\n      var i = queue.length - 1;\n      while (i > index && queue[i].id > watcher.id) {\n        i--;\n      }\n      queue.splice(i + 1, 0, watcher);\n    }\n    // queue the flush\n    if (!waiting) {\n      waiting = true;\n\n      if (process.env.NODE_ENV !== 'production' && !config.async) {\n        flushSchedulerQueue();\n        return\n      }\n      nextTick(flushSchedulerQueue);\n    }\n  }\n}\n\n/*  */\n\n\n\nvar uid$2 = 0;\n\n/**\n * A watcher parses an expression, collects dependencies,\n * and fires callback when the expression value changes.\n * This is used for both the $watch() api and directives.\n */\nvar Watcher = function Watcher (\n  vm,\n  expOrFn,\n  cb,\n  options,\n  isRenderWatcher\n) {\n  this.vm = vm;\n  if (isRenderWatcher) {\n    vm._watcher = this;\n  }\n  vm._watchers.push(this);\n  // options\n  if (options) {\n    this.deep = !!options.deep;\n    this.user = !!options.user;\n    this.lazy = !!options.lazy;\n    this.sync = !!options.sync;\n    this.before = options.before;\n  } else {\n    this.deep = this.user = this.lazy = this.sync = false;\n  }\n  this.cb = cb;\n  this.id = ++uid$2; // uid for batching\n  this.active = true;\n  this.dirty = this.lazy; // for lazy watchers\n  this.deps = [];\n  this.newDeps = [];\n  this.depIds = new _Set();\n  this.newDepIds = new _Set();\n  this.expression = process.env.NODE_ENV !== 'production'\n    ? expOrFn.toString()\n    : '';\n  // parse expression for getter\n  if (typeof expOrFn === 'function') {\n    this.getter = expOrFn;\n  } else {\n    this.getter = parsePath(expOrFn);\n    if (!this.getter) {\n      this.getter = noop;\n      process.env.NODE_ENV !== 'production' && warn(\n        \"Failed watching path: \\\"\" + expOrFn + \"\\\" \" +\n        'Watcher only accepts simple dot-delimited paths. ' +\n        'For full control, use a function instead.',\n        vm\n      );\n    }\n  }\n  this.value = this.lazy\n    ? undefined\n    : this.get();\n};\n\n/**\n * Evaluate the getter, and re-collect dependencies.\n */\nWatcher.prototype.get = function get () {\n  pushTarget(this);\n  var value;\n  var vm = this.vm;\n  try {\n    value = this.getter.call(vm, vm);\n  } catch (e) {\n    if (this.user) {\n      handleError(e, vm, (\"getter for watcher \\\"\" + (this.expression) + \"\\\"\"));\n    } else {\n      throw e\n    }\n  } finally {\n    // \"touch\" every property so they are all tracked as\n    // dependencies for deep watching\n    if (this.deep) {\n      traverse(value);\n    }\n    popTarget();\n    this.cleanupDeps();\n  }\n  return value\n};\n\n/**\n * Add a dependency to this directive.\n */\nWatcher.prototype.addDep = function addDep (dep) {\n  var id = dep.id;\n  if (!this.newDepIds.has(id)) {\n    this.newDepIds.add(id);\n    this.newDeps.push(dep);\n    if (!this.depIds.has(id)) {\n      dep.addSub(this);\n    }\n  }\n};\n\n/**\n * Clean up for dependency collection.\n */\nWatcher.prototype.cleanupDeps = function cleanupDeps () {\n  var i = this.deps.length;\n  while (i--) {\n    var dep = this.deps[i];\n    if (!this.newDepIds.has(dep.id)) {\n      dep.removeSub(this);\n    }\n  }\n  var tmp = this.depIds;\n  this.depIds = this.newDepIds;\n  this.newDepIds = tmp;\n  this.newDepIds.clear();\n  tmp = this.deps;\n  this.deps = this.newDeps;\n  this.newDeps = tmp;\n  this.newDeps.length = 0;\n};\n\n/**\n * Subscriber interface.\n * Will be called when a dependency changes.\n */\nWatcher.prototype.update = function update () {\n  /* istanbul ignore else */\n  if (this.lazy) {\n    this.dirty = true;\n  } else if (this.sync) {\n    this.run();\n  } else {\n    queueWatcher(this);\n  }\n};\n\n/**\n * Scheduler job interface.\n * Will be called by the scheduler.\n */\nWatcher.prototype.run = function run () {\n  if (this.active) {\n    var value = this.get();\n    if (\n      value !== this.value ||\n      // Deep watchers and watchers on Object/Arrays should fire even\n      // when the value is the same, because the value may\n      // have mutated.\n      isObject(value) ||\n      this.deep\n    ) {\n      // set new value\n      var oldValue = this.value;\n      this.value = value;\n      if (this.user) {\n        try {\n          this.cb.call(this.vm, value, oldValue);\n        } catch (e) {\n          handleError(e, this.vm, (\"callback for watcher \\\"\" + (this.expression) + \"\\\"\"));\n        }\n      } else {\n        this.cb.call(this.vm, value, oldValue);\n      }\n    }\n  }\n};\n\n/**\n * Evaluate the value of the watcher.\n * This only gets called for lazy watchers.\n */\nWatcher.prototype.evaluate = function evaluate () {\n  this.value = this.get();\n  this.dirty = false;\n};\n\n/**\n * Depend on all deps collected by this watcher.\n */\nWatcher.prototype.depend = function depend () {\n  var i = this.deps.length;\n  while (i--) {\n    this.deps[i].depend();\n  }\n};\n\n/**\n * Remove self from all dependencies' subscriber list.\n */\nWatcher.prototype.teardown = function teardown () {\n  if (this.active) {\n    // remove self from vm's watcher list\n    // this is a somewhat expensive operation so we skip it\n    // if the vm is being destroyed.\n    if (!this.vm._isBeingDestroyed) {\n      remove(this.vm._watchers, this);\n    }\n    var i = this.deps.length;\n    while (i--) {\n      this.deps[i].removeSub(this);\n    }\n    this.active = false;\n  }\n};\n\n/*  */\n\nvar sharedPropertyDefinition = {\n  enumerable: true,\n  configurable: true,\n  get: noop,\n  set: noop\n};\n\nfunction proxy (target, sourceKey, key) {\n  sharedPropertyDefinition.get = function proxyGetter () {\n    return this[sourceKey][key]\n  };\n  sharedPropertyDefinition.set = function proxySetter (val) {\n    this[sourceKey][key] = val;\n  };\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction initState (vm) {\n  vm._watchers = [];\n  var opts = vm.$options;\n  if (opts.props) { initProps(vm, opts.props); }\n  if (opts.methods) { initMethods(vm, opts.methods); }\n  if (opts.data) {\n    initData(vm);\n  } else {\n    observe(vm._data = {}, true /* asRootData */);\n  }\n  if (opts.computed) { initComputed(vm, opts.computed); }\n  if (opts.watch && opts.watch !== nativeWatch) {\n    initWatch(vm, opts.watch);\n  }\n}\n\nfunction initProps (vm, propsOptions) {\n  var propsData = vm.$options.propsData || {};\n  var props = vm._props = {};\n  // cache prop keys so that future props updates can iterate using Array\n  // instead of dynamic object key enumeration.\n  var keys = vm.$options._propKeys = [];\n  var isRoot = !vm.$parent;\n  // root instance props should be converted\n  if (!isRoot) {\n    toggleObserving(false);\n  }\n  var loop = function ( key ) {\n    keys.push(key);\n    var value = validateProp(key, propsOptions, propsData, vm);\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      var hyphenatedKey = hyphenate(key);\n      if (isReservedAttribute(hyphenatedKey) ||\n          config.isReservedAttr(hyphenatedKey)) {\n        warn(\n          (\"\\\"\" + hyphenatedKey + \"\\\" is a reserved attribute and cannot be used as component prop.\"),\n          vm\n        );\n      }\n      defineReactive$$1(props, key, value, function () {\n        if (!isRoot && !isUpdatingChildComponent) {\n          warn(\n            \"Avoid mutating a prop directly since the value will be \" +\n            \"overwritten whenever the parent component re-renders. \" +\n            \"Instead, use a data or computed property based on the prop's \" +\n            \"value. Prop being mutated: \\\"\" + key + \"\\\"\",\n            vm\n          );\n        }\n      });\n    } else {\n      defineReactive$$1(props, key, value);\n    }\n    // static props are already proxied on the component's prototype\n    // during Vue.extend(). We only need to proxy props defined at\n    // instantiation here.\n    if (!(key in vm)) {\n      proxy(vm, \"_props\", key);\n    }\n  };\n\n  for (var key in propsOptions) loop( key );\n  toggleObserving(true);\n}\n\nfunction initData (vm) {\n  var data = vm.$options.data;\n  data = vm._data = typeof data === 'function'\n    ? getData(data, vm)\n    : data || {};\n  if (!isPlainObject(data)) {\n    data = {};\n    process.env.NODE_ENV !== 'production' && warn(\n      'data functions should return an object:\\n' +\n      'https://vuejs.org/v2/guide/components.html#data-Must-Be-a-Function',\n      vm\n    );\n  }\n  // proxy data on instance\n  var keys = Object.keys(data);\n  var props = vm.$options.props;\n  var methods = vm.$options.methods;\n  var i = keys.length;\n  while (i--) {\n    var key = keys[i];\n    if (process.env.NODE_ENV !== 'production') {\n      if (methods && hasOwn(methods, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a data property.\"),\n          vm\n        );\n      }\n    }\n    if (props && hasOwn(props, key)) {\n      process.env.NODE_ENV !== 'production' && warn(\n        \"The data property \\\"\" + key + \"\\\" is already declared as a prop. \" +\n        \"Use prop default value instead.\",\n        vm\n      );\n    } else if (!isReserved(key)) {\n      proxy(vm, \"_data\", key);\n    }\n  }\n  // observe data\n  observe(data, true /* asRootData */);\n}\n\nfunction getData (data, vm) {\n  // #7573 disable dep collection when invoking data getters\n  pushTarget();\n  try {\n    return data.call(vm, vm)\n  } catch (e) {\n    handleError(e, vm, \"data()\");\n    return {}\n  } finally {\n    popTarget();\n  }\n}\n\nvar computedWatcherOptions = { lazy: true };\n\nfunction initComputed (vm, computed) {\n  // $flow-disable-line\n  var watchers = vm._computedWatchers = Object.create(null);\n  // computed properties are just getters during SSR\n  var isSSR = isServerRendering();\n\n  for (var key in computed) {\n    var userDef = computed[key];\n    var getter = typeof userDef === 'function' ? userDef : userDef.get;\n    if (process.env.NODE_ENV !== 'production' && getter == null) {\n      warn(\n        (\"Getter is missing for computed property \\\"\" + key + \"\\\".\"),\n        vm\n      );\n    }\n\n    if (!isSSR) {\n      // create internal watcher for the computed property.\n      watchers[key] = new Watcher(\n        vm,\n        getter || noop,\n        noop,\n        computedWatcherOptions\n      );\n    }\n\n    // component-defined computed properties are already defined on the\n    // component prototype. We only need to define computed properties defined\n    // at instantiation here.\n    if (!(key in vm)) {\n      defineComputed(vm, key, userDef);\n    } else if (process.env.NODE_ENV !== 'production') {\n      if (key in vm.$data) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined in data.\"), vm);\n      } else if (vm.$options.props && key in vm.$options.props) {\n        warn((\"The computed property \\\"\" + key + \"\\\" is already defined as a prop.\"), vm);\n      }\n    }\n  }\n}\n\nfunction defineComputed (\n  target,\n  key,\n  userDef\n) {\n  var shouldCache = !isServerRendering();\n  if (typeof userDef === 'function') {\n    sharedPropertyDefinition.get = shouldCache\n      ? createComputedGetter(key)\n      : createGetterInvoker(userDef);\n    sharedPropertyDefinition.set = noop;\n  } else {\n    sharedPropertyDefinition.get = userDef.get\n      ? shouldCache && userDef.cache !== false\n        ? createComputedGetter(key)\n        : createGetterInvoker(userDef.get)\n      : noop;\n    sharedPropertyDefinition.set = userDef.set || noop;\n  }\n  if (process.env.NODE_ENV !== 'production' &&\n      sharedPropertyDefinition.set === noop) {\n    sharedPropertyDefinition.set = function () {\n      warn(\n        (\"Computed property \\\"\" + key + \"\\\" was assigned to but it has no setter.\"),\n        this\n      );\n    };\n  }\n  Object.defineProperty(target, key, sharedPropertyDefinition);\n}\n\nfunction createComputedGetter (key) {\n  return function computedGetter () {\n    var watcher = this._computedWatchers && this._computedWatchers[key];\n    if (watcher) {\n      if (watcher.dirty) {\n        watcher.evaluate();\n      }\n      if (Dep.target) {\n        watcher.depend();\n      }\n      return watcher.value\n    }\n  }\n}\n\nfunction createGetterInvoker(fn) {\n  return function computedGetter () {\n    return fn.call(this, this)\n  }\n}\n\nfunction initMethods (vm, methods) {\n  var props = vm.$options.props;\n  for (var key in methods) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof methods[key] !== 'function') {\n        warn(\n          \"Method \\\"\" + key + \"\\\" has type \\\"\" + (typeof methods[key]) + \"\\\" in the component definition. \" +\n          \"Did you reference the function correctly?\",\n          vm\n        );\n      }\n      if (props && hasOwn(props, key)) {\n        warn(\n          (\"Method \\\"\" + key + \"\\\" has already been defined as a prop.\"),\n          vm\n        );\n      }\n      if ((key in vm) && isReserved(key)) {\n        warn(\n          \"Method \\\"\" + key + \"\\\" conflicts with an existing Vue instance method. \" +\n          \"Avoid defining component methods that start with _ or $.\"\n        );\n      }\n    }\n    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);\n  }\n}\n\nfunction initWatch (vm, watch) {\n  for (var key in watch) {\n    var handler = watch[key];\n    if (Array.isArray(handler)) {\n      for (var i = 0; i < handler.length; i++) {\n        createWatcher(vm, key, handler[i]);\n      }\n    } else {\n      createWatcher(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatcher (\n  vm,\n  expOrFn,\n  handler,\n  options\n) {\n  if (isPlainObject(handler)) {\n    options = handler;\n    handler = handler.handler;\n  }\n  if (typeof handler === 'string') {\n    handler = vm[handler];\n  }\n  return vm.$watch(expOrFn, handler, options)\n}\n\nfunction stateMixin (Vue) {\n  // flow somehow has problems with directly declared definition object\n  // when using Object.defineProperty, so we have to procedurally build up\n  // the object here.\n  var dataDef = {};\n  dataDef.get = function () { return this._data };\n  var propsDef = {};\n  propsDef.get = function () { return this._props };\n  if (process.env.NODE_ENV !== 'production') {\n    dataDef.set = function () {\n      warn(\n        'Avoid replacing instance root $data. ' +\n        'Use nested data properties instead.',\n        this\n      );\n    };\n    propsDef.set = function () {\n      warn(\"$props is readonly.\", this);\n    };\n  }\n  Object.defineProperty(Vue.prototype, '$data', dataDef);\n  Object.defineProperty(Vue.prototype, '$props', propsDef);\n\n  Vue.prototype.$set = set;\n  Vue.prototype.$delete = del;\n\n  Vue.prototype.$watch = function (\n    expOrFn,\n    cb,\n    options\n  ) {\n    var vm = this;\n    if (isPlainObject(cb)) {\n      return createWatcher(vm, expOrFn, cb, options)\n    }\n    options = options || {};\n    options.user = true;\n    var watcher = new Watcher(vm, expOrFn, cb, options);\n    if (options.immediate) {\n      try {\n        cb.call(vm, watcher.value);\n      } catch (error) {\n        handleError(error, vm, (\"callback for immediate watcher \\\"\" + (watcher.expression) + \"\\\"\"));\n      }\n    }\n    return function unwatchFn () {\n      watcher.teardown();\n    }\n  };\n}\n\n/*  */\n\nvar uid$3 = 0;\n\nfunction initMixin (Vue) {\n  Vue.prototype._init = function (options) {\n    var vm = this;\n    // a uid\n    vm._uid = uid$3++;\n\n    var startTag, endTag;\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      startTag = \"vue-perf-start:\" + (vm._uid);\n      endTag = \"vue-perf-end:\" + (vm._uid);\n      mark(startTag);\n    }\n\n    // a flag to avoid this being observed\n    vm._isVue = true;\n    // merge options\n    if (options && options._isComponent) {\n      // optimize internal component instantiation\n      // since dynamic options merging is pretty slow, and none of the\n      // internal component options needs special treatment.\n      initInternalComponent(vm, options);\n    } else {\n      vm.$options = mergeOptions(\n        resolveConstructorOptions(vm.constructor),\n        options || {},\n        vm\n      );\n    }\n    /* istanbul ignore else */\n    if (process.env.NODE_ENV !== 'production') {\n      initProxy(vm);\n    } else {\n      vm._renderProxy = vm;\n    }\n    // expose real self\n    vm._self = vm;\n    initLifecycle(vm);\n    initEvents(vm);\n    initRender(vm);\n    callHook(vm, 'beforeCreate');\n    initInjections(vm); // resolve injections before data/props\n    initState(vm);\n    initProvide(vm); // resolve provide after data/props\n    callHook(vm, 'created');\n\n    /* istanbul ignore if */\n    if (process.env.NODE_ENV !== 'production' && config.performance && mark) {\n      vm._name = formatComponentName(vm, false);\n      mark(endTag);\n      measure((\"vue \" + (vm._name) + \" init\"), startTag, endTag);\n    }\n\n    if (vm.$options.el) {\n      vm.$mount(vm.$options.el);\n    }\n  };\n}\n\nfunction initInternalComponent (vm, options) {\n  var opts = vm.$options = Object.create(vm.constructor.options);\n  // doing this because it's faster than dynamic enumeration.\n  var parentVnode = options._parentVnode;\n  opts.parent = options.parent;\n  opts._parentVnode = parentVnode;\n\n  var vnodeComponentOptions = parentVnode.componentOptions;\n  opts.propsData = vnodeComponentOptions.propsData;\n  opts._parentListeners = vnodeComponentOptions.listeners;\n  opts._renderChildren = vnodeComponentOptions.children;\n  opts._componentTag = vnodeComponentOptions.tag;\n\n  if (options.render) {\n    opts.render = options.render;\n    opts.staticRenderFns = options.staticRenderFns;\n  }\n}\n\nfunction resolveConstructorOptions (Ctor) {\n  var options = Ctor.options;\n  if (Ctor.super) {\n    var superOptions = resolveConstructorOptions(Ctor.super);\n    var cachedSuperOptions = Ctor.superOptions;\n    if (superOptions !== cachedSuperOptions) {\n      // super option changed,\n      // need to resolve new options.\n      Ctor.superOptions = superOptions;\n      // check if there are any late-modified/attached options (#4976)\n      var modifiedOptions = resolveModifiedOptions(Ctor);\n      // update base extend options\n      if (modifiedOptions) {\n        extend(Ctor.extendOptions, modifiedOptions);\n      }\n      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);\n      if (options.name) {\n        options.components[options.name] = Ctor;\n      }\n    }\n  }\n  return options\n}\n\nfunction resolveModifiedOptions (Ctor) {\n  var modified;\n  var latest = Ctor.options;\n  var sealed = Ctor.sealedOptions;\n  for (var key in latest) {\n    if (latest[key] !== sealed[key]) {\n      if (!modified) { modified = {}; }\n      modified[key] = latest[key];\n    }\n  }\n  return modified\n}\n\nfunction Vue (options) {\n  if (process.env.NODE_ENV !== 'production' &&\n    !(this instanceof Vue)\n  ) {\n    warn('Vue is a constructor and should be called with the `new` keyword');\n  }\n  this._init(options);\n}\n\ninitMixin(Vue);\nstateMixin(Vue);\neventsMixin(Vue);\nlifecycleMixin(Vue);\nrenderMixin(Vue);\n\n/*  */\n\nfunction initUse (Vue) {\n  Vue.use = function (plugin) {\n    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));\n    if (installedPlugins.indexOf(plugin) > -1) {\n      return this\n    }\n\n    // additional parameters\n    var args = toArray(arguments, 1);\n    args.unshift(this);\n    if (typeof plugin.install === 'function') {\n      plugin.install.apply(plugin, args);\n    } else if (typeof plugin === 'function') {\n      plugin.apply(null, args);\n    }\n    installedPlugins.push(plugin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initMixin$1 (Vue) {\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this\n  };\n}\n\n/*  */\n\nfunction initExtend (Vue) {\n  /**\n   * Each instance constructor, including Vue, has a unique\n   * cid. This enables us to create wrapped \"child\n   * constructors\" for prototypal inheritance and cache them.\n   */\n  Vue.cid = 0;\n  var cid = 1;\n\n  /**\n   * Class inheritance\n   */\n  Vue.extend = function (extendOptions) {\n    extendOptions = extendOptions || {};\n    var Super = this;\n    var SuperId = Super.cid;\n    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});\n    if (cachedCtors[SuperId]) {\n      return cachedCtors[SuperId]\n    }\n\n    var name = extendOptions.name || Super.options.name;\n    if (process.env.NODE_ENV !== 'production' && name) {\n      validateComponentName(name);\n    }\n\n    var Sub = function VueComponent (options) {\n      this._init(options);\n    };\n    Sub.prototype = Object.create(Super.prototype);\n    Sub.prototype.constructor = Sub;\n    Sub.cid = cid++;\n    Sub.options = mergeOptions(\n      Super.options,\n      extendOptions\n    );\n    Sub['super'] = Super;\n\n    // For props and computed properties, we define the proxy getters on\n    // the Vue instances at extension time, on the extended prototype. This\n    // avoids Object.defineProperty calls for each instance created.\n    if (Sub.options.props) {\n      initProps$1(Sub);\n    }\n    if (Sub.options.computed) {\n      initComputed$1(Sub);\n    }\n\n    // allow further extension/mixin/plugin usage\n    Sub.extend = Super.extend;\n    Sub.mixin = Super.mixin;\n    Sub.use = Super.use;\n\n    // create asset registers, so extended classes\n    // can have their private assets too.\n    ASSET_TYPES.forEach(function (type) {\n      Sub[type] = Super[type];\n    });\n    // enable recursive self-lookup\n    if (name) {\n      Sub.options.components[name] = Sub;\n    }\n\n    // keep a reference to the super options at extension time.\n    // later at instantiation we can check if Super's options have\n    // been updated.\n    Sub.superOptions = Super.options;\n    Sub.extendOptions = extendOptions;\n    Sub.sealedOptions = extend({}, Sub.options);\n\n    // cache constructor\n    cachedCtors[SuperId] = Sub;\n    return Sub\n  };\n}\n\nfunction initProps$1 (Comp) {\n  var props = Comp.options.props;\n  for (var key in props) {\n    proxy(Comp.prototype, \"_props\", key);\n  }\n}\n\nfunction initComputed$1 (Comp) {\n  var computed = Comp.options.computed;\n  for (var key in computed) {\n    defineComputed(Comp.prototype, key, computed[key]);\n  }\n}\n\n/*  */\n\nfunction initAssetRegisters (Vue) {\n  /**\n   * Create asset registration methods.\n   */\n  ASSET_TYPES.forEach(function (type) {\n    Vue[type] = function (\n      id,\n      definition\n    ) {\n      if (!definition) {\n        return this.options[type + 's'][id]\n      } else {\n        /* istanbul ignore if */\n        if (process.env.NODE_ENV !== 'production' && type === 'component') {\n          validateComponentName(id);\n        }\n        if (type === 'component' && isPlainObject(definition)) {\n          definition.name = definition.name || id;\n          definition = this.options._base.extend(definition);\n        }\n        if (type === 'directive' && typeof definition === 'function') {\n          definition = { bind: definition, update: definition };\n        }\n        this.options[type + 's'][id] = definition;\n        return definition\n      }\n    };\n  });\n}\n\n/*  */\n\n\n\nfunction getComponentName (opts) {\n  return opts && (opts.Ctor.options.name || opts.tag)\n}\n\nfunction matches (pattern, name) {\n  if (Array.isArray(pattern)) {\n    return pattern.indexOf(name) > -1\n  } else if (typeof pattern === 'string') {\n    return pattern.split(',').indexOf(name) > -1\n  } else if (isRegExp(pattern)) {\n    return pattern.test(name)\n  }\n  /* istanbul ignore next */\n  return false\n}\n\nfunction pruneCache (keepAliveInstance, filter) {\n  var cache = keepAliveInstance.cache;\n  var keys = keepAliveInstance.keys;\n  var _vnode = keepAliveInstance._vnode;\n  for (var key in cache) {\n    var cachedNode = cache[key];\n    if (cachedNode) {\n      var name = getComponentName(cachedNode.componentOptions);\n      if (name && !filter(name)) {\n        pruneCacheEntry(cache, key, keys, _vnode);\n      }\n    }\n  }\n}\n\nfunction pruneCacheEntry (\n  cache,\n  key,\n  keys,\n  current\n) {\n  var cached$$1 = cache[key];\n  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {\n    cached$$1.componentInstance.$destroy();\n  }\n  cache[key] = null;\n  remove(keys, key);\n}\n\nvar patternTypes = [String, RegExp, Array];\n\nvar KeepAlive = {\n  name: 'keep-alive',\n  abstract: true,\n\n  props: {\n    include: patternTypes,\n    exclude: patternTypes,\n    max: [String, Number]\n  },\n\n  created: function created () {\n    this.cache = Object.create(null);\n    this.keys = [];\n  },\n\n  destroyed: function destroyed () {\n    for (var key in this.cache) {\n      pruneCacheEntry(this.cache, key, this.keys);\n    }\n  },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this.$watch('include', function (val) {\n      pruneCache(this$1, function (name) { return matches(val, name); });\n    });\n    this.$watch('exclude', function (val) {\n      pruneCache(this$1, function (name) { return !matches(val, name); });\n    });\n  },\n\n  render: function render () {\n    var slot = this.$slots.default;\n    var vnode = getFirstComponentChild(slot);\n    var componentOptions = vnode && vnode.componentOptions;\n    if (componentOptions) {\n      // check pattern\n      var name = getComponentName(componentOptions);\n      var ref = this;\n      var include = ref.include;\n      var exclude = ref.exclude;\n      if (\n        // not included\n        (include && (!name || !matches(include, name))) ||\n        // excluded\n        (exclude && name && matches(exclude, name))\n      ) {\n        return vnode\n      }\n\n      var ref$1 = this;\n      var cache = ref$1.cache;\n      var keys = ref$1.keys;\n      var key = vnode.key == null\n        // same constructor may get registered as different local components\n        // so cid alone is not enough (#3269)\n        ? componentOptions.Ctor.cid + (componentOptions.tag ? (\"::\" + (componentOptions.tag)) : '')\n        : vnode.key;\n      if (cache[key]) {\n        vnode.componentInstance = cache[key].componentInstance;\n        // make current key freshest\n        remove(keys, key);\n        keys.push(key);\n      } else {\n        cache[key] = vnode;\n        keys.push(key);\n        // prune oldest entry\n        if (this.max && keys.length > parseInt(this.max)) {\n          pruneCacheEntry(cache, keys[0], keys, this._vnode);\n        }\n      }\n\n      vnode.data.keepAlive = true;\n    }\n    return vnode || (slot && slot[0])\n  }\n};\n\nvar builtInComponents = {\n  KeepAlive: KeepAlive\n};\n\n/*  */\n\nfunction initGlobalAPI (Vue) {\n  // config\n  var configDef = {};\n  configDef.get = function () { return config; };\n  if (process.env.NODE_ENV !== 'production') {\n    configDef.set = function () {\n      warn(\n        'Do not replace the Vue.config object, set individual fields instead.'\n      );\n    };\n  }\n  Object.defineProperty(Vue, 'config', configDef);\n\n  // exposed util methods.\n  // NOTE: these are not considered part of the public API - avoid relying on\n  // them unless you are aware of the risk.\n  Vue.util = {\n    warn: warn,\n    extend: extend,\n    mergeOptions: mergeOptions,\n    defineReactive: defineReactive$$1\n  };\n\n  Vue.set = set;\n  Vue.delete = del;\n  Vue.nextTick = nextTick;\n\n  // 2.6 explicit observable API\n  Vue.observable = function (obj) {\n    observe(obj);\n    return obj\n  };\n\n  Vue.options = Object.create(null);\n  ASSET_TYPES.forEach(function (type) {\n    Vue.options[type + 's'] = Object.create(null);\n  });\n\n  // this is used to identify the \"base\" constructor to extend all plain-object\n  // components with in Weex's multi-instance scenarios.\n  Vue.options._base = Vue;\n\n  extend(Vue.options.components, builtInComponents);\n\n  initUse(Vue);\n  initMixin$1(Vue);\n  initExtend(Vue);\n  initAssetRegisters(Vue);\n}\n\ninitGlobalAPI(Vue);\n\nObject.defineProperty(Vue.prototype, '$isServer', {\n  get: isServerRendering\n});\n\nObject.defineProperty(Vue.prototype, '$ssrContext', {\n  get: function get () {\n    /* istanbul ignore next */\n    return this.$vnode && this.$vnode.ssrContext\n  }\n});\n\n// expose FunctionalRenderContext for ssr runtime helper installation\nObject.defineProperty(Vue, 'FunctionalRenderContext', {\n  value: FunctionalRenderContext\n});\n\nVue.version = '2.6.12';\n\n/*  */\n\n// these are reserved for web because they are directly compiled away\n// during template compilation\nvar isReservedAttr = makeMap('style,class');\n\n// attributes that should be using props for binding\nvar acceptValue = makeMap('input,textarea,option,select,progress');\nvar mustUseProp = function (tag, type, attr) {\n  return (\n    (attr === 'value' && acceptValue(tag)) && type !== 'button' ||\n    (attr === 'selected' && tag === 'option') ||\n    (attr === 'checked' && tag === 'input') ||\n    (attr === 'muted' && tag === 'video')\n  )\n};\n\nvar isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');\n\nvar isValidContentEditableValue = makeMap('events,caret,typing,plaintext-only');\n\nvar convertEnumeratedValue = function (key, value) {\n  return isFalsyAttrValue(value) || value === 'false'\n    ? 'false'\n    // allow arbitrary string value for contenteditable\n    : key === 'contenteditable' && isValidContentEditableValue(value)\n      ? value\n      : 'true'\n};\n\nvar isBooleanAttr = makeMap(\n  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +\n  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +\n  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +\n  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +\n  'required,reversed,scoped,seamless,selected,sortable,translate,' +\n  'truespeed,typemustmatch,visible'\n);\n\nvar xlinkNS = 'http://www.w3.org/1999/xlink';\n\nvar isXlink = function (name) {\n  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'\n};\n\nvar getXlinkProp = function (name) {\n  return isXlink(name) ? name.slice(6, name.length) : ''\n};\n\nvar isFalsyAttrValue = function (val) {\n  return val == null || val === false\n};\n\n/*  */\n\nfunction genClassForVnode (vnode) {\n  var data = vnode.data;\n  var parentNode = vnode;\n  var childNode = vnode;\n  while (isDef(childNode.componentInstance)) {\n    childNode = childNode.componentInstance._vnode;\n    if (childNode && childNode.data) {\n      data = mergeClassData(childNode.data, data);\n    }\n  }\n  while (isDef(parentNode = parentNode.parent)) {\n    if (parentNode && parentNode.data) {\n      data = mergeClassData(data, parentNode.data);\n    }\n  }\n  return renderClass(data.staticClass, data.class)\n}\n\nfunction mergeClassData (child, parent) {\n  return {\n    staticClass: concat(child.staticClass, parent.staticClass),\n    class: isDef(child.class)\n      ? [child.class, parent.class]\n      : parent.class\n  }\n}\n\nfunction renderClass (\n  staticClass,\n  dynamicClass\n) {\n  if (isDef(staticClass) || isDef(dynamicClass)) {\n    return concat(staticClass, stringifyClass(dynamicClass))\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction concat (a, b) {\n  return a ? b ? (a + ' ' + b) : a : (b || '')\n}\n\nfunction stringifyClass (value) {\n  if (Array.isArray(value)) {\n    return stringifyArray(value)\n  }\n  if (isObject(value)) {\n    return stringifyObject(value)\n  }\n  if (typeof value === 'string') {\n    return value\n  }\n  /* istanbul ignore next */\n  return ''\n}\n\nfunction stringifyArray (value) {\n  var res = '';\n  var stringified;\n  for (var i = 0, l = value.length; i < l; i++) {\n    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {\n      if (res) { res += ' '; }\n      res += stringified;\n    }\n  }\n  return res\n}\n\nfunction stringifyObject (value) {\n  var res = '';\n  for (var key in value) {\n    if (value[key]) {\n      if (res) { res += ' '; }\n      res += key;\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar namespaceMap = {\n  svg: 'http://www.w3.org/2000/svg',\n  math: 'http://www.w3.org/1998/Math/MathML'\n};\n\nvar isHTMLTag = makeMap(\n  'html,body,base,head,link,meta,style,title,' +\n  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +\n  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +\n  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +\n  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +\n  'embed,object,param,source,canvas,script,noscript,del,ins,' +\n  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +\n  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +\n  'output,progress,select,textarea,' +\n  'details,dialog,menu,menuitem,summary,' +\n  'content,element,shadow,template,blockquote,iframe,tfoot'\n);\n\n// this map is intentionally selective, only covering SVG elements that may\n// contain child elements.\nvar isSVG = makeMap(\n  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +\n  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +\n  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',\n  true\n);\n\nvar isReservedTag = function (tag) {\n  return isHTMLTag(tag) || isSVG(tag)\n};\n\nfunction getTagNamespace (tag) {\n  if (isSVG(tag)) {\n    return 'svg'\n  }\n  // basic support for MathML\n  // note it doesn't support other MathML elements being component roots\n  if (tag === 'math') {\n    return 'math'\n  }\n}\n\nvar unknownElementCache = Object.create(null);\nfunction isUnknownElement (tag) {\n  /* istanbul ignore if */\n  if (!inBrowser) {\n    return true\n  }\n  if (isReservedTag(tag)) {\n    return false\n  }\n  tag = tag.toLowerCase();\n  /* istanbul ignore if */\n  if (unknownElementCache[tag] != null) {\n    return unknownElementCache[tag]\n  }\n  var el = document.createElement(tag);\n  if (tag.indexOf('-') > -1) {\n    // http://stackoverflow.com/a/28210364/1070244\n    return (unknownElementCache[tag] = (\n      el.constructor === window.HTMLUnknownElement ||\n      el.constructor === window.HTMLElement\n    ))\n  } else {\n    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))\n  }\n}\n\nvar isTextInputType = makeMap('text,number,password,search,email,tel,url');\n\n/*  */\n\n/**\n * Query an element selector if it's not an element already.\n */\nfunction query (el) {\n  if (typeof el === 'string') {\n    var selected = document.querySelector(el);\n    if (!selected) {\n      process.env.NODE_ENV !== 'production' && warn(\n        'Cannot find element: ' + el\n      );\n      return document.createElement('div')\n    }\n    return selected\n  } else {\n    return el\n  }\n}\n\n/*  */\n\nfunction createElement$1 (tagName, vnode) {\n  var elm = document.createElement(tagName);\n  if (tagName !== 'select') {\n    return elm\n  }\n  // false or null will remove the attribute but undefined will not\n  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== undefined) {\n    elm.setAttribute('multiple', 'multiple');\n  }\n  return elm\n}\n\nfunction createElementNS (namespace, tagName) {\n  return document.createElementNS(namespaceMap[namespace], tagName)\n}\n\nfunction createTextNode (text) {\n  return document.createTextNode(text)\n}\n\nfunction createComment (text) {\n  return document.createComment(text)\n}\n\nfunction insertBefore (parentNode, newNode, referenceNode) {\n  parentNode.insertBefore(newNode, referenceNode);\n}\n\nfunction removeChild (node, child) {\n  node.removeChild(child);\n}\n\nfunction appendChild (node, child) {\n  node.appendChild(child);\n}\n\nfunction parentNode (node) {\n  return node.parentNode\n}\n\nfunction nextSibling (node) {\n  return node.nextSibling\n}\n\nfunction tagName (node) {\n  return node.tagName\n}\n\nfunction setTextContent (node, text) {\n  node.textContent = text;\n}\n\nfunction setStyleScope (node, scopeId) {\n  node.setAttribute(scopeId, '');\n}\n\nvar nodeOps = /*#__PURE__*/Object.freeze({\n  createElement: createElement$1,\n  createElementNS: createElementNS,\n  createTextNode: createTextNode,\n  createComment: createComment,\n  insertBefore: insertBefore,\n  removeChild: removeChild,\n  appendChild: appendChild,\n  parentNode: parentNode,\n  nextSibling: nextSibling,\n  tagName: tagName,\n  setTextContent: setTextContent,\n  setStyleScope: setStyleScope\n});\n\n/*  */\n\nvar ref = {\n  create: function create (_, vnode) {\n    registerRef(vnode);\n  },\n  update: function update (oldVnode, vnode) {\n    if (oldVnode.data.ref !== vnode.data.ref) {\n      registerRef(oldVnode, true);\n      registerRef(vnode);\n    }\n  },\n  destroy: function destroy (vnode) {\n    registerRef(vnode, true);\n  }\n};\n\nfunction registerRef (vnode, isRemoval) {\n  var key = vnode.data.ref;\n  if (!isDef(key)) { return }\n\n  var vm = vnode.context;\n  var ref = vnode.componentInstance || vnode.elm;\n  var refs = vm.$refs;\n  if (isRemoval) {\n    if (Array.isArray(refs[key])) {\n      remove(refs[key], ref);\n    } else if (refs[key] === ref) {\n      refs[key] = undefined;\n    }\n  } else {\n    if (vnode.data.refInFor) {\n      if (!Array.isArray(refs[key])) {\n        refs[key] = [ref];\n      } else if (refs[key].indexOf(ref) < 0) {\n        // $flow-disable-line\n        refs[key].push(ref);\n      }\n    } else {\n      refs[key] = ref;\n    }\n  }\n}\n\n/**\n * Virtual DOM patching algorithm based on Snabbdom by\n * Simon Friis Vindum (@paldepind)\n * Licensed under the MIT License\n * https://github.com/paldepind/snabbdom/blob/master/LICENSE\n *\n * modified by Evan You (@yyx990803)\n *\n * Not type-checking this because this file is perf-critical and the cost\n * of making flow understand it is not worth it.\n */\n\nvar emptyNode = new VNode('', {}, []);\n\nvar hooks = ['create', 'activate', 'update', 'remove', 'destroy'];\n\nfunction sameVnode (a, b) {\n  return (\n    a.key === b.key && (\n      (\n        a.tag === b.tag &&\n        a.isComment === b.isComment &&\n        isDef(a.data) === isDef(b.data) &&\n        sameInputType(a, b)\n      ) || (\n        isTrue(a.isAsyncPlaceholder) &&\n        a.asyncFactory === b.asyncFactory &&\n        isUndef(b.asyncFactory.error)\n      )\n    )\n  )\n}\n\nfunction sameInputType (a, b) {\n  if (a.tag !== 'input') { return true }\n  var i;\n  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;\n  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;\n  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)\n}\n\nfunction createKeyToOldIdx (children, beginIdx, endIdx) {\n  var i, key;\n  var map = {};\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key;\n    if (isDef(key)) { map[key] = i; }\n  }\n  return map\n}\n\nfunction createPatchFunction (backend) {\n  var i, j;\n  var cbs = {};\n\n  var modules = backend.modules;\n  var nodeOps = backend.nodeOps;\n\n  for (i = 0; i < hooks.length; ++i) {\n    cbs[hooks[i]] = [];\n    for (j = 0; j < modules.length; ++j) {\n      if (isDef(modules[j][hooks[i]])) {\n        cbs[hooks[i]].push(modules[j][hooks[i]]);\n      }\n    }\n  }\n\n  function emptyNodeAt (elm) {\n    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)\n  }\n\n  function createRmCb (childElm, listeners) {\n    function remove$$1 () {\n      if (--remove$$1.listeners === 0) {\n        removeNode(childElm);\n      }\n    }\n    remove$$1.listeners = listeners;\n    return remove$$1\n  }\n\n  function removeNode (el) {\n    var parent = nodeOps.parentNode(el);\n    // element may have already been removed due to v-html / v-text\n    if (isDef(parent)) {\n      nodeOps.removeChild(parent, el);\n    }\n  }\n\n  function isUnknownElement$$1 (vnode, inVPre) {\n    return (\n      !inVPre &&\n      !vnode.ns &&\n      !(\n        config.ignoredElements.length &&\n        config.ignoredElements.some(function (ignore) {\n          return isRegExp(ignore)\n            ? ignore.test(vnode.tag)\n            : ignore === vnode.tag\n        })\n      ) &&\n      config.isUnknownElement(vnode.tag)\n    )\n  }\n\n  var creatingElmInVPre = 0;\n\n  function createElm (\n    vnode,\n    insertedVnodeQueue,\n    parentElm,\n    refElm,\n    nested,\n    ownerArray,\n    index\n  ) {\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // This vnode was used in a previous render!\n      // now it's used as a new node, overwriting its elm would cause\n      // potential patch errors down the road when it's used as an insertion\n      // reference node. Instead, we clone the node on-demand before creating\n      // associated DOM element for it.\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    vnode.isRootInsert = !nested; // for transition enter check\n    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {\n      return\n    }\n\n    var data = vnode.data;\n    var children = vnode.children;\n    var tag = vnode.tag;\n    if (isDef(tag)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (data && data.pre) {\n          creatingElmInVPre++;\n        }\n        if (isUnknownElement$$1(vnode, creatingElmInVPre)) {\n          warn(\n            'Unknown custom element: <' + tag + '> - did you ' +\n            'register the component correctly? For recursive components, ' +\n            'make sure to provide the \"name\" option.',\n            vnode.context\n          );\n        }\n      }\n\n      vnode.elm = vnode.ns\n        ? nodeOps.createElementNS(vnode.ns, tag)\n        : nodeOps.createElement(tag, vnode);\n      setScope(vnode);\n\n      /* istanbul ignore if */\n      {\n        createChildren(vnode, children, insertedVnodeQueue);\n        if (isDef(data)) {\n          invokeCreateHooks(vnode, insertedVnodeQueue);\n        }\n        insert(parentElm, vnode.elm, refElm);\n      }\n\n      if (process.env.NODE_ENV !== 'production' && data && data.pre) {\n        creatingElmInVPre--;\n      }\n    } else if (isTrue(vnode.isComment)) {\n      vnode.elm = nodeOps.createComment(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    } else {\n      vnode.elm = nodeOps.createTextNode(vnode.text);\n      insert(parentElm, vnode.elm, refElm);\n    }\n  }\n\n  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i = vnode.data;\n    if (isDef(i)) {\n      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;\n      if (isDef(i = i.hook) && isDef(i = i.init)) {\n        i(vnode, false /* hydrating */);\n      }\n      // after calling the init hook, if the vnode is a child component\n      // it should've created a child instance and mounted it. the child\n      // component also has set the placeholder vnode's elm.\n      // in that case we can just return the element and be done.\n      if (isDef(vnode.componentInstance)) {\n        initComponent(vnode, insertedVnodeQueue);\n        insert(parentElm, vnode.elm, refElm);\n        if (isTrue(isReactivated)) {\n          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);\n        }\n        return true\n      }\n    }\n  }\n\n  function initComponent (vnode, insertedVnodeQueue) {\n    if (isDef(vnode.data.pendingInsert)) {\n      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);\n      vnode.data.pendingInsert = null;\n    }\n    vnode.elm = vnode.componentInstance.$el;\n    if (isPatchable(vnode)) {\n      invokeCreateHooks(vnode, insertedVnodeQueue);\n      setScope(vnode);\n    } else {\n      // empty component root.\n      // skip all element-related modules except for ref (#3455)\n      registerRef(vnode);\n      // make sure to invoke the insert hook\n      insertedVnodeQueue.push(vnode);\n    }\n  }\n\n  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {\n    var i;\n    // hack for #4339: a reactivated component with inner transition\n    // does not trigger because the inner node's created hooks are not called\n    // again. It's not ideal to involve module-specific logic in here but\n    // there doesn't seem to be a better way to do it.\n    var innerNode = vnode;\n    while (innerNode.componentInstance) {\n      innerNode = innerNode.componentInstance._vnode;\n      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {\n        for (i = 0; i < cbs.activate.length; ++i) {\n          cbs.activate[i](emptyNode, innerNode);\n        }\n        insertedVnodeQueue.push(innerNode);\n        break\n      }\n    }\n    // unlike a newly created component,\n    // a reactivated keep-alive component doesn't insert itself\n    insert(parentElm, vnode.elm, refElm);\n  }\n\n  function insert (parent, elm, ref$$1) {\n    if (isDef(parent)) {\n      if (isDef(ref$$1)) {\n        if (nodeOps.parentNode(ref$$1) === parent) {\n          nodeOps.insertBefore(parent, elm, ref$$1);\n        }\n      } else {\n        nodeOps.appendChild(parent, elm);\n      }\n    }\n  }\n\n  function createChildren (vnode, children, insertedVnodeQueue) {\n    if (Array.isArray(children)) {\n      if (process.env.NODE_ENV !== 'production') {\n        checkDuplicateKeys(children);\n      }\n      for (var i = 0; i < children.length; ++i) {\n        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);\n      }\n    } else if (isPrimitive(vnode.text)) {\n      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));\n    }\n  }\n\n  function isPatchable (vnode) {\n    while (vnode.componentInstance) {\n      vnode = vnode.componentInstance._vnode;\n    }\n    return isDef(vnode.tag)\n  }\n\n  function invokeCreateHooks (vnode, insertedVnodeQueue) {\n    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n      cbs.create[i$1](emptyNode, vnode);\n    }\n    i = vnode.data.hook; // Reuse variable\n    if (isDef(i)) {\n      if (isDef(i.create)) { i.create(emptyNode, vnode); }\n      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }\n    }\n  }\n\n  // set scope id attribute for scoped CSS.\n  // this is implemented as a special case to avoid the overhead\n  // of going through the normal attribute patching process.\n  function setScope (vnode) {\n    var i;\n    if (isDef(i = vnode.fnScopeId)) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    } else {\n      var ancestor = vnode;\n      while (ancestor) {\n        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {\n          nodeOps.setStyleScope(vnode.elm, i);\n        }\n        ancestor = ancestor.parent;\n      }\n    }\n    // for slot content they should also get the scopeId from the host instance.\n    if (isDef(i = activeInstance) &&\n      i !== vnode.context &&\n      i !== vnode.fnContext &&\n      isDef(i = i.$options._scopeId)\n    ) {\n      nodeOps.setStyleScope(vnode.elm, i);\n    }\n  }\n\n  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);\n    }\n  }\n\n  function invokeDestroyHook (vnode) {\n    var i, j;\n    var data = vnode.data;\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }\n      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }\n    }\n    if (isDef(i = vnode.children)) {\n      for (j = 0; j < vnode.children.length; ++j) {\n        invokeDestroyHook(vnode.children[j]);\n      }\n    }\n  }\n\n  function removeVnodes (vnodes, startIdx, endIdx) {\n    for (; startIdx <= endIdx; ++startIdx) {\n      var ch = vnodes[startIdx];\n      if (isDef(ch)) {\n        if (isDef(ch.tag)) {\n          removeAndInvokeRemoveHook(ch);\n          invokeDestroyHook(ch);\n        } else { // Text node\n          removeNode(ch.elm);\n        }\n      }\n    }\n  }\n\n  function removeAndInvokeRemoveHook (vnode, rm) {\n    if (isDef(rm) || isDef(vnode.data)) {\n      var i;\n      var listeners = cbs.remove.length + 1;\n      if (isDef(rm)) {\n        // we have a recursively passed down rm callback\n        // increase the listeners count\n        rm.listeners += listeners;\n      } else {\n        // directly removing\n        rm = createRmCb(vnode.elm, listeners);\n      }\n      // recursively invoke hooks on child component root node\n      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {\n        removeAndInvokeRemoveHook(i, rm);\n      }\n      for (i = 0; i < cbs.remove.length; ++i) {\n        cbs.remove[i](vnode, rm);\n      }\n      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {\n        i(vnode, rm);\n      } else {\n        rm();\n      }\n    } else {\n      removeNode(vnode.elm);\n    }\n  }\n\n  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {\n    var oldStartIdx = 0;\n    var newStartIdx = 0;\n    var oldEndIdx = oldCh.length - 1;\n    var oldStartVnode = oldCh[0];\n    var oldEndVnode = oldCh[oldEndIdx];\n    var newEndIdx = newCh.length - 1;\n    var newStartVnode = newCh[0];\n    var newEndVnode = newCh[newEndIdx];\n    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;\n\n    // removeOnly is a special flag used only by <transition-group>\n    // to ensure removed elements stay in correct relative positions\n    // during leaving transitions\n    var canMove = !removeOnly;\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkDuplicateKeys(newCh);\n    }\n\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n      if (isUndef(oldStartVnode)) {\n        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\n      } else if (isUndef(oldEndVnode)) {\n        oldEndVnode = oldCh[--oldEndIdx];\n      } else if (sameVnode(oldStartVnode, newStartVnode)) {\n        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        oldStartVnode = oldCh[++oldStartIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else if (sameVnode(oldEndVnode, newEndVnode)) {\n        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right\n        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));\n        oldStartVnode = oldCh[++oldStartIdx];\n        newEndVnode = newCh[--newEndIdx];\n      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left\n        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n        oldEndVnode = oldCh[--oldEndIdx];\n        newStartVnode = newCh[++newStartIdx];\n      } else {\n        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\n        idxInOld = isDef(newStartVnode.key)\n          ? oldKeyToIdx[newStartVnode.key]\n          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);\n        if (isUndef(idxInOld)) { // New element\n          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n        } else {\n          vnodeToMove = oldCh[idxInOld];\n          if (sameVnode(vnodeToMove, newStartVnode)) {\n            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);\n            oldCh[idxInOld] = undefined;\n            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);\n          } else {\n            // same key but different element. treat as new element\n            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);\n          }\n        }\n        newStartVnode = newCh[++newStartIdx];\n      }\n    }\n    if (oldStartIdx > oldEndIdx) {\n      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;\n      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n    } else if (newStartIdx > newEndIdx) {\n      removeVnodes(oldCh, oldStartIdx, oldEndIdx);\n    }\n  }\n\n  function checkDuplicateKeys (children) {\n    var seenKeys = {};\n    for (var i = 0; i < children.length; i++) {\n      var vnode = children[i];\n      var key = vnode.key;\n      if (isDef(key)) {\n        if (seenKeys[key]) {\n          warn(\n            (\"Duplicate keys detected: '\" + key + \"'. This may cause an update error.\"),\n            vnode.context\n          );\n        } else {\n          seenKeys[key] = true;\n        }\n      }\n    }\n  }\n\n  function findIdxInOld (node, oldCh, start, end) {\n    for (var i = start; i < end; i++) {\n      var c = oldCh[i];\n      if (isDef(c) && sameVnode(node, c)) { return i }\n    }\n  }\n\n  function patchVnode (\n    oldVnode,\n    vnode,\n    insertedVnodeQueue,\n    ownerArray,\n    index,\n    removeOnly\n  ) {\n    if (oldVnode === vnode) {\n      return\n    }\n\n    if (isDef(vnode.elm) && isDef(ownerArray)) {\n      // clone reused vnode\n      vnode = ownerArray[index] = cloneVNode(vnode);\n    }\n\n    var elm = vnode.elm = oldVnode.elm;\n\n    if (isTrue(oldVnode.isAsyncPlaceholder)) {\n      if (isDef(vnode.asyncFactory.resolved)) {\n        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);\n      } else {\n        vnode.isAsyncPlaceholder = true;\n      }\n      return\n    }\n\n    // reuse element for static trees.\n    // note we only do this if the vnode is cloned -\n    // if the new node is not cloned it means the render functions have been\n    // reset by the hot-reload-api and we need to do a proper re-render.\n    if (isTrue(vnode.isStatic) &&\n      isTrue(oldVnode.isStatic) &&\n      vnode.key === oldVnode.key &&\n      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))\n    ) {\n      vnode.componentInstance = oldVnode.componentInstance;\n      return\n    }\n\n    var i;\n    var data = vnode.data;\n    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {\n      i(oldVnode, vnode);\n    }\n\n    var oldCh = oldVnode.children;\n    var ch = vnode.children;\n    if (isDef(data) && isPatchable(vnode)) {\n      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }\n      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }\n    }\n    if (isUndef(vnode.text)) {\n      if (isDef(oldCh) && isDef(ch)) {\n        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }\n      } else if (isDef(ch)) {\n        if (process.env.NODE_ENV !== 'production') {\n          checkDuplicateKeys(ch);\n        }\n        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }\n        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n      } else if (isDef(oldCh)) {\n        removeVnodes(oldCh, 0, oldCh.length - 1);\n      } else if (isDef(oldVnode.text)) {\n        nodeOps.setTextContent(elm, '');\n      }\n    } else if (oldVnode.text !== vnode.text) {\n      nodeOps.setTextContent(elm, vnode.text);\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }\n    }\n  }\n\n  function invokeInsertHook (vnode, queue, initial) {\n    // delay insert hooks for component root nodes, invoke them after the\n    // element is really inserted\n    if (isTrue(initial) && isDef(vnode.parent)) {\n      vnode.parent.data.pendingInsert = queue;\n    } else {\n      for (var i = 0; i < queue.length; ++i) {\n        queue[i].data.hook.insert(queue[i]);\n      }\n    }\n  }\n\n  var hydrationBailed = false;\n  // list of modules that can skip create hook during hydration because they\n  // are already rendered on the client or has no need for initialization\n  // Note: style is excluded because it relies on initial clone for future\n  // deep updates (#7063).\n  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');\n\n  // Note: this is a browser-only function so we can assume elms are DOM nodes.\n  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {\n    var i;\n    var tag = vnode.tag;\n    var data = vnode.data;\n    var children = vnode.children;\n    inVPre = inVPre || (data && data.pre);\n    vnode.elm = elm;\n\n    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {\n      vnode.isAsyncPlaceholder = true;\n      return true\n    }\n    // assert node match\n    if (process.env.NODE_ENV !== 'production') {\n      if (!assertNodeMatch(elm, vnode, inVPre)) {\n        return false\n      }\n    }\n    if (isDef(data)) {\n      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }\n      if (isDef(i = vnode.componentInstance)) {\n        // child component. it should have hydrated its own tree.\n        initComponent(vnode, insertedVnodeQueue);\n        return true\n      }\n    }\n    if (isDef(tag)) {\n      if (isDef(children)) {\n        // empty element, allow client to pick up and populate children\n        if (!elm.hasChildNodes()) {\n          createChildren(vnode, children, insertedVnodeQueue);\n        } else {\n          // v-html and domProps: innerHTML\n          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {\n            if (i !== elm.innerHTML) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('server innerHTML: ', i);\n                console.warn('client innerHTML: ', elm.innerHTML);\n              }\n              return false\n            }\n          } else {\n            // iterate and compare children lists\n            var childrenMatch = true;\n            var childNode = elm.firstChild;\n            for (var i$1 = 0; i$1 < children.length; i$1++) {\n              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {\n                childrenMatch = false;\n                break\n              }\n              childNode = childNode.nextSibling;\n            }\n            // if childNode is not null, it means the actual childNodes list is\n            // longer than the virtual children list.\n            if (!childrenMatch || childNode) {\n              /* istanbul ignore if */\n              if (process.env.NODE_ENV !== 'production' &&\n                typeof console !== 'undefined' &&\n                !hydrationBailed\n              ) {\n                hydrationBailed = true;\n                console.warn('Parent: ', elm);\n                console.warn('Mismatching childNodes vs. VNodes: ', elm.childNodes, children);\n              }\n              return false\n            }\n          }\n        }\n      }\n      if (isDef(data)) {\n        var fullInvoke = false;\n        for (var key in data) {\n          if (!isRenderedModule(key)) {\n            fullInvoke = true;\n            invokeCreateHooks(vnode, insertedVnodeQueue);\n            break\n          }\n        }\n        if (!fullInvoke && data['class']) {\n          // ensure collecting deps for deep class bindings for future updates\n          traverse(data['class']);\n        }\n      }\n    } else if (elm.data !== vnode.text) {\n      elm.data = vnode.text;\n    }\n    return true\n  }\n\n  function assertNodeMatch (node, vnode, inVPre) {\n    if (isDef(vnode.tag)) {\n      return vnode.tag.indexOf('vue-component') === 0 || (\n        !isUnknownElement$$1(vnode, inVPre) &&\n        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())\n      )\n    } else {\n      return node.nodeType === (vnode.isComment ? 8 : 3)\n    }\n  }\n\n  return function patch (oldVnode, vnode, hydrating, removeOnly) {\n    if (isUndef(vnode)) {\n      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }\n      return\n    }\n\n    var isInitialPatch = false;\n    var insertedVnodeQueue = [];\n\n    if (isUndef(oldVnode)) {\n      // empty mount (likely as component), create new root element\n      isInitialPatch = true;\n      createElm(vnode, insertedVnodeQueue);\n    } else {\n      var isRealElement = isDef(oldVnode.nodeType);\n      if (!isRealElement && sameVnode(oldVnode, vnode)) {\n        // patch existing root node\n        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);\n      } else {\n        if (isRealElement) {\n          // mounting to a real element\n          // check if this is server-rendered content and if we can perform\n          // a successful hydration.\n          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {\n            oldVnode.removeAttribute(SSR_ATTR);\n            hydrating = true;\n          }\n          if (isTrue(hydrating)) {\n            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {\n              invokeInsertHook(vnode, insertedVnodeQueue, true);\n              return oldVnode\n            } else if (process.env.NODE_ENV !== 'production') {\n              warn(\n                'The client-side rendered virtual DOM tree is not matching ' +\n                'server-rendered content. This is likely caused by incorrect ' +\n                'HTML markup, for example nesting block-level elements inside ' +\n                '<p>, or missing <tbody>. Bailing hydration and performing ' +\n                'full client-side render.'\n              );\n            }\n          }\n          // either not server-rendered, or hydration failed.\n          // create an empty node and replace it\n          oldVnode = emptyNodeAt(oldVnode);\n        }\n\n        // replacing existing element\n        var oldElm = oldVnode.elm;\n        var parentElm = nodeOps.parentNode(oldElm);\n\n        // create new node\n        createElm(\n          vnode,\n          insertedVnodeQueue,\n          // extremely rare edge case: do not insert if old element is in a\n          // leaving transition. Only happens when combining transition +\n          // keep-alive + HOCs. (#4590)\n          oldElm._leaveCb ? null : parentElm,\n          nodeOps.nextSibling(oldElm)\n        );\n\n        // update parent placeholder node element, recursively\n        if (isDef(vnode.parent)) {\n          var ancestor = vnode.parent;\n          var patchable = isPatchable(vnode);\n          while (ancestor) {\n            for (var i = 0; i < cbs.destroy.length; ++i) {\n              cbs.destroy[i](ancestor);\n            }\n            ancestor.elm = vnode.elm;\n            if (patchable) {\n              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {\n                cbs.create[i$1](emptyNode, ancestor);\n              }\n              // #6513\n              // invoke insert hooks that may have been merged by create hooks.\n              // e.g. for directives that uses the \"inserted\" hook.\n              var insert = ancestor.data.hook.insert;\n              if (insert.merged) {\n                // start at index 1 to avoid re-invoking component mounted hook\n                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {\n                  insert.fns[i$2]();\n                }\n              }\n            } else {\n              registerRef(ancestor);\n            }\n            ancestor = ancestor.parent;\n          }\n        }\n\n        // destroy old node\n        if (isDef(parentElm)) {\n          removeVnodes([oldVnode], 0, 0);\n        } else if (isDef(oldVnode.tag)) {\n          invokeDestroyHook(oldVnode);\n        }\n      }\n    }\n\n    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);\n    return vnode.elm\n  }\n}\n\n/*  */\n\nvar directives = {\n  create: updateDirectives,\n  update: updateDirectives,\n  destroy: function unbindDirectives (vnode) {\n    updateDirectives(vnode, emptyNode);\n  }\n};\n\nfunction updateDirectives (oldVnode, vnode) {\n  if (oldVnode.data.directives || vnode.data.directives) {\n    _update(oldVnode, vnode);\n  }\n}\n\nfunction _update (oldVnode, vnode) {\n  var isCreate = oldVnode === emptyNode;\n  var isDestroy = vnode === emptyNode;\n  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);\n  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);\n\n  var dirsWithInsert = [];\n  var dirsWithPostpatch = [];\n\n  var key, oldDir, dir;\n  for (key in newDirs) {\n    oldDir = oldDirs[key];\n    dir = newDirs[key];\n    if (!oldDir) {\n      // new directive, bind\n      callHook$1(dir, 'bind', vnode, oldVnode);\n      if (dir.def && dir.def.inserted) {\n        dirsWithInsert.push(dir);\n      }\n    } else {\n      // existing directive, update\n      dir.oldValue = oldDir.value;\n      dir.oldArg = oldDir.arg;\n      callHook$1(dir, 'update', vnode, oldVnode);\n      if (dir.def && dir.def.componentUpdated) {\n        dirsWithPostpatch.push(dir);\n      }\n    }\n  }\n\n  if (dirsWithInsert.length) {\n    var callInsert = function () {\n      for (var i = 0; i < dirsWithInsert.length; i++) {\n        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);\n      }\n    };\n    if (isCreate) {\n      mergeVNodeHook(vnode, 'insert', callInsert);\n    } else {\n      callInsert();\n    }\n  }\n\n  if (dirsWithPostpatch.length) {\n    mergeVNodeHook(vnode, 'postpatch', function () {\n      for (var i = 0; i < dirsWithPostpatch.length; i++) {\n        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);\n      }\n    });\n  }\n\n  if (!isCreate) {\n    for (key in oldDirs) {\n      if (!newDirs[key]) {\n        // no longer present, unbind\n        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);\n      }\n    }\n  }\n}\n\nvar emptyModifiers = Object.create(null);\n\nfunction normalizeDirectives$1 (\n  dirs,\n  vm\n) {\n  var res = Object.create(null);\n  if (!dirs) {\n    // $flow-disable-line\n    return res\n  }\n  var i, dir;\n  for (i = 0; i < dirs.length; i++) {\n    dir = dirs[i];\n    if (!dir.modifiers) {\n      // $flow-disable-line\n      dir.modifiers = emptyModifiers;\n    }\n    res[getRawDirName(dir)] = dir;\n    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);\n  }\n  // $flow-disable-line\n  return res\n}\n\nfunction getRawDirName (dir) {\n  return dir.rawName || ((dir.name) + \".\" + (Object.keys(dir.modifiers || {}).join('.')))\n}\n\nfunction callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {\n  var fn = dir.def && dir.def[hook];\n  if (fn) {\n    try {\n      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);\n    } catch (e) {\n      handleError(e, vnode.context, (\"directive \" + (dir.name) + \" \" + hook + \" hook\"));\n    }\n  }\n}\n\nvar baseModules = [\n  ref,\n  directives\n];\n\n/*  */\n\nfunction updateAttrs (oldVnode, vnode) {\n  var opts = vnode.componentOptions;\n  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {\n    return\n  }\n  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {\n    return\n  }\n  var key, cur, old;\n  var elm = vnode.elm;\n  var oldAttrs = oldVnode.data.attrs || {};\n  var attrs = vnode.data.attrs || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(attrs.__ob__)) {\n    attrs = vnode.data.attrs = extend({}, attrs);\n  }\n\n  for (key in attrs) {\n    cur = attrs[key];\n    old = oldAttrs[key];\n    if (old !== cur) {\n      setAttr(elm, key, cur);\n    }\n  }\n  // #4391: in IE9, setting type can reset value for input[type=radio]\n  // #6666: IE/Edge forces progress value down to 1 before setting a max\n  /* istanbul ignore if */\n  if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {\n    setAttr(elm, 'value', attrs.value);\n  }\n  for (key in oldAttrs) {\n    if (isUndef(attrs[key])) {\n      if (isXlink(key)) {\n        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));\n      } else if (!isEnumeratedAttr(key)) {\n        elm.removeAttribute(key);\n      }\n    }\n  }\n}\n\nfunction setAttr (el, key, value) {\n  if (el.tagName.indexOf('-') > -1) {\n    baseSetAttr(el, key, value);\n  } else if (isBooleanAttr(key)) {\n    // set attribute for blank value\n    // e.g. <option disabled>Select one</option>\n    if (isFalsyAttrValue(value)) {\n      el.removeAttribute(key);\n    } else {\n      // technically allowfullscreen is a boolean attribute for <iframe>,\n      // but Flash expects a value of \"true\" when used on <embed> tag\n      value = key === 'allowfullscreen' && el.tagName === 'EMBED'\n        ? 'true'\n        : key;\n      el.setAttribute(key, value);\n    }\n  } else if (isEnumeratedAttr(key)) {\n    el.setAttribute(key, convertEnumeratedValue(key, value));\n  } else if (isXlink(key)) {\n    if (isFalsyAttrValue(value)) {\n      el.removeAttributeNS(xlinkNS, getXlinkProp(key));\n    } else {\n      el.setAttributeNS(xlinkNS, key, value);\n    }\n  } else {\n    baseSetAttr(el, key, value);\n  }\n}\n\nfunction baseSetAttr (el, key, value) {\n  if (isFalsyAttrValue(value)) {\n    el.removeAttribute(key);\n  } else {\n    // #7138: IE10 & 11 fires input event when setting placeholder on\n    // <textarea>... block the first input event and remove the blocker\n    // immediately.\n    /* istanbul ignore if */\n    if (\n      isIE && !isIE9 &&\n      el.tagName === 'TEXTAREA' &&\n      key === 'placeholder' && value !== '' && !el.__ieph\n    ) {\n      var blocker = function (e) {\n        e.stopImmediatePropagation();\n        el.removeEventListener('input', blocker);\n      };\n      el.addEventListener('input', blocker);\n      // $flow-disable-line\n      el.__ieph = true; /* IE placeholder patched */\n    }\n    el.setAttribute(key, value);\n  }\n}\n\nvar attrs = {\n  create: updateAttrs,\n  update: updateAttrs\n};\n\n/*  */\n\nfunction updateClass (oldVnode, vnode) {\n  var el = vnode.elm;\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n  if (\n    isUndef(data.staticClass) &&\n    isUndef(data.class) && (\n      isUndef(oldData) || (\n        isUndef(oldData.staticClass) &&\n        isUndef(oldData.class)\n      )\n    )\n  ) {\n    return\n  }\n\n  var cls = genClassForVnode(vnode);\n\n  // handle transition classes\n  var transitionClass = el._transitionClasses;\n  if (isDef(transitionClass)) {\n    cls = concat(cls, stringifyClass(transitionClass));\n  }\n\n  // set the class\n  if (cls !== el._prevClass) {\n    el.setAttribute('class', cls);\n    el._prevClass = cls;\n  }\n}\n\nvar klass = {\n  create: updateClass,\n  update: updateClass\n};\n\n/*  */\n\n/*  */\n\n/*  */\n\n/*  */\n\n// in some cases, the event used has to be determined at runtime\n// so we used some reserved tokens during compile.\nvar RANGE_TOKEN = '__r';\nvar CHECKBOX_RADIO_TOKEN = '__c';\n\n/*  */\n\n// normalize v-model event tokens that can only be determined at runtime.\n// it's important to place the event as the first in the array because\n// the whole point is ensuring the v-model callback gets called before\n// user-attached handlers.\nfunction normalizeEvents (on) {\n  /* istanbul ignore if */\n  if (isDef(on[RANGE_TOKEN])) {\n    // IE input[type=range] only supports `change` event\n    var event = isIE ? 'change' : 'input';\n    on[event] = [].concat(on[RANGE_TOKEN], on[event] || []);\n    delete on[RANGE_TOKEN];\n  }\n  // This was originally intended to fix #4521 but no longer necessary\n  // after 2.5. Keeping it for backwards compat with generated code from < 2.4\n  /* istanbul ignore if */\n  if (isDef(on[CHECKBOX_RADIO_TOKEN])) {\n    on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);\n    delete on[CHECKBOX_RADIO_TOKEN];\n  }\n}\n\nvar target$1;\n\nfunction createOnceHandler$1 (event, handler, capture) {\n  var _target = target$1; // save current target element in closure\n  return function onceHandler () {\n    var res = handler.apply(null, arguments);\n    if (res !== null) {\n      remove$2(event, onceHandler, capture, _target);\n    }\n  }\n}\n\n// #9446: Firefox <= 53 (in particular, ESR 52) has incorrect Event.timeStamp\n// implementation and does not fire microtasks in between event propagation, so\n// safe to exclude.\nvar useMicrotaskFix = isUsingMicroTask && !(isFF && Number(isFF[1]) <= 53);\n\nfunction add$1 (\n  name,\n  handler,\n  capture,\n  passive\n) {\n  // async edge case #6566: inner click event triggers patch, event handler\n  // attached to outer element during patch, and triggered again. This\n  // happens because browsers fire microtask ticks between event propagation.\n  // the solution is simple: we save the timestamp when a handler is attached,\n  // and the handler would only fire if the event passed to it was fired\n  // AFTER it was attached.\n  if (useMicrotaskFix) {\n    var attachedTimestamp = currentFlushTimestamp;\n    var original = handler;\n    handler = original._wrapper = function (e) {\n      if (\n        // no bubbling, should always fire.\n        // this is just a safety net in case event.timeStamp is unreliable in\n        // certain weird environments...\n        e.target === e.currentTarget ||\n        // event is fired after handler attachment\n        e.timeStamp >= attachedTimestamp ||\n        // bail for environments that have buggy event.timeStamp implementations\n        // #9462 iOS 9 bug: event.timeStamp is 0 after history.pushState\n        // #9681 QtWebEngine event.timeStamp is negative value\n        e.timeStamp <= 0 ||\n        // #9448 bail if event is fired in another document in a multi-page\n        // electron/nw.js app, since event.timeStamp will be using a different\n        // starting reference\n        e.target.ownerDocument !== document\n      ) {\n        return original.apply(this, arguments)\n      }\n    };\n  }\n  target$1.addEventListener(\n    name,\n    handler,\n    supportsPassive\n      ? { capture: capture, passive: passive }\n      : capture\n  );\n}\n\nfunction remove$2 (\n  name,\n  handler,\n  capture,\n  _target\n) {\n  (_target || target$1).removeEventListener(\n    name,\n    handler._wrapper || handler,\n    capture\n  );\n}\n\nfunction updateDOMListeners (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {\n    return\n  }\n  var on = vnode.data.on || {};\n  var oldOn = oldVnode.data.on || {};\n  target$1 = vnode.elm;\n  normalizeEvents(on);\n  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);\n  target$1 = undefined;\n}\n\nvar events = {\n  create: updateDOMListeners,\n  update: updateDOMListeners\n};\n\n/*  */\n\nvar svgContainer;\n\nfunction updateDOMProps (oldVnode, vnode) {\n  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {\n    return\n  }\n  var key, cur;\n  var elm = vnode.elm;\n  var oldProps = oldVnode.data.domProps || {};\n  var props = vnode.data.domProps || {};\n  // clone observed objects, as the user probably wants to mutate it\n  if (isDef(props.__ob__)) {\n    props = vnode.data.domProps = extend({}, props);\n  }\n\n  for (key in oldProps) {\n    if (!(key in props)) {\n      elm[key] = '';\n    }\n  }\n\n  for (key in props) {\n    cur = props[key];\n    // ignore children if the node has textContent or innerHTML,\n    // as these will throw away existing DOM nodes and cause removal errors\n    // on subsequent patches (#3360)\n    if (key === 'textContent' || key === 'innerHTML') {\n      if (vnode.children) { vnode.children.length = 0; }\n      if (cur === oldProps[key]) { continue }\n      // #6601 work around Chrome version <= 55 bug where single textNode\n      // replaced by innerHTML/textContent retains its parentNode property\n      if (elm.childNodes.length === 1) {\n        elm.removeChild(elm.childNodes[0]);\n      }\n    }\n\n    if (key === 'value' && elm.tagName !== 'PROGRESS') {\n      // store value as _value as well since\n      // non-string values will be stringified\n      elm._value = cur;\n      // avoid resetting cursor position when value is the same\n      var strCur = isUndef(cur) ? '' : String(cur);\n      if (shouldUpdateValue(elm, strCur)) {\n        elm.value = strCur;\n      }\n    } else if (key === 'innerHTML' && isSVG(elm.tagName) && isUndef(elm.innerHTML)) {\n      // IE doesn't support innerHTML for SVG elements\n      svgContainer = svgContainer || document.createElement('div');\n      svgContainer.innerHTML = \"<svg>\" + cur + \"</svg>\";\n      var svg = svgContainer.firstChild;\n      while (elm.firstChild) {\n        elm.removeChild(elm.firstChild);\n      }\n      while (svg.firstChild) {\n        elm.appendChild(svg.firstChild);\n      }\n    } else if (\n      // skip the update if old and new VDOM state is the same.\n      // `value` is handled separately because the DOM value may be temporarily\n      // out of sync with VDOM state due to focus, composition and modifiers.\n      // This  #4521 by skipping the unnecessary `checked` update.\n      cur !== oldProps[key]\n    ) {\n      // some property updates can throw\n      // e.g. `value` on <progress> w/ non-finite value\n      try {\n        elm[key] = cur;\n      } catch (e) {}\n    }\n  }\n}\n\n// check platforms/web/util/attrs.js acceptValue\n\n\nfunction shouldUpdateValue (elm, checkVal) {\n  return (!elm.composing && (\n    elm.tagName === 'OPTION' ||\n    isNotInFocusAndDirty(elm, checkVal) ||\n    isDirtyWithModifiers(elm, checkVal)\n  ))\n}\n\nfunction isNotInFocusAndDirty (elm, checkVal) {\n  // return true when textbox (.number and .trim) loses focus and its value is\n  // not equal to the updated value\n  var notInFocus = true;\n  // #6157\n  // work around IE bug when accessing document.activeElement in an iframe\n  try { notInFocus = document.activeElement !== elm; } catch (e) {}\n  return notInFocus && elm.value !== checkVal\n}\n\nfunction isDirtyWithModifiers (elm, newVal) {\n  var value = elm.value;\n  var modifiers = elm._vModifiers; // injected by v-model runtime\n  if (isDef(modifiers)) {\n    if (modifiers.number) {\n      return toNumber(value) !== toNumber(newVal)\n    }\n    if (modifiers.trim) {\n      return value.trim() !== newVal.trim()\n    }\n  }\n  return value !== newVal\n}\n\nvar domProps = {\n  create: updateDOMProps,\n  update: updateDOMProps\n};\n\n/*  */\n\nvar parseStyleText = cached(function (cssText) {\n  var res = {};\n  var listDelimiter = /;(?![^(]*\\))/g;\n  var propertyDelimiter = /:(.+)/;\n  cssText.split(listDelimiter).forEach(function (item) {\n    if (item) {\n      var tmp = item.split(propertyDelimiter);\n      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return res\n});\n\n// merge static and dynamic style data on the same vnode\nfunction normalizeStyleData (data) {\n  var style = normalizeStyleBinding(data.style);\n  // static style is pre-processed into an object during compilation\n  // and is always a fresh object, so it's safe to merge into it\n  return data.staticStyle\n    ? extend(data.staticStyle, style)\n    : style\n}\n\n// normalize possible array / string values into Object\nfunction normalizeStyleBinding (bindingStyle) {\n  if (Array.isArray(bindingStyle)) {\n    return toObject(bindingStyle)\n  }\n  if (typeof bindingStyle === 'string') {\n    return parseStyleText(bindingStyle)\n  }\n  return bindingStyle\n}\n\n/**\n * parent component style should be after child's\n * so that parent component's style could override it\n */\nfunction getStyle (vnode, checkChild) {\n  var res = {};\n  var styleData;\n\n  if (checkChild) {\n    var childNode = vnode;\n    while (childNode.componentInstance) {\n      childNode = childNode.componentInstance._vnode;\n      if (\n        childNode && childNode.data &&\n        (styleData = normalizeStyleData(childNode.data))\n      ) {\n        extend(res, styleData);\n      }\n    }\n  }\n\n  if ((styleData = normalizeStyleData(vnode.data))) {\n    extend(res, styleData);\n  }\n\n  var parentNode = vnode;\n  while ((parentNode = parentNode.parent)) {\n    if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {\n      extend(res, styleData);\n    }\n  }\n  return res\n}\n\n/*  */\n\nvar cssVarRE = /^--/;\nvar importantRE = /\\s*!important$/;\nvar setProp = function (el, name, val) {\n  /* istanbul ignore if */\n  if (cssVarRE.test(name)) {\n    el.style.setProperty(name, val);\n  } else if (importantRE.test(val)) {\n    el.style.setProperty(hyphenate(name), val.replace(importantRE, ''), 'important');\n  } else {\n    var normalizedName = normalize(name);\n    if (Array.isArray(val)) {\n      // Support values array created by autoprefixer, e.g.\n      // {display: [\"-webkit-box\", \"-ms-flexbox\", \"flex\"]}\n      // Set them one by one, and the browser will only set those it can recognize\n      for (var i = 0, len = val.length; i < len; i++) {\n        el.style[normalizedName] = val[i];\n      }\n    } else {\n      el.style[normalizedName] = val;\n    }\n  }\n};\n\nvar vendorNames = ['Webkit', 'Moz', 'ms'];\n\nvar emptyStyle;\nvar normalize = cached(function (prop) {\n  emptyStyle = emptyStyle || document.createElement('div').style;\n  prop = camelize(prop);\n  if (prop !== 'filter' && (prop in emptyStyle)) {\n    return prop\n  }\n  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);\n  for (var i = 0; i < vendorNames.length; i++) {\n    var name = vendorNames[i] + capName;\n    if (name in emptyStyle) {\n      return name\n    }\n  }\n});\n\nfunction updateStyle (oldVnode, vnode) {\n  var data = vnode.data;\n  var oldData = oldVnode.data;\n\n  if (isUndef(data.staticStyle) && isUndef(data.style) &&\n    isUndef(oldData.staticStyle) && isUndef(oldData.style)\n  ) {\n    return\n  }\n\n  var cur, name;\n  var el = vnode.elm;\n  var oldStaticStyle = oldData.staticStyle;\n  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};\n\n  // if static style exists, stylebinding already merged into it when doing normalizeStyleData\n  var oldStyle = oldStaticStyle || oldStyleBinding;\n\n  var style = normalizeStyleBinding(vnode.data.style) || {};\n\n  // store normalized style under a different key for next diff\n  // make sure to clone it if it's reactive, since the user likely wants\n  // to mutate it.\n  vnode.data.normalizedStyle = isDef(style.__ob__)\n    ? extend({}, style)\n    : style;\n\n  var newStyle = getStyle(vnode, true);\n\n  for (name in oldStyle) {\n    if (isUndef(newStyle[name])) {\n      setProp(el, name, '');\n    }\n  }\n  for (name in newStyle) {\n    cur = newStyle[name];\n    if (cur !== oldStyle[name]) {\n      // ie9 setting to null has no effect, must use empty string\n      setProp(el, name, cur == null ? '' : cur);\n    }\n  }\n}\n\nvar style = {\n  create: updateStyle,\n  update: updateStyle\n};\n\n/*  */\n\nvar whitespaceRE = /\\s+/;\n\n/**\n * Add class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction addClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });\n    } else {\n      el.classList.add(cls);\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    if (cur.indexOf(' ' + cls + ' ') < 0) {\n      el.setAttribute('class', (cur + cls).trim());\n    }\n  }\n}\n\n/**\n * Remove class with compatibility for SVG since classList is not supported on\n * SVG elements in IE\n */\nfunction removeClass (el, cls) {\n  /* istanbul ignore if */\n  if (!cls || !(cls = cls.trim())) {\n    return\n  }\n\n  /* istanbul ignore else */\n  if (el.classList) {\n    if (cls.indexOf(' ') > -1) {\n      cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });\n    } else {\n      el.classList.remove(cls);\n    }\n    if (!el.classList.length) {\n      el.removeAttribute('class');\n    }\n  } else {\n    var cur = \" \" + (el.getAttribute('class') || '') + \" \";\n    var tar = ' ' + cls + ' ';\n    while (cur.indexOf(tar) >= 0) {\n      cur = cur.replace(tar, ' ');\n    }\n    cur = cur.trim();\n    if (cur) {\n      el.setAttribute('class', cur);\n    } else {\n      el.removeAttribute('class');\n    }\n  }\n}\n\n/*  */\n\nfunction resolveTransition (def$$1) {\n  if (!def$$1) {\n    return\n  }\n  /* istanbul ignore else */\n  if (typeof def$$1 === 'object') {\n    var res = {};\n    if (def$$1.css !== false) {\n      extend(res, autoCssTransition(def$$1.name || 'v'));\n    }\n    extend(res, def$$1);\n    return res\n  } else if (typeof def$$1 === 'string') {\n    return autoCssTransition(def$$1)\n  }\n}\n\nvar autoCssTransition = cached(function (name) {\n  return {\n    enterClass: (name + \"-enter\"),\n    enterToClass: (name + \"-enter-to\"),\n    enterActiveClass: (name + \"-enter-active\"),\n    leaveClass: (name + \"-leave\"),\n    leaveToClass: (name + \"-leave-to\"),\n    leaveActiveClass: (name + \"-leave-active\")\n  }\n});\n\nvar hasTransition = inBrowser && !isIE9;\nvar TRANSITION = 'transition';\nvar ANIMATION = 'animation';\n\n// Transition property/event sniffing\nvar transitionProp = 'transition';\nvar transitionEndEvent = 'transitionend';\nvar animationProp = 'animation';\nvar animationEndEvent = 'animationend';\nif (hasTransition) {\n  /* istanbul ignore if */\n  if (window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined\n  ) {\n    transitionProp = 'WebkitTransition';\n    transitionEndEvent = 'webkitTransitionEnd';\n  }\n  if (window.onanimationend === undefined &&\n    window.onwebkitanimationend !== undefined\n  ) {\n    animationProp = 'WebkitAnimation';\n    animationEndEvent = 'webkitAnimationEnd';\n  }\n}\n\n// binding to window is necessary to make hot reload work in IE in strict mode\nvar raf = inBrowser\n  ? window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout\n  : /* istanbul ignore next */ function (fn) { return fn(); };\n\nfunction nextFrame (fn) {\n  raf(function () {\n    raf(fn);\n  });\n}\n\nfunction addTransitionClass (el, cls) {\n  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);\n  if (transitionClasses.indexOf(cls) < 0) {\n    transitionClasses.push(cls);\n    addClass(el, cls);\n  }\n}\n\nfunction removeTransitionClass (el, cls) {\n  if (el._transitionClasses) {\n    remove(el._transitionClasses, cls);\n  }\n  removeClass(el, cls);\n}\n\nfunction whenTransitionEnds (\n  el,\n  expectedType,\n  cb\n) {\n  var ref = getTransitionInfo(el, expectedType);\n  var type = ref.type;\n  var timeout = ref.timeout;\n  var propCount = ref.propCount;\n  if (!type) { return cb() }\n  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;\n  var ended = 0;\n  var end = function () {\n    el.removeEventListener(event, onEnd);\n    cb();\n  };\n  var onEnd = function (e) {\n    if (e.target === el) {\n      if (++ended >= propCount) {\n        end();\n      }\n    }\n  };\n  setTimeout(function () {\n    if (ended < propCount) {\n      end();\n    }\n  }, timeout + 1);\n  el.addEventListener(event, onEnd);\n}\n\nvar transformRE = /\\b(transform|all)(,|$)/;\n\nfunction getTransitionInfo (el, expectedType) {\n  var styles = window.getComputedStyle(el);\n  // JSDOM may return undefined for transition properties\n  var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');\n  var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');\n  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);\n  var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');\n  var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');\n  var animationTimeout = getTimeout(animationDelays, animationDurations);\n\n  var type;\n  var timeout = 0;\n  var propCount = 0;\n  /* istanbul ignore if */\n  if (expectedType === TRANSITION) {\n    if (transitionTimeout > 0) {\n      type = TRANSITION;\n      timeout = transitionTimeout;\n      propCount = transitionDurations.length;\n    }\n  } else if (expectedType === ANIMATION) {\n    if (animationTimeout > 0) {\n      type = ANIMATION;\n      timeout = animationTimeout;\n      propCount = animationDurations.length;\n    }\n  } else {\n    timeout = Math.max(transitionTimeout, animationTimeout);\n    type = timeout > 0\n      ? transitionTimeout > animationTimeout\n        ? TRANSITION\n        : ANIMATION\n      : null;\n    propCount = type\n      ? type === TRANSITION\n        ? transitionDurations.length\n        : animationDurations.length\n      : 0;\n  }\n  var hasTransform =\n    type === TRANSITION &&\n    transformRE.test(styles[transitionProp + 'Property']);\n  return {\n    type: type,\n    timeout: timeout,\n    propCount: propCount,\n    hasTransform: hasTransform\n  }\n}\n\nfunction getTimeout (delays, durations) {\n  /* istanbul ignore next */\n  while (delays.length < durations.length) {\n    delays = delays.concat(delays);\n  }\n\n  return Math.max.apply(null, durations.map(function (d, i) {\n    return toMs(d) + toMs(delays[i])\n  }))\n}\n\n// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers\n// in a locale-dependent way, using a comma instead of a dot.\n// If comma is not replaced with a dot, the input will be rounded down (i.e. acting\n// as a floor function) causing unexpected behaviors\nfunction toMs (s) {\n  return Number(s.slice(0, -1).replace(',', '.')) * 1000\n}\n\n/*  */\n\nfunction enter (vnode, toggleDisplay) {\n  var el = vnode.elm;\n\n  // call leave callback now\n  if (isDef(el._leaveCb)) {\n    el._leaveCb.cancelled = true;\n    el._leaveCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data)) {\n    return\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._enterCb) || el.nodeType !== 1) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var enterClass = data.enterClass;\n  var enterToClass = data.enterToClass;\n  var enterActiveClass = data.enterActiveClass;\n  var appearClass = data.appearClass;\n  var appearToClass = data.appearToClass;\n  var appearActiveClass = data.appearActiveClass;\n  var beforeEnter = data.beforeEnter;\n  var enter = data.enter;\n  var afterEnter = data.afterEnter;\n  var enterCancelled = data.enterCancelled;\n  var beforeAppear = data.beforeAppear;\n  var appear = data.appear;\n  var afterAppear = data.afterAppear;\n  var appearCancelled = data.appearCancelled;\n  var duration = data.duration;\n\n  // activeInstance will always be the <transition> component managing this\n  // transition. One edge case to check is when the <transition> is placed\n  // as the root node of a child component. In that case we need to check\n  // <transition>'s parent for appear check.\n  var context = activeInstance;\n  var transitionNode = activeInstance.$vnode;\n  while (transitionNode && transitionNode.parent) {\n    context = transitionNode.context;\n    transitionNode = transitionNode.parent;\n  }\n\n  var isAppear = !context._isMounted || !vnode.isRootInsert;\n\n  if (isAppear && !appear && appear !== '') {\n    return\n  }\n\n  var startClass = isAppear && appearClass\n    ? appearClass\n    : enterClass;\n  var activeClass = isAppear && appearActiveClass\n    ? appearActiveClass\n    : enterActiveClass;\n  var toClass = isAppear && appearToClass\n    ? appearToClass\n    : enterToClass;\n\n  var beforeEnterHook = isAppear\n    ? (beforeAppear || beforeEnter)\n    : beforeEnter;\n  var enterHook = isAppear\n    ? (typeof appear === 'function' ? appear : enter)\n    : enter;\n  var afterEnterHook = isAppear\n    ? (afterAppear || afterEnter)\n    : afterEnter;\n  var enterCancelledHook = isAppear\n    ? (appearCancelled || enterCancelled)\n    : enterCancelled;\n\n  var explicitEnterDuration = toNumber(\n    isObject(duration)\n      ? duration.enter\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && explicitEnterDuration != null) {\n    checkDuration(explicitEnterDuration, 'enter', vnode);\n  }\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(enterHook);\n\n  var cb = el._enterCb = once(function () {\n    if (expectsCSS) {\n      removeTransitionClass(el, toClass);\n      removeTransitionClass(el, activeClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, startClass);\n      }\n      enterCancelledHook && enterCancelledHook(el);\n    } else {\n      afterEnterHook && afterEnterHook(el);\n    }\n    el._enterCb = null;\n  });\n\n  if (!vnode.data.show) {\n    // remove pending leave element on enter by injecting an insert hook\n    mergeVNodeHook(vnode, 'insert', function () {\n      var parent = el.parentNode;\n      var pendingNode = parent && parent._pending && parent._pending[vnode.key];\n      if (pendingNode &&\n        pendingNode.tag === vnode.tag &&\n        pendingNode.elm._leaveCb\n      ) {\n        pendingNode.elm._leaveCb();\n      }\n      enterHook && enterHook(el, cb);\n    });\n  }\n\n  // start enter transition\n  beforeEnterHook && beforeEnterHook(el);\n  if (expectsCSS) {\n    addTransitionClass(el, startClass);\n    addTransitionClass(el, activeClass);\n    nextFrame(function () {\n      removeTransitionClass(el, startClass);\n      if (!cb.cancelled) {\n        addTransitionClass(el, toClass);\n        if (!userWantsControl) {\n          if (isValidDuration(explicitEnterDuration)) {\n            setTimeout(cb, explicitEnterDuration);\n          } else {\n            whenTransitionEnds(el, type, cb);\n          }\n        }\n      }\n    });\n  }\n\n  if (vnode.data.show) {\n    toggleDisplay && toggleDisplay();\n    enterHook && enterHook(el, cb);\n  }\n\n  if (!expectsCSS && !userWantsControl) {\n    cb();\n  }\n}\n\nfunction leave (vnode, rm) {\n  var el = vnode.elm;\n\n  // call enter callback now\n  if (isDef(el._enterCb)) {\n    el._enterCb.cancelled = true;\n    el._enterCb();\n  }\n\n  var data = resolveTransition(vnode.data.transition);\n  if (isUndef(data) || el.nodeType !== 1) {\n    return rm()\n  }\n\n  /* istanbul ignore if */\n  if (isDef(el._leaveCb)) {\n    return\n  }\n\n  var css = data.css;\n  var type = data.type;\n  var leaveClass = data.leaveClass;\n  var leaveToClass = data.leaveToClass;\n  var leaveActiveClass = data.leaveActiveClass;\n  var beforeLeave = data.beforeLeave;\n  var leave = data.leave;\n  var afterLeave = data.afterLeave;\n  var leaveCancelled = data.leaveCancelled;\n  var delayLeave = data.delayLeave;\n  var duration = data.duration;\n\n  var expectsCSS = css !== false && !isIE9;\n  var userWantsControl = getHookArgumentsLength(leave);\n\n  var explicitLeaveDuration = toNumber(\n    isObject(duration)\n      ? duration.leave\n      : duration\n  );\n\n  if (process.env.NODE_ENV !== 'production' && isDef(explicitLeaveDuration)) {\n    checkDuration(explicitLeaveDuration, 'leave', vnode);\n  }\n\n  var cb = el._leaveCb = once(function () {\n    if (el.parentNode && el.parentNode._pending) {\n      el.parentNode._pending[vnode.key] = null;\n    }\n    if (expectsCSS) {\n      removeTransitionClass(el, leaveToClass);\n      removeTransitionClass(el, leaveActiveClass);\n    }\n    if (cb.cancelled) {\n      if (expectsCSS) {\n        removeTransitionClass(el, leaveClass);\n      }\n      leaveCancelled && leaveCancelled(el);\n    } else {\n      rm();\n      afterLeave && afterLeave(el);\n    }\n    el._leaveCb = null;\n  });\n\n  if (delayLeave) {\n    delayLeave(performLeave);\n  } else {\n    performLeave();\n  }\n\n  function performLeave () {\n    // the delayed leave may have already been cancelled\n    if (cb.cancelled) {\n      return\n    }\n    // record leaving element\n    if (!vnode.data.show && el.parentNode) {\n      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode;\n    }\n    beforeLeave && beforeLeave(el);\n    if (expectsCSS) {\n      addTransitionClass(el, leaveClass);\n      addTransitionClass(el, leaveActiveClass);\n      nextFrame(function () {\n        removeTransitionClass(el, leaveClass);\n        if (!cb.cancelled) {\n          addTransitionClass(el, leaveToClass);\n          if (!userWantsControl) {\n            if (isValidDuration(explicitLeaveDuration)) {\n              setTimeout(cb, explicitLeaveDuration);\n            } else {\n              whenTransitionEnds(el, type, cb);\n            }\n          }\n        }\n      });\n    }\n    leave && leave(el, cb);\n    if (!expectsCSS && !userWantsControl) {\n      cb();\n    }\n  }\n}\n\n// only used in dev mode\nfunction checkDuration (val, name, vnode) {\n  if (typeof val !== 'number') {\n    warn(\n      \"<transition> explicit \" + name + \" duration is not a valid number - \" +\n      \"got \" + (JSON.stringify(val)) + \".\",\n      vnode.context\n    );\n  } else if (isNaN(val)) {\n    warn(\n      \"<transition> explicit \" + name + \" duration is NaN - \" +\n      'the duration expression might be incorrect.',\n      vnode.context\n    );\n  }\n}\n\nfunction isValidDuration (val) {\n  return typeof val === 'number' && !isNaN(val)\n}\n\n/**\n * Normalize a transition hook's argument length. The hook may be:\n * - a merged hook (invoker) with the original in .fns\n * - a wrapped component method (check ._length)\n * - a plain function (.length)\n */\nfunction getHookArgumentsLength (fn) {\n  if (isUndef(fn)) {\n    return false\n  }\n  var invokerFns = fn.fns;\n  if (isDef(invokerFns)) {\n    // invoker\n    return getHookArgumentsLength(\n      Array.isArray(invokerFns)\n        ? invokerFns[0]\n        : invokerFns\n    )\n  } else {\n    return (fn._length || fn.length) > 1\n  }\n}\n\nfunction _enter (_, vnode) {\n  if (vnode.data.show !== true) {\n    enter(vnode);\n  }\n}\n\nvar transition = inBrowser ? {\n  create: _enter,\n  activate: _enter,\n  remove: function remove$$1 (vnode, rm) {\n    /* istanbul ignore else */\n    if (vnode.data.show !== true) {\n      leave(vnode, rm);\n    } else {\n      rm();\n    }\n  }\n} : {};\n\nvar platformModules = [\n  attrs,\n  klass,\n  events,\n  domProps,\n  style,\n  transition\n];\n\n/*  */\n\n// the directive module should be applied last, after all\n// built-in modules have been applied.\nvar modules = platformModules.concat(baseModules);\n\nvar patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });\n\n/**\n * Not type checking this file because flow doesn't like attaching\n * properties to Elements.\n */\n\n/* istanbul ignore if */\nif (isIE9) {\n  // http://www.matts411.com/post/internet-explorer-9-oninput/\n  document.addEventListener('selectionchange', function () {\n    var el = document.activeElement;\n    if (el && el.vmodel) {\n      trigger(el, 'input');\n    }\n  });\n}\n\nvar directive = {\n  inserted: function inserted (el, binding, vnode, oldVnode) {\n    if (vnode.tag === 'select') {\n      // #6903\n      if (oldVnode.elm && !oldVnode.elm._vOptions) {\n        mergeVNodeHook(vnode, 'postpatch', function () {\n          directive.componentUpdated(el, binding, vnode);\n        });\n      } else {\n        setSelected(el, binding, vnode.context);\n      }\n      el._vOptions = [].map.call(el.options, getValue);\n    } else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {\n      el._vModifiers = binding.modifiers;\n      if (!binding.modifiers.lazy) {\n        el.addEventListener('compositionstart', onCompositionStart);\n        el.addEventListener('compositionend', onCompositionEnd);\n        // Safari < 10.2 & UIWebView doesn't fire compositionend when\n        // switching focus before confirming composition choice\n        // this also fixes the issue where some browsers e.g. iOS Chrome\n        // fires \"change\" instead of \"input\" on autocomplete.\n        el.addEventListener('change', onCompositionEnd);\n        /* istanbul ignore if */\n        if (isIE9) {\n          el.vmodel = true;\n        }\n      }\n    }\n  },\n\n  componentUpdated: function componentUpdated (el, binding, vnode) {\n    if (vnode.tag === 'select') {\n      setSelected(el, binding, vnode.context);\n      // in case the options rendered by v-for have changed,\n      // it's possible that the value is out-of-sync with the rendered options.\n      // detect such cases and filter out values that no longer has a matching\n      // option in the DOM.\n      var prevOptions = el._vOptions;\n      var curOptions = el._vOptions = [].map.call(el.options, getValue);\n      if (curOptions.some(function (o, i) { return !looseEqual(o, prevOptions[i]); })) {\n        // trigger change event if\n        // no matching option found for at least one value\n        var needReset = el.multiple\n          ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions); })\n          : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions);\n        if (needReset) {\n          trigger(el, 'change');\n        }\n      }\n    }\n  }\n};\n\nfunction setSelected (el, binding, vm) {\n  actuallySetSelected(el, binding, vm);\n  /* istanbul ignore if */\n  if (isIE || isEdge) {\n    setTimeout(function () {\n      actuallySetSelected(el, binding, vm);\n    }, 0);\n  }\n}\n\nfunction actuallySetSelected (el, binding, vm) {\n  var value = binding.value;\n  var isMultiple = el.multiple;\n  if (isMultiple && !Array.isArray(value)) {\n    process.env.NODE_ENV !== 'production' && warn(\n      \"<select multiple v-model=\\\"\" + (binding.expression) + \"\\\"> \" +\n      \"expects an Array value for its binding, but got \" + (Object.prototype.toString.call(value).slice(8, -1)),\n      vm\n    );\n    return\n  }\n  var selected, option;\n  for (var i = 0, l = el.options.length; i < l; i++) {\n    option = el.options[i];\n    if (isMultiple) {\n      selected = looseIndexOf(value, getValue(option)) > -1;\n      if (option.selected !== selected) {\n        option.selected = selected;\n      }\n    } else {\n      if (looseEqual(getValue(option), value)) {\n        if (el.selectedIndex !== i) {\n          el.selectedIndex = i;\n        }\n        return\n      }\n    }\n  }\n  if (!isMultiple) {\n    el.selectedIndex = -1;\n  }\n}\n\nfunction hasNoMatchingOption (value, options) {\n  return options.every(function (o) { return !looseEqual(o, value); })\n}\n\nfunction getValue (option) {\n  return '_value' in option\n    ? option._value\n    : option.value\n}\n\nfunction onCompositionStart (e) {\n  e.target.composing = true;\n}\n\nfunction onCompositionEnd (e) {\n  // prevent triggering an input event for no reason\n  if (!e.target.composing) { return }\n  e.target.composing = false;\n  trigger(e.target, 'input');\n}\n\nfunction trigger (el, type) {\n  var e = document.createEvent('HTMLEvents');\n  e.initEvent(type, true, true);\n  el.dispatchEvent(e);\n}\n\n/*  */\n\n// recursively search for possible transition defined inside the component root\nfunction locateNode (vnode) {\n  return vnode.componentInstance && (!vnode.data || !vnode.data.transition)\n    ? locateNode(vnode.componentInstance._vnode)\n    : vnode\n}\n\nvar show = {\n  bind: function bind (el, ref, vnode) {\n    var value = ref.value;\n\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    var originalDisplay = el.__vOriginalDisplay =\n      el.style.display === 'none' ? '' : el.style.display;\n    if (value && transition$$1) {\n      vnode.data.show = true;\n      enter(vnode, function () {\n        el.style.display = originalDisplay;\n      });\n    } else {\n      el.style.display = value ? originalDisplay : 'none';\n    }\n  },\n\n  update: function update (el, ref, vnode) {\n    var value = ref.value;\n    var oldValue = ref.oldValue;\n\n    /* istanbul ignore if */\n    if (!value === !oldValue) { return }\n    vnode = locateNode(vnode);\n    var transition$$1 = vnode.data && vnode.data.transition;\n    if (transition$$1) {\n      vnode.data.show = true;\n      if (value) {\n        enter(vnode, function () {\n          el.style.display = el.__vOriginalDisplay;\n        });\n      } else {\n        leave(vnode, function () {\n          el.style.display = 'none';\n        });\n      }\n    } else {\n      el.style.display = value ? el.__vOriginalDisplay : 'none';\n    }\n  },\n\n  unbind: function unbind (\n    el,\n    binding,\n    vnode,\n    oldVnode,\n    isDestroy\n  ) {\n    if (!isDestroy) {\n      el.style.display = el.__vOriginalDisplay;\n    }\n  }\n};\n\nvar platformDirectives = {\n  model: directive,\n  show: show\n};\n\n/*  */\n\nvar transitionProps = {\n  name: String,\n  appear: Boolean,\n  css: Boolean,\n  mode: String,\n  type: String,\n  enterClass: String,\n  leaveClass: String,\n  enterToClass: String,\n  leaveToClass: String,\n  enterActiveClass: String,\n  leaveActiveClass: String,\n  appearClass: String,\n  appearActiveClass: String,\n  appearToClass: String,\n  duration: [Number, String, Object]\n};\n\n// in case the child is also an abstract component, e.g. <keep-alive>\n// we want to recursively retrieve the real component to be rendered\nfunction getRealChild (vnode) {\n  var compOptions = vnode && vnode.componentOptions;\n  if (compOptions && compOptions.Ctor.options.abstract) {\n    return getRealChild(getFirstComponentChild(compOptions.children))\n  } else {\n    return vnode\n  }\n}\n\nfunction extractTransitionData (comp) {\n  var data = {};\n  var options = comp.$options;\n  // props\n  for (var key in options.propsData) {\n    data[key] = comp[key];\n  }\n  // events.\n  // extract listeners and pass them directly to the transition methods\n  var listeners = options._parentListeners;\n  for (var key$1 in listeners) {\n    data[camelize(key$1)] = listeners[key$1];\n  }\n  return data\n}\n\nfunction placeholder (h, rawChild) {\n  if (/\\d-keep-alive$/.test(rawChild.tag)) {\n    return h('keep-alive', {\n      props: rawChild.componentOptions.propsData\n    })\n  }\n}\n\nfunction hasParentTransition (vnode) {\n  while ((vnode = vnode.parent)) {\n    if (vnode.data.transition) {\n      return true\n    }\n  }\n}\n\nfunction isSameChild (child, oldChild) {\n  return oldChild.key === child.key && oldChild.tag === child.tag\n}\n\nvar isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };\n\nvar isVShowDirective = function (d) { return d.name === 'show'; };\n\nvar Transition = {\n  name: 'transition',\n  props: transitionProps,\n  abstract: true,\n\n  render: function render (h) {\n    var this$1 = this;\n\n    var children = this.$slots.default;\n    if (!children) {\n      return\n    }\n\n    // filter out text nodes (possible whitespaces)\n    children = children.filter(isNotTextNode);\n    /* istanbul ignore if */\n    if (!children.length) {\n      return\n    }\n\n    // warn multiple elements\n    if (process.env.NODE_ENV !== 'production' && children.length > 1) {\n      warn(\n        '<transition> can only be used on a single element. Use ' +\n        '<transition-group> for lists.',\n        this.$parent\n      );\n    }\n\n    var mode = this.mode;\n\n    // warn invalid mode\n    if (process.env.NODE_ENV !== 'production' &&\n      mode && mode !== 'in-out' && mode !== 'out-in'\n    ) {\n      warn(\n        'invalid <transition> mode: ' + mode,\n        this.$parent\n      );\n    }\n\n    var rawChild = children[0];\n\n    // if this is a component root node and the component's\n    // parent container node also has transition, skip.\n    if (hasParentTransition(this.$vnode)) {\n      return rawChild\n    }\n\n    // apply transition data to child\n    // use getRealChild() to ignore abstract components e.g. keep-alive\n    var child = getRealChild(rawChild);\n    /* istanbul ignore if */\n    if (!child) {\n      return rawChild\n    }\n\n    if (this._leaving) {\n      return placeholder(h, rawChild)\n    }\n\n    // ensure a key that is unique to the vnode type and to this transition\n    // component instance. This key will be used to remove pending leaving nodes\n    // during entering.\n    var id = \"__transition-\" + (this._uid) + \"-\";\n    child.key = child.key == null\n      ? child.isComment\n        ? id + 'comment'\n        : id + child.tag\n      : isPrimitive(child.key)\n        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)\n        : child.key;\n\n    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);\n    var oldRawChild = this._vnode;\n    var oldChild = getRealChild(oldRawChild);\n\n    // mark v-show\n    // so that the transition module can hand over the control to the directive\n    if (child.data.directives && child.data.directives.some(isVShowDirective)) {\n      child.data.show = true;\n    }\n\n    if (\n      oldChild &&\n      oldChild.data &&\n      !isSameChild(child, oldChild) &&\n      !isAsyncPlaceholder(oldChild) &&\n      // #6687 component root is a comment node\n      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)\n    ) {\n      // replace old child transition data with fresh one\n      // important for dynamic transitions!\n      var oldData = oldChild.data.transition = extend({}, data);\n      // handle transition mode\n      if (mode === 'out-in') {\n        // return placeholder node and queue update when leave finishes\n        this._leaving = true;\n        mergeVNodeHook(oldData, 'afterLeave', function () {\n          this$1._leaving = false;\n          this$1.$forceUpdate();\n        });\n        return placeholder(h, rawChild)\n      } else if (mode === 'in-out') {\n        if (isAsyncPlaceholder(child)) {\n          return oldRawChild\n        }\n        var delayedLeave;\n        var performLeave = function () { delayedLeave(); };\n        mergeVNodeHook(data, 'afterEnter', performLeave);\n        mergeVNodeHook(data, 'enterCancelled', performLeave);\n        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });\n      }\n    }\n\n    return rawChild\n  }\n};\n\n/*  */\n\nvar props = extend({\n  tag: String,\n  moveClass: String\n}, transitionProps);\n\ndelete props.mode;\n\nvar TransitionGroup = {\n  props: props,\n\n  beforeMount: function beforeMount () {\n    var this$1 = this;\n\n    var update = this._update;\n    this._update = function (vnode, hydrating) {\n      var restoreActiveInstance = setActiveInstance(this$1);\n      // force removing pass\n      this$1.__patch__(\n        this$1._vnode,\n        this$1.kept,\n        false, // hydrating\n        true // removeOnly (!important, avoids unnecessary moves)\n      );\n      this$1._vnode = this$1.kept;\n      restoreActiveInstance();\n      update.call(this$1, vnode, hydrating);\n    };\n  },\n\n  render: function render (h) {\n    var tag = this.tag || this.$vnode.data.tag || 'span';\n    var map = Object.create(null);\n    var prevChildren = this.prevChildren = this.children;\n    var rawChildren = this.$slots.default || [];\n    var children = this.children = [];\n    var transitionData = extractTransitionData(this);\n\n    for (var i = 0; i < rawChildren.length; i++) {\n      var c = rawChildren[i];\n      if (c.tag) {\n        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {\n          children.push(c);\n          map[c.key] = c\n          ;(c.data || (c.data = {})).transition = transitionData;\n        } else if (process.env.NODE_ENV !== 'production') {\n          var opts = c.componentOptions;\n          var name = opts ? (opts.Ctor.options.name || opts.tag || '') : c.tag;\n          warn((\"<transition-group> children must be keyed: <\" + name + \">\"));\n        }\n      }\n    }\n\n    if (prevChildren) {\n      var kept = [];\n      var removed = [];\n      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {\n        var c$1 = prevChildren[i$1];\n        c$1.data.transition = transitionData;\n        c$1.data.pos = c$1.elm.getBoundingClientRect();\n        if (map[c$1.key]) {\n          kept.push(c$1);\n        } else {\n          removed.push(c$1);\n        }\n      }\n      this.kept = h(tag, null, kept);\n      this.removed = removed;\n    }\n\n    return h(tag, null, children)\n  },\n\n  updated: function updated () {\n    var children = this.prevChildren;\n    var moveClass = this.moveClass || ((this.name || 'v') + '-move');\n    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {\n      return\n    }\n\n    // we divide the work into three loops to avoid mixing DOM reads and writes\n    // in each iteration - which helps prevent layout thrashing.\n    children.forEach(callPendingCbs);\n    children.forEach(recordPosition);\n    children.forEach(applyTranslation);\n\n    // force reflow to put everything in position\n    // assign to this to avoid being removed in tree-shaking\n    // $flow-disable-line\n    this._reflow = document.body.offsetHeight;\n\n    children.forEach(function (c) {\n      if (c.data.moved) {\n        var el = c.elm;\n        var s = el.style;\n        addTransitionClass(el, moveClass);\n        s.transform = s.WebkitTransform = s.transitionDuration = '';\n        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {\n          if (e && e.target !== el) {\n            return\n          }\n          if (!e || /transform$/.test(e.propertyName)) {\n            el.removeEventListener(transitionEndEvent, cb);\n            el._moveCb = null;\n            removeTransitionClass(el, moveClass);\n          }\n        });\n      }\n    });\n  },\n\n  methods: {\n    hasMove: function hasMove (el, moveClass) {\n      /* istanbul ignore if */\n      if (!hasTransition) {\n        return false\n      }\n      /* istanbul ignore if */\n      if (this._hasMove) {\n        return this._hasMove\n      }\n      // Detect whether an element with the move class applied has\n      // CSS transitions. Since the element may be inside an entering\n      // transition at this very moment, we make a clone of it and remove\n      // all other transition classes applied to ensure only the move class\n      // is applied.\n      var clone = el.cloneNode();\n      if (el._transitionClasses) {\n        el._transitionClasses.forEach(function (cls) { removeClass(clone, cls); });\n      }\n      addClass(clone, moveClass);\n      clone.style.display = 'none';\n      this.$el.appendChild(clone);\n      var info = getTransitionInfo(clone);\n      this.$el.removeChild(clone);\n      return (this._hasMove = info.hasTransform)\n    }\n  }\n};\n\nfunction callPendingCbs (c) {\n  /* istanbul ignore if */\n  if (c.elm._moveCb) {\n    c.elm._moveCb();\n  }\n  /* istanbul ignore if */\n  if (c.elm._enterCb) {\n    c.elm._enterCb();\n  }\n}\n\nfunction recordPosition (c) {\n  c.data.newPos = c.elm.getBoundingClientRect();\n}\n\nfunction applyTranslation (c) {\n  var oldPos = c.data.pos;\n  var newPos = c.data.newPos;\n  var dx = oldPos.left - newPos.left;\n  var dy = oldPos.top - newPos.top;\n  if (dx || dy) {\n    c.data.moved = true;\n    var s = c.elm.style;\n    s.transform = s.WebkitTransform = \"translate(\" + dx + \"px,\" + dy + \"px)\";\n    s.transitionDuration = '0s';\n  }\n}\n\nvar platformComponents = {\n  Transition: Transition,\n  TransitionGroup: TransitionGroup\n};\n\n/*  */\n\n// install platform specific utils\nVue.config.mustUseProp = mustUseProp;\nVue.config.isReservedTag = isReservedTag;\nVue.config.isReservedAttr = isReservedAttr;\nVue.config.getTagNamespace = getTagNamespace;\nVue.config.isUnknownElement = isUnknownElement;\n\n// install platform runtime directives & components\nextend(Vue.options.directives, platformDirectives);\nextend(Vue.options.components, platformComponents);\n\n// install platform patch function\nVue.prototype.__patch__ = inBrowser ? patch : noop;\n\n// public mount method\nVue.prototype.$mount = function (\n  el,\n  hydrating\n) {\n  el = el && inBrowser ? query(el) : undefined;\n  return mountComponent(this, el, hydrating)\n};\n\n// devtools global hook\n/* istanbul ignore next */\nif (inBrowser) {\n  setTimeout(function () {\n    if (config.devtools) {\n      if (devtools) {\n        devtools.emit('init', Vue);\n      } else if (\n        process.env.NODE_ENV !== 'production' &&\n        process.env.NODE_ENV !== 'test'\n      ) {\n        console[console.info ? 'info' : 'log'](\n          'Download the Vue Devtools extension for a better development experience:\\n' +\n          'https://github.com/vuejs/vue-devtools'\n        );\n      }\n    }\n    if (process.env.NODE_ENV !== 'production' &&\n      process.env.NODE_ENV !== 'test' &&\n      config.productionTip !== false &&\n      typeof console !== 'undefined'\n    ) {\n      console[console.info ? 'info' : 'log'](\n        \"You are running Vue in development mode.\\n\" +\n        \"Make sure to turn on production mode when deploying for production.\\n\" +\n        \"See more tips at https://vuejs.org/guide/deployment.html\"\n      );\n    }\n  }, 0);\n}\n\n/*  */\n\nexport default Vue;\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeStartsWith = ''.startsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('startsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'startsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.startsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.startswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var index = toLength(min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return nativeStartsWith\n      ? nativeStartsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","import Vue from 'vue'\nimport { VueConstructor } from 'vue/types/vue'\nimport { consoleWarn } from '../../util/console'\n\nfunction generateWarning (child: string, parent: string) {\n  return () => consoleWarn(`The ${child} component must be used inside a ${parent}`)\n}\n\nexport type Registrable<T extends string, C extends VueConstructor | null = null> = VueConstructor<Vue & {\n  [K in T]: C extends VueConstructor ? InstanceType<C> : {\n    register (...props: any[]): void\n    unregister (self: any): void\n  }\n}>\n\nexport function inject<\n  T extends string, C extends VueConstructor | null = null\n> (namespace: T, child?: string, parent?: string): Registrable<T, C> {\n  const defaultImpl = child && parent ? {\n    register: generateWarning(child, parent),\n    unregister: generateWarning(child, parent),\n  } : null\n\n  return Vue.extend({\n    name: 'registrable-inject',\n\n    inject: {\n      [namespace]: {\n        default: defaultImpl,\n      },\n    },\n  })\n}\n\nexport function provide (namespace: string, self = false) {\n  return Vue.extend({\n    name: 'registrable-provide',\n\n    provide (): object {\n      return {\n        [namespace]: self ? this : {\n          register: (this as any).register,\n          unregister: (this as any).unregister,\n        },\n      }\n    },\n  })\n}\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","// Types\nimport Vue, { VNode } from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'v-list-item-icon',\n\n  functional: true,\n\n  render (h, { data, children }): VNode {\n    data.staticClass = (`v-list-item__icon ${data.staticClass || ''}`).trim()\n\n    return h('div', data, children)\n  },\n})\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","'use strict';\n\nvar utils = require('../utils/event')\n  , urlUtils = require('../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , WebsocketDriver = require('./driver/websocket')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:websocket');\n}\n\nfunction WebSocketTransport(transUrl, ignore, options) {\n  if (!WebSocketTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  EventEmitter.call(this);\n  debug('constructor', transUrl);\n\n  var self = this;\n  var url = urlUtils.addPath(transUrl, '/websocket');\n  if (url.slice(0, 5) === 'https') {\n    url = 'wss' + url.slice(5);\n  } else {\n    url = 'ws' + url.slice(4);\n  }\n  this.url = url;\n\n  this.ws = new WebsocketDriver(this.url, [], options);\n  this.ws.onmessage = function(e) {\n    debug('message event', e.data);\n    self.emit('message', e.data);\n  };\n  // Firefox has an interesting bug. If a websocket connection is\n  // created after onunload, it stays alive even when user\n  // navigates away from the page. In such situation let's lie -\n  // let's not open the ws connection at all. See:\n  // https://github.com/sockjs/sockjs-client/issues/28\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=696085\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload');\n    self.ws.close();\n  });\n  this.ws.onclose = function(e) {\n    debug('close event', e.code, e.reason);\n    self.emit('close', e.code, e.reason);\n    self._cleanup();\n  };\n  this.ws.onerror = function(e) {\n    debug('error event', e);\n    self.emit('close', 1006, 'WebSocket connection broken');\n    self._cleanup();\n  };\n}\n\ninherits(WebSocketTransport, EventEmitter);\n\nWebSocketTransport.prototype.send = function(data) {\n  var msg = '[' + data + ']';\n  debug('send', msg);\n  this.ws.send(msg);\n};\n\nWebSocketTransport.prototype.close = function() {\n  debug('close');\n  var ws = this.ws;\n  this._cleanup();\n  if (ws) {\n    ws.close();\n  }\n};\n\nWebSocketTransport.prototype._cleanup = function() {\n  debug('_cleanup');\n  var ws = this.ws;\n  if (ws) {\n    ws.onmessage = ws.onclose = ws.onerror = null;\n  }\n  utils.unloadDel(this.unloadRef);\n  this.unloadRef = this.ws = null;\n  this.removeAllListeners();\n};\n\nWebSocketTransport.enabled = function() {\n  debug('enabled');\n  return !!WebsocketDriver;\n};\nWebSocketTransport.transportName = 'websocket';\n\n// In theory, ws should require 1 round trip. But in chrome, this is\n// not very stable over SSL. Most likely a ws connection requires a\n// separate SSL connection, in which case 2 round trips are an\n// absolute minumum.\nWebSocketTransport.roundTrips = 2;\n\nmodule.exports = WebSocketTransport;\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , browser = require('../utils/browser')\n  ;\n\nfunction XhrStreamingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrStreamingTransport, AjaxBasedTransport);\n\nXhrStreamingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n  // Opera doesn't support xhr-streaming #60\n  // But it might be able to #92\n  if (browser.isOpera()) {\n    return false;\n  }\n\n  return XHRCorsObject.enabled;\n};\n\nXhrStreamingTransport.transportName = 'xhr-streaming';\nXhrStreamingTransport.roundTrips = 2; // preflight, ajax\n\n// Safari gets confused when a streaming ajax request is started\n// before onload. This causes the load indicator to spin indefinetely.\n// Only require body when used in a browser\nXhrStreamingTransport.needBody = !!global.document;\n\nmodule.exports = XhrStreamingTransport;\n","var $ = require('../internals/export');\nvar sign = require('../internals/math-sign');\n\nvar abs = Math.abs;\nvar pow = Math.pow;\n\n// `Math.cbrt` method\n// https://tc39.es/ecma262/#sec-math.cbrt\n$({ target: 'Math', stat: true }, {\n  cbrt: function cbrt(x) {\n    return sign(x = +x) * pow(abs(x), 1 / 3);\n  }\n});\n","module.exports = {};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","// this method was added to unscopables after implementation\n// in popular engines, so it's moved to a separate module\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('flat');\n","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , HtmlfileReceiver = require('./receiver/htmlfile')\n  , XHRLocalObject = require('./sender/xhr-local')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  ;\n\nfunction HtmlFileTransport(transUrl) {\n  if (!HtmlfileReceiver.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/htmlfile', HtmlfileReceiver, XHRLocalObject);\n}\n\ninherits(HtmlFileTransport, AjaxBasedTransport);\n\nHtmlFileTransport.enabled = function(info) {\n  return HtmlfileReceiver.enabled && info.sameOrigin;\n};\n\nHtmlFileTransport.transportName = 'htmlfile';\nHtmlFileTransport.roundTrips = 2;\n\nmodule.exports = HtmlFileTransport;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","'use strict';\n\n/**\n * Check if we're required to add a port number.\n *\n * @see https://url.spec.whatwg.org/#default-port\n * @param {Number|String} port Port number we need to check\n * @param {String} protocol Protocol we need to check against.\n * @returns {Boolean} Is it a default port for the given protocol\n * @api private\n */\nmodule.exports = function required(port, protocol) {\n  protocol = protocol.split(':')[0];\n  port = +port;\n\n  if (!port) return false;\n\n  switch (protocol) {\n    case 'http':\n    case 'ws':\n    return port !== 80;\n\n    case 'https':\n    case 'wss':\n    return port !== 443;\n\n    case 'ftp':\n    return port !== 21;\n\n    case 'gopher':\n    return port !== 70;\n\n    case 'file':\n    return false;\n  }\n\n  return port !== 0;\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.es/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\n// @@match logic\nfixRegExpWellKnownSymbolLogic('match', 1, function (MATCH, nativeMatch, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.es/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = requireObjectCoercible(this);\n      var matcher = regexp == undefined ? undefined : regexp[MATCH];\n      return matcher !== undefined ? matcher.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative(nativeMatch, regexp, this);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      if (!rx.global) return regExpExec(rx, S);\n\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction TransportMessageEvent(data) {\n  Event.call(this);\n  this.initEvent('message', false, false);\n  this.data = data;\n}\n\ninherits(TransportMessageEvent, Event);\n\nmodule.exports = TransportMessageEvent;\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","'use strict';\n\nrequire('./shims');\n\nvar URL = require('url-parse')\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , random = require('./utils/random')\n  , escape = require('./utils/escape')\n  , urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , transport = require('./utils/transport')\n  , objectUtils = require('./utils/object')\n  , browser = require('./utils/browser')\n  , log = require('./utils/log')\n  , Event = require('./event/event')\n  , EventTarget = require('./event/eventtarget')\n  , loc = require('./location')\n  , CloseEvent = require('./event/close')\n  , TransportMessageEvent = require('./event/trans-message')\n  , InfoReceiver = require('./info-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:main');\n}\n\nvar transports;\n\n// follow constructor steps defined at http://dev.w3.org/html5/websockets/#the-websocket-interface\nfunction SockJS(url, protocols, options) {\n  if (!(this instanceof SockJS)) {\n    return new SockJS(url, protocols, options);\n  }\n  if (arguments.length < 1) {\n    throw new TypeError(\"Failed to construct 'SockJS: 1 argument required, but only 0 present\");\n  }\n  EventTarget.call(this);\n\n  this.readyState = SockJS.CONNECTING;\n  this.extensions = '';\n  this.protocol = '';\n\n  // non-standard extension\n  options = options || {};\n  if (options.protocols_whitelist) {\n    log.warn(\"'protocols_whitelist' is DEPRECATED. Use 'transports' instead.\");\n  }\n  this._transportsWhitelist = options.transports;\n  this._transportOptions = options.transportOptions || {};\n  this._timeout = options.timeout || 0;\n\n  var sessionId = options.sessionId || 8;\n  if (typeof sessionId === 'function') {\n    this._generateSessionId = sessionId;\n  } else if (typeof sessionId === 'number') {\n    this._generateSessionId = function() {\n      return random.string(sessionId);\n    };\n  } else {\n    throw new TypeError('If sessionId is used in the options, it needs to be a number or a function.');\n  }\n\n  this._server = options.server || random.numberString(1000);\n\n  // Step 1 of WS spec - parse and validate the url. Issue #8\n  var parsedUrl = new URL(url);\n  if (!parsedUrl.host || !parsedUrl.protocol) {\n    throw new SyntaxError(\"The URL '\" + url + \"' is invalid\");\n  } else if (parsedUrl.hash) {\n    throw new SyntaxError('The URL must not contain a fragment');\n  } else if (parsedUrl.protocol !== 'http:' && parsedUrl.protocol !== 'https:') {\n    throw new SyntaxError(\"The URL's scheme must be either 'http:' or 'https:'. '\" + parsedUrl.protocol + \"' is not allowed.\");\n  }\n\n  var secure = parsedUrl.protocol === 'https:';\n  // Step 2 - don't allow secure origin with an insecure protocol\n  if (loc.protocol === 'https:' && !secure) {\n    // exception is 127.0.0.0/8 and ::1 urls\n    if (!urlUtils.isLoopbackAddr(parsedUrl.hostname)) {\n      throw new Error('SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS');\n    }\n  }\n\n  // Step 3 - check port access - no need here\n  // Step 4 - parse protocols argument\n  if (!protocols) {\n    protocols = [];\n  } else if (!Array.isArray(protocols)) {\n    protocols = [protocols];\n  }\n\n  // Step 5 - check protocols argument\n  var sortedProtocols = protocols.sort();\n  sortedProtocols.forEach(function(proto, i) {\n    if (!proto) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is invalid.\");\n    }\n    if (i < (sortedProtocols.length - 1) && proto === sortedProtocols[i + 1]) {\n      throw new SyntaxError(\"The protocols entry '\" + proto + \"' is duplicated.\");\n    }\n  });\n\n  // Step 6 - convert origin\n  var o = urlUtils.getOrigin(loc.href);\n  this._origin = o ? o.toLowerCase() : null;\n\n  // remove the trailing slash\n  parsedUrl.set('pathname', parsedUrl.pathname.replace(/\\/+$/, ''));\n\n  // store the sanitized url\n  this.url = parsedUrl.href;\n  debug('using url', this.url);\n\n  // Step 7 - start connection in background\n  // obtain server info\n  // http://sockjs.github.io/sockjs-protocol/sockjs-protocol-0.3.3.html#section-26\n  this._urlInfo = {\n    nullOrigin: !browser.hasDomain()\n  , sameOrigin: urlUtils.isOriginEqual(this.url, loc.href)\n  , sameScheme: urlUtils.isSchemeEqual(this.url, loc.href)\n  };\n\n  this._ir = new InfoReceiver(this.url, this._urlInfo);\n  this._ir.once('finish', this._receiveInfo.bind(this));\n}\n\ninherits(SockJS, EventTarget);\n\nfunction userSetCode(code) {\n  return code === 1000 || (code >= 3000 && code <= 4999);\n}\n\nSockJS.prototype.close = function(code, reason) {\n  // Step 1\n  if (code && !userSetCode(code)) {\n    throw new Error('InvalidAccessError: Invalid code');\n  }\n  // Step 2.4 states the max is 123 bytes, but we are just checking length\n  if (reason && reason.length > 123) {\n    throw new SyntaxError('reason argument has an invalid length');\n  }\n\n  // Step 3.1\n  if (this.readyState === SockJS.CLOSING || this.readyState === SockJS.CLOSED) {\n    return;\n  }\n\n  // TODO look at docs to determine how to set this\n  var wasClean = true;\n  this._close(code || 1000, reason || 'Normal closure', wasClean);\n};\n\nSockJS.prototype.send = function(data) {\n  // #13 - convert anything non-string to string\n  // TODO this currently turns objects into [object Object]\n  if (typeof data !== 'string') {\n    data = '' + data;\n  }\n  if (this.readyState === SockJS.CONNECTING) {\n    throw new Error('InvalidStateError: The connection has not been established yet');\n  }\n  if (this.readyState !== SockJS.OPEN) {\n    return;\n  }\n  this._transport.send(escape.quote(data));\n};\n\nSockJS.version = require('./version');\n\nSockJS.CONNECTING = 0;\nSockJS.OPEN = 1;\nSockJS.CLOSING = 2;\nSockJS.CLOSED = 3;\n\nSockJS.prototype._receiveInfo = function(info, rtt) {\n  debug('_receiveInfo', rtt);\n  this._ir = null;\n  if (!info) {\n    this._close(1002, 'Cannot connect to server');\n    return;\n  }\n\n  // establish a round-trip timeout (RTO) based on the\n  // round-trip time (RTT)\n  this._rto = this.countRTO(rtt);\n  // allow server to override url used for the actual transport\n  this._transUrl = info.base_url ? info.base_url : this.url;\n  info = objectUtils.extend(info, this._urlInfo);\n  debug('info', info);\n  // determine list of desired and supported transports\n  var enabledTransports = transports.filterToEnabled(this._transportsWhitelist, info);\n  this._transports = enabledTransports.main;\n  debug(this._transports.length + ' enabled transports');\n\n  this._connect();\n};\n\nSockJS.prototype._connect = function() {\n  for (var Transport = this._transports.shift(); Transport; Transport = this._transports.shift()) {\n    debug('attempt', Transport.transportName);\n    if (Transport.needBody) {\n      if (!global.document.body ||\n          (typeof global.document.readyState !== 'undefined' &&\n            global.document.readyState !== 'complete' &&\n            global.document.readyState !== 'interactive')) {\n        debug('waiting for body');\n        this._transports.unshift(Transport);\n        eventUtils.attachEvent('load', this._connect.bind(this));\n        return;\n      }\n    }\n\n    // calculate timeout based on RTO and round trips. Default to 5s\n    var timeoutMs = Math.max(this._timeout, (this._rto * Transport.roundTrips) || 5000);\n    this._transportTimeoutId = setTimeout(this._transportTimeout.bind(this), timeoutMs);\n    debug('using timeout', timeoutMs);\n\n    var transportUrl = urlUtils.addPath(this._transUrl, '/' + this._server + '/' + this._generateSessionId());\n    var options = this._transportOptions[Transport.transportName];\n    debug('transport url', transportUrl);\n    var transportObj = new Transport(transportUrl, this._transUrl, options);\n    transportObj.on('message', this._transportMessage.bind(this));\n    transportObj.once('close', this._transportClose.bind(this));\n    transportObj.transportName = Transport.transportName;\n    this._transport = transportObj;\n\n    return;\n  }\n  this._close(2000, 'All transports failed', false);\n};\n\nSockJS.prototype._transportTimeout = function() {\n  debug('_transportTimeout');\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transport) {\n      this._transport.close();\n    }\n\n    this._transportClose(2007, 'Transport timed out');\n  }\n};\n\nSockJS.prototype._transportMessage = function(msg) {\n  debug('_transportMessage', msg);\n  var self = this\n    , type = msg.slice(0, 1)\n    , content = msg.slice(1)\n    , payload\n    ;\n\n  // first check for messages that don't need a payload\n  switch (type) {\n    case 'o':\n      this._open();\n      return;\n    case 'h':\n      this.dispatchEvent(new Event('heartbeat'));\n      debug('heartbeat', this.transport);\n      return;\n  }\n\n  if (content) {\n    try {\n      payload = JSON3.parse(content);\n    } catch (e) {\n      debug('bad json', content);\n    }\n  }\n\n  if (typeof payload === 'undefined') {\n    debug('empty payload', content);\n    return;\n  }\n\n  switch (type) {\n    case 'a':\n      if (Array.isArray(payload)) {\n        payload.forEach(function(p) {\n          debug('message', self.transport, p);\n          self.dispatchEvent(new TransportMessageEvent(p));\n        });\n      }\n      break;\n    case 'm':\n      debug('message', this.transport, payload);\n      this.dispatchEvent(new TransportMessageEvent(payload));\n      break;\n    case 'c':\n      if (Array.isArray(payload) && payload.length === 2) {\n        this._close(payload[0], payload[1], true);\n      }\n      break;\n  }\n};\n\nSockJS.prototype._transportClose = function(code, reason) {\n  debug('_transportClose', this.transport, code, reason);\n  if (this._transport) {\n    this._transport.removeAllListeners();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (!userSetCode(code) && code !== 2000 && this.readyState === SockJS.CONNECTING) {\n    this._connect();\n    return;\n  }\n\n  this._close(code, reason);\n};\n\nSockJS.prototype._open = function() {\n  debug('_open', this._transport && this._transport.transportName, this.readyState);\n  if (this.readyState === SockJS.CONNECTING) {\n    if (this._transportTimeoutId) {\n      clearTimeout(this._transportTimeoutId);\n      this._transportTimeoutId = null;\n    }\n    this.readyState = SockJS.OPEN;\n    this.transport = this._transport.transportName;\n    this.dispatchEvent(new Event('open'));\n    debug('connected', this.transport);\n  } else {\n    // The server might have been restarted, and lost track of our\n    // connection.\n    this._close(1006, 'Server lost session');\n  }\n};\n\nSockJS.prototype._close = function(code, reason, wasClean) {\n  debug('_close', this.transport, code, reason, wasClean, this.readyState);\n  var forceFail = false;\n\n  if (this._ir) {\n    forceFail = true;\n    this._ir.close();\n    this._ir = null;\n  }\n  if (this._transport) {\n    this._transport.close();\n    this._transport = null;\n    this.transport = null;\n  }\n\n  if (this.readyState === SockJS.CLOSED) {\n    throw new Error('InvalidStateError: SockJS has already been closed');\n  }\n\n  this.readyState = SockJS.CLOSING;\n  setTimeout(function() {\n    this.readyState = SockJS.CLOSED;\n\n    if (forceFail) {\n      this.dispatchEvent(new Event('error'));\n    }\n\n    var e = new CloseEvent('close');\n    e.wasClean = wasClean || false;\n    e.code = code || 1000;\n    e.reason = reason;\n\n    this.dispatchEvent(e);\n    this.onmessage = this.onclose = this.onerror = null;\n    debug('disconnected');\n  }.bind(this), 0);\n};\n\n// See: http://www.erg.abdn.ac.uk/~gerrit/dccp/notes/ccid2/rto_estimator/\n// and RFC 2988.\nSockJS.prototype.countRTO = function(rtt) {\n  // In a local environment, when using IE8/9 and the `jsonp-polling`\n  // transport the time needed to establish a connection (the time that pass\n  // from the opening of the transport to the call of `_dispatchOpen`) is\n  // around 200msec (the lower bound used in the article above) and this\n  // causes spurious timeouts. For this reason we calculate a value slightly\n  // larger than that used in the article.\n  if (rtt > 100) {\n    return 4 * rtt; // rto > 400msec\n  }\n  return 300 + rtt; // 300msec < rto <= 400msec\n};\n\nmodule.exports = function(availableTransports) {\n  transports = transport(availableTransports);\n  require('./iframe-bootstrap')(SockJS, availableTransports);\n  return SockJS;\n};\n","'use strict';\n\nvar logObject = {};\n['log', 'debug', 'warn'].forEach(function (level) {\n  var levelExists;\n\n  try {\n    levelExists = global.console && global.console[level] && global.console[level].apply;\n  } catch(e) {\n    // do nothing\n  }\n\n  logObject[level] = levelExists ? function () {\n    return global.console[level].apply(global.console, arguments);\n  } : (level === 'log' ? function () {} : logObject.log);\n});\n\nmodule.exports = logObject;\n","var fails = require('../internals/fails');\n\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  // Chrome 38 Symbol has incorrect toString conversion\n  // eslint-disable-next-line no-undef\n  return !String(Symbol());\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n// Edge 14- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n});\n","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","'use strict';\n\nvar inherits = require('inherits')\n  , iframeUtils = require('../../utils/iframe')\n  , urlUtils = require('../../utils/url')\n  , EventEmitter = require('events').EventEmitter\n  , random = require('../../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:htmlfile');\n}\n\nfunction HtmlfileReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n  var self = this;\n  iframeUtils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  url = urlUtils.addQuery(url, 'c=' + decodeURIComponent(iframeUtils.WPrefix + '.' + this.id));\n\n  debug('using htmlfile', HtmlfileReceiver.htmlfileEnabled);\n  var constructFunc = HtmlfileReceiver.htmlfileEnabled ?\n      iframeUtils.createHtmlfile : iframeUtils.createIframe;\n\n  global[iframeUtils.WPrefix][this.id] = {\n    start: function() {\n      debug('start');\n      self.iframeObj.loaded();\n    }\n  , message: function(data) {\n      debug('message', data);\n      self.emit('message', data);\n    }\n  , stop: function() {\n      debug('stop');\n      self._cleanup();\n      self._close('network');\n    }\n  };\n  this.iframeObj = constructFunc(url, function() {\n    debug('callback');\n    self._cleanup();\n    self._close('permanent');\n  });\n}\n\ninherits(HtmlfileReceiver, EventEmitter);\n\nHtmlfileReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nHtmlfileReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  if (this.iframeObj) {\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n  }\n  delete global[iframeUtils.WPrefix][this.id];\n};\n\nHtmlfileReceiver.prototype._close = function(reason) {\n  debug('_close', reason);\n  this.emit('close', null, reason);\n  this.removeAllListeners();\n};\n\nHtmlfileReceiver.htmlfileEnabled = false;\n\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (axo in global) {\n  try {\n    HtmlfileReceiver.htmlfileEnabled = !!new global[axo]('htmlfile');\n  } catch (x) {\n    // intentionally empty\n  }\n}\n\nHtmlfileReceiver.enabled = HtmlfileReceiver.htmlfileEnabled || iframeUtils.iframeEnabled;\n\nmodule.exports = HtmlfileReceiver;\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","// Styles\nimport './VRipple.sass'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode, VNodeDirective } from 'vue'\n\ntype VuetifyRippleEvent = MouseEvent | TouchEvent | KeyboardEvent\n\nconst DELAY_RIPPLE = 80\n\nfunction transform (el: HTMLElement, value: string) {\n  el.style.transform = value\n  el.style.webkitTransform = value\n}\n\nfunction opacity (el: HTMLElement, value: number) {\n  el.style.opacity = value.toString()\n}\n\nexport interface RippleOptions {\n  class?: string\n  center?: boolean\n  circle?: boolean\n}\n\nfunction isTouchEvent (e: VuetifyRippleEvent): e is TouchEvent {\n  return e.constructor.name === 'TouchEvent'\n}\n\nfunction isKeyboardEvent (e: VuetifyRippleEvent): e is KeyboardEvent {\n  return e.constructor.name === 'KeyboardEvent'\n}\n\nconst calculate = (\n  e: VuetifyRippleEvent,\n  el: HTMLElement,\n  value: RippleOptions = {}\n) => {\n  let localX = 0\n  let localY = 0\n\n  if (!isKeyboardEvent(e)) {\n    const offset = el.getBoundingClientRect()\n    const target = isTouchEvent(e) ? e.touches[e.touches.length - 1] : e\n\n    localX = target.clientX - offset.left\n    localY = target.clientY - offset.top\n  }\n\n  let radius = 0\n  let scale = 0.3\n  if (el._ripple && el._ripple.circle) {\n    scale = 0.15\n    radius = el.clientWidth / 2\n    radius = value.center ? radius : radius + Math.sqrt((localX - radius) ** 2 + (localY - radius) ** 2) / 4\n  } else {\n    radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2\n  }\n\n  const centerX = `${(el.clientWidth - (radius * 2)) / 2}px`\n  const centerY = `${(el.clientHeight - (radius * 2)) / 2}px`\n\n  const x = value.center ? centerX : `${localX - radius}px`\n  const y = value.center ? centerY : `${localY - radius}px`\n\n  return { radius, scale, x, y, centerX, centerY }\n}\n\nconst ripples = {\n  /* eslint-disable max-statements */\n  show (\n    e: VuetifyRippleEvent,\n    el: HTMLElement,\n    value: RippleOptions = {}\n  ) {\n    if (!el._ripple || !el._ripple.enabled) {\n      return\n    }\n\n    const container = document.createElement('span')\n    const animation = document.createElement('span')\n\n    container.appendChild(animation)\n    container.className = 'v-ripple__container'\n\n    if (value.class) {\n      container.className += ` ${value.class}`\n    }\n\n    const { radius, scale, x, y, centerX, centerY } = calculate(e, el, value)\n\n    const size = `${radius * 2}px`\n    animation.className = 'v-ripple__animation'\n    animation.style.width = size\n    animation.style.height = size\n\n    el.appendChild(container)\n\n    const computed = window.getComputedStyle(el)\n    if (computed && computed.position === 'static') {\n      el.style.position = 'relative'\n      el.dataset.previousPosition = 'static'\n    }\n\n    animation.classList.add('v-ripple__animation--enter')\n    animation.classList.add('v-ripple__animation--visible')\n    transform(animation, `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`)\n    opacity(animation, 0)\n    animation.dataset.activated = String(performance.now())\n\n    setTimeout(() => {\n      animation.classList.remove('v-ripple__animation--enter')\n      animation.classList.add('v-ripple__animation--in')\n      transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`)\n      opacity(animation, 0.25)\n    }, 0)\n  },\n\n  hide (el: HTMLElement | null) {\n    if (!el || !el._ripple || !el._ripple.enabled) return\n\n    const ripples = el.getElementsByClassName('v-ripple__animation')\n\n    if (ripples.length === 0) return\n    const animation = ripples[ripples.length - 1]\n\n    if (animation.dataset.isHiding) return\n    else animation.dataset.isHiding = 'true'\n\n    const diff = performance.now() - Number(animation.dataset.activated)\n    const delay = Math.max(250 - diff, 0)\n\n    setTimeout(() => {\n      animation.classList.remove('v-ripple__animation--in')\n      animation.classList.add('v-ripple__animation--out')\n      opacity(animation, 0)\n\n      setTimeout(() => {\n        const ripples = el.getElementsByClassName('v-ripple__animation')\n        if (ripples.length === 1 && el.dataset.previousPosition) {\n          el.style.position = el.dataset.previousPosition\n          delete el.dataset.previousPosition\n        }\n\n        animation.parentNode && el.removeChild(animation.parentNode)\n      }, 300)\n    }, delay)\n  },\n}\n\nfunction isRippleEnabled (value: any): value is true {\n  return typeof value === 'undefined' || !!value\n}\n\nfunction rippleShow (e: VuetifyRippleEvent) {\n  const value: RippleOptions = {}\n  const element = e.currentTarget as HTMLElement\n  if (!element || !element._ripple || element._ripple.touched) return\n  if (isTouchEvent(e)) {\n    element._ripple.touched = true\n    element._ripple.isTouch = true\n  } else {\n    // It's possible for touch events to fire\n    // as mouse events on Android/iOS, this\n    // will skip the event call if it has\n    // already been registered as touch\n    if (element._ripple.isTouch) return\n  }\n  value.center = element._ripple.centered || isKeyboardEvent(e)\n  if (element._ripple.class) {\n    value.class = element._ripple.class\n  }\n\n  if (isTouchEvent(e)) {\n    // already queued that shows or hides the ripple\n    if (element._ripple.showTimerCommit) return\n\n    element._ripple.showTimerCommit = () => {\n      ripples.show(e, element, value)\n    }\n    element._ripple.showTimer = window.setTimeout(() => {\n      if (element && element._ripple && element._ripple.showTimerCommit) {\n        element._ripple.showTimerCommit()\n        element._ripple.showTimerCommit = null\n      }\n    }, DELAY_RIPPLE)\n  } else {\n    ripples.show(e, element, value)\n  }\n}\n\nfunction rippleHide (e: Event) {\n  const element = e.currentTarget as HTMLElement | null\n  if (!element || !element._ripple) return\n\n  window.clearTimeout(element._ripple.showTimer)\n\n  // The touch interaction occurs before the show timer is triggered.\n  // We still want to show ripple effect.\n  if (e.type === 'touchend' && element._ripple.showTimerCommit) {\n    element._ripple.showTimerCommit()\n    element._ripple.showTimerCommit = null\n\n    // re-queue ripple hiding\n    element._ripple.showTimer = setTimeout(() => {\n      rippleHide(e)\n    })\n    return\n  }\n\n  window.setTimeout(() => {\n    if (element._ripple) {\n      element._ripple.touched = false\n    }\n  })\n  ripples.hide(element)\n}\n\nfunction rippleCancelShow (e: MouseEvent | TouchEvent) {\n  const element = e.currentTarget as HTMLElement | undefined\n\n  if (!element || !element._ripple) return\n\n  if (element._ripple.showTimerCommit) {\n    element._ripple.showTimerCommit = null\n  }\n\n  window.clearTimeout(element._ripple.showTimer)\n}\n\nlet keyboardRipple = false\n\nfunction keyboardRippleShow (e: KeyboardEvent) {\n  if (!keyboardRipple && (e.keyCode === keyCodes.enter || e.keyCode === keyCodes.space)) {\n    keyboardRipple = true\n    rippleShow(e)\n  }\n}\n\nfunction keyboardRippleHide (e: KeyboardEvent) {\n  keyboardRipple = false\n  rippleHide(e)\n}\n\nfunction updateRipple (el: HTMLElement, binding: VNodeDirective, wasEnabled: boolean) {\n  const enabled = isRippleEnabled(binding.value)\n  if (!enabled) {\n    ripples.hide(el)\n  }\n  el._ripple = el._ripple || {}\n  el._ripple.enabled = enabled\n  const value = binding.value || {}\n  if (value.center) {\n    el._ripple.centered = true\n  }\n  if (value.class) {\n    el._ripple.class = binding.value.class\n  }\n  if (value.circle) {\n    el._ripple.circle = value.circle\n  }\n  if (enabled && !wasEnabled) {\n    el.addEventListener('touchstart', rippleShow, { passive: true })\n    el.addEventListener('touchend', rippleHide, { passive: true })\n    el.addEventListener('touchmove', rippleCancelShow, { passive: true })\n    el.addEventListener('touchcancel', rippleHide)\n\n    el.addEventListener('mousedown', rippleShow)\n    el.addEventListener('mouseup', rippleHide)\n    el.addEventListener('mouseleave', rippleHide)\n\n    el.addEventListener('keydown', keyboardRippleShow)\n    el.addEventListener('keyup', keyboardRippleHide)\n\n    // Anchor tags can be dragged, causes other hides to fail - #1537\n    el.addEventListener('dragstart', rippleHide, { passive: true })\n  } else if (!enabled && wasEnabled) {\n    removeListeners(el)\n  }\n}\n\nfunction removeListeners (el: HTMLElement) {\n  el.removeEventListener('mousedown', rippleShow)\n  el.removeEventListener('touchstart', rippleShow)\n  el.removeEventListener('touchend', rippleHide)\n  el.removeEventListener('touchmove', rippleCancelShow)\n  el.removeEventListener('touchcancel', rippleHide)\n  el.removeEventListener('mouseup', rippleHide)\n  el.removeEventListener('mouseleave', rippleHide)\n  el.removeEventListener('keydown', keyboardRippleShow)\n  el.removeEventListener('keyup', keyboardRippleHide)\n  el.removeEventListener('dragstart', rippleHide)\n}\n\nfunction directive (el: HTMLElement, binding: VNodeDirective, node: VNode) {\n  updateRipple(el, binding, false)\n\n  if (process.env.NODE_ENV === 'development') {\n    // warn if an inline element is used, waiting for el to be in the DOM first\n    node.context && node.context.$nextTick(() => {\n      const computed = window.getComputedStyle(el)\n      if (computed && computed.display === 'inline') {\n        const context = (node as any).fnOptions ? [(node as any).fnOptions, node.context] : [node.componentInstance]\n        consoleWarn('v-ripple can only be used on block-level elements', ...context)\n      }\n    })\n  }\n}\n\nfunction unbind (el: HTMLElement) {\n  delete el._ripple\n  removeListeners(el)\n}\n\nfunction update (el: HTMLElement, binding: VNodeDirective) {\n  if (binding.value === binding.oldValue) {\n    return\n  }\n\n  const wasEnabled = isRippleEnabled(binding.oldValue)\n  updateRipple(el, binding, wasEnabled)\n}\n\nexport const Ripple = {\n  bind: directive,\n  unbind,\n  update,\n}\n\nexport default Ripple\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.8.3',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","/* eslint-disable max-len, import/export, no-use-before-define */\nimport Vue, { VueConstructor } from 'vue'\n\nexport default function mixins<T extends VueConstructor[]> (...args: T): ExtractVue<T> extends infer V ? V extends Vue ? VueConstructor<V> : never : never\nexport default function mixins<T extends Vue> (...args: VueConstructor[]): VueConstructor<T>\nexport default function mixins (...args: VueConstructor[]): VueConstructor {\n  return Vue.extend({ mixins: args })\n}\n\n/**\n * Returns the instance type from a VueConstructor\n * Useful for adding types when using mixins().extend()\n */\nexport type ExtractVue<T extends VueConstructor | VueConstructor[]> = T extends (infer U)[]\n  ? UnionToIntersection<\n    U extends VueConstructor<infer V> ? V : never\n  >\n  : T extends VueConstructor<infer V> ? V : never\n\ntype UnionToIntersection<U> =\n  (U extends any ? (k: U) => void : never) extends ((k: infer I) => void) ? I : never\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// Utilities\nimport { removed } from '../../util/console'\n\n// Types\nimport Vue, { VNode } from 'vue'\ninterface Toggleable extends Vue {\n  isActive?: boolean\n}\n\n/**\n * Bootable\n * @mixin\n *\n * Used to add lazy content functionality to components\n * Looks for change in \"isActive\" to automatically boot\n * Otherwise can be set manually\n */\n/* @vue/component */\nexport default Vue.extend<Vue & Toggleable>().extend({\n  name: 'bootable',\n\n  props: {\n    eager: Boolean,\n  },\n\n  data: () => ({\n    isBooted: false,\n  }),\n\n  computed: {\n    hasContent (): boolean | undefined {\n      return this.isBooted || this.eager || this.isActive\n    },\n  },\n\n  watch: {\n    isActive () {\n      this.isBooted = true\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if ('lazy' in this.$attrs) {\n      removed('lazy', this)\n    }\n  },\n\n  methods: {\n    showLazyContent (content?: () => VNode[]): VNode[] {\n      return (this.hasContent && content) ? content() : [this.$createElement()]\n    },\n  },\n})\n","import { FunctionalComponentOptions, VNode, VNodeData } from 'vue'\nimport mergeData from '../../util/mergeData'\n\nfunction mergeTransitions (\n  dest: Function | Function[] = [],\n  ...transitions: (Function | Function[])[]\n) {\n  /* eslint-disable-next-line no-array-constructor */\n  return Array<Function>().concat(dest, ...transitions)\n}\n\nexport function createSimpleTransition (\n  name: string,\n  origin = 'top center 0',\n  mode?: string\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      group: {\n        type: Boolean,\n        default: false,\n      },\n      hideOnLeave: {\n        type: Boolean,\n        default: false,\n      },\n      leaveAbsolute: {\n        type: Boolean,\n        default: false,\n      },\n      mode: {\n        type: String,\n        default: mode,\n      },\n      origin: {\n        type: String,\n        default: origin,\n      },\n    },\n\n    render (h, context): VNode {\n      const tag = `transition${context.props.group ? '-group' : ''}`\n      const data: VNodeData = {\n        props: {\n          name,\n          mode: context.props.mode,\n        },\n        on: {\n          beforeEnter (el: HTMLElement) {\n            el.style.transformOrigin = context.props.origin\n            el.style.webkitTransformOrigin = context.props.origin\n          },\n        },\n      }\n\n      if (context.props.leaveAbsolute) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => (el.style.position = 'absolute'))\n      }\n      if (context.props.hideOnLeave) {\n        data.on!.leave = mergeTransitions(data.on!.leave, (el: HTMLElement) => (el.style.display = 'none'))\n      }\n\n      return h(tag, mergeData(context.data, data), context.children)\n    },\n  }\n}\n\nexport function createJavascriptTransition (\n  name: string,\n  functions: Record<string, any>,\n  mode = 'in-out'\n): FunctionalComponentOptions {\n  return {\n    name,\n\n    functional: true,\n\n    props: {\n      mode: {\n        type: String,\n        default: mode,\n      },\n    },\n\n    render (h, context): VNode {\n      return h(\n        'transition',\n        mergeData(context.data, {\n          props: { name },\n          on: functions,\n        }),\n        context.children\n      )\n    },\n  }\n}\n","import { upperFirst } from '../../util/helpers'\n\ninterface HTMLExpandElement extends HTMLElement {\n  _parent?: (Node & ParentNode & HTMLElement) | null\n  _initialStyle?: {\n    transition: string\n    overflow: string\n    height?: string | null\n    width?: string | null\n  }\n}\n\nexport default function (expandedParentClass = '', x = false) {\n  const sizeProperty = x ? 'width' : 'height' as 'width' | 'height'\n  const offsetProperty = `offset${upperFirst(sizeProperty)}` as 'offsetHeight' | 'offsetWidth'\n\n  return {\n    beforeEnter (el: HTMLExpandElement) {\n      el._parent = el.parentNode as (Node & ParentNode & HTMLElement) | null\n      el._initialStyle = {\n        transition: el.style.transition,\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty],\n      }\n    },\n\n    enter (el: HTMLExpandElement) {\n      const initialStyle = el._initialStyle!\n\n      el.style.setProperty('transition', 'none', 'important')\n      // Hide overflow to account for collapsed margins in the calculated height\n      el.style.overflow = 'hidden'\n      const offset = `${el[offsetProperty]}px`\n\n      el.style[sizeProperty] = '0'\n\n      void el.offsetHeight // force reflow\n\n      el.style.transition = initialStyle.transition\n\n      if (expandedParentClass && el._parent) {\n        el._parent.classList.add(expandedParentClass)\n      }\n\n      requestAnimationFrame(() => {\n        el.style[sizeProperty] = offset\n      })\n    },\n\n    afterEnter: resetStyles,\n    enterCancelled: resetStyles,\n\n    leave (el: HTMLExpandElement) {\n      el._initialStyle = {\n        transition: '',\n        overflow: el.style.overflow,\n        [sizeProperty]: el.style[sizeProperty],\n      }\n\n      el.style.overflow = 'hidden'\n      el.style[sizeProperty] = `${el[offsetProperty]}px`\n      void el.offsetHeight // force reflow\n\n      requestAnimationFrame(() => (el.style[sizeProperty] = '0'))\n    },\n\n    afterLeave,\n    leaveCancelled: afterLeave,\n  }\n\n  function afterLeave (el: HTMLExpandElement) {\n    if (expandedParentClass && el._parent) {\n      el._parent.classList.remove(expandedParentClass)\n    }\n    resetStyles(el)\n  }\n\n  function resetStyles (el: HTMLExpandElement) {\n    const size = el._initialStyle![sizeProperty]\n    el.style.overflow = el._initialStyle!.overflow\n    if (size != null) el.style[sizeProperty] = size\n    delete el._initialStyle\n  }\n}\n","import {\n  createSimpleTransition,\n  createJavascriptTransition,\n} from './createTransition'\n\nimport ExpandTransitionGenerator from './expand-transition'\n\n// Component specific transitions\nexport const VCarouselTransition = createSimpleTransition('carousel-transition')\nexport const VCarouselReverseTransition = createSimpleTransition('carousel-reverse-transition')\nexport const VTabTransition = createSimpleTransition('tab-transition')\nexport const VTabReverseTransition = createSimpleTransition('tab-reverse-transition')\nexport const VMenuTransition = createSimpleTransition('menu-transition')\nexport const VFabTransition = createSimpleTransition('fab-transition', 'center center', 'out-in')\n\n// Generic transitions\nexport const VDialogTransition = createSimpleTransition('dialog-transition')\nexport const VDialogBottomTransition = createSimpleTransition('dialog-bottom-transition')\nexport const VDialogTopTransition = createSimpleTransition('dialog-top-transition')\nexport const VFadeTransition = createSimpleTransition('fade-transition')\nexport const VScaleTransition = createSimpleTransition('scale-transition')\nexport const VScrollXTransition = createSimpleTransition('scroll-x-transition')\nexport const VScrollXReverseTransition = createSimpleTransition('scroll-x-reverse-transition')\nexport const VScrollYTransition = createSimpleTransition('scroll-y-transition')\nexport const VScrollYReverseTransition = createSimpleTransition('scroll-y-reverse-transition')\nexport const VSlideXTransition = createSimpleTransition('slide-x-transition')\nexport const VSlideXReverseTransition = createSimpleTransition('slide-x-reverse-transition')\nexport const VSlideYTransition = createSimpleTransition('slide-y-transition')\nexport const VSlideYReverseTransition = createSimpleTransition('slide-y-reverse-transition')\n\n// Javascript transitions\nexport const VExpandTransition = createJavascriptTransition('expand-transition', ExpandTransitionGenerator())\nexport const VExpandXTransition = createJavascriptTransition('expand-x-transition', ExpandTransitionGenerator('', true))\n\nexport default {\n  $_vuetify_subcomponents: {\n    VCarouselTransition,\n    VCarouselReverseTransition,\n    VDialogTransition,\n    VDialogBottomTransition,\n    VDialogTopTransition,\n    VFabTransition,\n    VFadeTransition,\n    VMenuTransition,\n    VScaleTransition,\n    VScrollXTransition,\n    VScrollXReverseTransition,\n    VScrollYTransition,\n    VScrollYReverseTransition,\n    VSlideXTransition,\n    VSlideXReverseTransition,\n    VSlideYTransition,\n    VSlideYReverseTransition,\n    VTabReverseTransition,\n    VTabTransition,\n    VExpandTransition,\n    VExpandXTransition,\n  },\n}\n","// Styles\nimport './VListGroup.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport VList from './VList'\nimport VListItem from './VListItem'\nimport VListItemIcon from './VListItemIcon'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Bootable from '../../mixins/bootable'\nimport Colorable from '../../mixins/colorable'\nimport Toggleable from '../../mixins/toggleable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Transitions\nimport { VExpandTransition } from '../transitions'\n\n// Utils\nimport mixins, { ExtractVue } from '../../util/mixins'\nimport { getSlot } from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue'\nimport { Route } from 'vue-router'\n\nconst baseMixins = mixins(\n  BindsAttrs,\n  Bootable,\n  Colorable,\n  RegistrableInject('list'),\n  Toggleable\n)\n\ntype VListInstance = InstanceType<typeof VList>\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  list: VListInstance\n  $refs: {\n    group: HTMLElement\n  }\n  $route: Route\n}\n\nexport default baseMixins.extend<options>().extend({\n  name: 'v-list-group',\n\n  directives: { ripple },\n\n  props: {\n    activeClass: {\n      type: String,\n      default: '',\n    },\n    appendIcon: {\n      type: String,\n      default: '$expand',\n    },\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    disabled: Boolean,\n    group: String,\n    noAction: Boolean,\n    prependIcon: String,\n    ripple: {\n      type: [Boolean, Object],\n      default: true,\n    },\n    subGroup: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-list-group--active': this.isActive,\n        'v-list-group--disabled': this.disabled,\n        'v-list-group--no-action': this.noAction,\n        'v-list-group--sub-group': this.subGroup,\n      }\n    },\n  },\n\n  watch: {\n    isActive (val: boolean) {\n      /* istanbul ignore else */\n      if (!this.subGroup && val) {\n        this.list && this.list.listClick(this._uid)\n      }\n    },\n    $route: 'onRouteChange',\n  },\n\n  created () {\n    this.list && this.list.register(this)\n\n    if (this.group &&\n      this.$route &&\n      this.value == null\n    ) {\n      this.isActive = this.matchRoute(this.$route.path)\n    }\n  },\n\n  beforeDestroy () {\n    this.list && this.list.unregister(this)\n  },\n\n  methods: {\n    click (e: Event) {\n      if (this.disabled) return\n\n      this.isBooted = true\n\n      this.$emit('click', e)\n      this.$nextTick(() => (this.isActive = !this.isActive))\n    },\n    genIcon (icon: string | false): VNode {\n      return this.$createElement(VIcon, icon)\n    },\n    genAppendIcon (): VNode | null {\n      const icon = !this.subGroup ? this.appendIcon : false\n\n      if (!icon && !this.$slots.appendIcon) return null\n\n      return this.$createElement(VListItemIcon, {\n        staticClass: 'v-list-group__header__append-icon',\n      }, [\n        this.$slots.appendIcon || this.genIcon(icon),\n      ])\n    },\n    genHeader (): VNode {\n      return this.$createElement(VListItem, {\n        staticClass: 'v-list-group__header',\n        attrs: {\n          'aria-expanded': String(this.isActive),\n          role: 'button',\n        },\n        class: {\n          [this.activeClass]: this.isActive,\n        },\n        props: {\n          inputValue: this.isActive,\n        },\n        directives: [{\n          name: 'ripple',\n          value: this.ripple,\n        }],\n        on: {\n          ...this.listeners$,\n          click: this.click,\n        },\n      }, [\n        this.genPrependIcon(),\n        this.$slots.activator,\n        this.genAppendIcon(),\n      ])\n    },\n    genItems (): VNode[] {\n      return this.showLazyContent(() => [\n        this.$createElement('div', {\n          staticClass: 'v-list-group__items',\n          directives: [{\n            name: 'show',\n            value: this.isActive,\n          }],\n        }, getSlot(this)),\n      ])\n    },\n    genPrependIcon (): VNode | null {\n      const icon = this.subGroup && this.prependIcon == null\n        ? '$subgroup'\n        : this.prependIcon\n\n      if (!icon && !this.$slots.prependIcon) return null\n\n      return this.$createElement(VListItemIcon, {\n        staticClass: 'v-list-group__header__prepend-icon',\n      }, [\n        this.$slots.prependIcon || this.genIcon(icon),\n      ])\n    },\n    onRouteChange (to: Route) {\n      /* istanbul ignore if */\n      if (!this.group) return\n\n      const isActive = this.matchRoute(to.path)\n\n      /* istanbul ignore else */\n      if (isActive && this.isActive !== isActive) {\n        this.list && this.list.listClick(this._uid)\n      }\n\n      this.isActive = isActive\n    },\n    toggle (uid: number) {\n      const isActive = this._uid === uid\n\n      if (isActive) this.isBooted = true\n      this.$nextTick(() => (this.isActive = isActive))\n    },\n    matchRoute (to: string) {\n      return to.match(this.group) !== null\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.setTextColor(this.isActive && this.color, {\n      staticClass: 'v-list-group',\n      class: this.classes,\n    }), [\n      this.genHeader(),\n      h(VExpandTransition, this.genItems()),\n    ])\n  },\n})\n","// Types\nimport Vue, { VNode } from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'v-list-item-action',\n\n  functional: true,\n\n  render (h, { data, children = [] }): VNode {\n    data.staticClass = data.staticClass ? `v-list-item__action ${data.staticClass}` : 'v-list-item__action'\n    const filteredChild = children.filter(VNode => {\n      return VNode.isComment === false && VNode.text !== ' '\n    })\n    if (filteredChild.length > 1) data.staticClass += ' v-list-item__action--stack'\n\n    return h('div', data, children)\n  },\n})\n","import './VAvatar.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Measurable from '../../mixins/measurable'\nimport Roundable from '../../mixins/roundable'\n\n// Utilities\nimport { convertToUnit } from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\nexport default mixins(\n  Colorable,\n  Measurable,\n  Roundable,\n  /* @vue/component */\n).extend({\n  name: 'v-avatar',\n\n  props: {\n    left: Boolean,\n    right: Boolean,\n    size: {\n      type: [Number, String],\n      default: 48,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-avatar--left': this.left,\n        'v-avatar--right': this.right,\n        ...this.roundedClasses,\n      }\n    },\n    styles (): object {\n      return {\n        height: convertToUnit(this.size),\n        minWidth: convertToUnit(this.size),\n        width: convertToUnit(this.size),\n        ...this.measurableStyles,\n      }\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-avatar',\n      class: this.classes,\n      style: this.styles,\n      on: this.$listeners,\n    }\n\n    return h('div', this.setBackgroundColor(this.color, data), this.$slots.default)\n  },\n})\n","import VAvatar from './VAvatar'\n\nexport { VAvatar }\nexport default VAvatar\n","// Components\nimport VAvatar from '../VAvatar'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default VAvatar.extend({\n  name: 'v-list-item-avatar',\n\n  props: {\n    horizontal: Boolean,\n    size: {\n      type: [Number, String],\n      default: 40,\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-list-item__avatar--horizontal': this.horizontal,\n        ...VAvatar.options.computed.classes.call(this),\n        'v-avatar--tile': this.tile || this.horizontal,\n      }\n    },\n  },\n\n  render (h): VNode {\n    const render = VAvatar.options.render.call(this, h)\n\n    render.data = render.data || {}\n    render.data.staticClass += ' v-list-item__avatar'\n\n    return render\n  },\n})\n","import { createSimpleFunctional } from '../../util/helpers'\n\nimport VList from './VList'\nimport VListGroup from './VListGroup'\nimport VListItem from './VListItem'\nimport VListItemGroup from './VListItemGroup'\nimport VListItemAction from './VListItemAction'\nimport VListItemAvatar from './VListItemAvatar'\nimport VListItemIcon from './VListItemIcon'\n\nexport const VListItemActionText = createSimpleFunctional('v-list-item__action-text', 'span')\nexport const VListItemContent = createSimpleFunctional('v-list-item__content', 'div')\nexport const VListItemTitle = createSimpleFunctional('v-list-item__title', 'div')\nexport const VListItemSubtitle = createSimpleFunctional('v-list-item__subtitle', 'div')\n\nexport {\n  VList,\n  VListGroup,\n  VListItem,\n  VListItemAction,\n  VListItemAvatar,\n  VListItemIcon,\n  VListItemGroup,\n}\n\nexport default {\n  $_vuetify_subcomponents: {\n    VList,\n    VListGroup,\n    VListItem,\n    VListItemAction,\n    VListItemActionText,\n    VListItemAvatar,\n    VListItemContent,\n    VListItemGroup,\n    VListItemIcon,\n    VListItemSubtitle,\n    VListItemTitle,\n  },\n}\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\nvar nativeAssign = Object.assign;\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !nativeAssign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && nativeAssign({ b: 1 }, nativeAssign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return nativeAssign({}, A)[symbol] != 7 || objectKeys(nativeAssign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : nativeAssign;\n","'use strict';\n\nvar URL = require('url-parse');\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:url');\n}\n\nmodule.exports = {\n  getOrigin: function(url) {\n    if (!url) {\n      return null;\n    }\n\n    var p = new URL(url);\n    if (p.protocol === 'file:') {\n      return null;\n    }\n\n    var port = p.port;\n    if (!port) {\n      port = (p.protocol === 'https:') ? '443' : '80';\n    }\n\n    return p.protocol + '//' + p.hostname + ':' + port;\n  }\n\n, isOriginEqual: function(a, b) {\n    var res = this.getOrigin(a) === this.getOrigin(b);\n    debug('same', a, b, res);\n    return res;\n  }\n\n, isSchemeEqual: function(a, b) {\n    return (a.split(':')[0] === b.split(':')[0]);\n  }\n\n, addPath: function (url, path) {\n    var qs = url.split('?');\n    return qs[0] + path + (qs[1] ? '?' + qs[1] : '');\n  }\n\n, addQuery: function (url, q) {\n    return url + (url.indexOf('?') === -1 ? ('?' + q) : ('&' + q));\n  }\n\n, isLoopbackAddr: function (addr) {\n    return /^127\\.([0-9]{1,3})\\.([0-9]{1,3})\\.([0-9]{1,3})$/i.test(addr) || /^\\[::1\\]$/.test(addr);\n  }\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nmodule.exports = function installComponents (component, components) {\n  var options = typeof component.exports === 'function'\n    ? component.exports.extendOptions\n    : component.options\n\n  if (typeof component.exports === 'function') {\n    options.components = component.exports.options.components\n  }\n\n  options.components = options.components || {}\n\n  for (var i in components) {\n    options.components[i] = options.components[i] || components[i]\n  }\n}\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // 23.1.3.6 Map.prototype.get(key)\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // 23.1.3.9 Map.prototype.set(key, value)\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // 23.2.3.1 Set.prototype.add(value)\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","'use strict';\n\nmodule.exports = [\n  // streaming transports\n  require('./transport/websocket')\n, require('./transport/xhr-streaming')\n, require('./transport/xdr-streaming')\n, require('./transport/eventsource')\n, require('./transport/lib/iframe-wrap')(require('./transport/eventsource'))\n\n  // polling transports\n, require('./transport/htmlfile')\n, require('./transport/lib/iframe-wrap')(require('./transport/htmlfile'))\n, require('./transport/xhr-polling')\n, require('./transport/xdr-polling')\n, require('./transport/lib/iframe-wrap')(require('./transport/xhr-polling'))\n, require('./transport/jsonp-polling')\n];\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  // eslint-disable-next-line max-len\n  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n    new NativeConstructor().entries().next();\n  })))) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRLocalObject(method, url, payload /*, opts */) {\n  XhrDriver.call(this, method, url, payload, {\n    noCredentials: true\n  });\n}\n\ninherits(XHRLocalObject, XhrDriver);\n\nXHRLocalObject.enabled = XhrDriver.enabled;\n\nmodule.exports = XHRLocalObject;\n","exports.f = Object.getOwnPropertySymbols;\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","// Styles\nimport './VApp.sass'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  Themeable\n).extend({\n  name: 'v-app',\n\n  props: {\n    dark: {\n      type: Boolean,\n      default: undefined,\n    },\n    id: {\n      type: String,\n      default: 'app',\n    },\n    light: {\n      type: Boolean,\n      default: undefined,\n    },\n  },\n\n  computed: {\n    isDark (): boolean {\n      return this.$vuetify.theme.dark\n    },\n  },\n\n  beforeCreate () {\n    if (!this.$vuetify || (this.$vuetify === this.$root as any)) {\n      throw new Error('Vuetify is not properly initialized, see https://vuetifyjs.com/getting-started/quick-start#bootstrapping-the-vuetify-object')\n    }\n  },\n\n  render (h) {\n    const wrapper = h('div', { staticClass: 'v-application--wrap' }, this.$slots.default)\n\n    return h('div', {\n      staticClass: 'v-application',\n      class: {\n        'v-application--is-rtl': this.$vuetify.rtl,\n        'v-application--is-ltr': !this.$vuetify.rtl,\n        ...this.themeClasses,\n      },\n      attrs: { 'data-app': true },\n      domProps: { id: this.id },\n    }, [wrapper])\n  },\n})\n","import Vue from 'vue'\nimport { PropType, RenderContext } from 'vue/types/options'\n\ninterface options extends Vue {\n  theme: {\n    isDark: boolean\n  }\n}\n\n/* @vue/component */\nconst Themeable = Vue.extend<options>().extend({\n  name: 'themeable',\n\n  provide (): object {\n    return {\n      theme: this.themeableProvide,\n    }\n  },\n\n  inject: {\n    theme: {\n      default: {\n        isDark: false,\n      },\n    },\n  },\n\n  props: {\n    dark: {\n      type: Boolean as PropType<boolean | null>,\n      default: null,\n    },\n    light: {\n      type: Boolean as PropType<boolean | null>,\n      default: null,\n    },\n  },\n\n  data () {\n    return {\n      themeableProvide: {\n        isDark: false,\n      },\n    }\n  },\n\n  computed: {\n    appIsDark (): boolean {\n      return this.$vuetify.theme.dark || false\n    },\n    isDark (): boolean {\n      if (this.dark === true) {\n        // explicitly dark\n        return true\n      } else if (this.light === true) {\n        // explicitly light\n        return false\n      } else {\n        // inherit from parent, or default false if there is none\n        return this.theme.isDark\n      }\n    },\n    themeClasses (): object {\n      return {\n        'theme--dark': this.isDark,\n        'theme--light': !this.isDark,\n      }\n    },\n    /** Used by menus and dialogs, inherits from v-app instead of the parent */\n    rootIsDark (): boolean {\n      if (this.dark === true) {\n        // explicitly dark\n        return true\n      } else if (this.light === true) {\n        // explicitly light\n        return false\n      } else {\n        // inherit from v-app\n        return this.appIsDark\n      }\n    },\n    rootThemeClasses (): Dictionary<boolean> {\n      return {\n        'theme--dark': this.rootIsDark,\n        'theme--light': !this.rootIsDark,\n      }\n    },\n  },\n\n  watch: {\n    isDark: {\n      handler (newVal, oldVal) {\n        if (newVal !== oldVal) {\n          this.themeableProvide.isDark = this.isDark\n        }\n      },\n      immediate: true,\n    },\n  },\n})\n\nexport default Themeable\n\nexport function functionalThemeClasses (context: RenderContext): object {\n  const vm = {\n    ...context.props,\n    ...context.injections,\n  }\n  const isDark = Themeable.options.computed.isDark.call(vm)\n  return Themeable.options.computed.themeClasses.call({ isDark })\n}\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , SenderReceiver = require('./sender-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:ajax-based');\n}\n\nfunction createAjaxSender(AjaxObject) {\n  return function(url, payload, callback) {\n    debug('create ajax sender', url, payload);\n    var opt = {};\n    if (typeof payload === 'string') {\n      opt.headers = {'Content-type': 'text/plain'};\n    }\n    var ajaxUrl = urlUtils.addPath(url, '/xhr_send');\n    var xo = new AjaxObject('POST', ajaxUrl, payload, opt);\n    xo.once('finish', function(status) {\n      debug('finish', status);\n      xo = null;\n\n      if (status !== 200 && status !== 204) {\n        return callback(new Error('http status ' + status));\n      }\n      callback();\n    });\n    return function() {\n      debug('abort');\n      xo.close();\n      xo = null;\n\n      var err = new Error('Aborted');\n      err.code = 1000;\n      callback(err);\n    };\n  };\n}\n\nfunction AjaxBasedTransport(transUrl, urlSuffix, Receiver, AjaxObject) {\n  SenderReceiver.call(this, transUrl, urlSuffix, createAjaxSender(AjaxObject), Receiver, AjaxObject);\n}\n\ninherits(AjaxBasedTransport, SenderReceiver);\n\nmodule.exports = AjaxBasedTransport;\n","/* eslint-disable */\n/* jscs: disable */\n'use strict';\n\n// pulled specific shims from https://github.com/es-shims/es5-shim\n\nvar ArrayPrototype = Array.prototype;\nvar ObjectPrototype = Object.prototype;\nvar FunctionPrototype = Function.prototype;\nvar StringPrototype = String.prototype;\nvar array_slice = ArrayPrototype.slice;\n\nvar _toString = ObjectPrototype.toString;\nvar isFunction = function (val) {\n    return ObjectPrototype.toString.call(val) === '[object Function]';\n};\nvar isArray = function isArray(obj) {\n    return _toString.call(obj) === '[object Array]';\n};\nvar isString = function isString(obj) {\n    return _toString.call(obj) === '[object String]';\n};\n\nvar supportsDescriptors = Object.defineProperty && (function () {\n    try {\n        Object.defineProperty({}, 'x', {});\n        return true;\n    } catch (e) { /* this is ES3 */\n        return false;\n    }\n}());\n\n// Define configurable, writable and non-enumerable props\n// if they don't exist.\nvar defineProperty;\nif (supportsDescriptors) {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        Object.defineProperty(object, name, {\n            configurable: true,\n            enumerable: false,\n            writable: true,\n            value: method\n        });\n    };\n} else {\n    defineProperty = function (object, name, method, forceAssign) {\n        if (!forceAssign && (name in object)) { return; }\n        object[name] = method;\n    };\n}\nvar defineProperties = function (object, map, forceAssign) {\n    for (var name in map) {\n        if (ObjectPrototype.hasOwnProperty.call(map, name)) {\n          defineProperty(object, name, map[name], forceAssign);\n        }\n    }\n};\n\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \" + o + ' to object');\n    }\n    return Object(o);\n};\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(num) {\n    var n = +num;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1 / 0) && n !== -(1 / 0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction ToUint32(x) {\n    return x >>> 0;\n}\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\ndefineProperties(FunctionPrototype, {\n    bind: function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (!isFunction(target)) {\n            throw new TypeError('Function.prototype.bind called on incompatible ' + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = array_slice.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(array_slice.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(array_slice.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push('$' + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only\n        // way to set the length property of a function.\n        // In environments where Content Security Policies enabled (Chrome extensions,\n        // for ex.) all use of eval or Function costructor throws an exception.\n        // However in all of these environments Function.prototype.bind exists\n        // and so this code will never be executed.\n        var bound = Function('binder', 'return function (' + boundArgs.join(',') + '){ return binder.apply(this, arguments); }')(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    }\n});\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\ndefineProperties(Array, { isArray: isArray });\n\n\nvar boxedString = Object('a');\nvar splitString = boxedString[0] !== 'a' || !(0 in boxedString);\n\nvar properlyBoxesContext = function properlyBoxed(method) {\n    // Check node 0.6.21 bug where third parameter is not boxed\n    var properlyBoxesNonStrict = true;\n    var properlyBoxesStrict = true;\n    if (method) {\n        method.call('foo', function (_, __, context) {\n            if (typeof context !== 'object') { properlyBoxesNonStrict = false; }\n        });\n\n        method.call([1], function () {\n            'use strict';\n            properlyBoxesStrict = typeof this === 'string';\n        }, 'x');\n    }\n    return !!method && properlyBoxesNonStrict && properlyBoxesStrict;\n};\n\ndefineProperties(ArrayPrototype, {\n    forEach: function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && isString(this) ? this.split('') : object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (!isFunction(fun)) {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    }\n}, !properlyBoxesContext(ArrayPrototype.forEach));\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nvar hasFirefox2IndexOfBug = Array.prototype.indexOf && [0, 1].indexOf(1, 2) !== -1;\ndefineProperties(ArrayPrototype, {\n    indexOf: function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && isString(this) ? this.split('') : toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}, hasFirefox2IndexOfBug);\n\n//\n// String\n// ======\n//\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = StringPrototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === 't' ||\n    'test'.split(/(?:)/, -1).length !== 4 ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec('')[1] === void 0; // NPCG: nonparticipating capturing group\n\n        StringPrototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0) {\n                return [];\n            }\n\n            // If `separator` is not a regex, use native split\n            if (_toString.call(separator) !== '[object RegExp]') {\n                return string_split.call(this, separator, limit);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? 'i' : '') +\n                        (separator.multiline  ? 'm' : '') +\n                        (separator.extended   ? 'x' : '') + // Proposed for ES6\n                        (separator.sticky     ? 'y' : ''), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator2, match, lastIndex, lastLength;\n            separator = new RegExp(separator.source, flags + 'g');\n            string += ''; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp('^' + separator.source + '$(?!\\\\s)', flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                ToUint32(limit);\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        ArrayPrototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test('')) {\n                    output.push('');\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if ('0'.split(void 0, 0).length) {\n    StringPrototype.split = function split(separator, limit) {\n        if (separator === void 0 && limit === 0) { return []; }\n        return string_split.call(this, separator, limit);\n    };\n}\n\n// ECMA-262, 3rd B.2.3\n// Not an ECMAScript standard, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nvar string_substr = StringPrototype.substr;\nvar hasNegativeSubstrBug = ''.substr && '0b'.substr(-1) !== 'b';\ndefineProperties(StringPrototype, {\n    substr: function substr(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}, hasNegativeSubstrBug);\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","/* build: `node build.js modules=ALL exclude=gestures,accessors requirejs minifier=uglifyjs` */\n/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */\n\nvar fabric = fabric || { version: '4.3.1' };\nif (typeof exports !== 'undefined') {\n  exports.fabric = fabric;\n}\n/* _AMD_START_ */\nelse if (typeof define === 'function' && define.amd) {\n  define([], function() { return fabric; });\n}\n/* _AMD_END_ */\nif (typeof document !== 'undefined' && typeof window !== 'undefined') {\n  if (document instanceof (typeof HTMLDocument !== 'undefined' ? HTMLDocument : Document)) {\n    fabric.document = document;\n  }\n  else {\n    fabric.document = document.implementation.createHTMLDocument('');\n  }\n  fabric.window = window;\n}\nelse {\n  // assume we're running under node.js when document/window are not present\n  var jsdom = require('jsdom');\n  var virtualWindow = new jsdom.JSDOM(\n    decodeURIComponent('%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E'),\n    {\n      features: {\n        FetchExternalResources: ['img']\n      },\n      resources: 'usable'\n    }).window;\n  fabric.document = virtualWindow.document;\n  fabric.jsdomImplForWrapper = require('jsdom/lib/jsdom/living/generated/utils').implForWrapper;\n  fabric.nodeCanvas = require('jsdom/lib/jsdom/utils').Canvas;\n  fabric.window = virtualWindow;\n  DOMParser = fabric.window.DOMParser;\n}\n\n/**\n * True when in environment that supports touch events\n * @type boolean\n */\nfabric.isTouchSupported = 'ontouchstart' in fabric.window || 'ontouchstart' in fabric.document ||\n  (fabric.window && fabric.window.navigator && fabric.window.navigator.maxTouchPoints > 0);\n\n/**\n * True when in environment that's probably Node.js\n * @type boolean\n */\nfabric.isLikelyNode = typeof Buffer !== 'undefined' &&\n                      typeof window === 'undefined';\n\n/* _FROM_SVG_START_ */\n/**\n * Attributes parsed from all SVG elements\n * @type array\n */\nfabric.SHARED_ATTRIBUTES = [\n  'display',\n  'transform',\n  'fill', 'fill-opacity', 'fill-rule',\n  'opacity',\n  'stroke', 'stroke-dasharray', 'stroke-linecap', 'stroke-dashoffset',\n  'stroke-linejoin', 'stroke-miterlimit',\n  'stroke-opacity', 'stroke-width',\n  'id', 'paint-order', 'vector-effect',\n  'instantiated_by_use', 'clip-path',\n];\n/* _FROM_SVG_END_ */\n\n/**\n * Pixel per Inch as a default value set to 96. Can be changed for more realistic conversion.\n */\nfabric.DPI = 96;\nfabric.reNum = '(?:[-+]?(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:[eE][-+]?\\\\d+)?)';\nfabric.commaWsp = '(?:\\\\s+,?\\\\s*|,\\\\s*)';\nfabric.rePathCommand = /([-+]?((\\d+\\.\\d+)|((\\d+)|(\\.\\d+)))(?:[eE][-+]?\\d+)?)/ig;\nfabric.reNonWord = /[ \\n\\.,;!\\?\\-]/;\nfabric.fontPaths = { };\nfabric.iMatrix = [1, 0, 0, 1, 0, 0];\nfabric.svgNS = 'http://www.w3.org/2000/svg';\n\n/**\n * Pixel limit for cache canvases. 1Mpx , 4Mpx should be fine.\n * @since 1.7.14\n * @type Number\n * @default\n */\nfabric.perfLimitSizeTotal = 2097152;\n\n/**\n * Pixel limit for cache canvases width or height. IE fixes the maximum at 5000\n * @since 1.7.14\n * @type Number\n * @default\n */\nfabric.maxCacheSideLimit = 4096;\n\n/**\n * Lowest pixel limit for cache canvases, set at 256PX\n * @since 1.7.14\n * @type Number\n * @default\n */\nfabric.minCacheSideLimit = 256;\n\n/**\n * Cache Object for widths of chars in text rendering.\n */\nfabric.charWidthsCache = { };\n\n/**\n * if webgl is enabled and available, textureSize will determine the size\n * of the canvas backend\n * @since 2.0.0\n * @type Number\n * @default\n */\nfabric.textureSize = 2048;\n\n/**\n * When 'true', style information is not retained when copy/pasting text, making\n * pasted text use destination style.\n * Defaults to 'false'.\n * @type Boolean\n * @default\n */\nfabric.disableStyleCopyPaste = false;\n\n/**\n * Enable webgl for filtering picture is available\n * A filtering backend will be initialized, this will both take memory and\n * time since a default 2048x2048 canvas will be created for the gl context\n * @since 2.0.0\n * @type Boolean\n * @default\n */\nfabric.enableGLFiltering = true;\n\n/**\n * Device Pixel Ratio\n * @see https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/HTML-canvas-guide/SettingUptheCanvas/SettingUptheCanvas.html\n */\nfabric.devicePixelRatio = fabric.window.devicePixelRatio ||\n                          fabric.window.webkitDevicePixelRatio ||\n                          fabric.window.mozDevicePixelRatio ||\n                          1;\n/**\n * Browser-specific constant to adjust CanvasRenderingContext2D.shadowBlur value,\n * which is unitless and not rendered equally across browsers.\n *\n * Values that work quite well (as of October 2017) are:\n * - Chrome: 1.5\n * - Edge: 1.75\n * - Firefox: 0.9\n * - Safari: 0.95\n *\n * @since 2.0.0\n * @type Number\n * @default 1\n */\nfabric.browserShadowBlurConstant = 1;\n\n/**\n * This object contains the result of arc to bezier conversion for faster retrieving if the same arc needs to be converted again.\n * It was an internal variable, is accessible since version 2.3.4\n */\nfabric.arcToSegmentsCache = { };\n\n/**\n * This object keeps the results of the boundsOfCurve calculation mapped by the joined arguments necessary to calculate it.\n * It does speed up calculation, if you parse and add always the same paths, but in case of heavy usage of freedrawing\n * you do not get any speed benefit and you get a big object in memory.\n * The object was a private variable before, while now is appended to the lib so that you have access to it and you\n * can eventually clear it.\n * It was an internal variable, is accessible since version 2.3.4\n */\nfabric.boundsOfCurveCache = { };\n\n/**\n * If disabled boundsOfCurveCache is not used. For apps that make heavy usage of pencil drawing probably disabling it is better\n * @default true\n */\nfabric.cachesBoundsOfCurve = true;\n\n/**\n * Skip performance testing of setupGLContext and force the use of putImageData that seems to be the one that works best on\n * Chrome + old hardware. if your users are experiencing empty images after filtering you may try to force this to true\n * this has to be set before instantiating the filtering backend ( before filtering the first image )\n * @type Boolean\n * @default false\n */\nfabric.forceGLPutImageData = false;\n\nfabric.initFilterBackend = function() {\n  if (fabric.enableGLFiltering && fabric.isWebglSupported && fabric.isWebglSupported(fabric.textureSize)) {\n    console.log('max texture size: ' + fabric.maxTextureSize);\n    return (new fabric.WebglFilterBackend({ tileSize: fabric.textureSize }));\n  }\n  else if (fabric.Canvas2dFilterBackend) {\n    return (new fabric.Canvas2dFilterBackend());\n  }\n};\n\n\nif (typeof document !== 'undefined' && typeof window !== 'undefined') {\n  // ensure globality even if entire library were function wrapped (as in Meteor.js packaging system)\n  window.fabric = fabric;\n}\n\n\n(function() {\n\n  /**\n   * @private\n   * @param {String} eventName\n   * @param {Function} handler\n   */\n  function _removeEventListener(eventName, handler) {\n    if (!this.__eventListeners[eventName]) {\n      return;\n    }\n    var eventListener = this.__eventListeners[eventName];\n    if (handler) {\n      eventListener[eventListener.indexOf(handler)] = false;\n    }\n    else {\n      fabric.util.array.fill(eventListener, false);\n    }\n  }\n\n  /**\n   * Observes specified event\n   * @memberOf fabric.Observable\n   * @alias on\n   * @param {String|Object} eventName Event name (eg. 'after:render') or object with key/value pairs (eg. {'after:render': handler, 'selection:cleared': handler})\n   * @param {Function} handler Function that receives a notification when an event of the specified type occurs\n   * @return {Self} thisArg\n   * @chainable\n   */\n  function on(eventName, handler) {\n    if (!this.__eventListeners) {\n      this.__eventListeners = { };\n    }\n    // one object with key/value pairs was passed\n    if (arguments.length === 1) {\n      for (var prop in eventName) {\n        this.on(prop, eventName[prop]);\n      }\n    }\n    else {\n      if (!this.__eventListeners[eventName]) {\n        this.__eventListeners[eventName] = [];\n      }\n      this.__eventListeners[eventName].push(handler);\n    }\n    return this;\n  }\n\n  /**\n   * Stops event observing for a particular event handler. Calling this method\n   * without arguments removes all handlers for all events\n   * @memberOf fabric.Observable\n   * @alias off\n   * @param {String|Object} eventName Event name (eg. 'after:render') or object with key/value pairs (eg. {'after:render': handler, 'selection:cleared': handler})\n   * @param {Function} handler Function to be deleted from EventListeners\n   * @return {Self} thisArg\n   * @chainable\n   */\n  function off(eventName, handler) {\n    if (!this.__eventListeners) {\n      return this;\n    }\n\n    // remove all key/value pairs (event name -> event handler)\n    if (arguments.length === 0) {\n      for (eventName in this.__eventListeners) {\n        _removeEventListener.call(this, eventName);\n      }\n    }\n    // one object with key/value pairs was passed\n    else if (arguments.length === 1 && typeof arguments[0] === 'object') {\n      for (var prop in eventName) {\n        _removeEventListener.call(this, prop, eventName[prop]);\n      }\n    }\n    else {\n      _removeEventListener.call(this, eventName, handler);\n    }\n    return this;\n  }\n\n  /**\n   * Fires event with an optional options object\n   * @memberOf fabric.Observable\n   * @param {String} eventName Event name to fire\n   * @param {Object} [options] Options object\n   * @return {Self} thisArg\n   * @chainable\n   */\n  function fire(eventName, options) {\n    if (!this.__eventListeners) {\n      return this;\n    }\n\n    var listenersForEvent = this.__eventListeners[eventName];\n    if (!listenersForEvent) {\n      return this;\n    }\n\n    for (var i = 0, len = listenersForEvent.length; i < len; i++) {\n      listenersForEvent[i] && listenersForEvent[i].call(this, options || { });\n    }\n    this.__eventListeners[eventName] = listenersForEvent.filter(function(value) {\n      return value !== false;\n    });\n    return this;\n  }\n\n  /**\n   * @namespace fabric.Observable\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#events}\n   * @see {@link http://fabricjs.com/events|Events demo}\n   */\n  fabric.Observable = {\n    fire: fire,\n    on: on,\n    off: off,\n  };\n})();\n\n\n/**\n * @namespace fabric.Collection\n */\nfabric.Collection = {\n\n  _objects: [],\n\n  /**\n   * Adds objects to collection, Canvas or Group, then renders canvas\n   * (if `renderOnAddRemove` is not `false`).\n   * in case of Group no changes to bounding box are made.\n   * Objects should be instances of (or inherit from) fabric.Object\n   * Use of this function is highly discouraged for groups.\n   * you can add a bunch of objects with the add method but then you NEED\n   * to run a addWithUpdate call for the Group class or position/bbox will be wrong.\n   * @param {...fabric.Object} object Zero or more fabric instances\n   * @return {Self} thisArg\n   * @chainable\n   */\n  add: function () {\n    this._objects.push.apply(this._objects, arguments);\n    if (this._onObjectAdded) {\n      for (var i = 0, length = arguments.length; i < length; i++) {\n        this._onObjectAdded(arguments[i]);\n      }\n    }\n    this.renderOnAddRemove && this.requestRenderAll();\n    return this;\n  },\n\n  /**\n   * Inserts an object into collection at specified index, then renders canvas (if `renderOnAddRemove` is not `false`)\n   * An object should be an instance of (or inherit from) fabric.Object\n   * Use of this function is highly discouraged for groups.\n   * you can add a bunch of objects with the insertAt method but then you NEED\n   * to run a addWithUpdate call for the Group class or position/bbox will be wrong.\n   * @param {Object} object Object to insert\n   * @param {Number} index Index to insert object at\n   * @param {Boolean} nonSplicing When `true`, no splicing (shifting) of objects occurs\n   * @return {Self} thisArg\n   * @chainable\n   */\n  insertAt: function (object, index, nonSplicing) {\n    var objects = this._objects;\n    if (nonSplicing) {\n      objects[index] = object;\n    }\n    else {\n      objects.splice(index, 0, object);\n    }\n    this._onObjectAdded && this._onObjectAdded(object);\n    this.renderOnAddRemove && this.requestRenderAll();\n    return this;\n  },\n\n  /**\n   * Removes objects from a collection, then renders canvas (if `renderOnAddRemove` is not `false`)\n   * @param {...fabric.Object} object Zero or more fabric instances\n   * @return {Self} thisArg\n   * @chainable\n   */\n  remove: function() {\n    var objects = this._objects,\n        index, somethingRemoved = false;\n\n    for (var i = 0, length = arguments.length; i < length; i++) {\n      index = objects.indexOf(arguments[i]);\n\n      // only call onObjectRemoved if an object was actually removed\n      if (index !== -1) {\n        somethingRemoved = true;\n        objects.splice(index, 1);\n        this._onObjectRemoved && this._onObjectRemoved(arguments[i]);\n      }\n    }\n\n    this.renderOnAddRemove && somethingRemoved && this.requestRenderAll();\n    return this;\n  },\n\n  /**\n   * Executes given function for each object in this group\n   * @param {Function} callback\n   *                   Callback invoked with current object as first argument,\n   *                   index - as second and an array of all objects - as third.\n   *                   Callback is invoked in a context of Global Object (e.g. `window`)\n   *                   when no `context` argument is given\n   *\n   * @param {Object} context Context (aka thisObject)\n   * @return {Self} thisArg\n   * @chainable\n   */\n  forEachObject: function(callback, context) {\n    var objects = this.getObjects();\n    for (var i = 0, len = objects.length; i < len; i++) {\n      callback.call(context, objects[i], i, objects);\n    }\n    return this;\n  },\n\n  /**\n   * Returns an array of children objects of this instance\n   * Type parameter introduced in 1.3.10\n   * since 2.3.5 this method return always a COPY of the array;\n   * @param {String} [type] When specified, only objects of this type are returned\n   * @return {Array}\n   */\n  getObjects: function(type) {\n    if (typeof type === 'undefined') {\n      return this._objects.concat();\n    }\n    return this._objects.filter(function(o) {\n      return o.type === type;\n    });\n  },\n\n  /**\n   * Returns object at specified index\n   * @param {Number} index\n   * @return {Self} thisArg\n   */\n  item: function (index) {\n    return this._objects[index];\n  },\n\n  /**\n   * Returns true if collection contains no objects\n   * @return {Boolean} true if collection is empty\n   */\n  isEmpty: function () {\n    return this._objects.length === 0;\n  },\n\n  /**\n   * Returns a size of a collection (i.e: length of an array containing its objects)\n   * @return {Number} Collection size\n   */\n  size: function() {\n    return this._objects.length;\n  },\n\n  /**\n   * Returns true if collection contains an object\n   * @param {Object} object Object to check against\n   * @return {Boolean} `true` if collection contains an object\n   */\n  contains: function(object) {\n    return this._objects.indexOf(object) > -1;\n  },\n\n  /**\n   * Returns number representation of a collection complexity\n   * @return {Number} complexity\n   */\n  complexity: function () {\n    return this._objects.reduce(function (memo, current) {\n      memo += current.complexity ? current.complexity() : 0;\n      return memo;\n    }, 0);\n  }\n};\n\n\n/**\n * @namespace fabric.CommonMethods\n */\nfabric.CommonMethods = {\n\n  /**\n   * Sets object's properties from options\n   * @param {Object} [options] Options object\n   */\n  _setOptions: function(options) {\n    for (var prop in options) {\n      this.set(prop, options[prop]);\n    }\n  },\n\n  /**\n   * @private\n   * @param {Object} [filler] Options object\n   * @param {String} [property] property to set the Gradient to\n   */\n  _initGradient: function(filler, property) {\n    if (filler && filler.colorStops && !(filler instanceof fabric.Gradient)) {\n      this.set(property, new fabric.Gradient(filler));\n    }\n  },\n\n  /**\n   * @private\n   * @param {Object} [filler] Options object\n   * @param {String} [property] property to set the Pattern to\n   * @param {Function} [callback] callback to invoke after pattern load\n   */\n  _initPattern: function(filler, property, callback) {\n    if (filler && filler.source && !(filler instanceof fabric.Pattern)) {\n      this.set(property, new fabric.Pattern(filler, callback));\n    }\n    else {\n      callback && callback();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _setObject: function(obj) {\n    for (var prop in obj) {\n      this._set(prop, obj[prop]);\n    }\n  },\n\n  /**\n   * Sets property to a given value. When changing position/dimension -related properties (left, top, scale, angle, etc.) `set` does not update position of object's borders/controls. If you need to update those, call `setCoords()`.\n   * @param {String|Object} key Property name or object (if object, iterate over the object properties)\n   * @param {Object|Function} value Property value (if function, the value is passed into it and its return value is used as a new one)\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  set: function(key, value) {\n    if (typeof key === 'object') {\n      this._setObject(key);\n    }\n    else {\n      this._set(key, value);\n    }\n    return this;\n  },\n\n  _set: function(key, value) {\n    this[key] = value;\n  },\n\n  /**\n   * Toggles specified property from `true` to `false` or from `false` to `true`\n   * @param {String} property Property to toggle\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  toggle: function(property) {\n    var value = this.get(property);\n    if (typeof value === 'boolean') {\n      this.set(property, !value);\n    }\n    return this;\n  },\n\n  /**\n   * Basic getter\n   * @param {String} property Property name\n   * @return {*} value of a property\n   */\n  get: function(property) {\n    return this[property];\n  }\n};\n\n\n(function(global) {\n\n  var sqrt = Math.sqrt,\n      atan2 = Math.atan2,\n      pow = Math.pow,\n      PiBy180 = Math.PI / 180,\n      PiBy2 = Math.PI / 2;\n\n  /**\n   * @namespace fabric.util\n   */\n  fabric.util = {\n\n    /**\n     * Calculate the cos of an angle, avoiding returning floats for known results\n     * @static\n     * @memberOf fabric.util\n     * @param {Number} angle the angle in radians or in degree\n     * @return {Number}\n     */\n    cos: function(angle) {\n      if (angle === 0) { return 1; }\n      if (angle < 0) {\n        // cos(a) = cos(-a)\n        angle = -angle;\n      }\n      var angleSlice = angle / PiBy2;\n      switch (angleSlice) {\n        case 1: case 3: return 0;\n        case 2: return -1;\n      }\n      return Math.cos(angle);\n    },\n\n    /**\n     * Calculate the sin of an angle, avoiding returning floats for known results\n     * @static\n     * @memberOf fabric.util\n     * @param {Number} angle the angle in radians or in degree\n     * @return {Number}\n     */\n    sin: function(angle) {\n      if (angle === 0) { return 0; }\n      var angleSlice = angle / PiBy2, sign = 1;\n      if (angle < 0) {\n        // sin(-a) = -sin(a)\n        sign = -1;\n      }\n      switch (angleSlice) {\n        case 1: return sign;\n        case 2: return 0;\n        case 3: return -sign;\n      }\n      return Math.sin(angle);\n    },\n\n    /**\n     * Removes value from an array.\n     * Presence of value (and its position in an array) is determined via `Array.prototype.indexOf`\n     * @static\n     * @memberOf fabric.util\n     * @param {Array} array\n     * @param {*} value\n     * @return {Array} original array\n     */\n    removeFromArray: function(array, value) {\n      var idx = array.indexOf(value);\n      if (idx !== -1) {\n        array.splice(idx, 1);\n      }\n      return array;\n    },\n\n    /**\n     * Returns random number between 2 specified ones.\n     * @static\n     * @memberOf fabric.util\n     * @param {Number} min lower limit\n     * @param {Number} max upper limit\n     * @return {Number} random value (between min and max)\n     */\n    getRandomInt: function(min, max) {\n      return Math.floor(Math.random() * (max - min + 1)) + min;\n    },\n\n    /**\n     * Transforms degrees to radians.\n     * @static\n     * @memberOf fabric.util\n     * @param {Number} degrees value in degrees\n     * @return {Number} value in radians\n     */\n    degreesToRadians: function(degrees) {\n      return degrees * PiBy180;\n    },\n\n    /**\n     * Transforms radians to degrees.\n     * @static\n     * @memberOf fabric.util\n     * @param {Number} radians value in radians\n     * @return {Number} value in degrees\n     */\n    radiansToDegrees: function(radians) {\n      return radians / PiBy180;\n    },\n\n    /**\n     * Rotates `point` around `origin` with `radians`\n     * @static\n     * @memberOf fabric.util\n     * @param {fabric.Point} point The point to rotate\n     * @param {fabric.Point} origin The origin of the rotation\n     * @param {Number} radians The radians of the angle for the rotation\n     * @return {fabric.Point} The new rotated point\n     */\n    rotatePoint: function(point, origin, radians) {\n      point.subtractEquals(origin);\n      var v = fabric.util.rotateVector(point, radians);\n      return new fabric.Point(v.x, v.y).addEquals(origin);\n    },\n\n    /**\n     * Rotates `vector` with `radians`\n     * @static\n     * @memberOf fabric.util\n     * @param {Object} vector The vector to rotate (x and y)\n     * @param {Number} radians The radians of the angle for the rotation\n     * @return {Object} The new rotated point\n     */\n    rotateVector: function(vector, radians) {\n      var sin = fabric.util.sin(radians),\n          cos = fabric.util.cos(radians),\n          rx = vector.x * cos - vector.y * sin,\n          ry = vector.x * sin + vector.y * cos;\n      return {\n        x: rx,\n        y: ry\n      };\n    },\n\n    /**\n     * Apply transform t to point p\n     * @static\n     * @memberOf fabric.util\n     * @param  {fabric.Point} p The point to transform\n     * @param  {Array} t The transform\n     * @param  {Boolean} [ignoreOffset] Indicates that the offset should not be applied\n     * @return {fabric.Point} The transformed point\n     */\n    transformPoint: function(p, t, ignoreOffset) {\n      if (ignoreOffset) {\n        return new fabric.Point(\n          t[0] * p.x + t[2] * p.y,\n          t[1] * p.x + t[3] * p.y\n        );\n      }\n      return new fabric.Point(\n        t[0] * p.x + t[2] * p.y + t[4],\n        t[1] * p.x + t[3] * p.y + t[5]\n      );\n    },\n\n    /**\n     * Returns coordinates of points's bounding rectangle (left, top, width, height)\n     * @param {Array} points 4 points array\n     * @param {Array} [transform] an array of 6 numbers representing a 2x3 transform matrix\n     * @return {Object} Object with left, top, width, height properties\n     */\n    makeBoundingBoxFromPoints: function(points, transform) {\n      if (transform) {\n        for (var i = 0; i < points.length; i++) {\n          points[i] = fabric.util.transformPoint(points[i], transform);\n        }\n      }\n      var xPoints = [points[0].x, points[1].x, points[2].x, points[3].x],\n          minX = fabric.util.array.min(xPoints),\n          maxX = fabric.util.array.max(xPoints),\n          width = maxX - minX,\n          yPoints = [points[0].y, points[1].y, points[2].y, points[3].y],\n          minY = fabric.util.array.min(yPoints),\n          maxY = fabric.util.array.max(yPoints),\n          height = maxY - minY;\n\n      return {\n        left: minX,\n        top: minY,\n        width: width,\n        height: height\n      };\n    },\n\n    /**\n     * Invert transformation t\n     * @static\n     * @memberOf fabric.util\n     * @param {Array} t The transform\n     * @return {Array} The inverted transform\n     */\n    invertTransform: function(t) {\n      var a = 1 / (t[0] * t[3] - t[1] * t[2]),\n          r = [a * t[3], -a * t[1], -a * t[2], a * t[0]],\n          o = fabric.util.transformPoint({ x: t[4], y: t[5] }, r, true);\n      r[4] = -o.x;\n      r[5] = -o.y;\n      return r;\n    },\n\n    /**\n     * A wrapper around Number#toFixed, which contrary to native method returns number, not string.\n     * @static\n     * @memberOf fabric.util\n     * @param {Number|String} number number to operate on\n     * @param {Number} fractionDigits number of fraction digits to \"leave\"\n     * @return {Number}\n     */\n    toFixed: function(number, fractionDigits) {\n      return parseFloat(Number(number).toFixed(fractionDigits));\n    },\n\n    /**\n     * Converts from attribute value to pixel value if applicable.\n     * Returns converted pixels or original value not converted.\n     * @param {Number|String} value number to operate on\n     * @param {Number} fontSize\n     * @return {Number|String}\n     */\n    parseUnit: function(value, fontSize) {\n      var unit = /\\D{0,2}$/.exec(value),\n          number = parseFloat(value);\n      if (!fontSize) {\n        fontSize = fabric.Text.DEFAULT_SVG_FONT_SIZE;\n      }\n      switch (unit[0]) {\n        case 'mm':\n          return number * fabric.DPI / 25.4;\n\n        case 'cm':\n          return number * fabric.DPI / 2.54;\n\n        case 'in':\n          return number * fabric.DPI;\n\n        case 'pt':\n          return number * fabric.DPI / 72; // or * 4 / 3\n\n        case 'pc':\n          return number * fabric.DPI / 72 * 12; // or * 16\n\n        case 'em':\n          return number * fontSize;\n\n        default:\n          return number;\n      }\n    },\n\n    /**\n     * Function which always returns `false`.\n     * @static\n     * @memberOf fabric.util\n     * @return {Boolean}\n     */\n    falseFunction: function() {\n      return false;\n    },\n\n    /**\n     * Returns klass \"Class\" object of given namespace\n     * @memberOf fabric.util\n     * @param {String} type Type of object (eg. 'circle')\n     * @param {String} namespace Namespace to get klass \"Class\" object from\n     * @return {Object} klass \"Class\"\n     */\n    getKlass: function(type, namespace) {\n      // capitalize first letter only\n      type = fabric.util.string.camelize(type.charAt(0).toUpperCase() + type.slice(1));\n      return fabric.util.resolveNamespace(namespace)[type];\n    },\n\n    /**\n     * Returns array of attributes for given svg that fabric parses\n     * @memberOf fabric.util\n     * @param {String} type Type of svg element (eg. 'circle')\n     * @return {Array} string names of supported attributes\n     */\n    getSvgAttributes: function(type) {\n      var attributes = [\n        'instantiated_by_use',\n        'style',\n        'id',\n        'class'\n      ];\n      switch (type) {\n        case 'linearGradient':\n          attributes = attributes.concat(['x1', 'y1', 'x2', 'y2', 'gradientUnits', 'gradientTransform']);\n          break;\n        case 'radialGradient':\n          attributes = attributes.concat(['gradientUnits', 'gradientTransform', 'cx', 'cy', 'r', 'fx', 'fy', 'fr']);\n          break;\n        case 'stop':\n          attributes = attributes.concat(['offset', 'stop-color', 'stop-opacity']);\n          break;\n      }\n      return attributes;\n    },\n\n    /**\n     * Returns object of given namespace\n     * @memberOf fabric.util\n     * @param {String} namespace Namespace string e.g. 'fabric.Image.filter' or 'fabric'\n     * @return {Object} Object for given namespace (default fabric)\n     */\n    resolveNamespace: function(namespace) {\n      if (!namespace) {\n        return fabric;\n      }\n\n      var parts = namespace.split('.'),\n          len = parts.length, i,\n          obj = global || fabric.window;\n\n      for (i = 0; i < len; ++i) {\n        obj = obj[parts[i]];\n      }\n\n      return obj;\n    },\n\n    /**\n     * Loads image element from given url and passes it to a callback\n     * @memberOf fabric.util\n     * @param {String} url URL representing an image\n     * @param {Function} callback Callback; invoked with loaded image\n     * @param {*} [context] Context to invoke callback in\n     * @param {Object} [crossOrigin] crossOrigin value to set image element to\n     */\n    loadImage: function(url, callback, context, crossOrigin) {\n      if (!url) {\n        callback && callback.call(context, url);\n        return;\n      }\n\n      var img = fabric.util.createImage();\n\n      /** @ignore */\n      var onLoadCallback = function () {\n        callback && callback.call(context, img, false);\n        img = img.onload = img.onerror = null;\n      };\n\n      img.onload = onLoadCallback;\n      /** @ignore */\n      img.onerror = function() {\n        fabric.log('Error loading ' + img.src);\n        callback && callback.call(context, null, true);\n        img = img.onload = img.onerror = null;\n      };\n\n      // data-urls appear to be buggy with crossOrigin\n      // https://github.com/kangax/fabric.js/commit/d0abb90f1cd5c5ef9d2a94d3fb21a22330da3e0a#commitcomment-4513767\n      // see https://code.google.com/p/chromium/issues/detail?id=315152\n      //     https://bugzilla.mozilla.org/show_bug.cgi?id=935069\n      // crossOrigin null is the same as not set.\n      if (url.indexOf('data') !== 0 &&\n        crossOrigin !== undefined &&\n        crossOrigin !== null) {\n        img.crossOrigin = crossOrigin;\n      }\n\n      // IE10 / IE11-Fix: SVG contents from data: URI\n      // will only be available if the IMG is present\n      // in the DOM (and visible)\n      if (url.substring(0,14) === 'data:image/svg') {\n        img.onload = null;\n        fabric.util.loadImageInDom(img, onLoadCallback);\n      }\n\n      img.src = url;\n    },\n\n    /**\n     * Attaches SVG image with data: URL to the dom\n     * @memberOf fabric.util\n     * @param {Object} img Image object with data:image/svg src\n     * @param {Function} callback Callback; invoked with loaded image\n     * @return {Object} DOM element (div containing the SVG image)\n     */\n    loadImageInDom: function(img, onLoadCallback) {\n      var div = fabric.document.createElement('div');\n      div.style.width = div.style.height = '1px';\n      div.style.left = div.style.top = '-100%';\n      div.style.position = 'absolute';\n      div.appendChild(img);\n      fabric.document.querySelector('body').appendChild(div);\n      /**\n       * Wrap in function to:\n       *   1. Call existing callback\n       *   2. Cleanup DOM\n       */\n      img.onload = function () {\n        onLoadCallback();\n        div.parentNode.removeChild(div);\n        div = null;\n      };\n    },\n\n    /**\n     * Creates corresponding fabric instances from their object representations\n     * @static\n     * @memberOf fabric.util\n     * @param {Array} objects Objects to enliven\n     * @param {Function} callback Callback to invoke when all objects are created\n     * @param {String} namespace Namespace to get klass \"Class\" object from\n     * @param {Function} reviver Method for further parsing of object elements,\n     * called after each fabric object created.\n     */\n    enlivenObjects: function(objects, callback, namespace, reviver) {\n      objects = objects || [];\n\n      var enlivenedObjects = [],\n          numLoadedObjects = 0,\n          numTotalObjects = objects.length;\n\n      function onLoaded() {\n        if (++numLoadedObjects === numTotalObjects) {\n          callback && callback(enlivenedObjects.filter(function(obj) {\n            // filter out undefined objects (objects that gave error)\n            return obj;\n          }));\n        }\n      }\n\n      if (!numTotalObjects) {\n        callback && callback(enlivenedObjects);\n        return;\n      }\n\n      objects.forEach(function (o, index) {\n        // if sparse array\n        if (!o || !o.type) {\n          onLoaded();\n          return;\n        }\n        var klass = fabric.util.getKlass(o.type, namespace);\n        klass.fromObject(o, function (obj, error) {\n          error || (enlivenedObjects[index] = obj);\n          reviver && reviver(o, obj, error);\n          onLoaded();\n        });\n      });\n    },\n\n    /**\n     * Create and wait for loading of patterns\n     * @static\n     * @memberOf fabric.util\n     * @param {Array} patterns Objects to enliven\n     * @param {Function} callback Callback to invoke when all objects are created\n     * called after each fabric object created.\n     */\n    enlivenPatterns: function(patterns, callback) {\n      patterns = patterns || [];\n\n      function onLoaded() {\n        if (++numLoadedPatterns === numPatterns) {\n          callback && callback(enlivenedPatterns);\n        }\n      }\n\n      var enlivenedPatterns = [],\n          numLoadedPatterns = 0,\n          numPatterns = patterns.length;\n\n      if (!numPatterns) {\n        callback && callback(enlivenedPatterns);\n        return;\n      }\n\n      patterns.forEach(function (p, index) {\n        if (p && p.source) {\n          new fabric.Pattern(p, function(pattern) {\n            enlivenedPatterns[index] = pattern;\n            onLoaded();\n          });\n        }\n        else {\n          enlivenedPatterns[index] = p;\n          onLoaded();\n        }\n      });\n    },\n\n    /**\n     * Groups SVG elements (usually those retrieved from SVG document)\n     * @static\n     * @memberOf fabric.util\n     * @param {Array} elements SVG elements to group\n     * @param {Object} [options] Options object\n     * @param {String} path Value to set sourcePath to\n     * @return {fabric.Object|fabric.Group}\n     */\n    groupSVGElements: function(elements, options, path) {\n      var object;\n      if (elements && elements.length === 1) {\n        return elements[0];\n      }\n      if (options) {\n        if (options.width && options.height) {\n          options.centerPoint = {\n            x: options.width / 2,\n            y: options.height / 2\n          };\n        }\n        else {\n          delete options.width;\n          delete options.height;\n        }\n      }\n      object = new fabric.Group(elements, options);\n      if (typeof path !== 'undefined') {\n        object.sourcePath = path;\n      }\n      return object;\n    },\n\n    /**\n     * Populates an object with properties of another object\n     * @static\n     * @memberOf fabric.util\n     * @param {Object} source Source object\n     * @param {Object} destination Destination object\n     * @return {Array} properties Properties names to include\n     */\n    populateWithProperties: function(source, destination, properties) {\n      if (properties && Object.prototype.toString.call(properties) === '[object Array]') {\n        for (var i = 0, len = properties.length; i < len; i++) {\n          if (properties[i] in source) {\n            destination[properties[i]] = source[properties[i]];\n          }\n        }\n      }\n    },\n\n    /**\n     * Draws a dashed line between two points\n     *\n     * This method is used to draw dashed line around selection area.\n     * See <a href=\"http://stackoverflow.com/questions/4576724/dotted-stroke-in-canvas\">dotted stroke in canvas</a>\n     *\n     * @param {CanvasRenderingContext2D} ctx context\n     * @param {Number} x  start x coordinate\n     * @param {Number} y start y coordinate\n     * @param {Number} x2 end x coordinate\n     * @param {Number} y2 end y coordinate\n     * @param {Array} da dash array pattern\n     */\n    drawDashedLine: function(ctx, x, y, x2, y2, da) {\n      var dx = x2 - x,\n          dy = y2 - y,\n          len = sqrt(dx * dx + dy * dy),\n          rot = atan2(dy, dx),\n          dc = da.length,\n          di = 0,\n          draw = true;\n\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.moveTo(0, 0);\n      ctx.rotate(rot);\n\n      x = 0;\n      while (len > x) {\n        x += da[di++ % dc];\n        if (x > len) {\n          x = len;\n        }\n        ctx[draw ? 'lineTo' : 'moveTo'](x, 0);\n        draw = !draw;\n      }\n\n      ctx.restore();\n    },\n\n    /**\n     * Creates canvas element\n     * @static\n     * @memberOf fabric.util\n     * @return {CanvasElement} initialized canvas element\n     */\n    createCanvasElement: function() {\n      return fabric.document.createElement('canvas');\n    },\n\n    /**\n     * Creates a canvas element that is a copy of another and is also painted\n     * @param {CanvasElement} canvas to copy size and content of\n     * @static\n     * @memberOf fabric.util\n     * @return {CanvasElement} initialized canvas element\n     */\n    copyCanvasElement: function(canvas) {\n      var newCanvas = fabric.util.createCanvasElement();\n      newCanvas.width = canvas.width;\n      newCanvas.height = canvas.height;\n      newCanvas.getContext('2d').drawImage(canvas, 0, 0);\n      return newCanvas;\n    },\n\n    /**\n     * since 2.6.0 moved from canvas instance to utility.\n     * @param {CanvasElement} canvasEl to copy size and content of\n     * @param {String} format 'jpeg' or 'png', in some browsers 'webp' is ok too\n     * @param {Number} quality <= 1 and > 0\n     * @static\n     * @memberOf fabric.util\n     * @return {String} data url\n     */\n    toDataURL: function(canvasEl, format, quality) {\n      return canvasEl.toDataURL('image/' + format, quality);\n    },\n\n    /**\n     * Creates image element (works on client and node)\n     * @static\n     * @memberOf fabric.util\n     * @return {HTMLImageElement} HTML image element\n     */\n    createImage: function() {\n      return fabric.document.createElement('img');\n    },\n\n    /**\n     * Multiply matrix A by matrix B to nest transformations\n     * @static\n     * @memberOf fabric.util\n     * @param  {Array} a First transformMatrix\n     * @param  {Array} b Second transformMatrix\n     * @param  {Boolean} is2x2 flag to multiply matrices as 2x2 matrices\n     * @return {Array} The product of the two transform matrices\n     */\n    multiplyTransformMatrices: function(a, b, is2x2) {\n      // Matrix multiply a * b\n      return [\n        a[0] * b[0] + a[2] * b[1],\n        a[1] * b[0] + a[3] * b[1],\n        a[0] * b[2] + a[2] * b[3],\n        a[1] * b[2] + a[3] * b[3],\n        is2x2 ? 0 : a[0] * b[4] + a[2] * b[5] + a[4],\n        is2x2 ? 0 : a[1] * b[4] + a[3] * b[5] + a[5]\n      ];\n    },\n\n    /**\n     * Decomposes standard 2x3 matrix into transform components\n     * @static\n     * @memberOf fabric.util\n     * @param  {Array} a transformMatrix\n     * @return {Object} Components of transform\n     */\n    qrDecompose: function(a) {\n      var angle = atan2(a[1], a[0]),\n          denom = pow(a[0], 2) + pow(a[1], 2),\n          scaleX = sqrt(denom),\n          scaleY = (a[0] * a[3] - a[2] * a[1]) / scaleX,\n          skewX = atan2(a[0] * a[2] + a[1] * a [3], denom);\n      return {\n        angle: angle / PiBy180,\n        scaleX: scaleX,\n        scaleY: scaleY,\n        skewX: skewX / PiBy180,\n        skewY: 0,\n        translateX: a[4],\n        translateY: a[5]\n      };\n    },\n\n    /**\n     * Returns a transform matrix starting from an object of the same kind of\n     * the one returned from qrDecompose, useful also if you want to calculate some\n     * transformations from an object that is not enlived yet\n     * @static\n     * @memberOf fabric.util\n     * @param  {Object} options\n     * @param  {Number} [options.angle] angle in degrees\n     * @return {Number[]} transform matrix\n     */\n    calcRotateMatrix: function(options) {\n      if (!options.angle) {\n        return fabric.iMatrix.concat();\n      }\n      var theta = fabric.util.degreesToRadians(options.angle),\n          cos = fabric.util.cos(theta),\n          sin = fabric.util.sin(theta);\n      return [cos, sin, -sin, cos, 0, 0];\n    },\n\n    /**\n     * Returns a transform matrix starting from an object of the same kind of\n     * the one returned from qrDecompose, useful also if you want to calculate some\n     * transformations from an object that is not enlived yet.\n     * is called DimensionsTransformMatrix because those properties are the one that influence\n     * the size of the resulting box of the object.\n     * @static\n     * @memberOf fabric.util\n     * @param  {Object} options\n     * @param  {Number} [options.scaleX]\n     * @param  {Number} [options.scaleY]\n     * @param  {Boolean} [options.flipX]\n     * @param  {Boolean} [options.flipY]\n     * @param  {Number} [options.skewX]\n     * @param  {Number} [options.skewX]\n     * @return {Number[]} transform matrix\n     */\n    calcDimensionsMatrix: function(options) {\n      var scaleX = typeof options.scaleX === 'undefined' ? 1 : options.scaleX,\n          scaleY = typeof options.scaleY === 'undefined' ? 1 : options.scaleY,\n          scaleMatrix = [\n            options.flipX ? -scaleX : scaleX,\n            0,\n            0,\n            options.flipY ? -scaleY : scaleY,\n            0,\n            0],\n          multiply = fabric.util.multiplyTransformMatrices,\n          degreesToRadians = fabric.util.degreesToRadians;\n      if (options.skewX) {\n        scaleMatrix = multiply(\n          scaleMatrix,\n          [1, 0, Math.tan(degreesToRadians(options.skewX)), 1],\n          true);\n      }\n      if (options.skewY) {\n        scaleMatrix = multiply(\n          scaleMatrix,\n          [1, Math.tan(degreesToRadians(options.skewY)), 0, 1],\n          true);\n      }\n      return scaleMatrix;\n    },\n\n    /**\n     * Returns a transform matrix starting from an object of the same kind of\n     * the one returned from qrDecompose, useful also if you want to calculate some\n     * transformations from an object that is not enlived yet\n     * @static\n     * @memberOf fabric.util\n     * @param  {Object} options\n     * @param  {Number} [options.angle]\n     * @param  {Number} [options.scaleX]\n     * @param  {Number} [options.scaleY]\n     * @param  {Boolean} [options.flipX]\n     * @param  {Boolean} [options.flipY]\n     * @param  {Number} [options.skewX]\n     * @param  {Number} [options.skewX]\n     * @param  {Number} [options.translateX]\n     * @param  {Number} [options.translateY]\n     * @return {Number[]} transform matrix\n     */\n    composeMatrix: function(options) {\n      var matrix = [1, 0, 0, 1, options.translateX || 0, options.translateY || 0],\n          multiply = fabric.util.multiplyTransformMatrices;\n      if (options.angle) {\n        matrix = multiply(matrix, fabric.util.calcRotateMatrix(options));\n      }\n      if (options.scaleX !== 1 || options.scaleY !== 1 ||\n          options.skewX || options.skewY || options.flipX || options.flipY) {\n        matrix = multiply(matrix, fabric.util.calcDimensionsMatrix(options));\n      }\n      return matrix;\n    },\n\n    /**\n     * reset an object transform state to neutral. Top and left are not accounted for\n     * @static\n     * @memberOf fabric.util\n     * @param  {fabric.Object} target object to transform\n     */\n    resetObjectTransform: function (target) {\n      target.scaleX = 1;\n      target.scaleY = 1;\n      target.skewX = 0;\n      target.skewY = 0;\n      target.flipX = false;\n      target.flipY = false;\n      target.rotate(0);\n    },\n\n    /**\n     * Extract Object transform values\n     * @static\n     * @memberOf fabric.util\n     * @param  {fabric.Object} target object to read from\n     * @return {Object} Components of transform\n     */\n    saveObjectTransform: function (target) {\n      return {\n        scaleX: target.scaleX,\n        scaleY: target.scaleY,\n        skewX: target.skewX,\n        skewY: target.skewY,\n        angle: target.angle,\n        left: target.left,\n        flipX: target.flipX,\n        flipY: target.flipY,\n        top: target.top\n      };\n    },\n\n    /**\n     * Returns true if context has transparent pixel\n     * at specified location (taking tolerance into account)\n     * @param {CanvasRenderingContext2D} ctx context\n     * @param {Number} x x coordinate\n     * @param {Number} y y coordinate\n     * @param {Number} tolerance Tolerance\n     */\n    isTransparent: function(ctx, x, y, tolerance) {\n\n      // If tolerance is > 0 adjust start coords to take into account.\n      // If moves off Canvas fix to 0\n      if (tolerance > 0) {\n        if (x > tolerance) {\n          x -= tolerance;\n        }\n        else {\n          x = 0;\n        }\n        if (y > tolerance) {\n          y -= tolerance;\n        }\n        else {\n          y = 0;\n        }\n      }\n\n      var _isTransparent = true, i, temp,\n          imageData = ctx.getImageData(x, y, (tolerance * 2) || 1, (tolerance * 2) || 1),\n          l = imageData.data.length;\n\n      // Split image data - for tolerance > 1, pixelDataSize = 4;\n      for (i = 3; i < l; i += 4) {\n        temp = imageData.data[i];\n        _isTransparent = temp <= 0;\n        if (_isTransparent === false) {\n          break; // Stop if colour found\n        }\n      }\n\n      imageData = null;\n\n      return _isTransparent;\n    },\n\n    /**\n     * Parse preserveAspectRatio attribute from element\n     * @param {string} attribute to be parsed\n     * @return {Object} an object containing align and meetOrSlice attribute\n     */\n    parsePreserveAspectRatioAttribute: function(attribute) {\n      var meetOrSlice = 'meet', alignX = 'Mid', alignY = 'Mid',\n          aspectRatioAttrs = attribute.split(' '), align;\n\n      if (aspectRatioAttrs && aspectRatioAttrs.length) {\n        meetOrSlice = aspectRatioAttrs.pop();\n        if (meetOrSlice !== 'meet' && meetOrSlice !== 'slice') {\n          align = meetOrSlice;\n          meetOrSlice = 'meet';\n        }\n        else if (aspectRatioAttrs.length) {\n          align = aspectRatioAttrs.pop();\n        }\n      }\n      //divide align in alignX and alignY\n      alignX = align !== 'none' ? align.slice(1, 4) : 'none';\n      alignY = align !== 'none' ? align.slice(5, 8) : 'none';\n      return {\n        meetOrSlice: meetOrSlice,\n        alignX: alignX,\n        alignY: alignY\n      };\n    },\n\n    /**\n     * Clear char widths cache for the given font family or all the cache if no\n     * fontFamily is specified.\n     * Use it if you know you are loading fonts in a lazy way and you are not waiting\n     * for custom fonts to load properly when adding text objects to the canvas.\n     * If a text object is added when its own font is not loaded yet, you will get wrong\n     * measurement and so wrong bounding boxes.\n     * After the font cache is cleared, either change the textObject text content or call\n     * initDimensions() to trigger a recalculation\n     * @memberOf fabric.util\n     * @param {String} [fontFamily] font family to clear\n     */\n    clearFabricFontCache: function(fontFamily) {\n      fontFamily = (fontFamily || '').toLowerCase();\n      if (!fontFamily) {\n        fabric.charWidthsCache = { };\n      }\n      else if (fabric.charWidthsCache[fontFamily]) {\n        delete fabric.charWidthsCache[fontFamily];\n      }\n    },\n\n    /**\n     * Given current aspect ratio, determines the max width and height that can\n     * respect the total allowed area for the cache.\n     * @memberOf fabric.util\n     * @param {Number} ar aspect ratio\n     * @param {Number} maximumArea Maximum area you want to achieve\n     * @return {Object.x} Limited dimensions by X\n     * @return {Object.y} Limited dimensions by Y\n     */\n    limitDimsByArea: function(ar, maximumArea) {\n      var roughWidth = Math.sqrt(maximumArea * ar),\n          perfLimitSizeY = Math.floor(maximumArea / roughWidth);\n      return { x: Math.floor(roughWidth), y: perfLimitSizeY };\n    },\n\n    capValue: function(min, value, max) {\n      return Math.max(min, Math.min(value, max));\n    },\n\n    /**\n     * Finds the scale for the object source to fit inside the object destination,\n     * keeping aspect ratio intact.\n     * respect the total allowed area for the cache.\n     * @memberOf fabric.util\n     * @param {Object | fabric.Object} source\n     * @param {Number} source.height natural unscaled height of the object\n     * @param {Number} source.width natural unscaled width of the object\n     * @param {Object | fabric.Object} destination\n     * @param {Number} destination.height natural unscaled height of the object\n     * @param {Number} destination.width natural unscaled width of the object\n     * @return {Number} scale factor to apply to source to fit into destination\n     */\n    findScaleToFit: function(source, destination) {\n      return Math.min(destination.width / source.width, destination.height / source.height);\n    },\n\n    /**\n     * Finds the scale for the object source to cover entirely the object destination,\n     * keeping aspect ratio intact.\n     * respect the total allowed area for the cache.\n     * @memberOf fabric.util\n     * @param {Object | fabric.Object} source\n     * @param {Number} source.height natural unscaled height of the object\n     * @param {Number} source.width natural unscaled width of the object\n     * @param {Object | fabric.Object} destination\n     * @param {Number} destination.height natural unscaled height of the object\n     * @param {Number} destination.width natural unscaled width of the object\n     * @return {Number} scale factor to apply to source to cover destination\n     */\n    findScaleToCover: function(source, destination) {\n      return Math.max(destination.width / source.width, destination.height / source.height);\n    },\n\n    /**\n     * given an array of 6 number returns something like `\"matrix(...numbers)\"`\n     * @memberOf fabric.util\n     * @param {Array} transform an array with 6 numbers\n     * @return {String} transform matrix for svg\n     * @return {Object.y} Limited dimensions by Y\n     */\n    matrixToSVG: function(transform) {\n      return 'matrix(' + transform.map(function(value) {\n        return fabric.util.toFixed(value, fabric.Object.NUM_FRACTION_DIGITS);\n      }).join(' ') + ')';\n    },\n\n    /**\n     * given a width and height, return the size of the bounding box\n     * that can contains the box with width/height with applied transform\n     * described in options.\n     * Use to calculate the boxes around objects for controls.\n     * @memberOf fabric.util\n     * @param {Number} width\n     * @param {Number} height\n     * @param {Object} options\n     * @param {Number} options.scaleX\n     * @param {Number} options.scaleY\n     * @param {Number} options.skewX\n     * @param {Number} options.skewY\n     * @return {Object.x} width of containing\n     * @return {Object.y} height of containing\n     */\n    sizeAfterTransform: function(width, height, options) {\n      var dimX = width / 2, dimY = height / 2,\n          points = [\n            {\n              x: -dimX,\n              y: -dimY\n            },\n            {\n              x: dimX,\n              y: -dimY\n            },\n            {\n              x: -dimX,\n              y: dimY\n            },\n            {\n              x: dimX,\n              y: dimY\n            }],\n          transformMatrix = fabric.util.calcDimensionsMatrix(options),\n          bbox = fabric.util.makeBoundingBoxFromPoints(points, transformMatrix);\n      return {\n        x: bbox.width,\n        y: bbox.height,\n      };\n    }\n  };\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function() {\n  var _join = Array.prototype.join,\n      commandLengths = {\n        m: 2,\n        l: 2,\n        h: 1,\n        v: 1,\n        c: 6,\n        s: 4,\n        q: 4,\n        t: 2,\n        a: 7\n      },\n      repeatedCommands = {\n        m: 'l',\n        M: 'L'\n      };\n  function segmentToBezier(th2, th3, cosTh, sinTh, rx, ry, cx1, cy1, mT, fromX, fromY) {\n    var costh2 = fabric.util.cos(th2),\n        sinth2 = fabric.util.sin(th2),\n        costh3 = fabric.util.cos(th3),\n        sinth3 = fabric.util.sin(th3),\n        toX = cosTh * rx * costh3 - sinTh * ry * sinth3 + cx1,\n        toY = sinTh * rx * costh3 + cosTh * ry * sinth3 + cy1,\n        cp1X = fromX + mT * ( -cosTh * rx * sinth2 - sinTh * ry * costh2),\n        cp1Y = fromY + mT * ( -sinTh * rx * sinth2 + cosTh * ry * costh2),\n        cp2X = toX + mT * ( cosTh * rx * sinth3 + sinTh * ry * costh3),\n        cp2Y = toY + mT * ( sinTh * rx * sinth3 - cosTh * ry * costh3);\n\n    return ['C',\n      cp1X, cp1Y,\n      cp2X, cp2Y,\n      toX, toY\n    ];\n  }\n\n  /* Adapted from http://dxr.mozilla.org/mozilla-central/source/content/svg/content/src/nsSVGPathDataParser.cpp\n   * by Andrea Bogazzi code is under MPL. if you don't have a copy of the license you can take it here\n   * http://mozilla.org/MPL/2.0/\n   */\n  function arcToSegments(toX, toY, rx, ry, large, sweep, rotateX) {\n    var PI = Math.PI, th = rotateX * PI / 180,\n        sinTh = fabric.util.sin(th),\n        cosTh = fabric.util.cos(th),\n        fromX = 0, fromY = 0;\n\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n\n    var px = -cosTh * toX * 0.5 - sinTh * toY * 0.5,\n        py = -cosTh * toY * 0.5 + sinTh * toX * 0.5,\n        rx2 = rx * rx, ry2 = ry * ry, py2 = py * py, px2 = px * px,\n        pl = rx2 * ry2 - rx2 * py2 - ry2 * px2,\n        root = 0;\n\n    if (pl < 0) {\n      var s = Math.sqrt(1 - pl / (rx2 * ry2));\n      rx *= s;\n      ry *= s;\n    }\n    else {\n      root = (large === sweep ? -1.0 : 1.0) *\n              Math.sqrt( pl / (rx2 * py2 + ry2 * px2));\n    }\n\n    var cx = root * rx * py / ry,\n        cy = -root * ry * px / rx,\n        cx1 = cosTh * cx - sinTh * cy + toX * 0.5,\n        cy1 = sinTh * cx + cosTh * cy + toY * 0.5,\n        mTheta = calcVectorAngle(1, 0, (px - cx) / rx, (py - cy) / ry),\n        dtheta = calcVectorAngle((px - cx) / rx, (py - cy) / ry, (-px - cx) / rx, (-py - cy) / ry);\n\n    if (sweep === 0 && dtheta > 0) {\n      dtheta -= 2 * PI;\n    }\n    else if (sweep === 1 && dtheta < 0) {\n      dtheta += 2 * PI;\n    }\n\n    // Convert into cubic bezier segments <= 90deg\n    var segments = Math.ceil(Math.abs(dtheta / PI * 2)),\n        result = [], mDelta = dtheta / segments,\n        mT = 8 / 3 * Math.sin(mDelta / 4) * Math.sin(mDelta / 4) / Math.sin(mDelta / 2),\n        th3 = mTheta + mDelta;\n\n    for (var i = 0; i < segments; i++) {\n      result[i] = segmentToBezier(mTheta, th3, cosTh, sinTh, rx, ry, cx1, cy1, mT, fromX, fromY);\n      fromX = result[i][5];\n      fromY = result[i][6];\n      mTheta = th3;\n      th3 += mDelta;\n    }\n    return result;\n  }\n\n  /*\n   * Private\n   */\n  function calcVectorAngle(ux, uy, vx, vy) {\n    var ta = Math.atan2(uy, ux),\n        tb = Math.atan2(vy, vx);\n    if (tb >= ta) {\n      return tb - ta;\n    }\n    else {\n      return 2 * Math.PI - (ta - tb);\n    }\n  }\n\n  /**\n   * Calculate bounding box of a beziercurve\n   * @param {Number} x0 starting point\n   * @param {Number} y0\n   * @param {Number} x1 first control point\n   * @param {Number} y1\n   * @param {Number} x2 secondo control point\n   * @param {Number} y2\n   * @param {Number} x3 end of bezier\n   * @param {Number} y3\n   */\n  // taken from http://jsbin.com/ivomiq/56/edit  no credits available for that.\n  // TODO: can we normalize this with the starting points set at 0 and then translated the bbox?\n  function getBoundsOfCurve(x0, y0, x1, y1, x2, y2, x3, y3) {\n    var argsString;\n    if (fabric.cachesBoundsOfCurve) {\n      argsString = _join.call(arguments);\n      if (fabric.boundsOfCurveCache[argsString]) {\n        return fabric.boundsOfCurveCache[argsString];\n      }\n    }\n\n    var sqrt = Math.sqrt,\n        min = Math.min, max = Math.max,\n        abs = Math.abs, tvalues = [],\n        bounds = [[], []],\n        a, b, c, t, t1, t2, b2ac, sqrtb2ac;\n\n    b = 6 * x0 - 12 * x1 + 6 * x2;\n    a = -3 * x0 + 9 * x1 - 9 * x2 + 3 * x3;\n    c = 3 * x1 - 3 * x0;\n\n    for (var i = 0; i < 2; ++i) {\n      if (i > 0) {\n        b = 6 * y0 - 12 * y1 + 6 * y2;\n        a = -3 * y0 + 9 * y1 - 9 * y2 + 3 * y3;\n        c = 3 * y1 - 3 * y0;\n      }\n\n      if (abs(a) < 1e-12) {\n        if (abs(b) < 1e-12) {\n          continue;\n        }\n        t = -c / b;\n        if (0 < t && t < 1) {\n          tvalues.push(t);\n        }\n        continue;\n      }\n      b2ac = b * b - 4 * c * a;\n      if (b2ac < 0) {\n        continue;\n      }\n      sqrtb2ac = sqrt(b2ac);\n      t1 = (-b + sqrtb2ac) / (2 * a);\n      if (0 < t1 && t1 < 1) {\n        tvalues.push(t1);\n      }\n      t2 = (-b - sqrtb2ac) / (2 * a);\n      if (0 < t2 && t2 < 1) {\n        tvalues.push(t2);\n      }\n    }\n\n    var x, y, j = tvalues.length, jlen = j, mt;\n    while (j--) {\n      t = tvalues[j];\n      mt = 1 - t;\n      x = (mt * mt * mt * x0) + (3 * mt * mt * t * x1) + (3 * mt * t * t * x2) + (t * t * t * x3);\n      bounds[0][j] = x;\n\n      y = (mt * mt * mt * y0) + (3 * mt * mt * t * y1) + (3 * mt * t * t * y2) + (t * t * t * y3);\n      bounds[1][j] = y;\n    }\n\n    bounds[0][jlen] = x0;\n    bounds[1][jlen] = y0;\n    bounds[0][jlen + 1] = x3;\n    bounds[1][jlen + 1] = y3;\n    var result = [\n      {\n        x: min.apply(null, bounds[0]),\n        y: min.apply(null, bounds[1])\n      },\n      {\n        x: max.apply(null, bounds[0]),\n        y: max.apply(null, bounds[1])\n      }\n    ];\n    if (fabric.cachesBoundsOfCurve) {\n      fabric.boundsOfCurveCache[argsString] = result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts arc to a bunch of bezier curves\n   * @param {Number} fx starting point x\n   * @param {Number} fy starting point y\n   * @param {Array} coords Arc command\n   */\n  function fromArcToBeziers(fx, fy, coords) {\n    var rx = coords[1],\n        ry = coords[2],\n        rot = coords[3],\n        large = coords[4],\n        sweep = coords[5],\n        tx = coords[6],\n        ty = coords[7],\n        segsNorm = arcToSegments(tx - fx, ty - fy, rx, ry, large, sweep, rot);\n\n    for (var i = 0, len = segsNorm.length; i < len; i++) {\n      segsNorm[i][1] += fx;\n      segsNorm[i][2] += fy;\n      segsNorm[i][3] += fx;\n      segsNorm[i][4] += fy;\n      segsNorm[i][5] += fx;\n      segsNorm[i][6] += fy;\n    }\n    return segsNorm;\n  };\n\n  /**\n   * This function take a parsed SVG path and make it simpler for fabricJS logic.\n   * simplification consist of: only UPPERCASE absolute commands ( relative converted to absolute )\n   * S converted in C, T converted in Q, A converted in C.\n   * @param {Array} path the array of commands of a parsed svg path for fabric.Path\n   * @return {Array} the simplified array of commands of a parsed svg path for fabric.Path\n   */\n  function makePathSimpler(path) {\n    // x and y represent the last point of the path. the previous command point.\n    // we add them to each relative command to make it an absolute comment.\n    // we also swap the v V h H with L, because are easier to transform.\n    var x = 0, y = 0, len = path.length,\n        // x1 and y1 represent the last point of the subpath. the subpath is started with\n        // m or M command. When a z or Z command is drawn, x and y need to be resetted to\n        // the last x1 and y1.\n        x1 = 0, y1 = 0, current, i, converted,\n        // previous will host the letter of the previous command, to handle S and T.\n        // controlX and controlY will host the previous reflected control point\n        destinationPath = [], previous, controlX, controlY;\n    for (i = 0; i < len; ++i) {\n      converted = false;\n      current = path[i].slice(0);\n      switch (current[0]) { // first letter\n        case 'l': // lineto, relative\n          current[0] = 'L';\n          current[1] += x;\n          current[2] += y;\n          // falls through\n        case 'L':\n          x = current[1];\n          y = current[2];\n          break;\n        case 'h': // horizontal lineto, relative\n          current[1] += x;\n          // falls through\n        case 'H':\n          current[0] = 'L';\n          current[2] = y;\n          x = current[1];\n          break;\n        case 'v': // vertical lineto, relative\n          current[1] += y;\n          // falls through\n        case 'V':\n          current[0] = 'L';\n          y = current[1];\n          current[1] = x;\n          current[2] = y;\n          break;\n        case 'm': // moveTo, relative\n          current[0] = 'M';\n          current[1] += x;\n          current[2] += y;\n          // falls through\n        case 'M':\n          x = current[1];\n          y = current[2];\n          x1 = current[1];\n          y1 = current[2];\n          break;\n        case 'c': // bezierCurveTo, relative\n          current[0] = 'C';\n          current[1] += x;\n          current[2] += y;\n          current[3] += x;\n          current[4] += y;\n          current[5] += x;\n          current[6] += y;\n          // falls through\n        case 'C':\n          controlX = current[3];\n          controlY = current[4];\n          x = current[5];\n          y = current[6];\n          break;\n        case 's': // shorthand cubic bezierCurveTo, relative\n          current[0] = 'S';\n          current[1] += x;\n          current[2] += y;\n          current[3] += x;\n          current[4] += y;\n          // falls through\n        case 'S':\n          // would be sScC but since we are swapping sSc for C, we check just that.\n          if (previous === 'C') {\n            // calculate reflection of previous control points\n            controlX = 2 * x - controlX;\n            controlY = 2 * y - controlY;\n          }\n          else {\n            // If there is no previous command or if the previous command was not a C, c, S, or s,\n            // the control point is coincident with the current point\n            controlX = x;\n            controlY = y;\n          }\n          x = current[3];\n          y = current[4];\n          current[0] = 'C';\n          current[5] = current[3];\n          current[6] = current[4];\n          current[3] = current[1];\n          current[4] = current[2];\n          current[1] = controlX;\n          current[2] = controlY;\n          // current[3] and current[4] are NOW the second control point.\n          // we keep it for the next reflection.\n          controlX = current[3];\n          controlY = current[4];\n          break;\n        case 'q': // quadraticCurveTo, relative\n          current[0] = 'Q';\n          current[1] += x;\n          current[2] += y;\n          current[3] += x;\n          current[4] += y;\n          // falls through\n        case 'Q':\n          controlX = current[1];\n          controlY = current[2];\n          x = current[3];\n          y = current[4];\n          break;\n        case 't': // shorthand quadraticCurveTo, relative\n          current[0] = 'T';\n          current[1] += x;\n          current[2] += y;\n          // falls through\n        case 'T':\n          if (previous === 'Q') {\n            // calculate reflection of previous control point\n            controlX = 2 * x - controlX;\n            controlY = 2 * y - controlY;\n          }\n          else {\n            // If there is no previous command or if the previous command was not a Q, q, T or t,\n            // assume the control point is coincident with the current point\n            controlX = x;\n            controlY = y;\n          }\n          current[0] = 'Q';\n          x = current[1];\n          y = current[2];\n          current[1] = controlX;\n          current[2] = controlY;\n          current[3] = x;\n          current[4] = y;\n          break;\n        case 'a':\n          current[0] = 'A';\n          current[6] += x;\n          current[7] += y;\n          // falls through\n        case 'A':\n          converted = true;\n          destinationPath = destinationPath.concat(fromArcToBeziers(x, y, current));\n          x = current[6];\n          y = current[7];\n          break;\n        case 'z':\n        case 'Z':\n          x = x1;\n          y = y1;\n          break;\n        default:\n      }\n      if (!converted) {\n        destinationPath.push(current);\n      }\n      previous = current[0];\n    }\n    return destinationPath;\n  };\n\n  /**\n   * Calc length from point x1,y1 to x2,y2\n   * @param {Number} x1 starting point x\n   * @param {Number} y1 starting point y\n   * @param {Number} x2 starting point x\n   * @param {Number} y2 starting point y\n   * @return {Number} length of segment\n   */\n  function calcLineLength(x1, y1, x2, y2) {\n    return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n  }\n\n  // functions for the Cubic beizer\n  // taken from: https://github.com/konvajs/konva/blob/7.0.5/src/shapes/Path.ts#L350\n  function CB1(t) {\n    return t * t * t;\n  }\n  function CB2(t) {\n    return 3 * t * t * (1 - t);\n  }\n  function CB3(t) {\n    return 3 * t * (1 - t) * (1 - t);\n  }\n  function CB4(t) {\n    return (1 - t) * (1 - t) * (1 - t);\n  }\n\n  function getPointOnCubicBezierIterator(p1x, p1y, p2x, p2y, p3x, p3y, p4x, p4y) {\n    return function(pct) {\n      var c1 = CB1(pct), c2 = CB2(pct), c3 = CB3(pct), c4 = CB4(pct);\n      return {\n        x: p4x * c1 + p3x * c2 + p2x * c3 + p1x * c4,\n        y: p4y * c1 + p3y * c2 + p2y * c3 + p1y * c4\n      };\n    };\n  }\n\n  function getTangentCubicIterator(p1x, p1y, p2x, p2y, p3x, p3y, p4x, p4y) {\n    return function (pct) {\n      var invT = 1 - pct,\n          tangentX = (3 * invT * invT * (p2x - p1x)) + (6 * invT * pct * (p3x - p2x)) +\n          (3 * pct * pct * (p4x - p3x)),\n          tangentY = (3 * invT * invT * (p2y - p1y)) + (6 * invT * pct * (p3y - p2y)) +\n          (3 * pct * pct * (p4y - p3y));\n      return Math.atan2(tangentY, tangentX);\n    };\n  }\n\n  function QB1(t) {\n    return t * t;\n  }\n\n  function QB2(t) {\n    return 2 * t * (1 - t);\n  }\n\n  function QB3(t) {\n    return (1 - t) * (1 - t);\n  }\n\n  function getPointOnQuadraticBezierIterator(p1x, p1y, p2x, p2y, p3x, p3y) {\n    return function(pct) {\n      var c1 = QB1(pct), c2 = QB2(pct), c3 = QB3(pct);\n      return {\n        x: p3x * c1 + p2x * c2 + p1x * c3,\n        y: p3y * c1 + p2y * c2 + p1y * c3\n      };\n    };\n  }\n\n  function getTangentQuadraticIterator(p1x, p1y, p2x, p2y, p3x, p3y) {\n    return function (pct) {\n      var invT = 1 - pct,\n          tangentX = (2 * invT * (p2x - p1x)) + (2 * pct * (p3x - p2x)),\n          tangentY = (2 * invT * (p2y - p1y)) + (2 * pct * (p3y - p2y));\n      return Math.atan2(tangentY, tangentX);\n    };\n  }\n\n\n  // this will run over a path segment ( a cubic or quadratic segment) and approximate it\n  // with 100 segemnts. This will good enough to calculate the length of the curve\n  function pathIterator(iterator, x1, y1) {\n    var tempP = { x: x1, y: y1 }, p, tmpLen = 0, perc;\n    for (perc = 0.01; perc <= 1; perc += 0.01) {\n      p = iterator(perc);\n      tmpLen += calcLineLength(tempP.x, tempP.y, p.x, p.y);\n      tempP = p;\n    }\n    return tmpLen;\n  }\n\n  /**\n   * Given a pathInfo, and a distance in pixels, find the percentage from 0 to 1\n   * that correspond to that pixels run over the path.\n   * The percentage will be then used to find the correct point on the canvas for the path.\n   * @param {Array} segInfo fabricJS collection of information on a parsed path\n   * @param {Number} distance from starting point, in pixels.\n   * @return {Object} info object with x and y ( the point on canvas ) and angle, the tangent on that point;\n   */\n  function findPercentageForDistance(segInfo, distance) {\n    var perc = 0, tmpLen = 0, iterator = segInfo.iterator, tempP = { x: segInfo.x, y: segInfo.y },\n        p, nextLen, nextStep = 0.01, angleFinder = segInfo.angleFinder, lastPerc;\n    // nextStep > 0.0001 covers 0.00015625 that 1/64th of 1/100\n    // the path\n    while (tmpLen < distance && perc <= 1 && nextStep > 0.0001) {\n      p = iterator(perc);\n      lastPerc = perc;\n      nextLen = calcLineLength(tempP.x, tempP.y, p.x, p.y);\n      // compare tmpLen each cycle with distance, decide next perc to test.\n      if ((nextLen + tmpLen) > distance) {\n        // we discard this step and we make smaller steps.\n        nextStep /= 2;\n        perc -= nextStep;\n      }\n      else {\n        tempP = p;\n        perc += nextStep;\n        tmpLen += nextLen;\n      }\n    }\n    p.angle = angleFinder(lastPerc);\n    return p;\n  }\n\n  /**\n   * Run over a parsed and simplifed path and extrac some informations.\n   * informations are length of each command and starting point\n   * @param {Array} path fabricJS parsed path commands\n   * @return {Array} path commands informations\n   */\n  function getPathSegmentsInfo(path) {\n    var totalLength = 0, len = path.length, current,\n        //x2 and y2 are the coords of segment start\n        //x1 and y1 are the coords of the current point\n        x1 = 0, y1 = 0, x2 = 0, y2 = 0, info = [], iterator, tempInfo, angleFinder;\n    for (var i = 0; i < len; i++) {\n      current = path[i];\n      tempInfo = {\n        x: x1,\n        y: y1,\n        command: current[0],\n      };\n      switch (current[0]) { //first letter\n        case 'M':\n          tempInfo.length = 0;\n          x2 = x1 = current[1];\n          y2 = y1 = current[2];\n          break;\n        case 'L':\n          tempInfo.length = calcLineLength(x1, y1, current[1], current[2]);\n          x1 = current[1];\n          y1 = current[2];\n          break;\n        case 'C':\n          iterator = getPointOnCubicBezierIterator(\n            x1,\n            y1,\n            current[1],\n            current[2],\n            current[3],\n            current[4],\n            current[5],\n            current[6]\n          );\n          angleFinder = getTangentCubicIterator(\n            x1,\n            y1,\n            current[1],\n            current[2],\n            current[3],\n            current[4],\n            current[5],\n            current[6]\n          );\n          tempInfo.iterator = iterator;\n          tempInfo.angleFinder = angleFinder;\n          tempInfo.length = pathIterator(iterator, x1, y1);\n          x1 = current[5];\n          y1 = current[6];\n          break;\n        case 'Q':\n          iterator = getPointOnQuadraticBezierIterator(\n            x1,\n            y1,\n            current[1],\n            current[2],\n            current[3],\n            current[4]\n          );\n          angleFinder = getTangentQuadraticIterator(\n            x1,\n            y1,\n            current[1],\n            current[2],\n            current[3],\n            current[4]\n          );\n          tempInfo.iterator = iterator;\n          tempInfo.angleFinder = angleFinder;\n          tempInfo.length = pathIterator(iterator, x1, y1);\n          x1 = current[3];\n          y1 = current[4];\n          break;\n        case 'Z':\n        case 'z':\n          // we add those in order to ease calculations later\n          tempInfo.destX = x2;\n          tempInfo.destY = y2;\n          tempInfo.length = calcLineLength(x1, y1, x2, y2);\n          x1 = x2;\n          y1 = y2;\n          break;\n      }\n      totalLength += tempInfo.length;\n      info.push(tempInfo);\n    }\n    info.push({ length: totalLength, x: x1, y: y1 });\n    return info;\n  }\n\n  function getPointOnPath(path, distance, infos) {\n    if (!infos) {\n      infos = getPathSegmentsInfo(path);\n    }\n    var i = 0;\n    while ((distance - infos[i].length > 0) && i < (infos.length - 2)) {\n      distance -= infos[i].length;\n      i++;\n    }\n    // var distance = infos[infos.length - 1] * perc;\n    var segInfo = infos[i], segPercent = distance / segInfo.length,\n        command = segInfo.command, segment = path[i], info;\n\n    switch (command) {\n      case 'M':\n        return { x: segInfo.x, y: segInfo.y, angle: 0 };\n      case 'Z':\n      case 'z':\n        info = new fabric.Point(segInfo.x, segInfo.y).lerp(\n          new fabric.Point(segInfo.destX, segInfo.destY),\n          segPercent\n        );\n        info.angle = Math.atan2(segInfo.destY - segInfo.y, segInfo.destX - segInfo.x);\n        return info;\n      case 'L':\n        info = new fabric.Point(segInfo.x, segInfo.y).lerp(\n          new fabric.Point(segment[1], segment[2]),\n          segPercent\n        );\n        info.angle = Math.atan2(segment[2] - segInfo.y, segment[1] - segInfo.x);\n        return info;\n      case 'C':\n        return findPercentageForDistance(segInfo, distance);\n      case 'Q':\n        return findPercentageForDistance(segInfo, distance);\n    }\n  }\n\n  function parsePath(pathString) {\n    var result = [],\n        coords = [],\n        currentPath,\n        parsed,\n        re = fabric.rePathCommand,\n        rNumber = '[-+]?(?:\\\\d*\\\\.\\\\d+|\\\\d+\\\\.?)(?:[eE][-+]?\\\\d+)?\\\\s*',\n        rNumberCommaWsp = '(' + rNumber + ')' + fabric.commaWsp,\n        rFlagCommaWsp = '([01])' + fabric.commaWsp + '?',\n        rArcSeq = rNumberCommaWsp + '?' + rNumberCommaWsp + '?' + rNumberCommaWsp + rFlagCommaWsp + rFlagCommaWsp +\n          rNumberCommaWsp + '?(' + rNumber + ')',\n        regArcArgumentSequence = new RegExp(rArcSeq, 'g'),\n        match,\n        coordsStr,\n        // one of commands (m,M,l,L,q,Q,c,C,etc.) followed by non-command characters (i.e. command values)\n        path;\n    if (!pathString || !pathString.match) {\n      return result;\n    }\n    path = pathString.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);\n\n    for (var i = 0, coordsParsed, len = path.length; i < len; i++) {\n      currentPath = path[i];\n\n      coordsStr = currentPath.slice(1).trim();\n      coords.length = 0;\n\n      var command = currentPath.charAt(0);\n      coordsParsed = [command];\n\n      if (command.toLowerCase() === 'a') {\n        // arcs have special flags that apparently don't require spaces so handle special\n        for (var args; (args = regArcArgumentSequence.exec(coordsStr));) {\n          for (var j = 1; j < args.length; j++) {\n            coords.push(args[j]);\n          }\n        }\n      }\n      else {\n        while ((match = re.exec(coordsStr))) {\n          coords.push(match[0]);\n        }\n      }\n\n      for (var j = 0, jlen = coords.length; j < jlen; j++) {\n        parsed = parseFloat(coords[j]);\n        if (!isNaN(parsed)) {\n          coordsParsed.push(parsed);\n        }\n      }\n\n      var commandLength = commandLengths[command.toLowerCase()],\n          repeatedCommand = repeatedCommands[command] || command;\n\n      if (coordsParsed.length - 1 > commandLength) {\n        for (var k = 1, klen = coordsParsed.length; k < klen; k += commandLength) {\n          result.push([command].concat(coordsParsed.slice(k, k + commandLength)));\n          command = repeatedCommand;\n        }\n      }\n      else {\n        result.push(coordsParsed);\n      }\n    }\n\n    return result;\n  };\n\n  /**\n   * Calculate bounding box of a elliptic-arc\n   * @deprecated\n   * @param {Number} fx start point of arc\n   * @param {Number} fy\n   * @param {Number} rx horizontal radius\n   * @param {Number} ry vertical radius\n   * @param {Number} rot angle of horizontal axis\n   * @param {Number} large 1 or 0, whatever the arc is the big or the small on the 2 points\n   * @param {Number} sweep 1 or 0, 1 clockwise or counterclockwise direction\n   * @param {Number} tx end point of arc\n   * @param {Number} ty\n   */\n  function getBoundsOfArc(fx, fy, rx, ry, rot, large, sweep, tx, ty) {\n\n    var fromX = 0, fromY = 0, bound, bounds = [],\n        segs = arcToSegments(tx - fx, ty - fy, rx, ry, large, sweep, rot);\n\n    for (var i = 0, len = segs.length; i < len; i++) {\n      bound = getBoundsOfCurve(fromX, fromY, segs[i][1], segs[i][2], segs[i][3], segs[i][4], segs[i][5], segs[i][6]);\n      bounds.push({ x: bound[0].x + fx, y: bound[0].y + fy });\n      bounds.push({ x: bound[1].x + fx, y: bound[1].y + fy });\n      fromX = segs[i][5];\n      fromY = segs[i][6];\n    }\n    return bounds;\n  };\n\n  /**\n   * Draws arc\n   * @deprecated\n   * @param {CanvasRenderingContext2D} ctx\n   * @param {Number} fx\n   * @param {Number} fy\n   * @param {Array} coords coords of the arc, without the front 'A/a'\n   */\n  function drawArc(ctx, fx, fy, coords) {\n    coords = coords.slice(0).unshift('X'); // command A or a does not matter\n    var beziers = fromArcToBeziers(fx, fy, coords);\n    beziers.forEach(function(bezier) {\n      ctx.bezierCurveTo.apply(ctx, bezier.slice(1));\n    });\n  };\n\n  fabric.util.parsePath = parsePath;\n  fabric.util.makePathSimpler = makePathSimpler;\n  fabric.util.getPathSegmentsInfo = getPathSegmentsInfo;\n  fabric.util.fromArcToBeziers = fromArcToBeziers;\n  /**\n   * Typo of `fromArcToBeziers` kept for not breaking the api once corrected.\n   * Will be removed in fabric 5.0\n   * @deprecated\n   */\n  fabric.util.fromArcToBeizers = fromArcToBeziers;\n  fabric.util.getBoundsOfCurve = getBoundsOfCurve;\n  fabric.util.getPointOnPath = getPointOnPath;\n  // kept because we do not want to make breaking changes.\n  // but useless and deprecated.\n  fabric.util.getBoundsOfArc = getBoundsOfArc;\n  fabric.util.drawArc = drawArc;\n})();\n\n\n(function() {\n\n  var slice = Array.prototype.slice;\n\n  /**\n   * Invokes method on all items in a given array\n   * @memberOf fabric.util.array\n   * @param {Array} array Array to iterate over\n   * @param {String} method Name of a method to invoke\n   * @return {Array}\n   */\n  function invoke(array, method) {\n    var args = slice.call(arguments, 2), result = [];\n    for (var i = 0, len = array.length; i < len; i++) {\n      result[i] = args.length ? array[i][method].apply(array[i], args) : array[i][method].call(array[i]);\n    }\n    return result;\n  }\n\n  /**\n   * Finds maximum value in array (not necessarily \"first\" one)\n   * @memberOf fabric.util.array\n   * @param {Array} array Array to iterate over\n   * @param {String} byProperty\n   * @return {*}\n   */\n  function max(array, byProperty) {\n    return find(array, byProperty, function(value1, value2) {\n      return value1 >= value2;\n    });\n  }\n\n  /**\n   * Finds minimum value in array (not necessarily \"first\" one)\n   * @memberOf fabric.util.array\n   * @param {Array} array Array to iterate over\n   * @param {String} byProperty\n   * @return {*}\n   */\n  function min(array, byProperty) {\n    return find(array, byProperty, function(value1, value2) {\n      return value1 < value2;\n    });\n  }\n\n  /**\n   * @private\n   */\n  function fill(array, value) {\n    var k = array.length;\n    while (k--) {\n      array[k] = value;\n    }\n    return array;\n  }\n\n  /**\n   * @private\n   */\n  function find(array, byProperty, condition) {\n    if (!array || array.length === 0) {\n      return;\n    }\n\n    var i = array.length - 1,\n        result = byProperty ? array[i][byProperty] : array[i];\n    if (byProperty) {\n      while (i--) {\n        if (condition(array[i][byProperty], result)) {\n          result = array[i][byProperty];\n        }\n      }\n    }\n    else {\n      while (i--) {\n        if (condition(array[i], result)) {\n          result = array[i];\n        }\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @namespace fabric.util.array\n   */\n  fabric.util.array = {\n    fill: fill,\n    invoke: invoke,\n    min: min,\n    max: max\n  };\n\n})();\n\n\n(function() {\n  /**\n   * Copies all enumerable properties of one js object to another\n   * this does not and cannot compete with generic utils.\n   * Does not clone or extend fabric.Object subclasses.\n   * This is mostly for internal use and has extra handling for fabricJS objects\n   * it skips the canvas and group properties in deep cloning.\n   * @memberOf fabric.util.object\n   * @param {Object} destination Where to copy to\n   * @param {Object} source Where to copy from\n   * @return {Object}\n   */\n\n  function extend(destination, source, deep) {\n    // JScript DontEnum bug is not taken care of\n    // the deep clone is for internal use, is not meant to avoid\n    // javascript traps or cloning html element or self referenced objects.\n    if (deep) {\n      if (!fabric.isLikelyNode && source instanceof Element) {\n        // avoid cloning deep images, canvases,\n        destination = source;\n      }\n      else if (source instanceof Array) {\n        destination = [];\n        for (var i = 0, len = source.length; i < len; i++) {\n          destination[i] = extend({ }, source[i], deep);\n        }\n      }\n      else if (source && typeof source === 'object') {\n        for (var property in source) {\n          if (property === 'canvas' || property === 'group') {\n            // we do not want to clone this props at all.\n            // we want to keep the keys in the copy\n            destination[property] = null;\n          }\n          else if (source.hasOwnProperty(property)) {\n            destination[property] = extend({ }, source[property], deep);\n          }\n        }\n      }\n      else {\n        // this sounds odd for an extend but is ok for recursive use\n        destination = source;\n      }\n    }\n    else {\n      for (var property in source) {\n        destination[property] = source[property];\n      }\n    }\n    return destination;\n  }\n\n  /**\n   * Creates an empty object and copies all enumerable properties of another object to it\n   * @memberOf fabric.util.object\n   * TODO: this function return an empty object if you try to clone null\n   * @param {Object} object Object to clone\n   * @return {Object}\n   */\n  function clone(object, deep) {\n    return extend({ }, object, deep);\n  }\n\n  /** @namespace fabric.util.object */\n  fabric.util.object = {\n    extend: extend,\n    clone: clone\n  };\n  fabric.util.object.extend(fabric.util, fabric.Observable);\n})();\n\n\n(function() {\n\n  /**\n   * Camelizes a string\n   * @memberOf fabric.util.string\n   * @param {String} string String to camelize\n   * @return {String} Camelized version of a string\n   */\n  function camelize(string) {\n    return string.replace(/-+(.)?/g, function(match, character) {\n      return character ? character.toUpperCase() : '';\n    });\n  }\n\n  /**\n   * Capitalizes a string\n   * @memberOf fabric.util.string\n   * @param {String} string String to capitalize\n   * @param {Boolean} [firstLetterOnly] If true only first letter is capitalized\n   * and other letters stay untouched, if false first letter is capitalized\n   * and other letters are converted to lowercase.\n   * @return {String} Capitalized version of a string\n   */\n  function capitalize(string, firstLetterOnly) {\n    return string.charAt(0).toUpperCase() +\n      (firstLetterOnly ? string.slice(1) : string.slice(1).toLowerCase());\n  }\n\n  /**\n   * Escapes XML in a string\n   * @memberOf fabric.util.string\n   * @param {String} string String to escape\n   * @return {String} Escaped version of a string\n   */\n  function escapeXml(string) {\n    return string.replace(/&/g, '&amp;')\n      .replace(/\"/g, '&quot;')\n      .replace(/'/g, '&apos;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;');\n  }\n\n  /**\n   * Divide a string in the user perceived single units\n   * @memberOf fabric.util.string\n   * @param {String} textstring String to escape\n   * @return {Array} array containing the graphemes\n   */\n  function graphemeSplit(textstring) {\n    var i = 0, chr, graphemes = [];\n    for (i = 0, chr; i < textstring.length; i++) {\n      if ((chr = getWholeChar(textstring, i)) === false) {\n        continue;\n      }\n      graphemes.push(chr);\n    }\n    return graphemes;\n  }\n\n  // taken from mdn in the charAt doc page.\n  function getWholeChar(str, i) {\n    var code = str.charCodeAt(i);\n\n    if (isNaN(code)) {\n      return ''; // Position not found\n    }\n    if (code < 0xD800 || code > 0xDFFF) {\n      return str.charAt(i);\n    }\n\n    // High surrogate (could change last hex to 0xDB7F to treat high private\n    // surrogates as single characters)\n    if (0xD800 <= code && code <= 0xDBFF) {\n      if (str.length <= (i + 1)) {\n        throw 'High surrogate without following low surrogate';\n      }\n      var next = str.charCodeAt(i + 1);\n      if (0xDC00 > next || next > 0xDFFF) {\n        throw 'High surrogate without following low surrogate';\n      }\n      return str.charAt(i) + str.charAt(i + 1);\n    }\n    // Low surrogate (0xDC00 <= code && code <= 0xDFFF)\n    if (i === 0) {\n      throw 'Low surrogate without preceding high surrogate';\n    }\n    var prev = str.charCodeAt(i - 1);\n\n    // (could change last hex to 0xDB7F to treat high private\n    // surrogates as single characters)\n    if (0xD800 > prev || prev > 0xDBFF) {\n      throw 'Low surrogate without preceding high surrogate';\n    }\n    // We can pass over low surrogates now as the second component\n    // in a pair which we have already processed\n    return false;\n  }\n\n\n  /**\n   * String utilities\n   * @namespace fabric.util.string\n   */\n  fabric.util.string = {\n    camelize: camelize,\n    capitalize: capitalize,\n    escapeXml: escapeXml,\n    graphemeSplit: graphemeSplit\n  };\n})();\n\n\n(function() {\n\n  var slice = Array.prototype.slice, emptyFunction = function() { },\n\n      IS_DONTENUM_BUGGY = (function() {\n        for (var p in { toString: 1 }) {\n          if (p === 'toString') {\n            return false;\n          }\n        }\n        return true;\n      })(),\n\n      /** @ignore */\n      addMethods = function(klass, source, parent) {\n        for (var property in source) {\n\n          if (property in klass.prototype &&\n              typeof klass.prototype[property] === 'function' &&\n              (source[property] + '').indexOf('callSuper') > -1) {\n\n            klass.prototype[property] = (function(property) {\n              return function() {\n\n                var superclass = this.constructor.superclass;\n                this.constructor.superclass = parent;\n                var returnValue = source[property].apply(this, arguments);\n                this.constructor.superclass = superclass;\n\n                if (property !== 'initialize') {\n                  return returnValue;\n                }\n              };\n            })(property);\n          }\n          else {\n            klass.prototype[property] = source[property];\n          }\n\n          if (IS_DONTENUM_BUGGY) {\n            if (source.toString !== Object.prototype.toString) {\n              klass.prototype.toString = source.toString;\n            }\n            if (source.valueOf !== Object.prototype.valueOf) {\n              klass.prototype.valueOf = source.valueOf;\n            }\n          }\n        }\n      };\n\n  function Subclass() { }\n\n  function callSuper(methodName) {\n    var parentMethod = null,\n        _this = this;\n\n    // climb prototype chain to find method not equal to callee's method\n    while (_this.constructor.superclass) {\n      var superClassMethod = _this.constructor.superclass.prototype[methodName];\n      if (_this[methodName] !== superClassMethod) {\n        parentMethod = superClassMethod;\n        break;\n      }\n      // eslint-disable-next-line\n      _this = _this.constructor.superclass.prototype;\n    }\n\n    if (!parentMethod) {\n      return console.log('tried to callSuper ' + methodName + ', method not found in prototype chain', this);\n    }\n\n    return (arguments.length > 1)\n      ? parentMethod.apply(this, slice.call(arguments, 1))\n      : parentMethod.call(this);\n  }\n\n  /**\n   * Helper for creation of \"classes\".\n   * @memberOf fabric.util\n   * @param {Function} [parent] optional \"Class\" to inherit from\n   * @param {Object} [properties] Properties shared by all instances of this class\n   *                  (be careful modifying objects defined here as this would affect all instances)\n   */\n  function createClass() {\n    var parent = null,\n        properties = slice.call(arguments, 0);\n\n    if (typeof properties[0] === 'function') {\n      parent = properties.shift();\n    }\n    function klass() {\n      this.initialize.apply(this, arguments);\n    }\n\n    klass.superclass = parent;\n    klass.subclasses = [];\n\n    if (parent) {\n      Subclass.prototype = parent.prototype;\n      klass.prototype = new Subclass();\n      parent.subclasses.push(klass);\n    }\n    for (var i = 0, length = properties.length; i < length; i++) {\n      addMethods(klass, properties[i], parent);\n    }\n    if (!klass.prototype.initialize) {\n      klass.prototype.initialize = emptyFunction;\n    }\n    klass.prototype.constructor = klass;\n    klass.prototype.callSuper = callSuper;\n    return klass;\n  }\n\n  fabric.util.createClass = createClass;\n})();\n\n\n(function () {\n  // since ie11 can use addEventListener but they do not support options, i need to check\n  var couldUseAttachEvent = !!fabric.document.createElement('div').attachEvent,\n      touchEvents = ['touchstart', 'touchmove', 'touchend'];\n  /**\n   * Adds an event listener to an element\n   * @function\n   * @memberOf fabric.util\n   * @param {HTMLElement} element\n   * @param {String} eventName\n   * @param {Function} handler\n   */\n  fabric.util.addListener = function(element, eventName, handler, options) {\n    element && element.addEventListener(eventName, handler, couldUseAttachEvent ? false : options);\n  };\n\n  /**\n   * Removes an event listener from an element\n   * @function\n   * @memberOf fabric.util\n   * @param {HTMLElement} element\n   * @param {String} eventName\n   * @param {Function} handler\n   */\n  fabric.util.removeListener = function(element, eventName, handler, options) {\n    element && element.removeEventListener(eventName, handler, couldUseAttachEvent ? false : options);\n  };\n\n  function getTouchInfo(event) {\n    var touchProp = event.changedTouches;\n    if (touchProp && touchProp[0]) {\n      return touchProp[0];\n    }\n    return event;\n  }\n\n  fabric.util.getPointer = function(event) {\n    var element = event.target,\n        scroll = fabric.util.getScrollLeftTop(element),\n        _evt = getTouchInfo(event);\n    return {\n      x: _evt.clientX + scroll.left,\n      y: _evt.clientY + scroll.top\n    };\n  };\n\n  fabric.util.isTouchEvent = function(event) {\n    return touchEvents.indexOf(event.type) > -1 || event.pointerType === 'touch';\n  };\n})();\n\n\n(function () {\n\n  /**\n   * Cross-browser wrapper for setting element's style\n   * @memberOf fabric.util\n   * @param {HTMLElement} element\n   * @param {Object} styles\n   * @return {HTMLElement} Element that was passed as a first argument\n   */\n  function setStyle(element, styles) {\n    var elementStyle = element.style;\n    if (!elementStyle) {\n      return element;\n    }\n    if (typeof styles === 'string') {\n      element.style.cssText += ';' + styles;\n      return styles.indexOf('opacity') > -1\n        ? setOpacity(element, styles.match(/opacity:\\s*(\\d?\\.?\\d*)/)[1])\n        : element;\n    }\n    for (var property in styles) {\n      if (property === 'opacity') {\n        setOpacity(element, styles[property]);\n      }\n      else {\n        var normalizedProperty = (property === 'float' || property === 'cssFloat')\n          ? (typeof elementStyle.styleFloat === 'undefined' ? 'cssFloat' : 'styleFloat')\n          : property;\n        elementStyle[normalizedProperty] = styles[property];\n      }\n    }\n    return element;\n  }\n\n  var parseEl = fabric.document.createElement('div'),\n      supportsOpacity = typeof parseEl.style.opacity === 'string',\n      supportsFilters = typeof parseEl.style.filter === 'string',\n      reOpacity = /alpha\\s*\\(\\s*opacity\\s*=\\s*([^\\)]+)\\)/,\n\n      /** @ignore */\n      setOpacity = function (element) { return element; };\n\n  if (supportsOpacity) {\n    /** @ignore */\n    setOpacity = function(element, value) {\n      element.style.opacity = value;\n      return element;\n    };\n  }\n  else if (supportsFilters) {\n    /** @ignore */\n    setOpacity = function(element, value) {\n      var es = element.style;\n      if (element.currentStyle && !element.currentStyle.hasLayout) {\n        es.zoom = 1;\n      }\n      if (reOpacity.test(es.filter)) {\n        value = value >= 0.9999 ? '' : ('alpha(opacity=' + (value * 100) + ')');\n        es.filter = es.filter.replace(reOpacity, value);\n      }\n      else {\n        es.filter += ' alpha(opacity=' + (value * 100) + ')';\n      }\n      return element;\n    };\n  }\n\n  fabric.util.setStyle = setStyle;\n\n})();\n\n\n(function() {\n\n  var _slice = Array.prototype.slice;\n\n  /**\n   * Takes id and returns an element with that id (if one exists in a document)\n   * @memberOf fabric.util\n   * @param {String|HTMLElement} id\n   * @return {HTMLElement|null}\n   */\n  function getById(id) {\n    return typeof id === 'string' ? fabric.document.getElementById(id) : id;\n  }\n\n  var sliceCanConvertNodelists,\n      /**\n       * Converts an array-like object (e.g. arguments or NodeList) to an array\n       * @memberOf fabric.util\n       * @param {Object} arrayLike\n       * @return {Array}\n       */\n      toArray = function(arrayLike) {\n        return _slice.call(arrayLike, 0);\n      };\n\n  try {\n    sliceCanConvertNodelists = toArray(fabric.document.childNodes) instanceof Array;\n  }\n  catch (err) { }\n\n  if (!sliceCanConvertNodelists) {\n    toArray = function(arrayLike) {\n      var arr = new Array(arrayLike.length), i = arrayLike.length;\n      while (i--) {\n        arr[i] = arrayLike[i];\n      }\n      return arr;\n    };\n  }\n\n  /**\n   * Creates specified element with specified attributes\n   * @memberOf fabric.util\n   * @param {String} tagName Type of an element to create\n   * @param {Object} [attributes] Attributes to set on an element\n   * @return {HTMLElement} Newly created element\n   */\n  function makeElement(tagName, attributes) {\n    var el = fabric.document.createElement(tagName);\n    for (var prop in attributes) {\n      if (prop === 'class') {\n        el.className = attributes[prop];\n      }\n      else if (prop === 'for') {\n        el.htmlFor = attributes[prop];\n      }\n      else {\n        el.setAttribute(prop, attributes[prop]);\n      }\n    }\n    return el;\n  }\n\n  /**\n   * Adds class to an element\n   * @memberOf fabric.util\n   * @param {HTMLElement} element Element to add class to\n   * @param {String} className Class to add to an element\n   */\n  function addClass(element, className) {\n    if (element && (' ' + element.className + ' ').indexOf(' ' + className + ' ') === -1) {\n      element.className += (element.className ? ' ' : '') + className;\n    }\n  }\n\n  /**\n   * Wraps element with another element\n   * @memberOf fabric.util\n   * @param {HTMLElement} element Element to wrap\n   * @param {HTMLElement|String} wrapper Element to wrap with\n   * @param {Object} [attributes] Attributes to set on a wrapper\n   * @return {HTMLElement} wrapper\n   */\n  function wrapElement(element, wrapper, attributes) {\n    if (typeof wrapper === 'string') {\n      wrapper = makeElement(wrapper, attributes);\n    }\n    if (element.parentNode) {\n      element.parentNode.replaceChild(wrapper, element);\n    }\n    wrapper.appendChild(element);\n    return wrapper;\n  }\n\n  /**\n   * Returns element scroll offsets\n   * @memberOf fabric.util\n   * @param {HTMLElement} element Element to operate on\n   * @return {Object} Object with left/top values\n   */\n  function getScrollLeftTop(element) {\n\n    var left = 0,\n        top = 0,\n        docElement = fabric.document.documentElement,\n        body = fabric.document.body || {\n          scrollLeft: 0, scrollTop: 0\n        };\n\n    // While loop checks (and then sets element to) .parentNode OR .host\n    //  to account for ShadowDOM. We still want to traverse up out of ShadowDOM,\n    //  but the .parentNode of a root ShadowDOM node will always be null, instead\n    //  it should be accessed through .host. See http://stackoverflow.com/a/24765528/4383938\n    while (element && (element.parentNode || element.host)) {\n\n      // Set element to element parent, or 'host' in case of ShadowDOM\n      element = element.parentNode || element.host;\n\n      if (element === fabric.document) {\n        left = body.scrollLeft || docElement.scrollLeft || 0;\n        top = body.scrollTop ||  docElement.scrollTop || 0;\n      }\n      else {\n        left += element.scrollLeft || 0;\n        top += element.scrollTop || 0;\n      }\n\n      if (element.nodeType === 1 && element.style.position === 'fixed') {\n        break;\n      }\n    }\n\n    return { left: left, top: top };\n  }\n\n  /**\n   * Returns offset for a given element\n   * @function\n   * @memberOf fabric.util\n   * @param {HTMLElement} element Element to get offset for\n   * @return {Object} Object with \"left\" and \"top\" properties\n   */\n  function getElementOffset(element) {\n    var docElem,\n        doc = element && element.ownerDocument,\n        box = { left: 0, top: 0 },\n        offset = { left: 0, top: 0 },\n        scrollLeftTop,\n        offsetAttributes = {\n          borderLeftWidth: 'left',\n          borderTopWidth:  'top',\n          paddingLeft:     'left',\n          paddingTop:      'top'\n        };\n\n    if (!doc) {\n      return offset;\n    }\n\n    for (var attr in offsetAttributes) {\n      offset[offsetAttributes[attr]] += parseInt(getElementStyle(element, attr), 10) || 0;\n    }\n\n    docElem = doc.documentElement;\n    if ( typeof element.getBoundingClientRect !== 'undefined' ) {\n      box = element.getBoundingClientRect();\n    }\n\n    scrollLeftTop = getScrollLeftTop(element);\n\n    return {\n      left: box.left + scrollLeftTop.left - (docElem.clientLeft || 0) + offset.left,\n      top: box.top + scrollLeftTop.top - (docElem.clientTop || 0)  + offset.top\n    };\n  }\n\n  /**\n   * Returns style attribute value of a given element\n   * @memberOf fabric.util\n   * @param {HTMLElement} element Element to get style attribute for\n   * @param {String} attr Style attribute to get for element\n   * @return {String} Style attribute value of the given element.\n   */\n  var getElementStyle;\n  if (fabric.document.defaultView && fabric.document.defaultView.getComputedStyle) {\n    getElementStyle = function(element, attr) {\n      var style = fabric.document.defaultView.getComputedStyle(element, null);\n      return style ? style[attr] : undefined;\n    };\n  }\n  else {\n    getElementStyle = function(element, attr) {\n      var value = element.style[attr];\n      if (!value && element.currentStyle) {\n        value = element.currentStyle[attr];\n      }\n      return value;\n    };\n  }\n\n  (function () {\n    var style = fabric.document.documentElement.style,\n        selectProp = 'userSelect' in style\n          ? 'userSelect'\n          : 'MozUserSelect' in style\n            ? 'MozUserSelect'\n            : 'WebkitUserSelect' in style\n              ? 'WebkitUserSelect'\n              : 'KhtmlUserSelect' in style\n                ? 'KhtmlUserSelect'\n                : '';\n\n    /**\n     * Makes element unselectable\n     * @memberOf fabric.util\n     * @param {HTMLElement} element Element to make unselectable\n     * @return {HTMLElement} Element that was passed in\n     */\n    function makeElementUnselectable(element) {\n      if (typeof element.onselectstart !== 'undefined') {\n        element.onselectstart = fabric.util.falseFunction;\n      }\n      if (selectProp) {\n        element.style[selectProp] = 'none';\n      }\n      else if (typeof element.unselectable === 'string') {\n        element.unselectable = 'on';\n      }\n      return element;\n    }\n\n    /**\n     * Makes element selectable\n     * @memberOf fabric.util\n     * @param {HTMLElement} element Element to make selectable\n     * @return {HTMLElement} Element that was passed in\n     */\n    function makeElementSelectable(element) {\n      if (typeof element.onselectstart !== 'undefined') {\n        element.onselectstart = null;\n      }\n      if (selectProp) {\n        element.style[selectProp] = '';\n      }\n      else if (typeof element.unselectable === 'string') {\n        element.unselectable = '';\n      }\n      return element;\n    }\n\n    fabric.util.makeElementUnselectable = makeElementUnselectable;\n    fabric.util.makeElementSelectable = makeElementSelectable;\n  })();\n\n  function getNodeCanvas(element) {\n    var impl = fabric.jsdomImplForWrapper(element);\n    return impl._canvas || impl._image;\n  };\n\n  function cleanUpJsdomNode(element) {\n    if (!fabric.isLikelyNode) {\n      return;\n    }\n    var impl = fabric.jsdomImplForWrapper(element);\n    if (impl) {\n      impl._image = null;\n      impl._canvas = null;\n      // unsure if necessary\n      impl._currentSrc = null;\n      impl._attributes = null;\n      impl._classList = null;\n    }\n  }\n\n  function setImageSmoothing(ctx, value) {\n    ctx.imageSmoothingEnabled = ctx.imageSmoothingEnabled || ctx.webkitImageSmoothingEnabled\n      || ctx.mozImageSmoothingEnabled || ctx.msImageSmoothingEnabled || ctx.oImageSmoothingEnabled;\n    ctx.imageSmoothingEnabled = value;\n  }\n\n  /**\n   * setImageSmoothing sets the context imageSmoothingEnabled property.\n   * Used by canvas and by ImageObject.\n   * @memberOf fabric.util\n   * @since 4.0.0\n   * @param {HTMLRenderingContext2D} ctx to set on\n   * @param {Boolean} value true or false\n   */\n  fabric.util.setImageSmoothing = setImageSmoothing;\n  fabric.util.getById = getById;\n  fabric.util.toArray = toArray;\n  fabric.util.addClass = addClass;\n  fabric.util.makeElement = makeElement;\n  fabric.util.wrapElement = wrapElement;\n  fabric.util.getScrollLeftTop = getScrollLeftTop;\n  fabric.util.getElementOffset = getElementOffset;\n  fabric.util.getNodeCanvas = getNodeCanvas;\n  fabric.util.cleanUpJsdomNode = cleanUpJsdomNode;\n\n})();\n\n\n(function() {\n\n  function addParamToUrl(url, param) {\n    return url + (/\\?/.test(url) ? '&' : '?') + param;\n  }\n\n  function emptyFn() { }\n\n  /**\n   * Cross-browser abstraction for sending XMLHttpRequest\n   * @memberOf fabric.util\n   * @param {String} url URL to send XMLHttpRequest to\n   * @param {Object} [options] Options object\n   * @param {String} [options.method=\"GET\"]\n   * @param {String} [options.parameters] parameters to append to url in GET or in body\n   * @param {String} [options.body] body to send with POST or PUT request\n   * @param {Function} options.onComplete Callback to invoke when request is completed\n   * @return {XMLHttpRequest} request\n   */\n  function request(url, options) {\n    options || (options = { });\n\n    var method = options.method ? options.method.toUpperCase() : 'GET',\n        onComplete = options.onComplete || function() { },\n        xhr = new fabric.window.XMLHttpRequest(),\n        body = options.body || options.parameters;\n\n    /** @ignore */\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState === 4) {\n        onComplete(xhr);\n        xhr.onreadystatechange = emptyFn;\n      }\n    };\n\n    if (method === 'GET') {\n      body = null;\n      if (typeof options.parameters === 'string') {\n        url = addParamToUrl(url, options.parameters);\n      }\n    }\n\n    xhr.open(method, url, true);\n\n    if (method === 'POST' || method === 'PUT') {\n      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n\n    xhr.send(body);\n    return xhr;\n  }\n\n  fabric.util.request = request;\n})();\n\n\n/**\n * Wrapper around `console.log` (when available)\n * @param {*} [values] Values to log\n */\nfabric.log = console.log;\n\n/**\n * Wrapper around `console.warn` (when available)\n * @param {*} [values] Values to log as a warning\n */\nfabric.warn = console.warn;\n\n\n(function() {\n\n  function noop() {\n    return false;\n  }\n\n  function defaultEasing(t, b, c, d) {\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n  }\n\n  /**\n   * Changes value from one to another within certain period of time, invoking callbacks as value is being changed.\n   * @memberOf fabric.util\n   * @param {Object} [options] Animation options\n   * @param {Function} [options.onChange] Callback; invoked on every value change\n   * @param {Function} [options.onComplete] Callback; invoked when value change is completed\n   * @param {Number} [options.startValue=0] Starting value\n   * @param {Number} [options.endValue=100] Ending value\n   * @param {Number} [options.byValue=100] Value to modify the property by\n   * @param {Function} [options.easing] Easing function\n   * @param {Number} [options.duration=500] Duration of change (in ms)\n   * @param {Function} [options.abort] Additional function with logic. If returns true, onComplete is called.\n   */\n  function animate(options) {\n\n    requestAnimFrame(function(timestamp) {\n      options || (options = { });\n\n      var start = timestamp || +new Date(),\n          duration = options.duration || 500,\n          finish = start + duration, time,\n          onChange = options.onChange || noop,\n          abort = options.abort || noop,\n          onComplete = options.onComplete || noop,\n          easing = options.easing || defaultEasing,\n          startValue = 'startValue' in options ? options.startValue : 0,\n          endValue = 'endValue' in options ? options.endValue : 100,\n          byValue = options.byValue || endValue - startValue;\n\n      options.onStart && options.onStart();\n\n      (function tick(ticktime) {\n        // TODO: move abort call after calculation\n        // and pass (current,valuePerc, timePerc) as arguments\n        time = ticktime || +new Date();\n        var currentTime = time > finish ? duration : (time - start),\n            timePerc = currentTime / duration,\n            current = easing(currentTime, startValue, byValue, duration),\n            valuePerc = Math.abs((current - startValue) / byValue);\n        if (abort()) {\n          onComplete(endValue, 1, 1);\n          return;\n        }\n        if (time > finish) {\n          onChange(endValue, 1, 1);\n          onComplete(endValue, 1, 1);\n          return;\n        }\n        else {\n          onChange(current, valuePerc, timePerc);\n          requestAnimFrame(tick);\n        }\n      })(start);\n    });\n  }\n\n  var _requestAnimFrame = fabric.window.requestAnimationFrame       ||\n                          fabric.window.webkitRequestAnimationFrame ||\n                          fabric.window.mozRequestAnimationFrame    ||\n                          fabric.window.oRequestAnimationFrame      ||\n                          fabric.window.msRequestAnimationFrame     ||\n                          function(callback) {\n                            return fabric.window.setTimeout(callback, 1000 / 60);\n                          };\n\n  var _cancelAnimFrame = fabric.window.cancelAnimationFrame || fabric.window.clearTimeout;\n\n  /**\n   * requestAnimationFrame polyfill based on http://paulirish.com/2011/requestanimationframe-for-smart-animating/\n   * In order to get a precise start time, `requestAnimFrame` should be called as an entry into the method\n   * @memberOf fabric.util\n   * @param {Function} callback Callback to invoke\n   * @param {DOMElement} element optional Element to associate with animation\n   */\n  function requestAnimFrame() {\n    return _requestAnimFrame.apply(fabric.window, arguments);\n  }\n\n  function cancelAnimFrame() {\n    return _cancelAnimFrame.apply(fabric.window, arguments);\n  }\n\n  fabric.util.animate = animate;\n  fabric.util.requestAnimFrame = requestAnimFrame;\n  fabric.util.cancelAnimFrame = cancelAnimFrame;\n})();\n\n\n(function() {\n  // Calculate an in-between color. Returns a \"rgba()\" string.\n  // Credit: Edwin Martin <edwin@bitstorm.org>\n  //         http://www.bitstorm.org/jquery/color-animation/jquery.animate-colors.js\n  function calculateColor(begin, end, pos) {\n    var color = 'rgba('\n        + parseInt((begin[0] + pos * (end[0] - begin[0])), 10) + ','\n        + parseInt((begin[1] + pos * (end[1] - begin[1])), 10) + ','\n        + parseInt((begin[2] + pos * (end[2] - begin[2])), 10);\n\n    color += ',' + (begin && end ? parseFloat(begin[3] + pos * (end[3] - begin[3])) : 1);\n    color += ')';\n    return color;\n  }\n\n  /**\n   * Changes the color from one to another within certain period of time, invoking callbacks as value is being changed.\n   * @memberOf fabric.util\n   * @param {String} fromColor The starting color in hex or rgb(a) format.\n   * @param {String} toColor The starting color in hex or rgb(a) format.\n   * @param {Number} [duration] Duration of change (in ms).\n   * @param {Object} [options] Animation options\n   * @param {Function} [options.onChange] Callback; invoked on every value change\n   * @param {Function} [options.onComplete] Callback; invoked when value change is completed\n   * @param {Function} [options.colorEasing] Easing function. Note that this function only take two arguments (currentTime, duration). Thus the regular animation easing functions cannot be used.\n   * @param {Function} [options.abort] Additional function with logic. If returns true, onComplete is called.\n   */\n  function animateColor(fromColor, toColor, duration, options) {\n    var startColor = new fabric.Color(fromColor).getSource(),\n        endColor = new fabric.Color(toColor).getSource(),\n        originalOnComplete = options.onComplete,\n        originalOnChange = options.onChange;\n    options = options || {};\n\n    fabric.util.animate(fabric.util.object.extend(options, {\n      duration: duration || 500,\n      startValue: startColor,\n      endValue: endColor,\n      byValue: endColor,\n      easing: function (currentTime, startValue, byValue, duration) {\n        var posValue = options.colorEasing\n          ? options.colorEasing(currentTime, duration)\n          : 1 - Math.cos(currentTime / duration * (Math.PI / 2));\n        return calculateColor(startValue, byValue, posValue);\n      },\n      // has to take in account for color restoring;\n      onComplete: function(current, valuePerc, timePerc) {\n        if (originalOnComplete) {\n          return originalOnComplete(\n            calculateColor(endColor, endColor, 0),\n            valuePerc,\n            timePerc\n          );\n        }\n      },\n      onChange: function(current, valuePerc, timePerc) {\n        if (originalOnChange) {\n          if (Array.isArray(current)) {\n            return originalOnChange(\n              calculateColor(current, current, 0),\n              valuePerc,\n              timePerc\n            );\n          }\n          originalOnChange(current, valuePerc, timePerc);\n        }\n      }\n    }));\n  }\n\n  fabric.util.animateColor = animateColor;\n\n})();\n\n\n(function() {\n\n  function normalize(a, c, p, s) {\n    if (a < Math.abs(c)) {\n      a = c;\n      s = p / 4;\n    }\n    else {\n      //handle the 0/0 case:\n      if (c === 0 && a === 0) {\n        s = p / (2 * Math.PI) * Math.asin(1);\n      }\n      else {\n        s = p / (2 * Math.PI) * Math.asin(c / a);\n      }\n    }\n    return { a: a, c: c, p: p, s: s };\n  }\n\n  function elastic(opts, t, d) {\n    return opts.a *\n      Math.pow(2, 10 * (t -= 1)) *\n      Math.sin( (t * d - opts.s) * (2 * Math.PI) / opts.p );\n  }\n\n  /**\n   * Cubic easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutCubic(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t + 1) + b;\n  }\n\n  /**\n   * Cubic easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutCubic(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) {\n      return c / 2 * t * t * t + b;\n    }\n    return c / 2 * ((t -= 2) * t * t + 2) + b;\n  }\n\n  /**\n   * Quartic easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInQuart(t, b, c, d) {\n    return c * (t /= d) * t * t * t + b;\n  }\n\n  /**\n   * Quartic easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutQuart(t, b, c, d) {\n    return -c * ((t = t / d - 1) * t * t * t - 1) + b;\n  }\n\n  /**\n   * Quartic easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutQuart(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) {\n      return c / 2 * t * t * t * t + b;\n    }\n    return -c / 2 * ((t -= 2) * t * t * t - 2) + b;\n  }\n\n  /**\n   * Quintic easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInQuint(t, b, c, d) {\n    return c * (t /= d) * t * t * t * t + b;\n  }\n\n  /**\n   * Quintic easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutQuint(t, b, c, d) {\n    return c * ((t = t / d - 1) * t * t * t * t + 1) + b;\n  }\n\n  /**\n   * Quintic easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutQuint(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) {\n      return c / 2 * t * t * t * t * t + b;\n    }\n    return c / 2 * ((t -= 2) * t * t * t * t + 2) + b;\n  }\n\n  /**\n   * Sinusoidal easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInSine(t, b, c, d) {\n    return -c * Math.cos(t / d * (Math.PI / 2)) + c + b;\n  }\n\n  /**\n   * Sinusoidal easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutSine(t, b, c, d) {\n    return c * Math.sin(t / d * (Math.PI / 2)) + b;\n  }\n\n  /**\n   * Sinusoidal easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutSine(t, b, c, d) {\n    return -c / 2 * (Math.cos(Math.PI * t / d) - 1) + b;\n  }\n\n  /**\n   * Exponential easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInExpo(t, b, c, d) {\n    return (t === 0) ? b : c * Math.pow(2, 10 * (t / d - 1)) + b;\n  }\n\n  /**\n   * Exponential easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutExpo(t, b, c, d) {\n    return (t === d) ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n  }\n\n  /**\n   * Exponential easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutExpo(t, b, c, d) {\n    if (t === 0) {\n      return b;\n    }\n    if (t === d) {\n      return b + c;\n    }\n    t /= d / 2;\n    if (t < 1) {\n      return c / 2 * Math.pow(2, 10 * (t - 1)) + b;\n    }\n    return c / 2 * (-Math.pow(2, -10 * --t) + 2) + b;\n  }\n\n  /**\n   * Circular easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInCirc(t, b, c, d) {\n    return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;\n  }\n\n  /**\n   * Circular easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutCirc(t, b, c, d) {\n    return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;\n  }\n\n  /**\n   * Circular easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutCirc(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) {\n      return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;\n    }\n    return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;\n  }\n\n  /**\n   * Elastic easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInElastic(t, b, c, d) {\n    var s = 1.70158, p = 0, a = c;\n    if (t === 0) {\n      return b;\n    }\n    t /= d;\n    if (t === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    var opts = normalize(a, c, p, s);\n    return -elastic(opts, t, d) + b;\n  }\n\n  /**\n   * Elastic easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutElastic(t, b, c, d) {\n    var s = 1.70158, p = 0, a = c;\n    if (t === 0) {\n      return b;\n    }\n    t /= d;\n    if (t === 1) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * 0.3;\n    }\n    var opts = normalize(a, c, p, s);\n    return opts.a * Math.pow(2, -10 * t) * Math.sin((t * d - opts.s) * (2 * Math.PI) / opts.p ) + opts.c + b;\n  }\n\n  /**\n   * Elastic easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutElastic(t, b, c, d) {\n    var s = 1.70158, p = 0, a = c;\n    if (t === 0) {\n      return b;\n    }\n    t /= d / 2;\n    if (t === 2) {\n      return b + c;\n    }\n    if (!p) {\n      p = d * (0.3 * 1.5);\n    }\n    var opts = normalize(a, c, p, s);\n    if (t < 1) {\n      return -0.5 * elastic(opts, t, d) + b;\n    }\n    return opts.a * Math.pow(2, -10 * (t -= 1)) *\n      Math.sin((t * d - opts.s) * (2 * Math.PI) / opts.p ) * 0.5 + opts.c + b;\n  }\n\n  /**\n   * Backwards easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInBack(t, b, c, d, s) {\n    if (s === undefined) {\n      s = 1.70158;\n    }\n    return c * (t /= d) * t * ((s + 1) * t - s) + b;\n  }\n\n  /**\n   * Backwards easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutBack(t, b, c, d, s) {\n    if (s === undefined) {\n      s = 1.70158;\n    }\n    return c * ((t = t / d - 1) * t * ((s + 1) * t + s) + 1) + b;\n  }\n\n  /**\n   * Backwards easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutBack(t, b, c, d, s) {\n    if (s === undefined) {\n      s = 1.70158;\n    }\n    t /= d / 2;\n    if (t < 1) {\n      return c / 2 * (t * t * (((s *= (1.525)) + 1) * t - s)) + b;\n    }\n    return c / 2 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2) + b;\n  }\n\n  /**\n   * Bouncing easing in\n   * @memberOf fabric.util.ease\n   */\n  function easeInBounce(t, b, c, d) {\n    return c - easeOutBounce (d - t, 0, c, d) + b;\n  }\n\n  /**\n   * Bouncing easing out\n   * @memberOf fabric.util.ease\n   */\n  function easeOutBounce(t, b, c, d) {\n    if ((t /= d) < (1 / 2.75)) {\n      return c * (7.5625 * t * t) + b;\n    }\n    else if (t < (2 / 2.75)) {\n      return c * (7.5625 * (t -= (1.5 / 2.75)) * t + 0.75) + b;\n    }\n    else if (t < (2.5 / 2.75)) {\n      return c * (7.5625 * (t -= (2.25 / 2.75)) * t + 0.9375) + b;\n    }\n    else {\n      return c * (7.5625 * (t -= (2.625 / 2.75)) * t + 0.984375) + b;\n    }\n  }\n\n  /**\n   * Bouncing easing in and out\n   * @memberOf fabric.util.ease\n   */\n  function easeInOutBounce(t, b, c, d) {\n    if (t < d / 2) {\n      return easeInBounce (t * 2, 0, c, d) * 0.5 + b;\n    }\n    return easeOutBounce(t * 2 - d, 0, c, d) * 0.5 + c * 0.5 + b;\n  }\n\n  /**\n   * Easing functions\n   * See <a href=\"http://gizma.com/easing/\">Easing Equations by Robert Penner</a>\n   * @namespace fabric.util.ease\n   */\n  fabric.util.ease = {\n\n    /**\n     * Quadratic easing in\n     * @memberOf fabric.util.ease\n     */\n    easeInQuad: function(t, b, c, d) {\n      return c * (t /= d) * t + b;\n    },\n\n    /**\n     * Quadratic easing out\n     * @memberOf fabric.util.ease\n     */\n    easeOutQuad: function(t, b, c, d) {\n      return -c * (t /= d) * (t - 2) + b;\n    },\n\n    /**\n     * Quadratic easing in and out\n     * @memberOf fabric.util.ease\n     */\n    easeInOutQuad: function(t, b, c, d) {\n      t /= (d / 2);\n      if (t < 1) {\n        return c / 2 * t * t + b;\n      }\n      return -c / 2 * ((--t) * (t - 2) - 1) + b;\n    },\n\n    /**\n     * Cubic easing in\n     * @memberOf fabric.util.ease\n     */\n    easeInCubic: function(t, b, c, d) {\n      return c * (t /= d) * t * t + b;\n    },\n\n    easeOutCubic: easeOutCubic,\n    easeInOutCubic: easeInOutCubic,\n    easeInQuart: easeInQuart,\n    easeOutQuart: easeOutQuart,\n    easeInOutQuart: easeInOutQuart,\n    easeInQuint: easeInQuint,\n    easeOutQuint: easeOutQuint,\n    easeInOutQuint: easeInOutQuint,\n    easeInSine: easeInSine,\n    easeOutSine: easeOutSine,\n    easeInOutSine: easeInOutSine,\n    easeInExpo: easeInExpo,\n    easeOutExpo: easeOutExpo,\n    easeInOutExpo: easeInOutExpo,\n    easeInCirc: easeInCirc,\n    easeOutCirc: easeOutCirc,\n    easeInOutCirc: easeInOutCirc,\n    easeInElastic: easeInElastic,\n    easeOutElastic: easeOutElastic,\n    easeInOutElastic: easeInOutElastic,\n    easeInBack: easeInBack,\n    easeOutBack: easeOutBack,\n    easeInOutBack: easeInOutBack,\n    easeInBounce: easeInBounce,\n    easeOutBounce: easeOutBounce,\n    easeInOutBounce: easeInOutBounce\n  };\n\n})();\n\n\n(function(global) {\n\n  'use strict';\n\n  /**\n   * @name fabric\n   * @namespace\n   */\n\n  var fabric = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend,\n      clone = fabric.util.object.clone,\n      toFixed = fabric.util.toFixed,\n      parseUnit = fabric.util.parseUnit,\n      multiplyTransformMatrices = fabric.util.multiplyTransformMatrices,\n\n      svgValidTagNames = ['path', 'circle', 'polygon', 'polyline', 'ellipse', 'rect', 'line',\n        'image', 'text'],\n      svgViewBoxElements = ['symbol', 'image', 'marker', 'pattern', 'view', 'svg'],\n      svgInvalidAncestors = ['pattern', 'defs', 'symbol', 'metadata', 'clipPath', 'mask', 'desc'],\n      svgValidParents = ['symbol', 'g', 'a', 'svg', 'clipPath', 'defs'],\n\n      attributesMap = {\n        cx:                   'left',\n        x:                    'left',\n        r:                    'radius',\n        cy:                   'top',\n        y:                    'top',\n        display:              'visible',\n        visibility:           'visible',\n        transform:            'transformMatrix',\n        'fill-opacity':       'fillOpacity',\n        'fill-rule':          'fillRule',\n        'font-family':        'fontFamily',\n        'font-size':          'fontSize',\n        'font-style':         'fontStyle',\n        'font-weight':        'fontWeight',\n        'letter-spacing':     'charSpacing',\n        'paint-order':        'paintFirst',\n        'stroke-dasharray':   'strokeDashArray',\n        'stroke-dashoffset':  'strokeDashOffset',\n        'stroke-linecap':     'strokeLineCap',\n        'stroke-linejoin':    'strokeLineJoin',\n        'stroke-miterlimit':  'strokeMiterLimit',\n        'stroke-opacity':     'strokeOpacity',\n        'stroke-width':       'strokeWidth',\n        'text-decoration':    'textDecoration',\n        'text-anchor':        'textAnchor',\n        opacity:              'opacity',\n        'clip-path':          'clipPath',\n        'clip-rule':          'clipRule',\n        'vector-effect':      'strokeUniform',\n        'image-rendering':    'imageSmoothing',\n      },\n\n      colorAttributes = {\n        stroke: 'strokeOpacity',\n        fill:   'fillOpacity'\n      },\n\n      fSize = 'font-size', cPath = 'clip-path';\n\n  fabric.svgValidTagNamesRegEx = getSvgRegex(svgValidTagNames);\n  fabric.svgViewBoxElementsRegEx = getSvgRegex(svgViewBoxElements);\n  fabric.svgInvalidAncestorsRegEx = getSvgRegex(svgInvalidAncestors);\n  fabric.svgValidParentsRegEx = getSvgRegex(svgValidParents);\n\n  fabric.cssRules = { };\n  fabric.gradientDefs = { };\n  fabric.clipPaths = { };\n\n  function normalizeAttr(attr) {\n    // transform attribute names\n    if (attr in attributesMap) {\n      return attributesMap[attr];\n    }\n    return attr;\n  }\n\n  function normalizeValue(attr, value, parentAttributes, fontSize) {\n    var isArray = Object.prototype.toString.call(value) === '[object Array]',\n        parsed;\n\n    if ((attr === 'fill' || attr === 'stroke') && value === 'none') {\n      value = '';\n    }\n    else if (attr === 'strokeUniform') {\n      return (value === 'non-scaling-stroke');\n    }\n    else if (attr === 'strokeDashArray') {\n      if (value === 'none') {\n        value = null;\n      }\n      else {\n        value = value.replace(/,/g, ' ').split(/\\s+/).map(parseFloat);\n      }\n    }\n    else if (attr === 'transformMatrix') {\n      if (parentAttributes && parentAttributes.transformMatrix) {\n        value = multiplyTransformMatrices(\n          parentAttributes.transformMatrix, fabric.parseTransformAttribute(value));\n      }\n      else {\n        value = fabric.parseTransformAttribute(value);\n      }\n    }\n    else if (attr === 'visible') {\n      value = value !== 'none' && value !== 'hidden';\n      // display=none on parent element always takes precedence over child element\n      if (parentAttributes && parentAttributes.visible === false) {\n        value = false;\n      }\n    }\n    else if (attr === 'opacity') {\n      value = parseFloat(value);\n      if (parentAttributes && typeof parentAttributes.opacity !== 'undefined') {\n        value *= parentAttributes.opacity;\n      }\n    }\n    else if (attr === 'textAnchor' /* text-anchor */) {\n      value = value === 'start' ? 'left' : value === 'end' ? 'right' : 'center';\n    }\n    else if (attr === 'charSpacing') {\n      // parseUnit returns px and we convert it to em\n      parsed = parseUnit(value, fontSize) / fontSize * 1000;\n    }\n    else if (attr === 'paintFirst') {\n      var fillIndex = value.indexOf('fill');\n      var strokeIndex = value.indexOf('stroke');\n      var value = 'fill';\n      if (fillIndex > -1 && strokeIndex > -1 && strokeIndex < fillIndex) {\n        value = 'stroke';\n      }\n      else if (fillIndex === -1 && strokeIndex > -1) {\n        value = 'stroke';\n      }\n    }\n    else if (attr === 'href' || attr === 'xlink:href' || attr === 'font') {\n      return value;\n    }\n    else if (attr === 'imageSmoothing') {\n      return (value === 'optimizeQuality');\n    }\n    else {\n      parsed = isArray ? value.map(parseUnit) : parseUnit(value, fontSize);\n    }\n\n    return (!isArray && isNaN(parsed) ? value : parsed);\n  }\n\n  /**\n    * @private\n    */\n  function getSvgRegex(arr) {\n    return new RegExp('^(' + arr.join('|') + ')\\\\b', 'i');\n  }\n\n  /**\n   * @private\n   * @param {Object} attributes Array of attributes to parse\n   */\n  function _setStrokeFillOpacity(attributes) {\n    for (var attr in colorAttributes) {\n\n      if (typeof attributes[colorAttributes[attr]] === 'undefined' || attributes[attr] === '') {\n        continue;\n      }\n\n      if (typeof attributes[attr] === 'undefined') {\n        if (!fabric.Object.prototype[attr]) {\n          continue;\n        }\n        attributes[attr] = fabric.Object.prototype[attr];\n      }\n\n      if (attributes[attr].indexOf('url(') === 0) {\n        continue;\n      }\n\n      var color = new fabric.Color(attributes[attr]);\n      attributes[attr] = color.setAlpha(toFixed(color.getAlpha() * attributes[colorAttributes[attr]], 2)).toRgba();\n    }\n    return attributes;\n  }\n\n  /**\n   * @private\n   */\n  function _getMultipleNodes(doc, nodeNames) {\n    var nodeName, nodeArray = [], nodeList, i, len;\n    for (i = 0, len = nodeNames.length; i < len; i++) {\n      nodeName = nodeNames[i];\n      nodeList = doc.getElementsByTagName(nodeName);\n      nodeArray = nodeArray.concat(Array.prototype.slice.call(nodeList));\n    }\n    return nodeArray;\n  }\n\n  /**\n   * Parses \"transform\" attribute, returning an array of values\n   * @static\n   * @function\n   * @memberOf fabric\n   * @param {String} attributeValue String containing attribute value\n   * @return {Array} Array of 6 elements representing transformation matrix\n   */\n  fabric.parseTransformAttribute = (function() {\n    function rotateMatrix(matrix, args) {\n      var cos = fabric.util.cos(args[0]), sin = fabric.util.sin(args[0]),\n          x = 0, y = 0;\n      if (args.length === 3) {\n        x = args[1];\n        y = args[2];\n      }\n\n      matrix[0] = cos;\n      matrix[1] = sin;\n      matrix[2] = -sin;\n      matrix[3] = cos;\n      matrix[4] = x - (cos * x - sin * y);\n      matrix[5] = y - (sin * x + cos * y);\n    }\n\n    function scaleMatrix(matrix, args) {\n      var multiplierX = args[0],\n          multiplierY = (args.length === 2) ? args[1] : args[0];\n\n      matrix[0] = multiplierX;\n      matrix[3] = multiplierY;\n    }\n\n    function skewMatrix(matrix, args, pos) {\n      matrix[pos] = Math.tan(fabric.util.degreesToRadians(args[0]));\n    }\n\n    function translateMatrix(matrix, args) {\n      matrix[4] = args[0];\n      if (args.length === 2) {\n        matrix[5] = args[1];\n      }\n    }\n\n    // identity matrix\n    var iMatrix = fabric.iMatrix,\n\n        // == begin transform regexp\n        number = fabric.reNum,\n\n        commaWsp = fabric.commaWsp,\n\n        skewX = '(?:(skewX)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*\\\\))',\n\n        skewY = '(?:(skewY)\\\\s*\\\\(\\\\s*(' + number + ')\\\\s*\\\\))',\n\n        rotate = '(?:(rotate)\\\\s*\\\\(\\\\s*(' + number + ')(?:' +\n                    commaWsp + '(' + number + ')' +\n                    commaWsp + '(' + number + '))?\\\\s*\\\\))',\n\n        scale = '(?:(scale)\\\\s*\\\\(\\\\s*(' + number + ')(?:' +\n                    commaWsp + '(' + number + '))?\\\\s*\\\\))',\n\n        translate = '(?:(translate)\\\\s*\\\\(\\\\s*(' + number + ')(?:' +\n                    commaWsp + '(' + number + '))?\\\\s*\\\\))',\n\n        matrix = '(?:(matrix)\\\\s*\\\\(\\\\s*' +\n                  '(' + number + ')' + commaWsp +\n                  '(' + number + ')' + commaWsp +\n                  '(' + number + ')' + commaWsp +\n                  '(' + number + ')' + commaWsp +\n                  '(' + number + ')' + commaWsp +\n                  '(' + number + ')' +\n                  '\\\\s*\\\\))',\n\n        transform = '(?:' +\n                    matrix + '|' +\n                    translate + '|' +\n                    scale + '|' +\n                    rotate + '|' +\n                    skewX + '|' +\n                    skewY +\n                    ')',\n\n        transforms = '(?:' + transform + '(?:' + commaWsp + '*' + transform + ')*' + ')',\n\n        transformList = '^\\\\s*(?:' + transforms + '?)\\\\s*$',\n\n        // http://www.w3.org/TR/SVG/coords.html#TransformAttribute\n        reTransformList = new RegExp(transformList),\n        // == end transform regexp\n\n        reTransform = new RegExp(transform, 'g');\n\n    return function(attributeValue) {\n\n      // start with identity matrix\n      var matrix = iMatrix.concat(),\n          matrices = [];\n\n      // return if no argument was given or\n      // an argument does not match transform attribute regexp\n      if (!attributeValue || (attributeValue && !reTransformList.test(attributeValue))) {\n        return matrix;\n      }\n\n      attributeValue.replace(reTransform, function(match) {\n\n        var m = new RegExp(transform).exec(match).filter(function (match) {\n              // match !== '' && match != null\n              return (!!match);\n            }),\n            operation = m[1],\n            args = m.slice(2).map(parseFloat);\n\n        switch (operation) {\n          case 'translate':\n            translateMatrix(matrix, args);\n            break;\n          case 'rotate':\n            args[0] = fabric.util.degreesToRadians(args[0]);\n            rotateMatrix(matrix, args);\n            break;\n          case 'scale':\n            scaleMatrix(matrix, args);\n            break;\n          case 'skewX':\n            skewMatrix(matrix, args, 2);\n            break;\n          case 'skewY':\n            skewMatrix(matrix, args, 1);\n            break;\n          case 'matrix':\n            matrix = args;\n            break;\n        }\n\n        // snapshot current matrix into matrices array\n        matrices.push(matrix.concat());\n        // reset\n        matrix = iMatrix.concat();\n      });\n\n      var combinedMatrix = matrices[0];\n      while (matrices.length > 1) {\n        matrices.shift();\n        combinedMatrix = fabric.util.multiplyTransformMatrices(combinedMatrix, matrices[0]);\n      }\n      return combinedMatrix;\n    };\n  })();\n\n  /**\n   * @private\n   */\n  function parseStyleString(style, oStyle) {\n    var attr, value;\n    style.replace(/;\\s*$/, '').split(';').forEach(function (chunk) {\n      var pair = chunk.split(':');\n\n      attr = pair[0].trim().toLowerCase();\n      value =  pair[1].trim();\n\n      oStyle[attr] = value;\n    });\n  }\n\n  /**\n   * @private\n   */\n  function parseStyleObject(style, oStyle) {\n    var attr, value;\n    for (var prop in style) {\n      if (typeof style[prop] === 'undefined') {\n        continue;\n      }\n\n      attr = prop.toLowerCase();\n      value = style[prop];\n\n      oStyle[attr] = value;\n    }\n  }\n\n  /**\n   * @private\n   */\n  function getGlobalStylesForElement(element, svgUid) {\n    var styles = { };\n    for (var rule in fabric.cssRules[svgUid]) {\n      if (elementMatchesRule(element, rule.split(' '))) {\n        for (var property in fabric.cssRules[svgUid][rule]) {\n          styles[property] = fabric.cssRules[svgUid][rule][property];\n        }\n      }\n    }\n    return styles;\n  }\n\n  /**\n   * @private\n   */\n  function elementMatchesRule(element, selectors) {\n    var firstMatching, parentMatching = true;\n    //start from rightmost selector.\n    firstMatching = selectorMatches(element, selectors.pop());\n    if (firstMatching && selectors.length) {\n      parentMatching = doesSomeParentMatch(element, selectors);\n    }\n    return firstMatching && parentMatching && (selectors.length === 0);\n  }\n\n  function doesSomeParentMatch(element, selectors) {\n    var selector, parentMatching = true;\n    while (element.parentNode && element.parentNode.nodeType === 1 && selectors.length) {\n      if (parentMatching) {\n        selector = selectors.pop();\n      }\n      element = element.parentNode;\n      parentMatching = selectorMatches(element, selector);\n    }\n    return selectors.length === 0;\n  }\n\n  /**\n   * @private\n   */\n  function selectorMatches(element, selector) {\n    var nodeName = element.nodeName,\n        classNames = element.getAttribute('class'),\n        id = element.getAttribute('id'), matcher, i;\n    // i check if a selector matches slicing away part from it.\n    // if i get empty string i should match\n    matcher = new RegExp('^' + nodeName, 'i');\n    selector = selector.replace(matcher, '');\n    if (id && selector.length) {\n      matcher = new RegExp('#' + id + '(?![a-zA-Z\\\\-]+)', 'i');\n      selector = selector.replace(matcher, '');\n    }\n    if (classNames && selector.length) {\n      classNames = classNames.split(' ');\n      for (i = classNames.length; i--;) {\n        matcher = new RegExp('\\\\.' + classNames[i] + '(?![a-zA-Z\\\\-]+)', 'i');\n        selector = selector.replace(matcher, '');\n      }\n    }\n    return selector.length === 0;\n  }\n\n  /**\n   * @private\n   * to support IE8 missing getElementById on SVGdocument and on node xmlDOM\n   */\n  function elementById(doc, id) {\n    var el;\n    doc.getElementById && (el = doc.getElementById(id));\n    if (el) {\n      return el;\n    }\n    var node, i, len, nodelist = doc.getElementsByTagName('*');\n    for (i = 0, len = nodelist.length; i < len; i++) {\n      node = nodelist[i];\n      if (id === node.getAttribute('id')) {\n        return node;\n      }\n    }\n  }\n\n  /**\n   * @private\n   */\n  function parseUseDirectives(doc) {\n    var nodelist = _getMultipleNodes(doc, ['use', 'svg:use']), i = 0;\n    while (nodelist.length && i < nodelist.length) {\n      var el = nodelist[i],\n          xlink = (el.getAttribute('xlink:href') || el.getAttribute('href')).substr(1),\n          x = el.getAttribute('x') || 0,\n          y = el.getAttribute('y') || 0,\n          el2 = elementById(doc, xlink).cloneNode(true),\n          currentTrans = (el2.getAttribute('transform') || '') + ' translate(' + x + ', ' + y + ')',\n          parentNode, oldLength = nodelist.length, attr, j, attrs, len, namespace = fabric.svgNS;\n\n      applyViewboxTransform(el2);\n      if (/^svg$/i.test(el2.nodeName)) {\n        var el3 = el2.ownerDocument.createElementNS(namespace, 'g');\n        for (j = 0, attrs = el2.attributes, len = attrs.length; j < len; j++) {\n          attr = attrs.item(j);\n          el3.setAttributeNS(namespace, attr.nodeName, attr.nodeValue);\n        }\n        // el2.firstChild != null\n        while (el2.firstChild) {\n          el3.appendChild(el2.firstChild);\n        }\n        el2 = el3;\n      }\n\n      for (j = 0, attrs = el.attributes, len = attrs.length; j < len; j++) {\n        attr = attrs.item(j);\n        if (attr.nodeName === 'x' || attr.nodeName === 'y' ||\n          attr.nodeName === 'xlink:href' || attr.nodeName === 'href') {\n          continue;\n        }\n\n        if (attr.nodeName === 'transform') {\n          currentTrans = attr.nodeValue + ' ' + currentTrans;\n        }\n        else {\n          el2.setAttribute(attr.nodeName, attr.nodeValue);\n        }\n      }\n\n      el2.setAttribute('transform', currentTrans);\n      el2.setAttribute('instantiated_by_use', '1');\n      el2.removeAttribute('id');\n      parentNode = el.parentNode;\n      parentNode.replaceChild(el2, el);\n      // some browsers do not shorten nodelist after replaceChild (IE8)\n      if (nodelist.length === oldLength) {\n        i++;\n      }\n    }\n  }\n\n  // http://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  // matches, e.g.: +14.56e-12, etc.\n  var reViewBoxAttrValue = new RegExp(\n    '^' +\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*,?' +\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*,?' +\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*,?' +\n    '\\\\s*(' + fabric.reNum + '+)\\\\s*' +\n    '$'\n  );\n\n  /**\n   * Add a <g> element that envelop all child elements and makes the viewbox transformMatrix descend on all elements\n   */\n  function applyViewboxTransform(element) {\n    if (!fabric.svgViewBoxElementsRegEx.test(element.nodeName)) {\n      return;\n    }\n    var viewBoxAttr = element.getAttribute('viewBox'),\n        scaleX = 1,\n        scaleY = 1,\n        minX = 0,\n        minY = 0,\n        viewBoxWidth, viewBoxHeight, matrix, el,\n        widthAttr = element.getAttribute('width'),\n        heightAttr = element.getAttribute('height'),\n        x = element.getAttribute('x') || 0,\n        y = element.getAttribute('y') || 0,\n        preserveAspectRatio = element.getAttribute('preserveAspectRatio') || '',\n        missingViewBox = (!viewBoxAttr || !(viewBoxAttr = viewBoxAttr.match(reViewBoxAttrValue))),\n        missingDimAttr = (!widthAttr || !heightAttr || widthAttr === '100%' || heightAttr === '100%'),\n        toBeParsed = missingViewBox && missingDimAttr,\n        parsedDim = { }, translateMatrix = '', widthDiff = 0, heightDiff = 0;\n\n    parsedDim.width = 0;\n    parsedDim.height = 0;\n    parsedDim.toBeParsed = toBeParsed;\n\n    if (missingViewBox) {\n      if (((x || y) && element.parentNode.nodeName !== '#document')) {\n        translateMatrix = ' translate(' + parseUnit(x) + ' ' + parseUnit(y) + ') ';\n        matrix = (element.getAttribute('transform') || '') + translateMatrix;\n        element.setAttribute('transform', matrix);\n        element.removeAttribute('x');\n        element.removeAttribute('y');\n      }\n    }\n\n    if (toBeParsed) {\n      return parsedDim;\n    }\n\n    if (missingViewBox) {\n      parsedDim.width = parseUnit(widthAttr);\n      parsedDim.height = parseUnit(heightAttr);\n      // set a transform for elements that have x y and are inner(only) SVGs\n      return parsedDim;\n    }\n    minX = -parseFloat(viewBoxAttr[1]);\n    minY = -parseFloat(viewBoxAttr[2]);\n    viewBoxWidth = parseFloat(viewBoxAttr[3]);\n    viewBoxHeight = parseFloat(viewBoxAttr[4]);\n    parsedDim.minX = minX;\n    parsedDim.minY = minY;\n    parsedDim.viewBoxWidth = viewBoxWidth;\n    parsedDim.viewBoxHeight = viewBoxHeight;\n    if (!missingDimAttr) {\n      parsedDim.width = parseUnit(widthAttr);\n      parsedDim.height = parseUnit(heightAttr);\n      scaleX = parsedDim.width / viewBoxWidth;\n      scaleY = parsedDim.height / viewBoxHeight;\n    }\n    else {\n      parsedDim.width = viewBoxWidth;\n      parsedDim.height = viewBoxHeight;\n    }\n\n    // default is to preserve aspect ratio\n    preserveAspectRatio = fabric.util.parsePreserveAspectRatioAttribute(preserveAspectRatio);\n    if (preserveAspectRatio.alignX !== 'none') {\n      //translate all container for the effect of Mid, Min, Max\n      if (preserveAspectRatio.meetOrSlice === 'meet') {\n        scaleY = scaleX = (scaleX > scaleY ? scaleY : scaleX);\n        // calculate additional translation to move the viewbox\n      }\n      if (preserveAspectRatio.meetOrSlice === 'slice') {\n        scaleY = scaleX = (scaleX > scaleY ? scaleX : scaleY);\n        // calculate additional translation to move the viewbox\n      }\n      widthDiff = parsedDim.width - viewBoxWidth * scaleX;\n      heightDiff = parsedDim.height - viewBoxHeight * scaleX;\n      if (preserveAspectRatio.alignX === 'Mid') {\n        widthDiff /= 2;\n      }\n      if (preserveAspectRatio.alignY === 'Mid') {\n        heightDiff /= 2;\n      }\n      if (preserveAspectRatio.alignX === 'Min') {\n        widthDiff = 0;\n      }\n      if (preserveAspectRatio.alignY === 'Min') {\n        heightDiff = 0;\n      }\n    }\n\n    if (scaleX === 1 && scaleY === 1 && minX === 0 && minY === 0 && x === 0 && y === 0) {\n      return parsedDim;\n    }\n    if ((x || y) && element.parentNode.nodeName !== '#document') {\n      translateMatrix = ' translate(' + parseUnit(x) + ' ' + parseUnit(y) + ') ';\n    }\n\n    matrix = translateMatrix + ' matrix(' + scaleX +\n                  ' 0' +\n                  ' 0 ' +\n                  scaleY + ' ' +\n                  (minX * scaleX + widthDiff) + ' ' +\n                  (minY * scaleY + heightDiff) + ') ';\n    // seems unused.\n    // parsedDim.viewboxTransform = fabric.parseTransformAttribute(matrix);\n    if (element.nodeName === 'svg') {\n      el = element.ownerDocument.createElementNS(fabric.svgNS, 'g');\n      // element.firstChild != null\n      while (element.firstChild) {\n        el.appendChild(element.firstChild);\n      }\n      element.appendChild(el);\n    }\n    else {\n      el = element;\n      el.removeAttribute('x');\n      el.removeAttribute('y');\n      matrix = el.getAttribute('transform') + matrix;\n    }\n    el.setAttribute('transform', matrix);\n    return parsedDim;\n  }\n\n  function hasAncestorWithNodeName(element, nodeName) {\n    while (element && (element = element.parentNode)) {\n      if (element.nodeName && nodeName.test(element.nodeName.replace('svg:', ''))\n        && !element.getAttribute('instantiated_by_use')) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Parses an SVG document, converts it to an array of corresponding fabric.* instances and passes them to a callback\n   * @static\n   * @function\n   * @memberOf fabric\n   * @param {SVGDocument} doc SVG document to parse\n   * @param {Function} callback Callback to call when parsing is finished;\n   * It's being passed an array of elements (parsed from a document).\n   * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\n   * @param {Object} [parsingOptions] options for parsing document\n   * @param {String} [parsingOptions.crossOrigin] crossOrigin settings\n   */\n  fabric.parseSVGDocument = function(doc, callback, reviver, parsingOptions) {\n    if (!doc) {\n      return;\n    }\n\n    parseUseDirectives(doc);\n\n    var svgUid =  fabric.Object.__uid++, i, len,\n        options = applyViewboxTransform(doc),\n        descendants = fabric.util.toArray(doc.getElementsByTagName('*'));\n    options.crossOrigin = parsingOptions && parsingOptions.crossOrigin;\n    options.svgUid = svgUid;\n\n    if (descendants.length === 0 && fabric.isLikelyNode) {\n      // we're likely in node, where \"o3-xml\" library fails to gEBTN(\"*\")\n      // https://github.com/ajaxorg/node-o3-xml/issues/21\n      descendants = doc.selectNodes('//*[name(.)!=\"svg\"]');\n      var arr = [];\n      for (i = 0, len = descendants.length; i < len; i++) {\n        arr[i] = descendants[i];\n      }\n      descendants = arr;\n    }\n\n    var elements = descendants.filter(function(el) {\n      applyViewboxTransform(el);\n      return fabric.svgValidTagNamesRegEx.test(el.nodeName.replace('svg:', '')) &&\n            !hasAncestorWithNodeName(el, fabric.svgInvalidAncestorsRegEx); // http://www.w3.org/TR/SVG/struct.html#DefsElement\n    });\n    if (!elements || (elements && !elements.length)) {\n      callback && callback([], {});\n      return;\n    }\n    var clipPaths = { };\n    descendants.filter(function(el) {\n      return el.nodeName.replace('svg:', '') === 'clipPath';\n    }).forEach(function(el) {\n      var id = el.getAttribute('id');\n      clipPaths[id] = fabric.util.toArray(el.getElementsByTagName('*')).filter(function(el) {\n        return fabric.svgValidTagNamesRegEx.test(el.nodeName.replace('svg:', ''));\n      });\n    });\n    fabric.gradientDefs[svgUid] = fabric.getGradientDefs(doc);\n    fabric.cssRules[svgUid] = fabric.getCSSRules(doc);\n    fabric.clipPaths[svgUid] = clipPaths;\n    // Precedence of rules:   style > class > attribute\n    fabric.parseElements(elements, function(instances, elements) {\n      if (callback) {\n        callback(instances, options, elements, descendants);\n        delete fabric.gradientDefs[svgUid];\n        delete fabric.cssRules[svgUid];\n        delete fabric.clipPaths[svgUid];\n      }\n    }, clone(options), reviver, parsingOptions);\n  };\n\n  function recursivelyParseGradientsXlink(doc, gradient) {\n    var gradientsAttrs = ['gradientTransform', 'x1', 'x2', 'y1', 'y2', 'gradientUnits', 'cx', 'cy', 'r', 'fx', 'fy'],\n        xlinkAttr = 'xlink:href',\n        xLink = gradient.getAttribute(xlinkAttr).substr(1),\n        referencedGradient = elementById(doc, xLink);\n    if (referencedGradient && referencedGradient.getAttribute(xlinkAttr)) {\n      recursivelyParseGradientsXlink(doc, referencedGradient);\n    }\n    gradientsAttrs.forEach(function(attr) {\n      if (referencedGradient && !gradient.hasAttribute(attr) && referencedGradient.hasAttribute(attr)) {\n        gradient.setAttribute(attr, referencedGradient.getAttribute(attr));\n      }\n    });\n    if (!gradient.children.length) {\n      var referenceClone = referencedGradient.cloneNode(true);\n      while (referenceClone.firstChild) {\n        gradient.appendChild(referenceClone.firstChild);\n      }\n    }\n    gradient.removeAttribute(xlinkAttr);\n  }\n\n  var reFontDeclaration = new RegExp(\n    '(normal|italic)?\\\\s*(normal|small-caps)?\\\\s*' +\n    '(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\\\s*(' +\n      fabric.reNum +\n    '(?:px|cm|mm|em|pt|pc|in)*)(?:\\\\/(normal|' + fabric.reNum + '))?\\\\s+(.*)');\n\n  extend(fabric, {\n    /**\n     * Parses a short font declaration, building adding its properties to a style object\n     * @static\n     * @function\n     * @memberOf fabric\n     * @param {String} value font declaration\n     * @param {Object} oStyle definition\n     */\n    parseFontDeclaration: function(value, oStyle) {\n      var match = value.match(reFontDeclaration);\n\n      if (!match) {\n        return;\n      }\n      var fontStyle = match[1],\n          // font variant is not used\n          // fontVariant = match[2],\n          fontWeight = match[3],\n          fontSize = match[4],\n          lineHeight = match[5],\n          fontFamily = match[6];\n\n      if (fontStyle) {\n        oStyle.fontStyle = fontStyle;\n      }\n      if (fontWeight) {\n        oStyle.fontWeight = isNaN(parseFloat(fontWeight)) ? fontWeight : parseFloat(fontWeight);\n      }\n      if (fontSize) {\n        oStyle.fontSize = parseUnit(fontSize);\n      }\n      if (fontFamily) {\n        oStyle.fontFamily = fontFamily;\n      }\n      if (lineHeight) {\n        oStyle.lineHeight = lineHeight === 'normal' ? 1 : lineHeight;\n      }\n    },\n\n    /**\n     * Parses an SVG document, returning all of the gradient declarations found in it\n     * @static\n     * @function\n     * @memberOf fabric\n     * @param {SVGDocument} doc SVG document to parse\n     * @return {Object} Gradient definitions; key corresponds to element id, value -- to gradient definition element\n     */\n    getGradientDefs: function(doc) {\n      var tagArray = [\n            'linearGradient',\n            'radialGradient',\n            'svg:linearGradient',\n            'svg:radialGradient'],\n          elList = _getMultipleNodes(doc, tagArray),\n          el, j = 0, gradientDefs = { };\n      j = elList.length;\n      while (j--) {\n        el = elList[j];\n        if (el.getAttribute('xlink:href')) {\n          recursivelyParseGradientsXlink(doc, el);\n        }\n        gradientDefs[el.getAttribute('id')] = el;\n      }\n      return gradientDefs;\n    },\n\n    /**\n     * Returns an object of attributes' name/value, given element and an array of attribute names;\n     * Parses parent \"g\" nodes recursively upwards.\n     * @static\n     * @memberOf fabric\n     * @param {DOMElement} element Element to parse\n     * @param {Array} attributes Array of attributes to parse\n     * @return {Object} object containing parsed attributes' names/values\n     */\n    parseAttributes: function(element, attributes, svgUid) {\n\n      if (!element) {\n        return;\n      }\n\n      var value,\n          parentAttributes = { },\n          fontSize, parentFontSize;\n\n      if (typeof svgUid === 'undefined') {\n        svgUid = element.getAttribute('svgUid');\n      }\n      // if there's a parent container (`g` or `a` or `symbol` node), parse its attributes recursively upwards\n      if (element.parentNode && fabric.svgValidParentsRegEx.test(element.parentNode.nodeName)) {\n        parentAttributes = fabric.parseAttributes(element.parentNode, attributes, svgUid);\n      }\n\n      var ownAttributes = attributes.reduce(function(memo, attr) {\n        value = element.getAttribute(attr);\n        if (value) { // eslint-disable-line\n          memo[attr] = value;\n        }\n        return memo;\n      }, { });\n      // add values parsed from style, which take precedence over attributes\n      // (see: http://www.w3.org/TR/SVG/styling.html#UsingPresentationAttributes)\n      var cssAttrs = extend(\n        getGlobalStylesForElement(element, svgUid),\n        fabric.parseStyleAttribute(element)\n      );\n      ownAttributes = extend(\n        ownAttributes,\n        cssAttrs\n      );\n      if (cssAttrs[cPath]) {\n        element.setAttribute(cPath, cssAttrs[cPath]);\n      }\n      fontSize = parentFontSize = parentAttributes.fontSize || fabric.Text.DEFAULT_SVG_FONT_SIZE;\n      if (ownAttributes[fSize]) {\n        // looks like the minimum should be 9px when dealing with ems. this is what looks like in browsers.\n        ownAttributes[fSize] = fontSize = parseUnit(ownAttributes[fSize], parentFontSize);\n      }\n\n      var normalizedAttr, normalizedValue, normalizedStyle = {};\n      for (var attr in ownAttributes) {\n        normalizedAttr = normalizeAttr(attr);\n        normalizedValue = normalizeValue(normalizedAttr, ownAttributes[attr], parentAttributes, fontSize);\n        normalizedStyle[normalizedAttr] = normalizedValue;\n      }\n      if (normalizedStyle && normalizedStyle.font) {\n        fabric.parseFontDeclaration(normalizedStyle.font, normalizedStyle);\n      }\n      var mergedAttrs = extend(parentAttributes, normalizedStyle);\n      return fabric.svgValidParentsRegEx.test(element.nodeName) ? mergedAttrs : _setStrokeFillOpacity(mergedAttrs);\n    },\n\n    /**\n     * Transforms an array of svg elements to corresponding fabric.* instances\n     * @static\n     * @memberOf fabric\n     * @param {Array} elements Array of elements to parse\n     * @param {Function} callback Being passed an array of fabric instances (transformed from SVG elements)\n     * @param {Object} [options] Options object\n     * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\n     */\n    parseElements: function(elements, callback, options, reviver, parsingOptions) {\n      new fabric.ElementsParser(elements, callback, options, reviver, parsingOptions).parse();\n    },\n\n    /**\n     * Parses \"style\" attribute, retuning an object with values\n     * @static\n     * @memberOf fabric\n     * @param {SVGElement} element Element to parse\n     * @return {Object} Objects with values parsed from style attribute of an element\n     */\n    parseStyleAttribute: function(element) {\n      var oStyle = { },\n          style = element.getAttribute('style');\n\n      if (!style) {\n        return oStyle;\n      }\n\n      if (typeof style === 'string') {\n        parseStyleString(style, oStyle);\n      }\n      else {\n        parseStyleObject(style, oStyle);\n      }\n\n      return oStyle;\n    },\n\n    /**\n     * Parses \"points\" attribute, returning an array of values\n     * @static\n     * @memberOf fabric\n     * @param {String} points points attribute string\n     * @return {Array} array of points\n     */\n    parsePointsAttribute: function(points) {\n\n      // points attribute is required and must not be empty\n      if (!points) {\n        return null;\n      }\n\n      // replace commas with whitespace and remove bookending whitespace\n      points = points.replace(/,/g, ' ').trim();\n\n      points = points.split(/\\s+/);\n      var parsedPoints = [], i, len;\n\n      for (i = 0, len = points.length; i < len; i += 2) {\n        parsedPoints.push({\n          x: parseFloat(points[i]),\n          y: parseFloat(points[i + 1])\n        });\n      }\n\n      // odd number of points is an error\n      // if (parsedPoints.length % 2 !== 0) {\n      //   return null;\n      // }\n\n      return parsedPoints;\n    },\n\n    /**\n     * Returns CSS rules for a given SVG document\n     * @static\n     * @function\n     * @memberOf fabric\n     * @param {SVGDocument} doc SVG document to parse\n     * @return {Object} CSS rules of this document\n     */\n    getCSSRules: function(doc) {\n      var styles = doc.getElementsByTagName('style'), i, len,\n          allRules = { }, rules;\n\n      // very crude parsing of style contents\n      for (i = 0, len = styles.length; i < len; i++) {\n        var styleContents = styles[i].textContent;\n\n        // remove comments\n        styleContents = styleContents.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '');\n        if (styleContents.trim() === '') {\n          continue;\n        }\n        rules = styleContents.match(/[^{]*\\{[\\s\\S]*?\\}/g);\n        rules = rules.map(function(rule) { return rule.trim(); });\n        // eslint-disable-next-line no-loop-func\n        rules.forEach(function(rule) {\n\n          var match = rule.match(/([\\s\\S]*?)\\s*\\{([^}]*)\\}/),\n              ruleObj = { }, declaration = match[2].trim(),\n              propertyValuePairs = declaration.replace(/;$/, '').split(/\\s*;\\s*/);\n\n          for (i = 0, len = propertyValuePairs.length; i < len; i++) {\n            var pair = propertyValuePairs[i].split(/\\s*:\\s*/),\n                property = pair[0],\n                value = pair[1];\n            ruleObj[property] = value;\n          }\n          rule = match[1];\n          rule.split(',').forEach(function(_rule) {\n            _rule = _rule.replace(/^svg/i, '').trim();\n            if (_rule === '') {\n              return;\n            }\n            if (allRules[_rule]) {\n              fabric.util.object.extend(allRules[_rule], ruleObj);\n            }\n            else {\n              allRules[_rule] = fabric.util.object.clone(ruleObj);\n            }\n          });\n        });\n      }\n      return allRules;\n    },\n\n    /**\n     * Takes url corresponding to an SVG document, and parses it into a set of fabric objects.\n     * Note that SVG is fetched via XMLHttpRequest, so it needs to conform to SOP (Same Origin Policy)\n     * @memberOf fabric\n     * @param {String} url\n     * @param {Function} callback\n     * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\n     * @param {Object} [options] Object containing options for parsing\n     * @param {String} [options.crossOrigin] crossOrigin crossOrigin setting to use for external resources\n     */\n    loadSVGFromURL: function(url, callback, reviver, options) {\n\n      url = url.replace(/^\\n\\s*/, '').trim();\n      new fabric.util.request(url, {\n        method: 'get',\n        onComplete: onComplete\n      });\n\n      function onComplete(r) {\n\n        var xml = r.responseXML;\n        if (!xml || !xml.documentElement) {\n          callback && callback(null);\n          return false;\n        }\n\n        fabric.parseSVGDocument(xml.documentElement, function (results, _options, elements, allElements) {\n          callback && callback(results, _options, elements, allElements);\n        }, reviver, options);\n      }\n    },\n\n    /**\n     * Takes string corresponding to an SVG document, and parses it into a set of fabric objects\n     * @memberOf fabric\n     * @param {String} string\n     * @param {Function} callback\n     * @param {Function} [reviver] Method for further parsing of SVG elements, called after each fabric object created.\n     * @param {Object} [options] Object containing options for parsing\n     * @param {String} [options.crossOrigin] crossOrigin crossOrigin setting to use for external resources\n     */\n    loadSVGFromString: function(string, callback, reviver, options) {\n      var parser = new fabric.window.DOMParser(),\n          doc = parser.parseFromString(string.trim(), 'text/xml');\n      fabric.parseSVGDocument(doc.documentElement, function (results, _options, elements, allElements) {\n        callback(results, _options, elements, allElements);\n      }, reviver, options);\n    }\n  });\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\nfabric.ElementsParser = function(elements, callback, options, reviver, parsingOptions, doc) {\n  this.elements = elements;\n  this.callback = callback;\n  this.options = options;\n  this.reviver = reviver;\n  this.svgUid = (options && options.svgUid) || 0;\n  this.parsingOptions = parsingOptions;\n  this.regexUrl = /^url\\(['\"]?#([^'\"]+)['\"]?\\)/g;\n  this.doc = doc;\n};\n\n(function(proto) {\n  proto.parse = function() {\n    this.instances = new Array(this.elements.length);\n    this.numElements = this.elements.length;\n    this.createObjects();\n  };\n\n  proto.createObjects = function() {\n    var _this = this;\n    this.elements.forEach(function(element, i) {\n      element.setAttribute('svgUid', _this.svgUid);\n      _this.createObject(element, i);\n    });\n  };\n\n  proto.findTag = function(el) {\n    return fabric[fabric.util.string.capitalize(el.tagName.replace('svg:', ''))];\n  };\n\n  proto.createObject = function(el, index) {\n    var klass = this.findTag(el);\n    if (klass && klass.fromElement) {\n      try {\n        klass.fromElement(el, this.createCallback(index, el), this.options);\n      }\n      catch (err) {\n        fabric.log(err);\n      }\n    }\n    else {\n      this.checkIfDone();\n    }\n  };\n\n  proto.createCallback = function(index, el) {\n    var _this = this;\n    return function(obj) {\n      var _options;\n      _this.resolveGradient(obj, el, 'fill');\n      _this.resolveGradient(obj, el, 'stroke');\n      if (obj instanceof fabric.Image && obj._originalElement) {\n        _options = obj.parsePreserveAspectRatioAttribute(el);\n      }\n      obj._removeTransformMatrix(_options);\n      _this.resolveClipPath(obj, el);\n      _this.reviver && _this.reviver(el, obj);\n      _this.instances[index] = obj;\n      _this.checkIfDone();\n    };\n  };\n\n  proto.extractPropertyDefinition = function(obj, property, storage) {\n    var value = obj[property], regex = this.regexUrl;\n    if (!regex.test(value)) {\n      return;\n    }\n    regex.lastIndex = 0;\n    var id = regex.exec(value)[1];\n    regex.lastIndex = 0;\n    return fabric[storage][this.svgUid][id];\n  };\n\n  proto.resolveGradient = function(obj, el, property) {\n    var gradientDef = this.extractPropertyDefinition(obj, property, 'gradientDefs');\n    if (gradientDef) {\n      var opacityAttr = el.getAttribute(property + '-opacity');\n      var gradient = fabric.Gradient.fromElement(gradientDef, obj, opacityAttr, this.options);\n      obj.set(property, gradient);\n    }\n  };\n\n  proto.createClipPathCallback = function(obj, container) {\n    return function(_newObj) {\n      _newObj._removeTransformMatrix();\n      _newObj.fillRule = _newObj.clipRule;\n      container.push(_newObj);\n    };\n  };\n\n  proto.resolveClipPath = function(obj, usingElement) {\n    var clipPath = this.extractPropertyDefinition(obj, 'clipPath', 'clipPaths'),\n        element, klass, objTransformInv, container, gTransform, options;\n    if (clipPath) {\n      container = [];\n      objTransformInv = fabric.util.invertTransform(obj.calcTransformMatrix());\n      // move the clipPath tag as sibling to the real element that is using it\n      var clipPathTag = clipPath[0].parentNode;\n      var clipPathOwner = usingElement;\n      while (clipPathOwner.parentNode && clipPathOwner.getAttribute('clip-path') !== obj.clipPath) {\n        clipPathOwner = clipPathOwner.parentNode;\n      }\n      clipPathOwner.parentNode.appendChild(clipPathTag);\n      for (var i = 0; i < clipPath.length; i++) {\n        element = clipPath[i];\n        klass = this.findTag(element);\n        klass.fromElement(\n          element,\n          this.createClipPathCallback(obj, container),\n          this.options\n        );\n      }\n      if (container.length === 1) {\n        clipPath = container[0];\n      }\n      else {\n        clipPath = new fabric.Group(container);\n      }\n      gTransform = fabric.util.multiplyTransformMatrices(\n        objTransformInv,\n        clipPath.calcTransformMatrix()\n      );\n      if (clipPath.clipPath) {\n        this.resolveClipPath(clipPath, clipPathOwner);\n      }\n      var options = fabric.util.qrDecompose(gTransform);\n      clipPath.flipX = false;\n      clipPath.flipY = false;\n      clipPath.set('scaleX', options.scaleX);\n      clipPath.set('scaleY', options.scaleY);\n      clipPath.angle = options.angle;\n      clipPath.skewX = options.skewX;\n      clipPath.skewY = 0;\n      clipPath.setPositionByOrigin({ x: options.translateX, y: options.translateY }, 'center', 'center');\n      obj.clipPath = clipPath;\n    }\n    else {\n      // if clip-path does not resolve to any element, delete the property.\n      delete obj.clipPath;\n    }\n  };\n\n  proto.checkIfDone = function() {\n    if (--this.numElements === 0) {\n      this.instances = this.instances.filter(function(el) {\n        // eslint-disable-next-line no-eq-null, eqeqeq\n        return el != null;\n      });\n      this.callback(this.instances, this.elements);\n    }\n  };\n})(fabric.ElementsParser.prototype);\n\n\n(function(global) {\n\n  'use strict';\n\n  /* Adaptation of work of Kevin Lindsey (kevin@kevlindev.com) */\n\n  var fabric = global.fabric || (global.fabric = { });\n\n  if (fabric.Point) {\n    fabric.warn('fabric.Point is already defined');\n    return;\n  }\n\n  fabric.Point = Point;\n\n  /**\n   * Point class\n   * @class fabric.Point\n   * @memberOf fabric\n   * @constructor\n   * @param {Number} x\n   * @param {Number} y\n   * @return {fabric.Point} thisArg\n   */\n  function Point(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  Point.prototype = /** @lends fabric.Point.prototype */ {\n\n    type: 'point',\n\n    constructor: Point,\n\n    /**\n     * Adds another point to this one and returns another one\n     * @param {fabric.Point} that\n     * @return {fabric.Point} new Point instance with added values\n     */\n    add: function (that) {\n      return new Point(this.x + that.x, this.y + that.y);\n    },\n\n    /**\n     * Adds another point to this one\n     * @param {fabric.Point} that\n     * @return {fabric.Point} thisArg\n     * @chainable\n     */\n    addEquals: function (that) {\n      this.x += that.x;\n      this.y += that.y;\n      return this;\n    },\n\n    /**\n     * Adds value to this point and returns a new one\n     * @param {Number} scalar\n     * @return {fabric.Point} new Point with added value\n     */\n    scalarAdd: function (scalar) {\n      return new Point(this.x + scalar, this.y + scalar);\n    },\n\n    /**\n     * Adds value to this point\n     * @param {Number} scalar\n     * @return {fabric.Point} thisArg\n     * @chainable\n     */\n    scalarAddEquals: function (scalar) {\n      this.x += scalar;\n      this.y += scalar;\n      return this;\n    },\n\n    /**\n     * Subtracts another point from this point and returns a new one\n     * @param {fabric.Point} that\n     * @return {fabric.Point} new Point object with subtracted values\n     */\n    subtract: function (that) {\n      return new Point(this.x - that.x, this.y - that.y);\n    },\n\n    /**\n     * Subtracts another point from this point\n     * @param {fabric.Point} that\n     * @return {fabric.Point} thisArg\n     * @chainable\n     */\n    subtractEquals: function (that) {\n      this.x -= that.x;\n      this.y -= that.y;\n      return this;\n    },\n\n    /**\n     * Subtracts value from this point and returns a new one\n     * @param {Number} scalar\n     * @return {fabric.Point}\n     */\n    scalarSubtract: function (scalar) {\n      return new Point(this.x - scalar, this.y - scalar);\n    },\n\n    /**\n     * Subtracts value from this point\n     * @param {Number} scalar\n     * @return {fabric.Point} thisArg\n     * @chainable\n     */\n    scalarSubtractEquals: function (scalar) {\n      this.x -= scalar;\n      this.y -= scalar;\n      return this;\n    },\n\n    /**\n     * Multiplies this point by a value and returns a new one\n     * TODO: rename in scalarMultiply in 2.0\n     * @param {Number} scalar\n     * @return {fabric.Point}\n     */\n    multiply: function (scalar) {\n      return new Point(this.x * scalar, this.y * scalar);\n    },\n\n    /**\n     * Multiplies this point by a value\n     * TODO: rename in scalarMultiplyEquals in 2.0\n     * @param {Number} scalar\n     * @return {fabric.Point} thisArg\n     * @chainable\n     */\n    multiplyEquals: function (scalar) {\n      this.x *= scalar;\n      this.y *= scalar;\n      return this;\n    },\n\n    /**\n     * Divides this point by a value and returns a new one\n     * TODO: rename in scalarDivide in 2.0\n     * @param {Number} scalar\n     * @return {fabric.Point}\n     */\n    divide: function (scalar) {\n      return new Point(this.x / scalar, this.y / scalar);\n    },\n\n    /**\n     * Divides this point by a value\n     * TODO: rename in scalarDivideEquals in 2.0\n     * @param {Number} scalar\n     * @return {fabric.Point} thisArg\n     * @chainable\n     */\n    divideEquals: function (scalar) {\n      this.x /= scalar;\n      this.y /= scalar;\n      return this;\n    },\n\n    /**\n     * Returns true if this point is equal to another one\n     * @param {fabric.Point} that\n     * @return {Boolean}\n     */\n    eq: function (that) {\n      return (this.x === that.x && this.y === that.y);\n    },\n\n    /**\n     * Returns true if this point is less than another one\n     * @param {fabric.Point} that\n     * @return {Boolean}\n     */\n    lt: function (that) {\n      return (this.x < that.x && this.y < that.y);\n    },\n\n    /**\n     * Returns true if this point is less than or equal to another one\n     * @param {fabric.Point} that\n     * @return {Boolean}\n     */\n    lte: function (that) {\n      return (this.x <= that.x && this.y <= that.y);\n    },\n\n    /**\n\n     * Returns true if this point is greater another one\n     * @param {fabric.Point} that\n     * @return {Boolean}\n     */\n    gt: function (that) {\n      return (this.x > that.x && this.y > that.y);\n    },\n\n    /**\n     * Returns true if this point is greater than or equal to another one\n     * @param {fabric.Point} that\n     * @return {Boolean}\n     */\n    gte: function (that) {\n      return (this.x >= that.x && this.y >= that.y);\n    },\n\n    /**\n     * Returns new point which is the result of linear interpolation with this one and another one\n     * @param {fabric.Point} that\n     * @param {Number} t , position of interpolation, between 0 and 1 default 0.5\n     * @return {fabric.Point}\n     */\n    lerp: function (that, t) {\n      if (typeof t === 'undefined') {\n        t = 0.5;\n      }\n      t = Math.max(Math.min(1, t), 0);\n      return new Point(this.x + (that.x - this.x) * t, this.y + (that.y - this.y) * t);\n    },\n\n    /**\n     * Returns distance from this point and another one\n     * @param {fabric.Point} that\n     * @return {Number}\n     */\n    distanceFrom: function (that) {\n      var dx = this.x - that.x,\n          dy = this.y - that.y;\n      return Math.sqrt(dx * dx + dy * dy);\n    },\n\n    /**\n     * Returns the point between this point and another one\n     * @param {fabric.Point} that\n     * @return {fabric.Point}\n     */\n    midPointFrom: function (that) {\n      return this.lerp(that);\n    },\n\n    /**\n     * Returns a new point which is the min of this and another one\n     * @param {fabric.Point} that\n     * @return {fabric.Point}\n     */\n    min: function (that) {\n      return new Point(Math.min(this.x, that.x), Math.min(this.y, that.y));\n    },\n\n    /**\n     * Returns a new point which is the max of this and another one\n     * @param {fabric.Point} that\n     * @return {fabric.Point}\n     */\n    max: function (that) {\n      return new Point(Math.max(this.x, that.x), Math.max(this.y, that.y));\n    },\n\n    /**\n     * Returns string representation of this point\n     * @return {String}\n     */\n    toString: function () {\n      return this.x + ',' + this.y;\n    },\n\n    /**\n     * Sets x/y of this point\n     * @param {Number} x\n     * @param {Number} y\n     * @chainable\n     */\n    setXY: function (x, y) {\n      this.x = x;\n      this.y = y;\n      return this;\n    },\n\n    /**\n     * Sets x of this point\n     * @param {Number} x\n     * @chainable\n     */\n    setX: function (x) {\n      this.x = x;\n      return this;\n    },\n\n    /**\n     * Sets y of this point\n     * @param {Number} y\n     * @chainable\n     */\n    setY: function (y) {\n      this.y = y;\n      return this;\n    },\n\n    /**\n     * Sets x/y of this point from another point\n     * @param {fabric.Point} that\n     * @chainable\n     */\n    setFromPoint: function (that) {\n      this.x = that.x;\n      this.y = that.y;\n      return this;\n    },\n\n    /**\n     * Swaps x/y of this point and another point\n     * @param {fabric.Point} that\n     */\n    swap: function (that) {\n      var x = this.x,\n          y = this.y;\n      this.x = that.x;\n      this.y = that.y;\n      that.x = x;\n      that.y = y;\n    },\n\n    /**\n     * return a cloned instance of the point\n     * @return {fabric.Point}\n     */\n    clone: function () {\n      return new Point(this.x, this.y);\n    }\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  /* Adaptation of work of Kevin Lindsey (kevin@kevlindev.com) */\n  var fabric = global.fabric || (global.fabric = { });\n\n  if (fabric.Intersection) {\n    fabric.warn('fabric.Intersection is already defined');\n    return;\n  }\n\n  /**\n   * Intersection class\n   * @class fabric.Intersection\n   * @memberOf fabric\n   * @constructor\n   */\n  function Intersection(status) {\n    this.status = status;\n    this.points = [];\n  }\n\n  fabric.Intersection = Intersection;\n\n  fabric.Intersection.prototype = /** @lends fabric.Intersection.prototype */ {\n\n    constructor: Intersection,\n\n    /**\n     * Appends a point to intersection\n     * @param {fabric.Point} point\n     * @return {fabric.Intersection} thisArg\n     * @chainable\n     */\n    appendPoint: function (point) {\n      this.points.push(point);\n      return this;\n    },\n\n    /**\n     * Appends points to intersection\n     * @param {Array} points\n     * @return {fabric.Intersection} thisArg\n     * @chainable\n     */\n    appendPoints: function (points) {\n      this.points = this.points.concat(points);\n      return this;\n    }\n  };\n\n  /**\n   * Checks if one line intersects another\n   * TODO: rename in intersectSegmentSegment\n   * @static\n   * @param {fabric.Point} a1\n   * @param {fabric.Point} a2\n   * @param {fabric.Point} b1\n   * @param {fabric.Point} b2\n   * @return {fabric.Intersection}\n   */\n  fabric.Intersection.intersectLineLine = function (a1, a2, b1, b2) {\n    var result,\n        uaT = (b2.x - b1.x) * (a1.y - b1.y) - (b2.y - b1.y) * (a1.x - b1.x),\n        ubT = (a2.x - a1.x) * (a1.y - b1.y) - (a2.y - a1.y) * (a1.x - b1.x),\n        uB = (b2.y - b1.y) * (a2.x - a1.x) - (b2.x - b1.x) * (a2.y - a1.y);\n    if (uB !== 0) {\n      var ua = uaT / uB,\n          ub = ubT / uB;\n      if (0 <= ua && ua <= 1 && 0 <= ub && ub <= 1) {\n        result = new Intersection('Intersection');\n        result.appendPoint(new fabric.Point(a1.x + ua * (a2.x - a1.x), a1.y + ua * (a2.y - a1.y)));\n      }\n      else {\n        result = new Intersection();\n      }\n    }\n    else {\n      if (uaT === 0 || ubT === 0) {\n        result = new Intersection('Coincident');\n      }\n      else {\n        result = new Intersection('Parallel');\n      }\n    }\n    return result;\n  };\n\n  /**\n   * Checks if line intersects polygon\n   * TODO: rename in intersectSegmentPolygon\n   * fix detection of coincident\n   * @static\n   * @param {fabric.Point} a1\n   * @param {fabric.Point} a2\n   * @param {Array} points\n   * @return {fabric.Intersection}\n   */\n  fabric.Intersection.intersectLinePolygon = function(a1, a2, points) {\n    var result = new Intersection(),\n        length = points.length,\n        b1, b2, inter, i;\n\n    for (i = 0; i < length; i++) {\n      b1 = points[i];\n      b2 = points[(i + 1) % length];\n      inter = Intersection.intersectLineLine(a1, a2, b1, b2);\n\n      result.appendPoints(inter.points);\n    }\n    if (result.points.length > 0) {\n      result.status = 'Intersection';\n    }\n    return result;\n  };\n\n  /**\n   * Checks if polygon intersects another polygon\n   * @static\n   * @param {Array} points1\n   * @param {Array} points2\n   * @return {fabric.Intersection}\n   */\n  fabric.Intersection.intersectPolygonPolygon = function (points1, points2) {\n    var result = new Intersection(),\n        length = points1.length, i;\n\n    for (i = 0; i < length; i++) {\n      var a1 = points1[i],\n          a2 = points1[(i + 1) % length],\n          inter = Intersection.intersectLinePolygon(a1, a2, points2);\n\n      result.appendPoints(inter.points);\n    }\n    if (result.points.length > 0) {\n      result.status = 'Intersection';\n    }\n    return result;\n  };\n\n  /**\n   * Checks if polygon intersects rectangle\n   * @static\n   * @param {Array} points\n   * @param {fabric.Point} r1\n   * @param {fabric.Point} r2\n   * @return {fabric.Intersection}\n   */\n  fabric.Intersection.intersectPolygonRectangle = function (points, r1, r2) {\n    var min = r1.min(r2),\n        max = r1.max(r2),\n        topRight = new fabric.Point(max.x, min.y),\n        bottomLeft = new fabric.Point(min.x, max.y),\n        inter1 = Intersection.intersectLinePolygon(min, topRight, points),\n        inter2 = Intersection.intersectLinePolygon(topRight, max, points),\n        inter3 = Intersection.intersectLinePolygon(max, bottomLeft, points),\n        inter4 = Intersection.intersectLinePolygon(bottomLeft, min, points),\n        result = new Intersection();\n\n    result.appendPoints(inter1.points);\n    result.appendPoints(inter2.points);\n    result.appendPoints(inter3.points);\n    result.appendPoints(inter4.points);\n\n    if (result.points.length > 0) {\n      result.status = 'Intersection';\n    }\n    return result;\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { });\n\n  if (fabric.Color) {\n    fabric.warn('fabric.Color is already defined.');\n    return;\n  }\n\n  /**\n   * Color class\n   * The purpose of {@link fabric.Color} is to abstract and encapsulate common color operations;\n   * {@link fabric.Color} is a constructor and creates instances of {@link fabric.Color} objects.\n   *\n   * @class fabric.Color\n   * @param {String} color optional in hex or rgb(a) or hsl format or from known color list\n   * @return {fabric.Color} thisArg\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2/#colors}\n   */\n  function Color(color) {\n    if (!color) {\n      this.setSource([0, 0, 0, 1]);\n    }\n    else {\n      this._tryParsingColor(color);\n    }\n  }\n\n  fabric.Color = Color;\n\n  fabric.Color.prototype = /** @lends fabric.Color.prototype */ {\n\n    /**\n     * @private\n     * @param {String|Array} color Color value to parse\n     */\n    _tryParsingColor: function(color) {\n      var source;\n\n      if (color in Color.colorNameMap) {\n        color = Color.colorNameMap[color];\n      }\n\n      if (color === 'transparent') {\n        source = [255, 255, 255, 0];\n      }\n\n      if (!source) {\n        source = Color.sourceFromHex(color);\n      }\n      if (!source) {\n        source = Color.sourceFromRgb(color);\n      }\n      if (!source) {\n        source = Color.sourceFromHsl(color);\n      }\n      if (!source) {\n        //if color is not recognize let's make black as canvas does\n        source = [0, 0, 0, 1];\n      }\n      if (source) {\n        this.setSource(source);\n      }\n    },\n\n    /**\n     * Adapted from <a href=\"https://rawgithub.com/mjijackson/mjijackson.github.com/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.html\">https://github.com/mjijackson</a>\n     * @private\n     * @param {Number} r Red color value\n     * @param {Number} g Green color value\n     * @param {Number} b Blue color value\n     * @return {Array} Hsl color\n     */\n    _rgbToHsl: function(r, g, b) {\n      r /= 255; g /= 255; b /= 255;\n\n      var h, s, l,\n          max = fabric.util.array.max([r, g, b]),\n          min = fabric.util.array.min([r, g, b]);\n\n      l = (max + min) / 2;\n\n      if (max === min) {\n        h = s = 0; // achromatic\n      }\n      else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n          case g:\n            h = (b - r) / d + 2;\n            break;\n          case b:\n            h = (r - g) / d + 4;\n            break;\n        }\n        h /= 6;\n      }\n\n      return [\n        Math.round(h * 360),\n        Math.round(s * 100),\n        Math.round(l * 100)\n      ];\n    },\n\n    /**\n     * Returns source of this color (where source is an array representation; ex: [200, 200, 100, 1])\n     * @return {Array}\n     */\n    getSource: function() {\n      return this._source;\n    },\n\n    /**\n     * Sets source of this color (where source is an array representation; ex: [200, 200, 100, 1])\n     * @param {Array} source\n     */\n    setSource: function(source) {\n      this._source = source;\n    },\n\n    /**\n     * Returns color representation in RGB format\n     * @return {String} ex: rgb(0-255,0-255,0-255)\n     */\n    toRgb: function() {\n      var source = this.getSource();\n      return 'rgb(' + source[0] + ',' + source[1] + ',' + source[2] + ')';\n    },\n\n    /**\n     * Returns color representation in RGBA format\n     * @return {String} ex: rgba(0-255,0-255,0-255,0-1)\n     */\n    toRgba: function() {\n      var source = this.getSource();\n      return 'rgba(' + source[0] + ',' + source[1] + ',' + source[2] + ',' + source[3] + ')';\n    },\n\n    /**\n     * Returns color representation in HSL format\n     * @return {String} ex: hsl(0-360,0%-100%,0%-100%)\n     */\n    toHsl: function() {\n      var source = this.getSource(),\n          hsl = this._rgbToHsl(source[0], source[1], source[2]);\n\n      return 'hsl(' + hsl[0] + ',' + hsl[1] + '%,' + hsl[2] + '%)';\n    },\n\n    /**\n     * Returns color representation in HSLA format\n     * @return {String} ex: hsla(0-360,0%-100%,0%-100%,0-1)\n     */\n    toHsla: function() {\n      var source = this.getSource(),\n          hsl = this._rgbToHsl(source[0], source[1], source[2]);\n\n      return 'hsla(' + hsl[0] + ',' + hsl[1] + '%,' + hsl[2] + '%,' + source[3] + ')';\n    },\n\n    /**\n     * Returns color representation in HEX format\n     * @return {String} ex: FF5555\n     */\n    toHex: function() {\n      var source = this.getSource(), r, g, b;\n\n      r = source[0].toString(16);\n      r = (r.length === 1) ? ('0' + r) : r;\n\n      g = source[1].toString(16);\n      g = (g.length === 1) ? ('0' + g) : g;\n\n      b = source[2].toString(16);\n      b = (b.length === 1) ? ('0' + b) : b;\n\n      return r.toUpperCase() + g.toUpperCase() + b.toUpperCase();\n    },\n\n    /**\n     * Returns color representation in HEXA format\n     * @return {String} ex: FF5555CC\n     */\n    toHexa: function() {\n      var source = this.getSource(), a;\n\n      a = Math.round(source[3] * 255);\n      a = a.toString(16);\n      a = (a.length === 1) ? ('0' + a) : a;\n\n      return this.toHex() + a.toUpperCase();\n    },\n\n    /**\n     * Gets value of alpha channel for this color\n     * @return {Number} 0-1\n     */\n    getAlpha: function() {\n      return this.getSource()[3];\n    },\n\n    /**\n     * Sets value of alpha channel for this color\n     * @param {Number} alpha Alpha value 0-1\n     * @return {fabric.Color} thisArg\n     */\n    setAlpha: function(alpha) {\n      var source = this.getSource();\n      source[3] = alpha;\n      this.setSource(source);\n      return this;\n    },\n\n    /**\n     * Transforms color to its grayscale representation\n     * @return {fabric.Color} thisArg\n     */\n    toGrayscale: function() {\n      var source = this.getSource(),\n          average = parseInt((source[0] * 0.3 + source[1] * 0.59 + source[2] * 0.11).toFixed(0), 10),\n          currentAlpha = source[3];\n      this.setSource([average, average, average, currentAlpha]);\n      return this;\n    },\n\n    /**\n     * Transforms color to its black and white representation\n     * @param {Number} threshold\n     * @return {fabric.Color} thisArg\n     */\n    toBlackWhite: function(threshold) {\n      var source = this.getSource(),\n          average = (source[0] * 0.3 + source[1] * 0.59 + source[2] * 0.11).toFixed(0),\n          currentAlpha = source[3];\n\n      threshold = threshold || 127;\n\n      average = (Number(average) < Number(threshold)) ? 0 : 255;\n      this.setSource([average, average, average, currentAlpha]);\n      return this;\n    },\n\n    /**\n     * Overlays color with another color\n     * @param {String|fabric.Color} otherColor\n     * @return {fabric.Color} thisArg\n     */\n    overlayWith: function(otherColor) {\n      if (!(otherColor instanceof Color)) {\n        otherColor = new Color(otherColor);\n      }\n\n      var result = [],\n          alpha = this.getAlpha(),\n          otherAlpha = 0.5,\n          source = this.getSource(),\n          otherSource = otherColor.getSource(), i;\n\n      for (i = 0; i < 3; i++) {\n        result.push(Math.round((source[i] * (1 - otherAlpha)) + (otherSource[i] * otherAlpha)));\n      }\n\n      result[3] = alpha;\n      this.setSource(result);\n      return this;\n    }\n  };\n\n  /**\n   * Regex matching color in RGB or RGBA formats (ex: rgb(0, 0, 0), rgba(255, 100, 10, 0.5), rgba( 255 , 100 , 10 , 0.5 ), rgb(1,1,1), rgba(100%, 60%, 10%, 0.5))\n   * @static\n   * @field\n   * @memberOf fabric.Color\n   */\n  // eslint-disable-next-line max-len\n  fabric.Color.reRGBa = /^rgba?\\(\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*,\\s*(\\d{1,3}(?:\\.\\d+)?\\%?)\\s*(?:\\s*,\\s*((?:\\d*\\.?\\d+)?)\\s*)?\\)$/i;\n\n  /**\n   * Regex matching color in HSL or HSLA formats (ex: hsl(200, 80%, 10%), hsla(300, 50%, 80%, 0.5), hsla( 300 , 50% , 80% , 0.5 ))\n   * @static\n   * @field\n   * @memberOf fabric.Color\n   */\n  fabric.Color.reHSLa = /^hsla?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3}\\%)\\s*,\\s*(\\d{1,3}\\%)\\s*(?:\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*)?\\)$/i;\n\n  /**\n   * Regex matching color in HEX format (ex: #FF5544CC, #FF5555, 010155, aff)\n   * @static\n   * @field\n   * @memberOf fabric.Color\n   */\n  fabric.Color.reHex = /^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i;\n\n  /**\n   * Map of the 148 color names with HEX code\n   * @static\n   * @field\n   * @memberOf fabric.Color\n   * @see: https://www.w3.org/TR/css3-color/#svg-color\n   */\n  fabric.Color.colorNameMap = {\n    aliceblue:            '#F0F8FF',\n    antiquewhite:         '#FAEBD7',\n    aqua:                 '#00FFFF',\n    aquamarine:           '#7FFFD4',\n    azure:                '#F0FFFF',\n    beige:                '#F5F5DC',\n    bisque:               '#FFE4C4',\n    black:                '#000000',\n    blanchedalmond:       '#FFEBCD',\n    blue:                 '#0000FF',\n    blueviolet:           '#8A2BE2',\n    brown:                '#A52A2A',\n    burlywood:            '#DEB887',\n    cadetblue:            '#5F9EA0',\n    chartreuse:           '#7FFF00',\n    chocolate:            '#D2691E',\n    coral:                '#FF7F50',\n    cornflowerblue:       '#6495ED',\n    cornsilk:             '#FFF8DC',\n    crimson:              '#DC143C',\n    cyan:                 '#00FFFF',\n    darkblue:             '#00008B',\n    darkcyan:             '#008B8B',\n    darkgoldenrod:        '#B8860B',\n    darkgray:             '#A9A9A9',\n    darkgrey:             '#A9A9A9',\n    darkgreen:            '#006400',\n    darkkhaki:            '#BDB76B',\n    darkmagenta:          '#8B008B',\n    darkolivegreen:       '#556B2F',\n    darkorange:           '#FF8C00',\n    darkorchid:           '#9932CC',\n    darkred:              '#8B0000',\n    darksalmon:           '#E9967A',\n    darkseagreen:         '#8FBC8F',\n    darkslateblue:        '#483D8B',\n    darkslategray:        '#2F4F4F',\n    darkslategrey:        '#2F4F4F',\n    darkturquoise:        '#00CED1',\n    darkviolet:           '#9400D3',\n    deeppink:             '#FF1493',\n    deepskyblue:          '#00BFFF',\n    dimgray:              '#696969',\n    dimgrey:              '#696969',\n    dodgerblue:           '#1E90FF',\n    firebrick:            '#B22222',\n    floralwhite:          '#FFFAF0',\n    forestgreen:          '#228B22',\n    fuchsia:              '#FF00FF',\n    gainsboro:            '#DCDCDC',\n    ghostwhite:           '#F8F8FF',\n    gold:                 '#FFD700',\n    goldenrod:            '#DAA520',\n    gray:                 '#808080',\n    grey:                 '#808080',\n    green:                '#008000',\n    greenyellow:          '#ADFF2F',\n    honeydew:             '#F0FFF0',\n    hotpink:              '#FF69B4',\n    indianred:            '#CD5C5C',\n    indigo:               '#4B0082',\n    ivory:                '#FFFFF0',\n    khaki:                '#F0E68C',\n    lavender:             '#E6E6FA',\n    lavenderblush:        '#FFF0F5',\n    lawngreen:            '#7CFC00',\n    lemonchiffon:         '#FFFACD',\n    lightblue:            '#ADD8E6',\n    lightcoral:           '#F08080',\n    lightcyan:            '#E0FFFF',\n    lightgoldenrodyellow: '#FAFAD2',\n    lightgray:            '#D3D3D3',\n    lightgrey:            '#D3D3D3',\n    lightgreen:           '#90EE90',\n    lightpink:            '#FFB6C1',\n    lightsalmon:          '#FFA07A',\n    lightseagreen:        '#20B2AA',\n    lightskyblue:         '#87CEFA',\n    lightslategray:       '#778899',\n    lightslategrey:       '#778899',\n    lightsteelblue:       '#B0C4DE',\n    lightyellow:          '#FFFFE0',\n    lime:                 '#00FF00',\n    limegreen:            '#32CD32',\n    linen:                '#FAF0E6',\n    magenta:              '#FF00FF',\n    maroon:               '#800000',\n    mediumaquamarine:     '#66CDAA',\n    mediumblue:           '#0000CD',\n    mediumorchid:         '#BA55D3',\n    mediumpurple:         '#9370DB',\n    mediumseagreen:       '#3CB371',\n    mediumslateblue:      '#7B68EE',\n    mediumspringgreen:    '#00FA9A',\n    mediumturquoise:      '#48D1CC',\n    mediumvioletred:      '#C71585',\n    midnightblue:         '#191970',\n    mintcream:            '#F5FFFA',\n    mistyrose:            '#FFE4E1',\n    moccasin:             '#FFE4B5',\n    navajowhite:          '#FFDEAD',\n    navy:                 '#000080',\n    oldlace:              '#FDF5E6',\n    olive:                '#808000',\n    olivedrab:            '#6B8E23',\n    orange:               '#FFA500',\n    orangered:            '#FF4500',\n    orchid:               '#DA70D6',\n    palegoldenrod:        '#EEE8AA',\n    palegreen:            '#98FB98',\n    paleturquoise:        '#AFEEEE',\n    palevioletred:        '#DB7093',\n    papayawhip:           '#FFEFD5',\n    peachpuff:            '#FFDAB9',\n    peru:                 '#CD853F',\n    pink:                 '#FFC0CB',\n    plum:                 '#DDA0DD',\n    powderblue:           '#B0E0E6',\n    purple:               '#800080',\n    rebeccapurple:        '#663399',\n    red:                  '#FF0000',\n    rosybrown:            '#BC8F8F',\n    royalblue:            '#4169E1',\n    saddlebrown:          '#8B4513',\n    salmon:               '#FA8072',\n    sandybrown:           '#F4A460',\n    seagreen:             '#2E8B57',\n    seashell:             '#FFF5EE',\n    sienna:               '#A0522D',\n    silver:               '#C0C0C0',\n    skyblue:              '#87CEEB',\n    slateblue:            '#6A5ACD',\n    slategray:            '#708090',\n    slategrey:            '#708090',\n    snow:                 '#FFFAFA',\n    springgreen:          '#00FF7F',\n    steelblue:            '#4682B4',\n    tan:                  '#D2B48C',\n    teal:                 '#008080',\n    thistle:              '#D8BFD8',\n    tomato:               '#FF6347',\n    turquoise:            '#40E0D0',\n    violet:               '#EE82EE',\n    wheat:                '#F5DEB3',\n    white:                '#FFFFFF',\n    whitesmoke:           '#F5F5F5',\n    yellow:               '#FFFF00',\n    yellowgreen:          '#9ACD32'\n  };\n\n  /**\n   * @private\n   * @param {Number} p\n   * @param {Number} q\n   * @param {Number} t\n   * @return {Number}\n   */\n  function hue2rgb(p, q, t) {\n    if (t < 0) {\n      t += 1;\n    }\n    if (t > 1) {\n      t -= 1;\n    }\n    if (t < 1 / 6) {\n      return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n      return q;\n    }\n    if (t < 2 / 3) {\n      return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n  }\n\n  /**\n   * Returns new color object, when given a color in RGB format\n   * @memberOf fabric.Color\n   * @param {String} color Color value ex: rgb(0-255,0-255,0-255)\n   * @return {fabric.Color}\n   */\n  fabric.Color.fromRgb = function(color) {\n    return Color.fromSource(Color.sourceFromRgb(color));\n  };\n\n  /**\n   * Returns array representation (ex: [100, 100, 200, 1]) of a color that's in RGB or RGBA format\n   * @memberOf fabric.Color\n   * @param {String} color Color value ex: rgb(0-255,0-255,0-255), rgb(0%-100%,0%-100%,0%-100%)\n   * @return {Array} source\n   */\n  fabric.Color.sourceFromRgb = function(color) {\n    var match = color.match(Color.reRGBa);\n    if (match) {\n      var r = parseInt(match[1], 10) / (/%$/.test(match[1]) ? 100 : 1) * (/%$/.test(match[1]) ? 255 : 1),\n          g = parseInt(match[2], 10) / (/%$/.test(match[2]) ? 100 : 1) * (/%$/.test(match[2]) ? 255 : 1),\n          b = parseInt(match[3], 10) / (/%$/.test(match[3]) ? 100 : 1) * (/%$/.test(match[3]) ? 255 : 1);\n\n      return [\n        parseInt(r, 10),\n        parseInt(g, 10),\n        parseInt(b, 10),\n        match[4] ? parseFloat(match[4]) : 1\n      ];\n    }\n  };\n\n  /**\n   * Returns new color object, when given a color in RGBA format\n   * @static\n   * @function\n   * @memberOf fabric.Color\n   * @param {String} color\n   * @return {fabric.Color}\n   */\n  fabric.Color.fromRgba = Color.fromRgb;\n\n  /**\n   * Returns new color object, when given a color in HSL format\n   * @param {String} color Color value ex: hsl(0-260,0%-100%,0%-100%)\n   * @memberOf fabric.Color\n   * @return {fabric.Color}\n   */\n  fabric.Color.fromHsl = function(color) {\n    return Color.fromSource(Color.sourceFromHsl(color));\n  };\n\n  /**\n   * Returns array representation (ex: [100, 100, 200, 1]) of a color that's in HSL or HSLA format.\n   * Adapted from <a href=\"https://rawgithub.com/mjijackson/mjijackson.github.com/master/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript.html\">https://github.com/mjijackson</a>\n   * @memberOf fabric.Color\n   * @param {String} color Color value ex: hsl(0-360,0%-100%,0%-100%) or hsla(0-360,0%-100%,0%-100%, 0-1)\n   * @return {Array} source\n   * @see http://http://www.w3.org/TR/css3-color/#hsl-color\n   */\n  fabric.Color.sourceFromHsl = function(color) {\n    var match = color.match(Color.reHSLa);\n    if (!match) {\n      return;\n    }\n\n    var h = (((parseFloat(match[1]) % 360) + 360) % 360) / 360,\n        s = parseFloat(match[2]) / (/%$/.test(match[2]) ? 100 : 1),\n        l = parseFloat(match[3]) / (/%$/.test(match[3]) ? 100 : 1),\n        r, g, b;\n\n    if (s === 0) {\n      r = g = b = l;\n    }\n    else {\n      var q = l <= 0.5 ? l * (s + 1) : l + s - l * s,\n          p = l * 2 - q;\n\n      r = hue2rgb(p, q, h + 1 / 3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [\n      Math.round(r * 255),\n      Math.round(g * 255),\n      Math.round(b * 255),\n      match[4] ? parseFloat(match[4]) : 1\n    ];\n  };\n\n  /**\n   * Returns new color object, when given a color in HSLA format\n   * @static\n   * @function\n   * @memberOf fabric.Color\n   * @param {String} color\n   * @return {fabric.Color}\n   */\n  fabric.Color.fromHsla = Color.fromHsl;\n\n  /**\n   * Returns new color object, when given a color in HEX format\n   * @static\n   * @memberOf fabric.Color\n   * @param {String} color Color value ex: FF5555\n   * @return {fabric.Color}\n   */\n  fabric.Color.fromHex = function(color) {\n    return Color.fromSource(Color.sourceFromHex(color));\n  };\n\n  /**\n   * Returns array representation (ex: [100, 100, 200, 1]) of a color that's in HEX format\n   * @static\n   * @memberOf fabric.Color\n   * @param {String} color ex: FF5555 or FF5544CC (RGBa)\n   * @return {Array} source\n   */\n  fabric.Color.sourceFromHex = function(color) {\n    if (color.match(Color.reHex)) {\n      var value = color.slice(color.indexOf('#') + 1),\n          isShortNotation = (value.length === 3 || value.length === 4),\n          isRGBa = (value.length === 8 || value.length === 4),\n          r = isShortNotation ? (value.charAt(0) + value.charAt(0)) : value.substring(0, 2),\n          g = isShortNotation ? (value.charAt(1) + value.charAt(1)) : value.substring(2, 4),\n          b = isShortNotation ? (value.charAt(2) + value.charAt(2)) : value.substring(4, 6),\n          a = isRGBa ? (isShortNotation ? (value.charAt(3) + value.charAt(3)) : value.substring(6, 8)) : 'FF';\n\n      return [\n        parseInt(r, 16),\n        parseInt(g, 16),\n        parseInt(b, 16),\n        parseFloat((parseInt(a, 16) / 255).toFixed(2))\n      ];\n    }\n  };\n\n  /**\n   * Returns new color object, when given color in array representation (ex: [200, 100, 100, 0.5])\n   * @static\n   * @memberOf fabric.Color\n   * @param {Array} source\n   * @return {fabric.Color}\n   */\n  fabric.Color.fromSource = function(source) {\n    var oColor = new Color();\n    oColor.setSource(source);\n    return oColor;\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      scaleMap = ['e', 'se', 's', 'sw', 'w', 'nw', 'n', 'ne', 'e'],\n      skewMap = ['ns', 'nesw', 'ew', 'nwse'],\n      controls = {},\n      LEFT = 'left', TOP = 'top', RIGHT = 'right', BOTTOM = 'bottom', CENTER = 'center',\n      opposite = {\n        top: BOTTOM,\n        bottom: TOP,\n        left: RIGHT,\n        right: LEFT,\n        center: CENTER,\n      }, radiansToDegrees = fabric.util.radiansToDegrees,\n      sign = (Math.sign || function(x) { return ((x > 0) - (x < 0)) || +x; });\n\n  /**\n   * Combine control position and object angle to find the control direction compared\n   * to the object center.\n   * @param {fabric.Object} fabricObject the fabric object for which we are rendering controls\n   * @param {fabric.Control} control the control class\n   * @return {Number} 0 - 7 a quadrant number\n   */\n  function findCornerQuadrant(fabricObject, control) {\n    var cornerAngle = fabricObject.angle + radiansToDegrees(Math.atan2(control.y, control.x)) + 360;\n    return Math.round((cornerAngle % 360) / 45);\n  }\n\n  function fireEvent(eventName, options) {\n    var target = options.transform.target,\n        canvas = target.canvas,\n        canvasOptions = fabric.util.object.clone(options);\n    canvasOptions.target = target;\n    canvas && canvas.fire('object:' + eventName, canvasOptions);\n    target.fire(eventName, options);\n  }\n\n  /**\n   * Inspect event and fabricObject properties to understand if the scaling action\n   * @param {Event} eventData from the user action\n   * @param {fabric.Object} fabricObject the fabric object about to scale\n   * @return {Boolean} true if scale is proportional\n   */\n  function scaleIsProportional(eventData, fabricObject) {\n    var canvas = fabricObject.canvas, uniScaleKey = canvas.uniScaleKey,\n        uniformIsToggled = eventData[uniScaleKey];\n    return (canvas.uniformScaling && !uniformIsToggled) ||\n    (!canvas.uniformScaling && uniformIsToggled);\n  }\n\n  /**\n   * Checks if transform is centered\n   * @param {Object} transform transform data\n   * @return {Boolean} true if transform is centered\n   */\n  function isTransformCentered(transform) {\n    return transform.originX === CENTER && transform.originY === CENTER;\n  }\n\n  /**\n   * Inspect fabricObject to understand if the current scaling action is allowed\n   * @param {fabric.Object} fabricObject the fabric object about to scale\n   * @param {String} by 'x' or 'y' or ''\n   * @param {Boolean} scaleProportionally true if we are trying to scale proportionally\n   * @return {Boolean} true if scaling is not allowed at current conditions\n   */\n  function scalingIsForbidden(fabricObject, by, scaleProportionally) {\n    var lockX = fabricObject.lockScalingX, lockY = fabricObject.lockScalingY;\n    if (lockX && lockY) {\n      return true;\n    }\n    if (!by && (lockX || lockY) && scaleProportionally) {\n      return true;\n    }\n    if (lockX && by === 'x') {\n      return true;\n    }\n    if (lockY && by === 'y') {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * return the correct cursor style for the scale action\n   * @param {Event} eventData the javascript event that is causing the scale\n   * @param {fabric.Control} control the control that is interested in the action\n   * @param {fabric.Object} fabricObject the fabric object that is interested in the action\n   * @return {String} a valid css string for the cursor\n   */\n  function scaleCursorStyleHandler(eventData, control, fabricObject) {\n    var notAllowed = 'not-allowed',\n        scaleProportionally = scaleIsProportional(eventData, fabricObject),\n        by = '';\n    if (control.x !== 0 && control.y === 0) {\n      by = 'x';\n    }\n    else if (control.x === 0 && control.y !== 0) {\n      by = 'y';\n    }\n    if (scalingIsForbidden(fabricObject, by, scaleProportionally)) {\n      return notAllowed;\n    }\n    var n = findCornerQuadrant(fabricObject, control);\n    return scaleMap[n] + '-resize';\n  }\n\n  /**\n   * return the correct cursor style for the skew action\n   * @param {Event} eventData the javascript event that is causing the scale\n   * @param {fabric.Control} control the control that is interested in the action\n   * @param {fabric.Object} fabricObject the fabric object that is interested in the action\n   * @return {String} a valid css string for the cursor\n   */\n  function skewCursorStyleHandler(eventData, control, fabricObject) {\n    var notAllowed = 'not-allowed';\n    if (control.x !== 0 && fabricObject.lockSkewingY) {\n      return notAllowed;\n    }\n    if (control.y !== 0 && fabricObject.lockSkewingX) {\n      return notAllowed;\n    }\n    var n = findCornerQuadrant(fabricObject, control) % 4;\n    return skewMap[n] + '-resize';\n  }\n\n  /**\n   * Combine skew and scale style handlers to cover fabric standard use case\n   * @param {Event} eventData the javascript event that is causing the scale\n   * @param {fabric.Control} control the control that is interested in the action\n   * @param {fabric.Object} fabricObject the fabric object that is interested in the action\n   * @return {String} a valid css string for the cursor\n   */\n  function scaleSkewCursorStyleHandler(eventData, control, fabricObject) {\n    if (eventData[fabricObject.canvas.altActionKey]) {\n      return controls.skewCursorStyleHandler(eventData, control, fabricObject);\n    }\n    return controls.scaleCursorStyleHandler(eventData, control, fabricObject);\n  }\n\n  /**\n   * Inspect event, control and fabricObject to return the correct action name\n   * @param {Event} eventData the javascript event that is causing the scale\n   * @param {fabric.Control} control the control that is interested in the action\n   * @param {fabric.Object} fabricObject the fabric object that is interested in the action\n   * @return {String} an action name\n   */\n  function scaleOrSkewActionName(eventData, control, fabricObject) {\n    var isAlternative = eventData[fabricObject.canvas.altActionKey];\n    if (control.x === 0) {\n      // then is scaleY or skewX\n      return isAlternative ? 'skewX' : 'scaleY';\n    }\n    if (control.y === 0) {\n      // then is scaleY or skewX\n      return isAlternative ? 'skewY' : 'scaleX';\n    }\n  }\n\n  /**\n   * Find the correct style for the control that is used for rotation.\n   * this function is very simple and it just take care of not-allowed or standard cursor\n   * @param {Event} eventData the javascript event that is causing the scale\n   * @param {fabric.Control} control the control that is interested in the action\n   * @param {fabric.Object} fabricObject the fabric object that is interested in the action\n   * @return {String} a valid css string for the cursor\n   */\n  function rotationStyleHandler(eventData, control, fabricObject) {\n    if (fabricObject.lockRotation) {\n      return 'not-allowed';\n    }\n    return control.cursorStyle;\n  }\n\n  function commonEventInfo(eventData, transform, x, y) {\n    return {\n      e: eventData,\n      transform: transform,\n      pointer: {\n        x: x,\n        y: y,\n      }\n    };\n  }\n\n  /**\n   * Wrap an action handler with saving/restoring object position on the transform.\n   * this is the code that permits to objects to keep their position while transforming.\n   * @param {Function} actionHandler the function to wrap\n   * @return {Function} a function with an action handler signature\n   */\n  function wrapWithFixedAnchor(actionHandler) {\n    return function(eventData, transform, x, y) {\n      var target = transform.target, centerPoint = target.getCenterPoint(),\n          constraint = target.translateToOriginPoint(centerPoint, transform.originX, transform.originY),\n          actionPerformed = actionHandler(eventData, transform, x, y);\n      target.setPositionByOrigin(constraint, transform.originX, transform.originY);\n      return actionPerformed;\n    };\n  }\n\n  /**\n   * Transforms a point described by x and y in a distance from the top left corner of the object\n   * bounding box.\n   * @param {Object} transform\n   * @param {String} originX\n   * @param {String} originY\n   * @param {number} x\n   * @param {number} y\n   * @return {Fabric.Point} the normalized point\n   */\n  function getLocalPoint(transform, originX, originY, x, y) {\n    var target = transform.target,\n        control = target.controls[transform.corner],\n        zoom = target.canvas.getZoom(),\n        padding = target.padding / zoom,\n        localPoint = target.toLocalPoint(new fabric.Point(x, y), originX, originY);\n    if (localPoint.x >= padding) {\n      localPoint.x -= padding;\n    }\n    if (localPoint.x <= -padding) {\n      localPoint.x += padding;\n    }\n    if (localPoint.y >= padding) {\n      localPoint.y -= padding;\n    }\n    if (localPoint.y <= padding) {\n      localPoint.y += padding;\n    }\n    localPoint.x -= control.offsetX;\n    localPoint.y -= control.offsetY;\n    return localPoint;\n  }\n\n  /**\n   * Detect if the fabric object is flipped on one side.\n   * @param {fabric.Object} target\n   * @return {Boolean} true if one flip, but not two.\n   */\n  function targetHasOneFlip(target) {\n    return target.flipX !== target.flipY;\n  }\n\n  /**\n   * Utility function to compensate the scale factor when skew is applied on both axes\n   * @private\n   */\n  function compensateScaleForSkew(target, oppositeSkew, scaleToCompensate, axis, reference) {\n    if (target[oppositeSkew] !== 0) {\n      var newDim = target._getTransformedDimensions()[axis];\n      var newValue = reference / newDim * target[scaleToCompensate];\n      target.set(scaleToCompensate, newValue);\n    }\n  }\n\n  /**\n   * Action handler for skewing on the X axis\n   * @private\n   */\n  function skewObjectX(eventData, transform, x, y) {\n    var target = transform.target,\n        // find how big the object would be, if there was no skewX. takes in account scaling\n        dimNoSkew = target._getTransformedDimensions(0, target.skewY),\n        localPoint = getLocalPoint(transform, transform.originX, transform.originY, x, y),\n        // the mouse is in the center of the object, and we want it to stay there.\n        // so the object will grow twice as much as the mouse.\n        // this makes the skew growth to localPoint * 2 - dimNoSkew.\n        totalSkewSize = Math.abs(localPoint.x * 2) - dimNoSkew.x,\n        currentSkew = target.skewX, newSkew;\n    if (totalSkewSize < 2) {\n      // let's make it easy to go back to position 0.\n      newSkew = 0;\n    }\n    else {\n      newSkew = radiansToDegrees(\n        Math.atan2((totalSkewSize / target.scaleX), (dimNoSkew.y / target.scaleY))\n      );\n      // now we have to find the sign of the skew.\n      // it mostly depend on the origin of transformation.\n      if (transform.originX === LEFT && transform.originY === BOTTOM) {\n        newSkew = -newSkew;\n      }\n      if (transform.originX === RIGHT && transform.originY === TOP) {\n        newSkew = -newSkew;\n      }\n      if (targetHasOneFlip(target)) {\n        newSkew = -newSkew;\n      }\n    }\n    var hasSkewed = currentSkew !== newSkew;\n    if (hasSkewed) {\n      var dimBeforeSkewing = target._getTransformedDimensions().y;\n      target.set('skewX', newSkew);\n      compensateScaleForSkew(target, 'skewY', 'scaleY', 'y', dimBeforeSkewing);\n      fireEvent('skewing', commonEventInfo(eventData, transform, x, y));\n    }\n    return hasSkewed;\n  }\n\n  /**\n   * Action handler for skewing on the Y axis\n   * @private\n   */\n  function skewObjectY(eventData, transform, x, y) {\n    var target = transform.target,\n        // find how big the object would be, if there was no skewX. takes in account scaling\n        dimNoSkew = target._getTransformedDimensions(target.skewX, 0),\n        localPoint = getLocalPoint(transform, transform.originX, transform.originY, x, y),\n        // the mouse is in the center of the object, and we want it to stay there.\n        // so the object will grow twice as much as the mouse.\n        // this makes the skew growth to localPoint * 2 - dimNoSkew.\n        totalSkewSize = Math.abs(localPoint.y * 2) - dimNoSkew.y,\n        currentSkew = target.skewY, newSkew;\n    if (totalSkewSize < 2) {\n      // let's make it easy to go back to position 0.\n      newSkew = 0;\n    }\n    else {\n      newSkew = radiansToDegrees(\n        Math.atan2((totalSkewSize / target.scaleY), (dimNoSkew.x / target.scaleX))\n      );\n      // now we have to find the sign of the skew.\n      // it mostly depend on the origin of transformation.\n      if (transform.originX === LEFT && transform.originY === BOTTOM) {\n        newSkew = -newSkew;\n      }\n      if (transform.originX === RIGHT && transform.originY === TOP) {\n        newSkew = -newSkew;\n      }\n      if (targetHasOneFlip(target)) {\n        newSkew = -newSkew;\n      }\n    }\n    var hasSkewed = currentSkew !== newSkew;\n    if (hasSkewed) {\n      var dimBeforeSkewing = target._getTransformedDimensions().x;\n      target.set('skewY', newSkew);\n      compensateScaleForSkew(target, 'skewX', 'scaleX', 'x', dimBeforeSkewing);\n      fireEvent('skewing', commonEventInfo(eventData, transform, x, y));\n    }\n    return hasSkewed;\n  }\n\n  /**\n   * Wrapped Action handler for skewing on the Y axis, takes care of the\n   * skew direction and determine the correct transform origin for the anchor point\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function skewHandlerX(eventData, transform, x, y) {\n    // step1 figure out and change transform origin.\n    // if skewX > 0 and originY bottom we anchor on right\n    // if skewX > 0 and originY top we anchor on left\n    // if skewX < 0 and originY bottom we anchor on left\n    // if skewX < 0 and originY top we anchor on right\n    // if skewX is 0, we look for mouse position to understand where are we going.\n    var target = transform.target, currentSkew = target.skewX, originX, originY = transform.originY;\n    if (target.lockSkewingX) {\n      return false;\n    }\n    if (currentSkew === 0) {\n      var localPointFromCenter = getLocalPoint(transform, CENTER, CENTER, x, y);\n      if (localPointFromCenter.x > 0) {\n        // we are pulling right, anchor left;\n        originX = LEFT;\n      }\n      else {\n        // we are pulling right, anchor right\n        originX = RIGHT;\n      }\n    }\n    else {\n      if (currentSkew > 0) {\n        originX = originY === TOP ? LEFT : RIGHT;\n      }\n      if (currentSkew < 0) {\n        originX = originY === TOP ? RIGHT : LEFT;\n      }\n      // is the object flipped on one side only? swap the origin.\n      if (targetHasOneFlip(target)) {\n        originX = originX === LEFT ? RIGHT : LEFT;\n      }\n    }\n\n    // once we have the origin, we find the anchor point\n    transform.originX = originX;\n    var finalHandler = wrapWithFixedAnchor(skewObjectX);\n    return finalHandler(eventData, transform, x, y);\n  }\n\n  /**\n   * Wrapped Action handler for skewing on the Y axis, takes care of the\n   * skew direction and determine the correct transform origin for the anchor point\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function skewHandlerY(eventData, transform, x, y) {\n    // step1 figure out and change transform origin.\n    // if skewY > 0 and originX left we anchor on top\n    // if skewY > 0 and originX right we anchor on bottom\n    // if skewY < 0 and originX left we anchor on bottom\n    // if skewY < 0 and originX right we anchor on top\n    // if skewY is 0, we look for mouse position to understand where are we going.\n    var target = transform.target, currentSkew = target.skewY, originY, originX = transform.originX;\n    if (target.lockSkewingY) {\n      return false;\n    }\n    if (currentSkew === 0) {\n      var localPointFromCenter = getLocalPoint(transform, CENTER, CENTER, x, y);\n      if (localPointFromCenter.y > 0) {\n        // we are pulling down, anchor up;\n        originY = TOP;\n      }\n      else {\n        // we are pulling up, anchor down\n        originY = BOTTOM;\n      }\n    }\n    else {\n      if (currentSkew > 0) {\n        originY = originX === LEFT ? TOP : BOTTOM;\n      }\n      if (currentSkew < 0) {\n        originY = originX === LEFT ? BOTTOM : TOP;\n      }\n      // is the object flipped on one side only? swap the origin.\n      if (targetHasOneFlip(target)) {\n        originY = originY === TOP ? BOTTOM : TOP;\n      }\n    }\n\n    // once we have the origin, we find the anchor point\n    transform.originY = originY;\n    var finalHandler = wrapWithFixedAnchor(skewObjectY);\n    return finalHandler(eventData, transform, x, y);\n  }\n\n  /**\n   * Action handler for rotation and snapping, without anchor point.\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   * @private\n   */\n  function rotationWithSnapping(eventData, transform, x, y) {\n    var t = transform,\n        target = t.target,\n        pivotPoint = target.translateToOriginPoint(target.getCenterPoint(), t.originX, t.originY);\n\n    if (target.lockRotation) {\n      return false;\n    }\n\n    var lastAngle = Math.atan2(t.ey - pivotPoint.y, t.ex - pivotPoint.x),\n        curAngle = Math.atan2(y - pivotPoint.y, x - pivotPoint.x),\n        angle = radiansToDegrees(curAngle - lastAngle + t.theta),\n        hasRotated = true;\n\n    if (target.snapAngle > 0) {\n      var snapAngle  = target.snapAngle,\n          snapThreshold  = target.snapThreshold || snapAngle,\n          rightAngleLocked = Math.ceil(angle / snapAngle) * snapAngle,\n          leftAngleLocked = Math.floor(angle / snapAngle) * snapAngle;\n\n      if (Math.abs(angle - leftAngleLocked) < snapThreshold) {\n        angle = leftAngleLocked;\n      }\n      else if (Math.abs(angle - rightAngleLocked) < snapThreshold) {\n        angle = rightAngleLocked;\n      }\n    }\n\n    // normalize angle to positive value\n    if (angle < 0) {\n      angle = 360 + angle;\n    }\n    angle %= 360;\n\n    hasRotated = target.angle !== angle;\n    target.angle = angle;\n    if (hasRotated) {\n      fireEvent('rotating', commonEventInfo(eventData, transform, x, y));\n    }\n    return hasRotated;\n  }\n\n  /**\n   * Basic scaling logic, reused with different constrain for scaling X,Y, freely or equally.\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @param {Object} options additional information for scaling\n   * @param {String} options.by 'x', 'y', 'equally' or '' to indicate type of scaling\n   * @return {Boolean} true if some change happened\n   * @private\n   */\n  function scaleObject(eventData, transform, x, y, options) {\n    options = options || {};\n    var target = transform.target,\n        lockScalingX = target.lockScalingX, lockScalingY = target.lockScalingY,\n        by = options.by, newPoint, scaleX, scaleY, dim,\n        scaleProportionally = scaleIsProportional(eventData, target),\n        forbidScaling = scalingIsForbidden(target, by, scaleProportionally),\n        signX, signY, gestureScale = transform.gestureScale;\n\n    if (forbidScaling) {\n      return false;\n    }\n    if (gestureScale) {\n      scaleX = transform.scaleX * gestureScale;\n      scaleY = transform.scaleY * gestureScale;\n    }\n    else {\n      newPoint = getLocalPoint(transform, transform.originX, transform.originY, x, y);\n      // use of sign: We use sign to detect change of direction of an action. sign usually change when\n      // we cross the origin point with the mouse. So a scale flip for example. There is an issue when scaling\n      // by center and scaling using one middle control ( default: mr, mt, ml, mb), the mouse movement can easily\n      // cross many time the origin point and flip the object. so we need a way to filter out the noise.\n      // This ternary here should be ok to filter out X scaling when we want Y only and vice versa.\n      signX = by !== 'y' ? sign(newPoint.x) : 1;\n      signY = by !== 'x' ? sign(newPoint.y) : 1;\n      if (!transform.signX) {\n        transform.signX = signX;\n      }\n      if (!transform.signY) {\n        transform.signY = signY;\n      }\n\n      if (target.lockScalingFlip &&\n        (transform.signX !== signX || transform.signY !== signY)\n      ) {\n        return false;\n      }\n\n      dim = target._getTransformedDimensions();\n      // missing detection of flip and logic to switch the origin\n      if (scaleProportionally && !by) {\n        // uniform scaling\n        var distance = Math.abs(newPoint.x) + Math.abs(newPoint.y),\n            original = transform.original,\n            originalDistance = Math.abs(dim.x * original.scaleX / target.scaleX) +\n              Math.abs(dim.y * original.scaleY / target.scaleY),\n            scale = distance / originalDistance, hasScaled;\n        scaleX = original.scaleX * scale;\n        scaleY = original.scaleY * scale;\n      }\n      else {\n        scaleX = Math.abs(newPoint.x * target.scaleX / dim.x);\n        scaleY = Math.abs(newPoint.y * target.scaleY / dim.y);\n      }\n      // if we are scaling by center, we need to double the scale\n      if (isTransformCentered(transform)) {\n        scaleX *= 2;\n        scaleY *= 2;\n      }\n      if (transform.signX !== signX && by !== 'y') {\n        transform.originX = opposite[transform.originX];\n        scaleX *= -1;\n        transform.signX = signX;\n      }\n      if (transform.signY !== signY && by !== 'x') {\n        transform.originY = opposite[transform.originY];\n        scaleY *= -1;\n        transform.signY = signY;\n      }\n    }\n    // minScale is taken are in the setter.\n    var oldScaleX = target.scaleX, oldScaleY = target.scaleY;\n    if (!by) {\n      !lockScalingX && target.set('scaleX', scaleX);\n      !lockScalingY && target.set('scaleY', scaleY);\n    }\n    else {\n      // forbidden cases already handled on top here.\n      by === 'x' && target.set('scaleX', scaleX);\n      by === 'y' && target.set('scaleY', scaleY);\n    }\n    hasScaled = oldScaleX !== target.scaleX || oldScaleY !== target.scaleY;\n    if (hasScaled) {\n      fireEvent('scaling', commonEventInfo(eventData, transform, x, y));\n    }\n    return hasScaled;\n  }\n\n  /**\n   * Generic scaling logic, to scale from corners either equally or freely.\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function scaleObjectFromCorner(eventData, transform, x, y) {\n    return scaleObject(eventData, transform, x, y);\n  }\n\n  /**\n   * Scaling logic for the X axis.\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function scaleObjectX(eventData, transform, x, y) {\n    return scaleObject(eventData, transform, x, y , { by: 'x' });\n  }\n\n  /**\n   * Scaling logic for the Y axis.\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function scaleObjectY(eventData, transform, x, y) {\n    return scaleObject(eventData, transform, x, y , { by: 'y' });\n  }\n\n  /**\n   * Composed action handler to either scale Y or skew X\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function scalingYOrSkewingX(eventData, transform, x, y) {\n    // ok some safety needed here.\n    if (eventData[transform.target.canvas.altActionKey]) {\n      return controls.skewHandlerX(eventData, transform, x, y);\n    }\n    return controls.scalingY(eventData, transform, x, y);\n  }\n\n  /**\n   * Composed action handler to either scale X or skew Y\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function scalingXOrSkewingY(eventData, transform, x, y) {\n    // ok some safety needed here.\n    if (eventData[transform.target.canvas.altActionKey]) {\n      return controls.skewHandlerY(eventData, transform, x, y);\n    }\n    return controls.scalingX(eventData, transform, x, y);\n  }\n\n  /**\n   * Action handler to change textbox width\n   * Needs to be wrapped with `wrapWithFixedAnchor` to be effective\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if some change happened\n   */\n  function changeWidth(eventData, transform, x, y) {\n    var target = transform.target, localPoint = getLocalPoint(transform, transform.originX, transform.originY, x, y),\n        strokePadding = target.strokeWidth / (target.strokeUniform ? target.scaleX : 1),\n        multiplier = isTransformCentered(transform) ? 2 : 1,\n        oldWidth = target.width, hasResized,\n        newWidth = Math.abs(localPoint.x * multiplier / target.scaleX) - strokePadding;\n    target.set('width', Math.max(newWidth, 0));\n    hasResized = oldWidth !== newWidth;\n    if (hasResized) {\n      fireEvent('resizing', commonEventInfo(eventData, transform, x, y));\n    }\n    return hasResized;\n  }\n\n  /**\n   * Action handler\n   * @private\n   * @param {Event} eventData javascript event that is doing the transform\n   * @param {Object} transform javascript object containing a series of information around the current transform\n   * @param {number} x current mouse x position, canvas normalized\n   * @param {number} y current mouse y position, canvas normalized\n   * @return {Boolean} true if the translation occurred\n   */\n  function dragHandler(eventData, transform, x, y) {\n    var target = transform.target,\n        newLeft = x - transform.offsetX,\n        newTop = y - transform.offsetY,\n        moveX = !target.get('lockMovementX') && target.left !== newLeft,\n        moveY = !target.get('lockMovementY') && target.top !== newTop;\n    moveX && target.set('left', newLeft);\n    moveY && target.set('top', newTop);\n    if (moveX || moveY) {\n      fireEvent('moving', commonEventInfo(eventData, transform, x, y));\n    }\n    return moveX || moveY;\n  }\n\n  controls.scaleCursorStyleHandler = scaleCursorStyleHandler;\n  controls.skewCursorStyleHandler = skewCursorStyleHandler;\n  controls.scaleSkewCursorStyleHandler = scaleSkewCursorStyleHandler;\n  controls.rotationWithSnapping = wrapWithFixedAnchor(rotationWithSnapping);\n  controls.scalingEqually = wrapWithFixedAnchor(scaleObjectFromCorner);\n  controls.scalingX = wrapWithFixedAnchor(scaleObjectX);\n  controls.scalingY = wrapWithFixedAnchor(scaleObjectY);\n  controls.scalingYOrSkewingX = scalingYOrSkewingX;\n  controls.scalingXOrSkewingY = scalingXOrSkewingY;\n  controls.changeWidth = wrapWithFixedAnchor(changeWidth);\n  controls.skewHandlerX = skewHandlerX;\n  controls.skewHandlerY = skewHandlerY;\n  controls.dragHandler = dragHandler;\n  controls.scaleOrSkewActionName = scaleOrSkewActionName;\n  controls.rotationStyleHandler = rotationStyleHandler;\n  controls.fireEvent = fireEvent;\n  controls.wrapWithFixedAnchor = wrapWithFixedAnchor;\n  controls.getLocalPoint = getLocalPoint;\n  fabric.controlsUtils = controls;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      degreesToRadians = fabric.util.degreesToRadians,\n      controls = fabric.controlsUtils;\n\n  /**\n   * Render a round control, as per fabric features.\n   * This function is written to respect object properties like transparentCorners, cornerSize\n   * cornerColor, cornerStrokeColor\n   * plus the addition of offsetY and offsetX.\n   * @param {CanvasRenderingContext2D} ctx context to render on\n   * @param {Number} left x coordinate where the control center should be\n   * @param {Number} top y coordinate where the control center should be\n   * @param {Object} styleOverride override for fabric.Object controls style\n   * @param {fabric.Object} fabricObject the fabric object for which we are rendering controls\n   */\n  function renderCircleControl (ctx, left, top, styleOverride, fabricObject) {\n    styleOverride = styleOverride || {};\n    var xSize = this.sizeX || styleOverride.cornerSize || fabricObject.cornerSize,\n        ySize = this.sizeY || styleOverride.cornerSize || fabricObject.cornerSize,\n        transparentCorners = typeof styleOverride.transparentCorners !== 'undefined' ?\n          styleOverride.transparentCorners : this.transparentCorners,\n        methodName = transparentCorners ? 'stroke' : 'fill',\n        stroke = !transparentCorners && (styleOverride.cornerStrokeColor || fabricObject.cornerStrokeColor),\n        myLeft = left,\n        myTop = top, size;\n    ctx.save();\n    ctx.fillStyle = styleOverride.cornerColor || fabricObject.cornerColor;\n    ctx.strokeStyle = styleOverride.cornerStrokeColor || fabricObject.cornerStrokeColor;\n    // as soon as fabric react v5, remove ie11, use proper ellipse code.\n    if (xSize > ySize) {\n      size = xSize;\n      ctx.scale(1.0, ySize / xSize);\n      myTop = top * xSize / ySize;\n    }\n    else if (ySize > xSize) {\n      size = ySize;\n      ctx.scale(xSize / ySize, 1.0);\n      myLeft = left * ySize / xSize;\n    }\n    else {\n      size = xSize;\n    }\n    // this is still wrong\n    ctx.lineWidth = 1;\n    ctx.beginPath();\n    ctx.arc(myLeft, myTop, size / 2, 0, 2 * Math.PI, false);\n    ctx[methodName]();\n    if (stroke) {\n      ctx.stroke();\n    }\n    ctx.restore();\n  }\n\n  /**\n   * Render a square control, as per fabric features.\n   * This function is written to respect object properties like transparentCorners, cornerSize\n   * cornerColor, cornerStrokeColor\n   * plus the addition of offsetY and offsetX.\n   * @param {CanvasRenderingContext2D} ctx context to render on\n   * @param {Number} left x coordinate where the control center should be\n   * @param {Number} top y coordinate where the control center should be\n   * @param {Object} styleOverride override for fabric.Object controls style\n   * @param {fabric.Object} fabricObject the fabric object for which we are rendering controls\n   */\n  function renderSquareControl(ctx, left, top, styleOverride, fabricObject) {\n    styleOverride = styleOverride || {};\n    var xSize = this.sizeX || styleOverride.cornerSize || fabricObject.cornerSize,\n        ySize = this.sizeY || styleOverride.cornerSize || fabricObject.cornerSize,\n        transparentCorners = typeof styleOverride.transparentCorners !== 'undefined' ?\n          styleOverride.transparentCorners : fabricObject.transparentCorners,\n        methodName = transparentCorners ? 'stroke' : 'fill',\n        stroke = !transparentCorners && (\n          styleOverride.cornerStrokeColor || fabricObject.cornerStrokeColor\n        ), xSizeBy2 = xSize / 2, ySizeBy2 = ySize / 2;\n    ctx.save();\n    ctx.fillStyle = styleOverride.cornerColor || fabricObject.cornerColor;\n    ctx.strokeStyle = styleOverride.strokeCornerColor || fabricObject.strokeCornerColor;\n    // this is still wrong\n    ctx.lineWidth = 1;\n    ctx.translate(left, top);\n    ctx.rotate(degreesToRadians(fabricObject.angle));\n    // this does not work, and fixed with ( && ) does not make sense.\n    // to have real transparent corners we need the controls on upperCanvas\n    // transparentCorners || ctx.clearRect(-xSizeBy2, -ySizeBy2, xSize, ySize);\n    ctx[methodName + 'Rect'](-xSizeBy2, -ySizeBy2, xSize, ySize);\n    if (stroke) {\n      ctx.strokeRect(-xSizeBy2, -ySizeBy2, xSize, ySize);\n    }\n    ctx.restore();\n  }\n\n  controls.renderCircleControl = renderCircleControl;\n  controls.renderSquareControl = renderSquareControl;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { });\n\n  function Control(options) {\n    for (var i in options) {\n      this[i] = options[i];\n    }\n  }\n\n  fabric.Control = Control;\n\n  fabric.Control.prototype = /** @lends fabric.Control.prototype */ {\n\n    /**\n     * keep track of control visibility.\n     * mainly for backward compatibility.\n     * if you do not want to see a control, you can remove it\n     * from the controlset.\n     * @type {Boolean}\n     * @default true\n     */\n    visible: true,\n\n    /**\n     * Name of the action that the control will likely execute.\n     * This is optional. FabricJS uses to identify what the user is doing for some\n     * extra optimizations. If you are writing a custom control and you want to know\n     * somewhere else in the code what is going on, you can use this string here.\n     * you can also provide a custom getActionName if your control run multiple actions\n     * depending on some external state.\n     * default to scale since is the most common, used on 4 corners by default\n     * @type {String}\n     * @default 'scale'\n     */\n    actionName: 'scale',\n\n    /**\n     * Drawing angle of the control.\n     * NOT used for now, but name marked as needed for internal logic\n     * example: to reuse the same drawing function for different rotated controls\n     * @type {Number}\n     * @default 0\n     */\n    angle: 0,\n\n    /**\n     * Relative position of the control. X\n     * 0,0 is the center of the Object, while -0.5 (left) or 0.5 (right) are the extremities\n     * of the bounding box.\n     * @type {Number}\n     * @default 0\n     */\n    x: 0,\n\n    /**\n     * Relative position of the control. Y\n     * 0,0 is the center of the Object, while -0.5 (top) or 0.5 (bottom) are the extremities\n     * of the bounding box.\n     * @type {Number}\n     * @default 0\n     */\n    y: 0,\n\n    /**\n     * Horizontal offset of the control from the defined position. In pixels\n     * Positive offset moves the control to the right, negative to the left.\n     * It used when you want to have position of control that does not scale with\n     * the bounding box. Example: rotation control is placed at x:0, y: 0.5 on\n     * the boundindbox, with an offset of 30 pixels vertically. Those 30 pixels will\n     * stay 30 pixels no matter how the object is big. Another example is having 2\n     * controls in the corner, that stay in the same position when the object scale.\n     * of the bounding box.\n     * @type {Number}\n     * @default 0\n     */\n    offsetX: 0,\n\n    /**\n     * Vertical offset of the control from the defined position. In pixels\n     * Positive offset moves the control to the bottom, negative to the top.\n     * @type {Number}\n     * @default 0\n     */\n    offsetY: 0,\n\n    /**\n     * Sets the length of the control. If null, defaults to object's cornerSize.\n     * Expects both sizeX and sizeY to be set when set.\n     * @type {?Number}\n     * @default null\n     */\n    sizeX: null,\n\n    /**\n     * Sets the height of the control. If null, defaults to object's cornerSize.\n     * Expects both sizeX and sizeY to be set when set.\n     * @type {?Number}\n     * @default null\n     */\n    sizeY: null,\n\n    /**\n     * Sets the length of the touch area of the control. If null, defaults to object's touchCornerSize.\n     * Expects both touchSizeX and touchSizeY to be set when set.\n     * @type {?Number}\n     * @default null\n     */\n    touchSizeX: null,\n\n    /**\n     * Sets the height of the touch area of the control. If null, defaults to object's touchCornerSize.\n     * Expects both touchSizeX and touchSizeY to be set when set.\n     * @type {?Number}\n     * @default null\n     */\n    touchSizeY: null,\n\n    /**\n     * Css cursor style to display when the control is hovered.\n     * if the method `cursorStyleHandler` is provided, this property is ignored.\n     * @type {String}\n     * @default 'crosshair'\n     */\n    cursorStyle: 'crosshair',\n\n    /**\n     * If controls has an offsetY or offsetX, draw a line that connects\n     * the control to the bounding box\n     * @type {Boolean}\n     * @default false\n     */\n    withConnection: false,\n\n    /**\n     * The control actionHandler, provide one to handle action ( control being moved )\n     * @param {Event} eventData the native mouse event\n     * @param {Object} transformData properties of the current transform\n     * @param {Number} x x position of the cursor\n     * @param {Number} y y position of the cursor\n     * @return {Boolean} true if the action/event modified the object\n     */\n    actionHandler: function(/* eventData, transformData, x, y */) { },\n\n    /**\n     * The control handler for mouse down, provide one to handle mouse down on control\n     * @param {Event} eventData the native mouse event\n     * @param {Object} transformData properties of the current transform\n     * @param {Number} x x position of the cursor\n     * @param {Number} y y position of the cursor\n     * @return {Boolean} true if the action/event modified the object\n     */\n    mouseDownHandler: function(/* eventData, transformData, x, y */) { },\n\n    /**\n     * The control mouseUpHandler, provide one to handle an effect on mouse up.\n     * @param {Event} eventData the native mouse event\n     * @param {Object} transformData properties of the current transform\n     * @param {Number} x x position of the cursor\n     * @param {Number} y y position of the cursor\n     * @return {Boolean} true if the action/event modified the object\n     */\n    mouseUpHandler: function(/* eventData, transformData, x, y */) { },\n\n    /**\n     * Returns control actionHandler\n     * @param {Event} eventData the native mouse event\n     * @param {fabric.Object} fabricObject on which the control is displayed\n     * @param {fabric.Control} control control for which the action handler is being asked\n     * @return {Function} the action handler\n     */\n    getActionHandler: function(/* eventData, fabricObject, control */) {\n      return this.actionHandler;\n    },\n\n    /**\n     * Returns control mouseDown handler\n     * @param {Event} eventData the native mouse event\n     * @param {fabric.Object} fabricObject on which the control is displayed\n     * @param {fabric.Control} control control for which the action handler is being asked\n     * @return {Function} the action handler\n     */\n    getMouseDownHandler: function(/* eventData, fabricObject, control */) {\n      return this.mouseDownHandler;\n    },\n\n    /**\n     * Returns control mouseUp handler\n     * @param {Event} eventData the native mouse event\n     * @param {fabric.Object} fabricObject on which the control is displayed\n     * @param {fabric.Control} control control for which the action handler is being asked\n     * @return {Function} the action handler\n     */\n    getMouseUpHandler: function(/* eventData, fabricObject, control */) {\n      return this.mouseUpHandler;\n    },\n\n    /**\n     * Returns control cursorStyle for css using cursorStyle. If you need a more elaborate\n     * function you can pass one in the constructor\n     * the cursorStyle property\n     * @param {Event} eventData the native mouse event\n     * @param {fabric.Control} control the current control ( likely this)\n     * @param {fabric.Object} object on which the control is displayed\n     * @return {String}\n     */\n    cursorStyleHandler: function(eventData, control /* fabricObject */) {\n      return control.cursorStyle;\n    },\n\n    /**\n     * Returns the action name. The basic implementation just return the actionName property.\n     * @param {Event} eventData the native mouse event\n     * @param {fabric.Control} control the current control ( likely this)\n     * @param {fabric.Object} object on which the control is displayed\n     * @return {String}\n     */\n    getActionName: function(eventData, control /* fabricObject */) {\n      return control.actionName;\n    },\n\n    /**\n     * Returns controls visibility\n     * @param {fabric.Object} object on which the control is displayed\n     * @param {String} controlKey key where the control is memorized on the\n     * @return {Boolean}\n     */\n    getVisibility: function(fabricObject, controlKey) {\n      var objectVisibility = fabricObject._controlsVisibility;\n      if (objectVisibility && typeof objectVisibility[controlKey] !== 'undefined') {\n        return objectVisibility[controlKey];\n      }\n      return this.visible;\n    },\n\n    /**\n     * Sets controls visibility\n     * @param {Boolean} visibility for the object\n     * @return {Void}\n     */\n    setVisibility: function(visibility /* name, fabricObject */) {\n      this.visible = visibility;\n    },\n\n\n    positionHandler: function(dim, finalMatrix /*, fabricObject, currentControl */) {\n      var point = fabric.util.transformPoint({\n        x: this.x * dim.x + this.offsetX,\n        y: this.y * dim.y + this.offsetY }, finalMatrix);\n      return point;\n    },\n\n    /**\n     * Returns the coords for this control based on object values.\n     * @param {Number} objectAngle angle from the fabric object holding the control\n     * @param {Number} objectCornerSize cornerSize from the fabric object holding the control (or touchCornerSize if\n     *   isTouch is true)\n     * @param {Number} centerX x coordinate where the control center should be\n     * @param {Number} centerY y coordinate where the control center should be\n     * @param {boolean} isTouch true if touch corner, false if normal corner\n     */\n    calcCornerCoords: function(objectAngle, objectCornerSize, centerX, centerY, isTouch) {\n      var cosHalfOffset,\n          sinHalfOffset,\n          cosHalfOffsetComp,\n          sinHalfOffsetComp,\n          xSize = (isTouch) ? this.touchSizeX : this.sizeX,\n          ySize = (isTouch) ? this.touchSizeY : this.sizeY;\n      if (xSize && ySize && xSize !== ySize) {\n        // handle rectangular corners\n        var controlTriangleAngle = Math.atan2(ySize, xSize);\n        var cornerHypotenuse = Math.sqrt(xSize * xSize + ySize * ySize) / 2;\n        var newTheta = controlTriangleAngle - fabric.util.degreesToRadians(objectAngle);\n        var newThetaComp = Math.PI / 2 - controlTriangleAngle - fabric.util.degreesToRadians(objectAngle);\n        cosHalfOffset = cornerHypotenuse * fabric.util.cos(newTheta);\n        sinHalfOffset = cornerHypotenuse * fabric.util.sin(newTheta);\n        // use complementary angle for two corners\n        cosHalfOffsetComp = cornerHypotenuse * fabric.util.cos(newThetaComp);\n        sinHalfOffsetComp = cornerHypotenuse * fabric.util.sin(newThetaComp);\n      }\n      else {\n        // handle square corners\n        // use default object corner size unless size is defined\n        var cornerSize = (xSize && ySize) ? xSize : objectCornerSize;\n        /* 0.7071067812 stands for sqrt(2)/2 */\n        cornerHypotenuse = cornerSize * 0.7071067812;\n        // complementary angles are equal since they're both 45 degrees\n        var newTheta = fabric.util.degreesToRadians(45 - objectAngle);\n        cosHalfOffset = cosHalfOffsetComp = cornerHypotenuse * fabric.util.cos(newTheta);\n        sinHalfOffset = sinHalfOffsetComp = cornerHypotenuse * fabric.util.sin(newTheta);\n      }\n\n      return {\n        tl: {\n          x: centerX - sinHalfOffsetComp,\n          y: centerY - cosHalfOffsetComp,\n        },\n        tr: {\n          x: centerX + cosHalfOffset,\n          y: centerY - sinHalfOffset,\n        },\n        bl: {\n          x: centerX - cosHalfOffset,\n          y: centerY + sinHalfOffset,\n        },\n        br: {\n          x: centerX + sinHalfOffsetComp,\n          y: centerY + cosHalfOffsetComp,\n        },\n      };\n    },\n\n    /**\n    * Render function for the control.\n    * When this function runs the context is unscaled. unrotate. Just retina scaled.\n    * all the functions will have to translate to the point left,top before starting Drawing\n    * if they want to draw a control where the position is detected.\n    * left and top are the result of the positionHandler function\n    * @param {RenderingContext2D} ctx the context where the control will be drawn\n    * @param {Number} left position of the canvas where we are about to render the control.\n    * @param {Number} top position of the canvas where we are about to render the control.\n    * @param {Object} styleOverride\n    * @param {fabric.Object} fabricObject the object where the control is about to be rendered\n    */\n    render: function(ctx, left, top, styleOverride, fabricObject) {\n      styleOverride = styleOverride || {};\n      switch (styleOverride.cornerStyle || fabricObject.cornerStyle) {\n        case 'circle':\n          fabric.controlsUtils.renderCircleControl.call(this, ctx, left, top, styleOverride, fabricObject);\n          break;\n        default:\n          fabric.controlsUtils.renderSquareControl.call(this, ctx, left, top, styleOverride, fabricObject);\n      }\n    },\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function() {\n\n  /* _FROM_SVG_START_ */\n  function getColorStop(el, multiplier) {\n    var style = el.getAttribute('style'),\n        offset = el.getAttribute('offset') || 0,\n        color, colorAlpha, opacity, i;\n\n    // convert percents to absolute values\n    offset = parseFloat(offset) / (/%$/.test(offset) ? 100 : 1);\n    offset = offset < 0 ? 0 : offset > 1 ? 1 : offset;\n    if (style) {\n      var keyValuePairs = style.split(/\\s*;\\s*/);\n\n      if (keyValuePairs[keyValuePairs.length - 1] === '') {\n        keyValuePairs.pop();\n      }\n\n      for (i = keyValuePairs.length; i--; ) {\n\n        var split = keyValuePairs[i].split(/\\s*:\\s*/),\n            key = split[0].trim(),\n            value = split[1].trim();\n\n        if (key === 'stop-color') {\n          color = value;\n        }\n        else if (key === 'stop-opacity') {\n          opacity = value;\n        }\n      }\n    }\n\n    if (!color) {\n      color = el.getAttribute('stop-color') || 'rgb(0,0,0)';\n    }\n    if (!opacity) {\n      opacity = el.getAttribute('stop-opacity');\n    }\n\n    color = new fabric.Color(color);\n    colorAlpha = color.getAlpha();\n    opacity = isNaN(parseFloat(opacity)) ? 1 : parseFloat(opacity);\n    opacity *= colorAlpha * multiplier;\n\n    return {\n      offset: offset,\n      color: color.toRgb(),\n      opacity: opacity\n    };\n  }\n\n  function getLinearCoords(el) {\n    return {\n      x1: el.getAttribute('x1') || 0,\n      y1: el.getAttribute('y1') || 0,\n      x2: el.getAttribute('x2') || '100%',\n      y2: el.getAttribute('y2') || 0\n    };\n  }\n\n  function getRadialCoords(el) {\n    return {\n      x1: el.getAttribute('fx') || el.getAttribute('cx') || '50%',\n      y1: el.getAttribute('fy') || el.getAttribute('cy') || '50%',\n      r1: 0,\n      x2: el.getAttribute('cx') || '50%',\n      y2: el.getAttribute('cy') || '50%',\n      r2: el.getAttribute('r') || '50%'\n    };\n  }\n  /* _FROM_SVG_END_ */\n\n  var clone = fabric.util.object.clone;\n\n  /**\n   * Gradient class\n   * @class fabric.Gradient\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#gradients}\n   * @see {@link fabric.Gradient#initialize} for constructor definition\n   */\n  fabric.Gradient = fabric.util.createClass(/** @lends fabric.Gradient.prototype */ {\n\n    /**\n     * Horizontal offset for aligning gradients coming from SVG when outside pathgroups\n     * @type Number\n     * @default 0\n     */\n    offsetX: 0,\n\n    /**\n     * Vertical offset for aligning gradients coming from SVG when outside pathgroups\n     * @type Number\n     * @default 0\n     */\n    offsetY: 0,\n\n    /**\n     * A transform matrix to apply to the gradient before painting.\n     * Imported from svg gradients, is not applied with the current transform in the center.\n     * Before this transform is applied, the origin point is at the top left corner of the object\n     * plus the addition of offsetY and offsetX.\n     * @type Number[]\n     * @default null\n     */\n    gradientTransform: null,\n\n    /**\n     * coordinates units for coords.\n     * If `pixels`, the number of coords are in the same unit of width / height.\n     * If set as `percentage` the coords are still a number, but 1 means 100% of width\n     * for the X and 100% of the height for the y. It can be bigger than 1 and negative.\n     * allowed values pixels or percentage.\n     * @type String\n     * @default 'pixels'\n     */\n    gradientUnits: 'pixels',\n\n    /**\n     * Gradient type linear or radial\n     * @type String\n     * @default 'pixels'\n     */\n    type: 'linear',\n\n    /**\n     * Constructor\n     * @param {Object} options Options object with type, coords, gradientUnits and colorStops\n     * @param {Object} [options.type] gradient type linear or radial\n     * @param {Object} [options.gradientUnits] gradient units\n     * @param {Object} [options.offsetX] SVG import compatibility\n     * @param {Object} [options.offsetY] SVG import compatibility\n     * @param {Object[]} options.colorStops contains the colorstops.\n     * @param {Object} options.coords contains the coords of the gradient\n     * @param {Number} [options.coords.x1] X coordiante of the first point for linear or of the focal point for radial\n     * @param {Number} [options.coords.y1] Y coordiante of the first point for linear or of the focal point for radial\n     * @param {Number} [options.coords.x2] X coordiante of the second point for linear or of the center point for radial\n     * @param {Number} [options.coords.y2] Y coordiante of the second point for linear or of the center point for radial\n     * @param {Number} [options.coords.r1] only for radial gradient, radius of the inner circle\n     * @param {Number} [options.coords.r2] only for radial gradient, radius of the external circle\n     * @return {fabric.Gradient} thisArg\n     */\n    initialize: function(options) {\n      options || (options = { });\n      options.coords || (options.coords = { });\n\n      var coords, _this = this;\n\n      // sets everything, then coords and colorstops get sets again\n      Object.keys(options).forEach(function(option) {\n        _this[option] = options[option];\n      });\n\n      if (this.id) {\n        this.id += '_' + fabric.Object.__uid++;\n      }\n      else {\n        this.id = fabric.Object.__uid++;\n      }\n\n      coords = {\n        x1: options.coords.x1 || 0,\n        y1: options.coords.y1 || 0,\n        x2: options.coords.x2 || 0,\n        y2: options.coords.y2 || 0\n      };\n\n      if (this.type === 'radial') {\n        coords.r1 = options.coords.r1 || 0;\n        coords.r2 = options.coords.r2 || 0;\n      }\n\n      this.coords = coords;\n      this.colorStops = options.colorStops.slice();\n    },\n\n    /**\n     * Adds another colorStop\n     * @param {Object} colorStop Object with offset and color\n     * @return {fabric.Gradient} thisArg\n     */\n    addColorStop: function(colorStops) {\n      for (var position in colorStops) {\n        var color = new fabric.Color(colorStops[position]);\n        this.colorStops.push({\n          offset: parseFloat(position),\n          color: color.toRgb(),\n          opacity: color.getAlpha()\n        });\n      }\n      return this;\n    },\n\n    /**\n     * Returns object representation of a gradient\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object}\n     */\n    toObject: function(propertiesToInclude) {\n      var object = {\n        type: this.type,\n        coords: this.coords,\n        colorStops: this.colorStops,\n        offsetX: this.offsetX,\n        offsetY: this.offsetY,\n        gradientUnits: this.gradientUnits,\n        gradientTransform: this.gradientTransform ? this.gradientTransform.concat() : this.gradientTransform\n      };\n      fabric.util.populateWithProperties(this, object, propertiesToInclude);\n\n      return object;\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns SVG representation of an gradient\n     * @param {Object} object Object to create a gradient for\n     * @return {String} SVG representation of an gradient (linear/radial)\n     */\n    toSVG: function(object, options) {\n      var coords = clone(this.coords, true), i, len, options = options || {},\n          markup, commonAttributes, colorStops = clone(this.colorStops, true),\n          needsSwap = coords.r1 > coords.r2,\n          transform = this.gradientTransform ? this.gradientTransform.concat() : fabric.iMatrix.concat(),\n          offsetX = -this.offsetX, offsetY = -this.offsetY,\n          withViewport = !!options.additionalTransform,\n          gradientUnits = this.gradientUnits === 'pixels' ? 'userSpaceOnUse' : 'objectBoundingBox';\n      // colorStops must be sorted ascending\n      colorStops.sort(function(a, b) {\n        return a.offset - b.offset;\n      });\n\n      if (gradientUnits === 'objectBoundingBox') {\n        offsetX /= object.width;\n        offsetY /= object.height;\n      }\n      else {\n        offsetX += object.width / 2;\n        offsetY += object.height / 2;\n      }\n      if (object.type === 'path' && this.gradientUnits !== 'percentage') {\n        offsetX -= object.pathOffset.x;\n        offsetY -= object.pathOffset.y;\n      }\n\n\n      transform[4] -= offsetX;\n      transform[5] -= offsetY;\n\n      commonAttributes = 'id=\"SVGID_' + this.id +\n                     '\" gradientUnits=\"' + gradientUnits + '\"';\n      commonAttributes += ' gradientTransform=\"' + (withViewport ?\n        options.additionalTransform + ' ' : '') + fabric.util.matrixToSVG(transform) + '\" ';\n\n      if (this.type === 'linear') {\n        markup = [\n          '<linearGradient ',\n          commonAttributes,\n          ' x1=\"', coords.x1,\n          '\" y1=\"', coords.y1,\n          '\" x2=\"', coords.x2,\n          '\" y2=\"', coords.y2,\n          '\">\\n'\n        ];\n      }\n      else if (this.type === 'radial') {\n        // svg radial gradient has just 1 radius. the biggest.\n        markup = [\n          '<radialGradient ',\n          commonAttributes,\n          ' cx=\"', needsSwap ? coords.x1 : coords.x2,\n          '\" cy=\"', needsSwap ? coords.y1 : coords.y2,\n          '\" r=\"', needsSwap ? coords.r1 : coords.r2,\n          '\" fx=\"', needsSwap ? coords.x2 : coords.x1,\n          '\" fy=\"', needsSwap ? coords.y2 : coords.y1,\n          '\">\\n'\n        ];\n      }\n\n      if (this.type === 'radial') {\n        if (needsSwap) {\n          // svg goes from internal to external radius. if radius are inverted, swap color stops.\n          colorStops = colorStops.concat();\n          colorStops.reverse();\n          for (i = 0, len = colorStops.length; i < len; i++) {\n            colorStops[i].offset = 1 - colorStops[i].offset;\n          }\n        }\n        var minRadius = Math.min(coords.r1, coords.r2);\n        if (minRadius > 0) {\n          // i have to shift all colorStops and add new one in 0.\n          var maxRadius = Math.max(coords.r1, coords.r2),\n              percentageShift = minRadius / maxRadius;\n          for (i = 0, len = colorStops.length; i < len; i++) {\n            colorStops[i].offset += percentageShift * (1 - colorStops[i].offset);\n          }\n        }\n      }\n\n      for (i = 0, len = colorStops.length; i < len; i++) {\n        var colorStop = colorStops[i];\n        markup.push(\n          '<stop ',\n          'offset=\"', (colorStop.offset * 100) + '%',\n          '\" style=\"stop-color:', colorStop.color,\n          (typeof colorStop.opacity !== 'undefined' ? ';stop-opacity: ' + colorStop.opacity : ';'),\n          '\"/>\\n'\n        );\n      }\n\n      markup.push((this.type === 'linear' ? '</linearGradient>\\n' : '</radialGradient>\\n'));\n\n      return markup.join('');\n    },\n    /* _TO_SVG_END_ */\n\n    /**\n     * Returns an instance of CanvasGradient\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @return {CanvasGradient}\n     */\n    toLive: function(ctx) {\n      var gradient, coords = fabric.util.object.clone(this.coords), i, len;\n\n      if (!this.type) {\n        return;\n      }\n\n      if (this.type === 'linear') {\n        gradient = ctx.createLinearGradient(\n          coords.x1, coords.y1, coords.x2, coords.y2);\n      }\n      else if (this.type === 'radial') {\n        gradient = ctx.createRadialGradient(\n          coords.x1, coords.y1, coords.r1, coords.x2, coords.y2, coords.r2);\n      }\n\n      for (i = 0, len = this.colorStops.length; i < len; i++) {\n        var color = this.colorStops[i].color,\n            opacity = this.colorStops[i].opacity,\n            offset = this.colorStops[i].offset;\n\n        if (typeof opacity !== 'undefined') {\n          color = new fabric.Color(color).setAlpha(opacity).toRgba();\n        }\n        gradient.addColorStop(offset, color);\n      }\n\n      return gradient;\n    }\n  });\n\n  fabric.util.object.extend(fabric.Gradient, {\n\n    /* _FROM_SVG_START_ */\n    /**\n     * Returns {@link fabric.Gradient} instance from an SVG element\n     * @static\n     * @memberOf fabric.Gradient\n     * @param {SVGGradientElement} el SVG gradient element\n     * @param {fabric.Object} instance\n     * @param {String} opacityAttr A fill-opacity or stroke-opacity attribute to multiply to each stop's opacity.\n     * @param {Object} svgOptions an object containing the size of the SVG in order to parse correctly gradients\n     * that uses gradientUnits as 'userSpaceOnUse' and percentages.\n     * @param {Object.number} viewBoxWidth width part of the viewBox attribute on svg\n     * @param {Object.number} viewBoxHeight height part of the viewBox attribute on svg\n     * @param {Object.number} width width part of the svg tag if viewBox is not specified\n     * @param {Object.number} height height part of the svg tag if viewBox is not specified\n     * @return {fabric.Gradient} Gradient instance\n     * @see http://www.w3.org/TR/SVG/pservers.html#LinearGradientElement\n     * @see http://www.w3.org/TR/SVG/pservers.html#RadialGradientElement\n     */\n    fromElement: function(el, instance, opacityAttr, svgOptions) {\n      /**\n       *  @example:\n       *\n       *  <linearGradient id=\"linearGrad1\">\n       *    <stop offset=\"0%\" stop-color=\"white\"/>\n       *    <stop offset=\"100%\" stop-color=\"black\"/>\n       *  </linearGradient>\n       *\n       *  OR\n       *\n       *  <linearGradient id=\"linearGrad2\">\n       *    <stop offset=\"0\" style=\"stop-color:rgb(255,255,255)\"/>\n       *    <stop offset=\"1\" style=\"stop-color:rgb(0,0,0)\"/>\n       *  </linearGradient>\n       *\n       *  OR\n       *\n       *  <radialGradient id=\"radialGrad1\">\n       *    <stop offset=\"0%\" stop-color=\"white\" stop-opacity=\"1\" />\n       *    <stop offset=\"50%\" stop-color=\"black\" stop-opacity=\"0.5\" />\n       *    <stop offset=\"100%\" stop-color=\"white\" stop-opacity=\"1\" />\n       *  </radialGradient>\n       *\n       *  OR\n       *\n       *  <radialGradient id=\"radialGrad2\">\n       *    <stop offset=\"0\" stop-color=\"rgb(255,255,255)\" />\n       *    <stop offset=\"0.5\" stop-color=\"rgb(0,0,0)\" />\n       *    <stop offset=\"1\" stop-color=\"rgb(255,255,255)\" />\n       *  </radialGradient>\n       *\n       */\n\n      var multiplier = parseFloat(opacityAttr) / (/%$/.test(opacityAttr) ? 100 : 1);\n      multiplier = multiplier < 0 ? 0 : multiplier > 1 ? 1 : multiplier;\n      if (isNaN(multiplier)) {\n        multiplier = 1;\n      }\n\n      var colorStopEls = el.getElementsByTagName('stop'),\n          type,\n          gradientUnits = el.getAttribute('gradientUnits') === 'userSpaceOnUse' ?\n            'pixels' : 'percentage',\n          gradientTransform = el.getAttribute('gradientTransform') || '',\n          colorStops = [],\n          coords, i, offsetX = 0, offsetY = 0,\n          transformMatrix;\n      if (el.nodeName === 'linearGradient' || el.nodeName === 'LINEARGRADIENT') {\n        type = 'linear';\n        coords = getLinearCoords(el);\n      }\n      else {\n        type = 'radial';\n        coords = getRadialCoords(el);\n      }\n\n      for (i = colorStopEls.length; i--; ) {\n        colorStops.push(getColorStop(colorStopEls[i], multiplier));\n      }\n\n      transformMatrix = fabric.parseTransformAttribute(gradientTransform);\n\n      __convertPercentUnitsToValues(instance, coords, svgOptions, gradientUnits);\n\n      if (gradientUnits === 'pixels') {\n        offsetX = -instance.left;\n        offsetY = -instance.top;\n      }\n\n      var gradient = new fabric.Gradient({\n        id: el.getAttribute('id'),\n        type: type,\n        coords: coords,\n        colorStops: colorStops,\n        gradientUnits: gradientUnits,\n        gradientTransform: transformMatrix,\n        offsetX: offsetX,\n        offsetY: offsetY,\n      });\n\n      return gradient;\n    }\n    /* _FROM_SVG_END_ */\n  });\n\n  /**\n   * @private\n   */\n  function __convertPercentUnitsToValues(instance, options, svgOptions, gradientUnits) {\n    var propValue, finalValue;\n    Object.keys(options).forEach(function(prop) {\n      propValue = options[prop];\n      if (propValue === 'Infinity') {\n        finalValue = 1;\n      }\n      else if (propValue === '-Infinity') {\n        finalValue = 0;\n      }\n      else {\n        finalValue = parseFloat(options[prop], 10);\n        if (typeof propValue === 'string' && /^(\\d+\\.\\d+)%|(\\d+)%$/.test(propValue)) {\n          finalValue *= 0.01;\n          if (gradientUnits === 'pixels') {\n            // then we need to fix those percentages here in svg parsing\n            if (prop === 'x1' || prop === 'x2' || prop === 'r2') {\n              finalValue *= svgOptions.viewBoxWidth || svgOptions.width;\n            }\n            if (prop === 'y1' || prop === 'y2') {\n              finalValue *= svgOptions.viewBoxHeight || svgOptions.height;\n            }\n          }\n        }\n      }\n      options[prop] = finalValue;\n    });\n  }\n})();\n\n\n(function() {\n\n  'use strict';\n\n  var toFixed = fabric.util.toFixed;\n\n  /**\n   * Pattern class\n   * @class fabric.Pattern\n   * @see {@link http://fabricjs.com/patterns|Pattern demo}\n   * @see {@link http://fabricjs.com/dynamic-patterns|DynamicPattern demo}\n   * @see {@link fabric.Pattern#initialize} for constructor definition\n   */\n\n\n  fabric.Pattern = fabric.util.createClass(/** @lends fabric.Pattern.prototype */ {\n\n    /**\n     * Repeat property of a pattern (one of repeat, repeat-x, repeat-y or no-repeat)\n     * @type String\n     * @default\n     */\n    repeat: 'repeat',\n\n    /**\n     * Pattern horizontal offset from object's left/top corner\n     * @type Number\n     * @default\n     */\n    offsetX: 0,\n\n    /**\n     * Pattern vertical offset from object's left/top corner\n     * @type Number\n     * @default\n     */\n    offsetY: 0,\n\n    /**\n     * crossOrigin value (one of \"\", \"anonymous\", \"use-credentials\")\n     * @see https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes\n     * @type String\n     * @default\n     */\n    crossOrigin: '',\n\n    /**\n     * transform matrix to change the pattern, imported from svgs.\n     * @type Array\n     * @default\n     */\n    patternTransform: null,\n\n    /**\n     * Constructor\n     * @param {Object} [options] Options object\n     * @param {Function} [callback] function to invoke after callback init.\n     * @return {fabric.Pattern} thisArg\n     */\n    initialize: function(options, callback) {\n      options || (options = { });\n\n      this.id = fabric.Object.__uid++;\n      this.setOptions(options);\n      if (!options.source || (options.source && typeof options.source !== 'string')) {\n        callback && callback(this);\n        return;\n      }\n      else {\n        // img src string\n        var _this = this;\n        this.source = fabric.util.createImage();\n        fabric.util.loadImage(options.source, function(img, isError) {\n          _this.source = img;\n          callback && callback(_this, isError);\n        }, null, this.crossOrigin);\n      }\n    },\n\n    /**\n     * Returns object representation of a pattern\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} Object representation of a pattern instance\n     */\n    toObject: function(propertiesToInclude) {\n      var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS,\n          source, object;\n\n      // <img> element\n      if (typeof this.source.src === 'string') {\n        source = this.source.src;\n      }\n      // <canvas> element\n      else if (typeof this.source === 'object' && this.source.toDataURL) {\n        source = this.source.toDataURL();\n      }\n\n      object = {\n        type: 'pattern',\n        source: source,\n        repeat: this.repeat,\n        crossOrigin: this.crossOrigin,\n        offsetX: toFixed(this.offsetX, NUM_FRACTION_DIGITS),\n        offsetY: toFixed(this.offsetY, NUM_FRACTION_DIGITS),\n        patternTransform: this.patternTransform ? this.patternTransform.concat() : null\n      };\n      fabric.util.populateWithProperties(this, object, propertiesToInclude);\n\n      return object;\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns SVG representation of a pattern\n     * @param {fabric.Object} object\n     * @return {String} SVG representation of a pattern\n     */\n    toSVG: function(object) {\n      var patternSource = typeof this.source === 'function' ? this.source() : this.source,\n          patternWidth = patternSource.width / object.width,\n          patternHeight = patternSource.height / object.height,\n          patternOffsetX = this.offsetX / object.width,\n          patternOffsetY = this.offsetY / object.height,\n          patternImgSrc = '';\n      if (this.repeat === 'repeat-x' || this.repeat === 'no-repeat') {\n        patternHeight = 1;\n        if (patternOffsetY) {\n          patternHeight += Math.abs(patternOffsetY);\n        }\n      }\n      if (this.repeat === 'repeat-y' || this.repeat === 'no-repeat') {\n        patternWidth = 1;\n        if (patternOffsetX) {\n          patternWidth += Math.abs(patternOffsetX);\n        }\n\n      }\n      if (patternSource.src) {\n        patternImgSrc = patternSource.src;\n      }\n      else if (patternSource.toDataURL) {\n        patternImgSrc = patternSource.toDataURL();\n      }\n\n      return '<pattern id=\"SVGID_' + this.id +\n                    '\" x=\"' + patternOffsetX +\n                    '\" y=\"' + patternOffsetY +\n                    '\" width=\"' + patternWidth +\n                    '\" height=\"' + patternHeight + '\">\\n' +\n               '<image x=\"0\" y=\"0\"' +\n                      ' width=\"' + patternSource.width +\n                      '\" height=\"' + patternSource.height +\n                      '\" xlink:href=\"' + patternImgSrc +\n               '\"></image>\\n' +\n             '</pattern>\\n';\n    },\n    /* _TO_SVG_END_ */\n\n    setOptions: function(options) {\n      for (var prop in options) {\n        this[prop] = options[prop];\n      }\n    },\n\n    /**\n     * Returns an instance of CanvasPattern\n     * @param {CanvasRenderingContext2D} ctx Context to create pattern\n     * @return {CanvasPattern}\n     */\n    toLive: function(ctx) {\n      var source = this.source;\n      // if the image failed to load, return, and allow rest to continue loading\n      if (!source) {\n        return '';\n      }\n\n      // if an image\n      if (typeof source.src !== 'undefined') {\n        if (!source.complete) {\n          return '';\n        }\n        if (source.naturalWidth === 0 || source.naturalHeight === 0) {\n          return '';\n        }\n      }\n      return ctx.createPattern(source, this.repeat);\n    }\n  });\n})();\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      toFixed = fabric.util.toFixed;\n\n  if (fabric.Shadow) {\n    fabric.warn('fabric.Shadow is already defined.');\n    return;\n  }\n\n  /**\n   * Shadow class\n   * @class fabric.Shadow\n   * @see {@link http://fabricjs.com/shadows|Shadow demo}\n   * @see {@link fabric.Shadow#initialize} for constructor definition\n   */\n  fabric.Shadow = fabric.util.createClass(/** @lends fabric.Shadow.prototype */ {\n\n    /**\n     * Shadow color\n     * @type String\n     * @default\n     */\n    color: 'rgb(0,0,0)',\n\n    /**\n     * Shadow blur\n     * @type Number\n     */\n    blur: 0,\n\n    /**\n     * Shadow horizontal offset\n     * @type Number\n     * @default\n     */\n    offsetX: 0,\n\n    /**\n     * Shadow vertical offset\n     * @type Number\n     * @default\n     */\n    offsetY: 0,\n\n    /**\n     * Whether the shadow should affect stroke operations\n     * @type Boolean\n     * @default\n     */\n    affectStroke: false,\n\n    /**\n     * Indicates whether toObject should include default values\n     * @type Boolean\n     * @default\n     */\n    includeDefaultValues: true,\n\n    /**\n     * When `false`, the shadow will scale with the object.\n     * When `true`, the shadow's offsetX, offsetY, and blur will not be affected by the object's scale.\n     * default to false\n     * @type Boolean\n     * @default\n     */\n    nonScaling: false,\n\n    /**\n     * Constructor\n     * @param {Object|String} [options] Options object with any of color, blur, offsetX, offsetY properties or string (e.g. \"rgba(0,0,0,0.2) 2px 2px 10px\")\n     * @return {fabric.Shadow} thisArg\n     */\n    initialize: function(options) {\n\n      if (typeof options === 'string') {\n        options = this._parseShadow(options);\n      }\n\n      for (var prop in options) {\n        this[prop] = options[prop];\n      }\n\n      this.id = fabric.Object.__uid++;\n    },\n\n    /**\n     * @private\n     * @param {String} shadow Shadow value to parse\n     * @return {Object} Shadow object with color, offsetX, offsetY and blur\n     */\n    _parseShadow: function(shadow) {\n      var shadowStr = shadow.trim(),\n          offsetsAndBlur = fabric.Shadow.reOffsetsAndBlur.exec(shadowStr) || [],\n          color = shadowStr.replace(fabric.Shadow.reOffsetsAndBlur, '') || 'rgb(0,0,0)';\n\n      return {\n        color: color.trim(),\n        offsetX: parseInt(offsetsAndBlur[1], 10) || 0,\n        offsetY: parseInt(offsetsAndBlur[2], 10) || 0,\n        blur: parseInt(offsetsAndBlur[3], 10) || 0\n      };\n    },\n\n    /**\n     * Returns a string representation of an instance\n     * @see http://www.w3.org/TR/css-text-decor-3/#text-shadow\n     * @return {String} Returns CSS3 text-shadow declaration\n     */\n    toString: function() {\n      return [this.offsetX, this.offsetY, this.blur, this.color].join('px ');\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns SVG representation of a shadow\n     * @param {fabric.Object} object\n     * @return {String} SVG representation of a shadow\n     */\n    toSVG: function(object) {\n      var fBoxX = 40, fBoxY = 40, NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS,\n          offset = fabric.util.rotateVector(\n            { x: this.offsetX, y: this.offsetY },\n            fabric.util.degreesToRadians(-object.angle)),\n          BLUR_BOX = 20, color = new fabric.Color(this.color);\n\n      if (object.width && object.height) {\n        //http://www.w3.org/TR/SVG/filters.html#FilterEffectsRegion\n        // we add some extra space to filter box to contain the blur ( 20 )\n        fBoxX = toFixed((Math.abs(offset.x) + this.blur) / object.width, NUM_FRACTION_DIGITS) * 100 + BLUR_BOX;\n        fBoxY = toFixed((Math.abs(offset.y) + this.blur) / object.height, NUM_FRACTION_DIGITS) * 100 + BLUR_BOX;\n      }\n      if (object.flipX) {\n        offset.x *= -1;\n      }\n      if (object.flipY) {\n        offset.y *= -1;\n      }\n\n      return (\n        '<filter id=\"SVGID_' + this.id + '\" y=\"-' + fBoxY + '%\" height=\"' + (100 + 2 * fBoxY) + '%\" ' +\n          'x=\"-' + fBoxX + '%\" width=\"' + (100 + 2 * fBoxX) + '%\" ' + '>\\n' +\n          '\\t<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"' +\n            toFixed(this.blur ? this.blur / 2 : 0, NUM_FRACTION_DIGITS) + '\"></feGaussianBlur>\\n' +\n          '\\t<feOffset dx=\"' + toFixed(offset.x, NUM_FRACTION_DIGITS) +\n          '\" dy=\"' + toFixed(offset.y, NUM_FRACTION_DIGITS) + '\" result=\"oBlur\" ></feOffset>\\n' +\n          '\\t<feFlood flood-color=\"' + color.toRgb() + '\" flood-opacity=\"' + color.getAlpha() + '\"/>\\n' +\n          '\\t<feComposite in2=\"oBlur\" operator=\"in\" />\\n' +\n          '\\t<feMerge>\\n' +\n            '\\t\\t<feMergeNode></feMergeNode>\\n' +\n            '\\t\\t<feMergeNode in=\"SourceGraphic\"></feMergeNode>\\n' +\n          '\\t</feMerge>\\n' +\n        '</filter>\\n');\n    },\n    /* _TO_SVG_END_ */\n\n    /**\n     * Returns object representation of a shadow\n     * @return {Object} Object representation of a shadow instance\n     */\n    toObject: function() {\n      if (this.includeDefaultValues) {\n        return {\n          color: this.color,\n          blur: this.blur,\n          offsetX: this.offsetX,\n          offsetY: this.offsetY,\n          affectStroke: this.affectStroke,\n          nonScaling: this.nonScaling\n        };\n      }\n      var obj = { }, proto = fabric.Shadow.prototype;\n\n      ['color', 'blur', 'offsetX', 'offsetY', 'affectStroke', 'nonScaling'].forEach(function(prop) {\n        if (this[prop] !== proto[prop]) {\n          obj[prop] = this[prop];\n        }\n      }, this);\n\n      return obj;\n    }\n  });\n\n  /**\n   * Regex matching shadow offsetX, offsetY and blur (ex: \"2px 2px 10px rgba(0,0,0,0.2)\", \"rgb(0,255,0) 2px 2px\")\n   * @static\n   * @field\n   * @memberOf fabric.Shadow\n   */\n  // eslint-disable-next-line max-len\n  fabric.Shadow.reOffsetsAndBlur = /(?:\\s|^)(-?\\d+(?:px)?(?:\\s?|$))?(-?\\d+(?:px)?(?:\\s?|$))?(\\d+(?:px)?)?(?:\\s?|$)(?:$|\\s)/;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function () {\n\n  'use strict';\n\n  if (fabric.StaticCanvas) {\n    fabric.warn('fabric.StaticCanvas is already defined.');\n    return;\n  }\n\n  // aliases for faster resolution\n  var extend = fabric.util.object.extend,\n      getElementOffset = fabric.util.getElementOffset,\n      removeFromArray = fabric.util.removeFromArray,\n      toFixed = fabric.util.toFixed,\n      transformPoint = fabric.util.transformPoint,\n      invertTransform = fabric.util.invertTransform,\n      getNodeCanvas = fabric.util.getNodeCanvas,\n      createCanvasElement = fabric.util.createCanvasElement,\n\n      CANVAS_INIT_ERROR = new Error('Could not initialize `canvas` element');\n\n  /**\n   * Static canvas class\n   * @class fabric.StaticCanvas\n   * @mixes fabric.Collection\n   * @mixes fabric.Observable\n   * @see {@link http://fabricjs.com/static_canvas|StaticCanvas demo}\n   * @see {@link fabric.StaticCanvas#initialize} for constructor definition\n   * @fires before:render\n   * @fires after:render\n   * @fires canvas:cleared\n   * @fires object:added\n   * @fires object:removed\n   */\n  fabric.StaticCanvas = fabric.util.createClass(fabric.CommonMethods, /** @lends fabric.StaticCanvas.prototype */ {\n\n    /**\n     * Constructor\n     * @param {HTMLElement | String} el &lt;canvas> element to initialize instance on\n     * @param {Object} [options] Options object\n     * @return {Object} thisArg\n     */\n    initialize: function(el, options) {\n      options || (options = { });\n      this.renderAndResetBound = this.renderAndReset.bind(this);\n      this.requestRenderAllBound = this.requestRenderAll.bind(this);\n      this._initStatic(el, options);\n    },\n\n    /**\n     * Background color of canvas instance.\n     * Should be set via {@link fabric.StaticCanvas#setBackgroundColor}.\n     * @type {(String|fabric.Pattern)}\n     * @default\n     */\n    backgroundColor: '',\n\n    /**\n     * Background image of canvas instance.\n     * since 2.4.0 image caching is active, please when putting an image as background, add to the\n     * canvas property a reference to the canvas it is on. Otherwise the image cannot detect the zoom\n     * vale. As an alternative you can disable image objectCaching\n     * @type fabric.Image\n     * @default\n     */\n    backgroundImage: null,\n\n    /**\n     * Overlay color of canvas instance.\n     * Should be set via {@link fabric.StaticCanvas#setOverlayColor}\n     * @since 1.3.9\n     * @type {(String|fabric.Pattern)}\n     * @default\n     */\n    overlayColor: '',\n\n    /**\n     * Overlay image of canvas instance.\n     * since 2.4.0 image caching is active, please when putting an image as overlay, add to the\n     * canvas property a reference to the canvas it is on. Otherwise the image cannot detect the zoom\n     * vale. As an alternative you can disable image objectCaching\n     * @type fabric.Image\n     * @default\n     */\n    overlayImage: null,\n\n    /**\n     * Indicates whether toObject/toDatalessObject should include default values\n     * if set to false, takes precedence over the object value.\n     * @type Boolean\n     * @default\n     */\n    includeDefaultValues: true,\n\n    /**\n     * Indicates whether objects' state should be saved\n     * @type Boolean\n     * @default\n     */\n    stateful: false,\n\n    /**\n     * Indicates whether {@link fabric.Collection.add}, {@link fabric.Collection.insertAt} and {@link fabric.Collection.remove},\n     * {@link fabric.StaticCanvas.moveTo}, {@link fabric.StaticCanvas.clear} and many more, should also re-render canvas.\n     * Disabling this option will not give a performance boost when adding/removing a lot of objects to/from canvas at once\n     * since the renders are quequed and executed one per frame.\n     * Disabling is suggested anyway and managing the renders of the app manually is not a big effort ( canvas.requestRenderAll() )\n     * Left default to true to do not break documentation and old app, fiddles.\n     * @type Boolean\n     * @default\n     */\n    renderOnAddRemove: true,\n\n    /**\n     * Indicates whether object controls (borders/controls) are rendered above overlay image\n     * @type Boolean\n     * @default\n     */\n    controlsAboveOverlay: false,\n\n    /**\n     * Indicates whether the browser can be scrolled when using a touchscreen and dragging on the canvas\n     * @type Boolean\n     * @default\n     */\n    allowTouchScrolling: false,\n\n    /**\n     * Indicates whether this canvas will use image smoothing, this is on by default in browsers\n     * @type Boolean\n     * @default\n     */\n    imageSmoothingEnabled: true,\n\n    /**\n     * The transformation (in the format of Canvas transform) which focuses the viewport\n     * @type Array\n     * @default\n     */\n    viewportTransform: fabric.iMatrix.concat(),\n\n    /**\n     * if set to false background image is not affected by viewport transform\n     * @since 1.6.3\n     * @type Boolean\n     * @default\n     */\n    backgroundVpt: true,\n\n    /**\n     * if set to false overlya image is not affected by viewport transform\n     * @since 1.6.3\n     * @type Boolean\n     * @default\n     */\n    overlayVpt: true,\n\n    /**\n     * When true, canvas is scaled by devicePixelRatio for better rendering on retina screens\n     * @type Boolean\n     * @default\n     */\n    enableRetinaScaling: true,\n\n    /**\n     * Describe canvas element extension over design\n     * properties are tl,tr,bl,br.\n     * if canvas is not zoomed/panned those points are the four corner of canvas\n     * if canvas is viewportTransformed you those points indicate the extension\n     * of canvas element in plain untrasformed coordinates\n     * The coordinates get updated with @method calcViewportBoundaries.\n     * @memberOf fabric.StaticCanvas.prototype\n     */\n    vptCoords: { },\n\n    /**\n     * Based on vptCoords and object.aCoords, skip rendering of objects that\n     * are not included in current viewport.\n     * May greatly help in applications with crowded canvas and use of zoom/pan\n     * If One of the corner of the bounding box of the object is on the canvas\n     * the objects get rendered.\n     * @memberOf fabric.StaticCanvas.prototype\n     * @type Boolean\n     * @default\n     */\n    skipOffscreen: true,\n\n    /**\n     * a fabricObject that, without stroke define a clipping area with their shape. filled in black\n     * the clipPath object gets used when the canvas has rendered, and the context is placed in the\n     * top left corner of the canvas.\n     * clipPath will clip away controls, if you do not want this to happen use controlsAboveOverlay = true\n     * @type fabric.Object\n     */\n    clipPath: undefined,\n\n    /**\n     * @private\n     * @param {HTMLElement | String} el &lt;canvas> element to initialize instance on\n     * @param {Object} [options] Options object\n     */\n    _initStatic: function(el, options) {\n      var cb = this.requestRenderAllBound;\n      this._objects = [];\n      this._createLowerCanvas(el);\n      this._initOptions(options);\n      // only initialize retina scaling once\n      if (!this.interactive) {\n        this._initRetinaScaling();\n      }\n\n      if (options.overlayImage) {\n        this.setOverlayImage(options.overlayImage, cb);\n      }\n      if (options.backgroundImage) {\n        this.setBackgroundImage(options.backgroundImage, cb);\n      }\n      if (options.backgroundColor) {\n        this.setBackgroundColor(options.backgroundColor, cb);\n      }\n      if (options.overlayColor) {\n        this.setOverlayColor(options.overlayColor, cb);\n      }\n      this.calcOffset();\n    },\n\n    /**\n     * @private\n     */\n    _isRetinaScaling: function() {\n      return (fabric.devicePixelRatio !== 1 && this.enableRetinaScaling);\n    },\n\n    /**\n     * @private\n     * @return {Number} retinaScaling if applied, otherwise 1;\n     */\n    getRetinaScaling: function() {\n      return this._isRetinaScaling() ? fabric.devicePixelRatio : 1;\n    },\n\n    /**\n     * @private\n     */\n    _initRetinaScaling: function() {\n      if (!this._isRetinaScaling()) {\n        return;\n      }\n      var scaleRatio = fabric.devicePixelRatio;\n      this.__initRetinaScaling(scaleRatio, this.lowerCanvasEl, this.contextContainer);\n      if (this.upperCanvasEl) {\n        this.__initRetinaScaling(scaleRatio, this.upperCanvasEl, this.contextTop);\n      }\n    },\n\n    __initRetinaScaling: function(scaleRatio, canvas, context) {\n      canvas.setAttribute('width', this.width * scaleRatio);\n      canvas.setAttribute('height', this.height * scaleRatio);\n      context.scale(scaleRatio, scaleRatio);\n    },\n\n\n    /**\n     * Calculates canvas element offset relative to the document\n     * This method is also attached as \"resize\" event handler of window\n     * @return {fabric.Canvas} instance\n     * @chainable\n     */\n    calcOffset: function () {\n      this._offset = getElementOffset(this.lowerCanvasEl);\n      return this;\n    },\n\n    /**\n     * Sets {@link fabric.StaticCanvas#overlayImage|overlay image} for this canvas\n     * @param {(fabric.Image|String)} image fabric.Image instance or URL of an image to set overlay to\n     * @param {Function} callback callback to invoke when image is loaded and set as an overlay\n     * @param {Object} [options] Optional options to set for the {@link fabric.Image|overlay image}.\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     * @see {@link http://jsfiddle.net/fabricjs/MnzHT/|jsFiddle demo}\n     * @example <caption>Normal overlayImage with left/top = 0</caption>\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\n     *   // Needed to position overlayImage at 0/0\n     *   originX: 'left',\n     *   originY: 'top'\n     * });\n     * @example <caption>overlayImage with different properties</caption>\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\n     *   opacity: 0.5,\n     *   angle: 45,\n     *   left: 400,\n     *   top: 400,\n     *   originX: 'left',\n     *   originY: 'top'\n     * });\n     * @example <caption>Stretched overlayImage #1 - width/height correspond to canvas width/height</caption>\n     * fabric.Image.fromURL('http://fabricjs.com/assets/jail_cell_bars.png', function(img, isError) {\n     *    img.set({width: canvas.width, height: canvas.height, originX: 'left', originY: 'top'});\n     *    canvas.setOverlayImage(img, canvas.renderAll.bind(canvas));\n     * });\n     * @example <caption>Stretched overlayImage #2 - width/height correspond to canvas width/height</caption>\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\n     *   width: canvas.width,\n     *   height: canvas.height,\n     *   // Needed to position overlayImage at 0/0\n     *   originX: 'left',\n     *   originY: 'top'\n     * });\n     * @example <caption>overlayImage loaded from cross-origin</caption>\n     * canvas.setOverlayImage('http://fabricjs.com/assets/jail_cell_bars.png', canvas.renderAll.bind(canvas), {\n     *   opacity: 0.5,\n     *   angle: 45,\n     *   left: 400,\n     *   top: 400,\n     *   originX: 'left',\n     *   originY: 'top',\n     *   crossOrigin: 'anonymous'\n     * });\n     */\n    setOverlayImage: function (image, callback, options) {\n      return this.__setBgOverlayImage('overlayImage', image, callback, options);\n    },\n\n    /**\n     * Sets {@link fabric.StaticCanvas#backgroundImage|background image} for this canvas\n     * @param {(fabric.Image|String)} image fabric.Image instance or URL of an image to set background to\n     * @param {Function} callback Callback to invoke when image is loaded and set as background\n     * @param {Object} [options] Optional options to set for the {@link fabric.Image|background image}.\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     * @see {@link http://jsfiddle.net/djnr8o7a/28/|jsFiddle demo}\n     * @example <caption>Normal backgroundImage with left/top = 0</caption>\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\n     *   // Needed to position backgroundImage at 0/0\n     *   originX: 'left',\n     *   originY: 'top'\n     * });\n     * @example <caption>backgroundImage with different properties</caption>\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\n     *   opacity: 0.5,\n     *   angle: 45,\n     *   left: 400,\n     *   top: 400,\n     *   originX: 'left',\n     *   originY: 'top'\n     * });\n     * @example <caption>Stretched backgroundImage #1 - width/height correspond to canvas width/height</caption>\n     * fabric.Image.fromURL('http://fabricjs.com/assets/honey_im_subtle.png', function(img, isError) {\n     *    img.set({width: canvas.width, height: canvas.height, originX: 'left', originY: 'top'});\n     *    canvas.setBackgroundImage(img, canvas.renderAll.bind(canvas));\n     * });\n     * @example <caption>Stretched backgroundImage #2 - width/height correspond to canvas width/height</caption>\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\n     *   width: canvas.width,\n     *   height: canvas.height,\n     *   // Needed to position backgroundImage at 0/0\n     *   originX: 'left',\n     *   originY: 'top'\n     * });\n     * @example <caption>backgroundImage loaded from cross-origin</caption>\n     * canvas.setBackgroundImage('http://fabricjs.com/assets/honey_im_subtle.png', canvas.renderAll.bind(canvas), {\n     *   opacity: 0.5,\n     *   angle: 45,\n     *   left: 400,\n     *   top: 400,\n     *   originX: 'left',\n     *   originY: 'top',\n     *   crossOrigin: 'anonymous'\n     * });\n     */\n    // TODO: fix stretched examples\n    setBackgroundImage: function (image, callback, options) {\n      return this.__setBgOverlayImage('backgroundImage', image, callback, options);\n    },\n\n    /**\n     * Sets {@link fabric.StaticCanvas#overlayColor|foreground color} for this canvas\n     * @param {(String|fabric.Pattern)} overlayColor Color or pattern to set foreground color to\n     * @param {Function} callback Callback to invoke when foreground color is set\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     * @see {@link http://jsfiddle.net/fabricjs/pB55h/|jsFiddle demo}\n     * @example <caption>Normal overlayColor - color value</caption>\n     * canvas.setOverlayColor('rgba(255, 73, 64, 0.6)', canvas.renderAll.bind(canvas));\n     * @example <caption>fabric.Pattern used as overlayColor</caption>\n     * canvas.setOverlayColor({\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png'\n     * }, canvas.renderAll.bind(canvas));\n     * @example <caption>fabric.Pattern used as overlayColor with repeat and offset</caption>\n     * canvas.setOverlayColor({\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png',\n     *   repeat: 'repeat',\n     *   offsetX: 200,\n     *   offsetY: 100\n     * }, canvas.renderAll.bind(canvas));\n     */\n    setOverlayColor: function(overlayColor, callback) {\n      return this.__setBgOverlayColor('overlayColor', overlayColor, callback);\n    },\n\n    /**\n     * Sets {@link fabric.StaticCanvas#backgroundColor|background color} for this canvas\n     * @param {(String|fabric.Pattern)} backgroundColor Color or pattern to set background color to\n     * @param {Function} callback Callback to invoke when background color is set\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     * @see {@link http://jsfiddle.net/fabricjs/hXzvk/|jsFiddle demo}\n     * @example <caption>Normal backgroundColor - color value</caption>\n     * canvas.setBackgroundColor('rgba(255, 73, 64, 0.6)', canvas.renderAll.bind(canvas));\n     * @example <caption>fabric.Pattern used as backgroundColor</caption>\n     * canvas.setBackgroundColor({\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png'\n     * }, canvas.renderAll.bind(canvas));\n     * @example <caption>fabric.Pattern used as backgroundColor with repeat and offset</caption>\n     * canvas.setBackgroundColor({\n     *   source: 'http://fabricjs.com/assets/escheresque_ste.png',\n     *   repeat: 'repeat',\n     *   offsetX: 200,\n     *   offsetY: 100\n     * }, canvas.renderAll.bind(canvas));\n     */\n    setBackgroundColor: function(backgroundColor, callback) {\n      return this.__setBgOverlayColor('backgroundColor', backgroundColor, callback);\n    },\n\n    /**\n     * @private\n     * @param {String} property Property to set ({@link fabric.StaticCanvas#backgroundImage|backgroundImage}\n     * or {@link fabric.StaticCanvas#overlayImage|overlayImage})\n     * @param {(fabric.Image|String|null)} image fabric.Image instance, URL of an image or null to set background or overlay to\n     * @param {Function} callback Callback to invoke when image is loaded and set as background or overlay. The first argument is the created image, the second argument is a flag indicating whether an error occurred or not.\n     * @param {Object} [options] Optional options to set for the {@link fabric.Image|image}.\n     */\n    __setBgOverlayImage: function(property, image, callback, options) {\n      if (typeof image === 'string') {\n        fabric.util.loadImage(image, function(img, isError) {\n          if (img) {\n            var instance = new fabric.Image(img, options);\n            this[property] = instance;\n            instance.canvas = this;\n          }\n          callback && callback(img, isError);\n        }, this, options && options.crossOrigin);\n      }\n      else {\n        options && image.setOptions(options);\n        this[property] = image;\n        image && (image.canvas = this);\n        callback && callback(image, false);\n      }\n\n      return this;\n    },\n\n    /**\n     * @private\n     * @param {String} property Property to set ({@link fabric.StaticCanvas#backgroundColor|backgroundColor}\n     * or {@link fabric.StaticCanvas#overlayColor|overlayColor})\n     * @param {(Object|String|null)} color Object with pattern information, color value or null\n     * @param {Function} [callback] Callback is invoked when color is set\n     */\n    __setBgOverlayColor: function(property, color, callback) {\n      this[property] = color;\n      this._initGradient(color, property);\n      this._initPattern(color, property, callback);\n      return this;\n    },\n\n    /**\n     * @private\n     */\n    _createCanvasElement: function() {\n      var element = createCanvasElement();\n      if (!element) {\n        throw CANVAS_INIT_ERROR;\n      }\n      if (!element.style) {\n        element.style = { };\n      }\n      if (typeof element.getContext === 'undefined') {\n        throw CANVAS_INIT_ERROR;\n      }\n      return element;\n    },\n\n    /**\n     * @private\n     * @param {Object} [options] Options object\n     */\n    _initOptions: function (options) {\n      var lowerCanvasEl = this.lowerCanvasEl;\n      this._setOptions(options);\n\n      this.width = this.width || parseInt(lowerCanvasEl.width, 10) || 0;\n      this.height = this.height || parseInt(lowerCanvasEl.height, 10) || 0;\n\n      if (!this.lowerCanvasEl.style) {\n        return;\n      }\n\n      lowerCanvasEl.width = this.width;\n      lowerCanvasEl.height = this.height;\n\n      lowerCanvasEl.style.width = this.width + 'px';\n      lowerCanvasEl.style.height = this.height + 'px';\n\n      this.viewportTransform = this.viewportTransform.slice();\n    },\n\n    /**\n     * Creates a bottom canvas\n     * @private\n     * @param {HTMLElement} [canvasEl]\n     */\n    _createLowerCanvas: function (canvasEl) {\n      // canvasEl === 'HTMLCanvasElement' does not work on jsdom/node\n      if (canvasEl && canvasEl.getContext) {\n        this.lowerCanvasEl = canvasEl;\n      }\n      else {\n        this.lowerCanvasEl = fabric.util.getById(canvasEl) || this._createCanvasElement();\n      }\n\n      fabric.util.addClass(this.lowerCanvasEl, 'lower-canvas');\n\n      if (this.interactive) {\n        this._applyCanvasStyle(this.lowerCanvasEl);\n      }\n\n      this.contextContainer = this.lowerCanvasEl.getContext('2d');\n    },\n\n    /**\n     * Returns canvas width (in px)\n     * @return {Number}\n     */\n    getWidth: function () {\n      return this.width;\n    },\n\n    /**\n     * Returns canvas height (in px)\n     * @return {Number}\n     */\n    getHeight: function () {\n      return this.height;\n    },\n\n    /**\n     * Sets width of this canvas instance\n     * @param {Number|String} value                         Value to set width to\n     * @param {Object}        [options]                     Options object\n     * @param {Boolean}       [options.backstoreOnly=false] Set the given dimensions only as canvas backstore dimensions\n     * @param {Boolean}       [options.cssOnly=false]       Set the given dimensions only as css dimensions\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    setWidth: function (value, options) {\n      return this.setDimensions({ width: value }, options);\n    },\n\n    /**\n     * Sets height of this canvas instance\n     * @param {Number|String} value                         Value to set height to\n     * @param {Object}        [options]                     Options object\n     * @param {Boolean}       [options.backstoreOnly=false] Set the given dimensions only as canvas backstore dimensions\n     * @param {Boolean}       [options.cssOnly=false]       Set the given dimensions only as css dimensions\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    setHeight: function (value, options) {\n      return this.setDimensions({ height: value }, options);\n    },\n\n    /**\n     * Sets dimensions (width, height) of this canvas instance. when options.cssOnly flag active you should also supply the unit of measure (px/%/em)\n     * @param {Object}        dimensions                    Object with width/height properties\n     * @param {Number|String} [dimensions.width]            Width of canvas element\n     * @param {Number|String} [dimensions.height]           Height of canvas element\n     * @param {Object}        [options]                     Options object\n     * @param {Boolean}       [options.backstoreOnly=false] Set the given dimensions only as canvas backstore dimensions\n     * @param {Boolean}       [options.cssOnly=false]       Set the given dimensions only as css dimensions\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    setDimensions: function (dimensions, options) {\n      var cssValue;\n\n      options = options || {};\n\n      for (var prop in dimensions) {\n        cssValue = dimensions[prop];\n\n        if (!options.cssOnly) {\n          this._setBackstoreDimension(prop, dimensions[prop]);\n          cssValue += 'px';\n          this.hasLostContext = true;\n        }\n\n        if (!options.backstoreOnly) {\n          this._setCssDimension(prop, cssValue);\n        }\n      }\n      if (this._isCurrentlyDrawing) {\n        this.freeDrawingBrush && this.freeDrawingBrush._setBrushStyles();\n      }\n      this._initRetinaScaling();\n      this.calcOffset();\n\n      if (!options.cssOnly) {\n        this.requestRenderAll();\n      }\n\n      return this;\n    },\n\n    /**\n     * Helper for setting width/height\n     * @private\n     * @param {String} prop property (width|height)\n     * @param {Number} value value to set property to\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    _setBackstoreDimension: function (prop, value) {\n      this.lowerCanvasEl[prop] = value;\n\n      if (this.upperCanvasEl) {\n        this.upperCanvasEl[prop] = value;\n      }\n\n      if (this.cacheCanvasEl) {\n        this.cacheCanvasEl[prop] = value;\n      }\n\n      this[prop] = value;\n\n      return this;\n    },\n\n    /**\n     * Helper for setting css width/height\n     * @private\n     * @param {String} prop property (width|height)\n     * @param {String} value value to set property to\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    _setCssDimension: function (prop, value) {\n      this.lowerCanvasEl.style[prop] = value;\n\n      if (this.upperCanvasEl) {\n        this.upperCanvasEl.style[prop] = value;\n      }\n\n      if (this.wrapperEl) {\n        this.wrapperEl.style[prop] = value;\n      }\n\n      return this;\n    },\n\n    /**\n     * Returns canvas zoom level\n     * @return {Number}\n     */\n    getZoom: function () {\n      return this.viewportTransform[0];\n    },\n\n    /**\n     * Sets viewport transform of this canvas instance\n     * @param {Array} vpt the transform in the form of context.transform\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    setViewportTransform: function (vpt) {\n      var activeObject = this._activeObject,\n          backgroundObject = this.backgroundImage,\n          overlayObject = this.overlayImage,\n          object, i, len;\n      this.viewportTransform = vpt;\n      for (i = 0, len = this._objects.length; i < len; i++) {\n        object = this._objects[i];\n        object.group || object.setCoords(true);\n      }\n      if (activeObject) {\n        activeObject.setCoords();\n      }\n      if (backgroundObject) {\n        backgroundObject.setCoords(true);\n      }\n      if (overlayObject) {\n        overlayObject.setCoords(true);\n      }\n      this.calcViewportBoundaries();\n      this.renderOnAddRemove && this.requestRenderAll();\n      return this;\n    },\n\n    /**\n     * Sets zoom level of this canvas instance, the zoom centered around point\n     * meaning that following zoom to point with the same point will have the visual\n     * effect of the zoom originating from that point. The point won't move.\n     * It has nothing to do with canvas center or visual center of the viewport.\n     * @param {fabric.Point} point to zoom with respect to\n     * @param {Number} value to set zoom to, less than 1 zooms out\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    zoomToPoint: function (point, value) {\n      // TODO: just change the scale, preserve other transformations\n      var before = point, vpt = this.viewportTransform.slice(0);\n      point = transformPoint(point, invertTransform(this.viewportTransform));\n      vpt[0] = value;\n      vpt[3] = value;\n      var after = transformPoint(point, vpt);\n      vpt[4] += before.x - after.x;\n      vpt[5] += before.y - after.y;\n      return this.setViewportTransform(vpt);\n    },\n\n    /**\n     * Sets zoom level of this canvas instance\n     * @param {Number} value to set zoom to, less than 1 zooms out\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    setZoom: function (value) {\n      this.zoomToPoint(new fabric.Point(0, 0), value);\n      return this;\n    },\n\n    /**\n     * Pan viewport so as to place point at top left corner of canvas\n     * @param {fabric.Point} point to move to\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    absolutePan: function (point) {\n      var vpt = this.viewportTransform.slice(0);\n      vpt[4] = -point.x;\n      vpt[5] = -point.y;\n      return this.setViewportTransform(vpt);\n    },\n\n    /**\n     * Pans viewpoint relatively\n     * @param {fabric.Point} point (position vector) to move by\n     * @return {fabric.Canvas} instance\n     * @chainable true\n     */\n    relativePan: function (point) {\n      return this.absolutePan(new fabric.Point(\n        -point.x - this.viewportTransform[4],\n        -point.y - this.viewportTransform[5]\n      ));\n    },\n\n    /**\n     * Returns &lt;canvas> element corresponding to this instance\n     * @return {HTMLCanvasElement}\n     */\n    getElement: function () {\n      return this.lowerCanvasEl;\n    },\n\n    /**\n     * @private\n     * @param {fabric.Object} obj Object that was added\n     */\n    _onObjectAdded: function(obj) {\n      this.stateful && obj.setupState();\n      obj._set('canvas', this);\n      obj.setCoords();\n      this.fire('object:added', { target: obj });\n      obj.fire('added');\n    },\n\n    /**\n     * @private\n     * @param {fabric.Object} obj Object that was removed\n     */\n    _onObjectRemoved: function(obj) {\n      this.fire('object:removed', { target: obj });\n      obj.fire('removed');\n      delete obj.canvas;\n    },\n\n    /**\n     * Clears specified context of canvas element\n     * @param {CanvasRenderingContext2D} ctx Context to clear\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    clearContext: function(ctx) {\n      ctx.clearRect(0, 0, this.width, this.height);\n      return this;\n    },\n\n    /**\n     * Returns context of canvas where objects are drawn\n     * @return {CanvasRenderingContext2D}\n     */\n    getContext: function () {\n      return this.contextContainer;\n    },\n\n    /**\n     * Clears all contexts (background, main, top) of an instance\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    clear: function () {\n      this._objects.length = 0;\n      this.backgroundImage = null;\n      this.overlayImage = null;\n      this.backgroundColor = '';\n      this.overlayColor = '';\n      if (this._hasITextHandlers) {\n        this.off('mouse:up', this._mouseUpITextHandler);\n        this._iTextInstances = null;\n        this._hasITextHandlers = false;\n      }\n      this.clearContext(this.contextContainer);\n      this.fire('canvas:cleared');\n      this.renderOnAddRemove && this.requestRenderAll();\n      return this;\n    },\n\n    /**\n     * Renders the canvas\n     * @return {fabric.Canvas} instance\n     * @chainable\n     */\n    renderAll: function () {\n      var canvasToDrawOn = this.contextContainer;\n      this.renderCanvas(canvasToDrawOn, this._objects);\n      return this;\n    },\n\n    /**\n     * Function created to be instance bound at initialization\n     * used in requestAnimationFrame rendering\n     * Let the fabricJS call it. If you call it manually you could have more\n     * animationFrame stacking on to of each other\n     * for an imperative rendering, use canvas.renderAll\n     * @private\n     * @return {fabric.Canvas} instance\n     * @chainable\n     */\n    renderAndReset: function() {\n      this.isRendering = 0;\n      this.renderAll();\n    },\n\n    /**\n     * Append a renderAll request to next animation frame.\n     * unless one is already in progress, in that case nothing is done\n     * a boolean flag will avoid appending more.\n     * @return {fabric.Canvas} instance\n     * @chainable\n     */\n    requestRenderAll: function () {\n      if (!this.isRendering) {\n        this.isRendering = fabric.util.requestAnimFrame(this.renderAndResetBound);\n      }\n      return this;\n    },\n\n    /**\n     * Calculate the position of the 4 corner of canvas with current viewportTransform.\n     * helps to determinate when an object is in the current rendering viewport using\n     * object absolute coordinates ( aCoords )\n     * @return {Object} points.tl\n     * @chainable\n     */\n    calcViewportBoundaries: function() {\n      var points = { }, width = this.width, height = this.height,\n          iVpt = invertTransform(this.viewportTransform);\n      points.tl = transformPoint({ x: 0, y: 0 }, iVpt);\n      points.br = transformPoint({ x: width, y: height }, iVpt);\n      points.tr = new fabric.Point(points.br.x, points.tl.y);\n      points.bl = new fabric.Point(points.tl.x, points.br.y);\n      this.vptCoords = points;\n      return points;\n    },\n\n    cancelRequestedRender: function() {\n      if (this.isRendering) {\n        fabric.util.cancelAnimFrame(this.isRendering);\n        this.isRendering = 0;\n      }\n    },\n\n    /**\n     * Renders background, objects, overlay and controls.\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {Array} objects to render\n     * @return {fabric.Canvas} instance\n     * @chainable\n     */\n    renderCanvas: function(ctx, objects) {\n      var v = this.viewportTransform, path = this.clipPath;\n      this.cancelRequestedRender();\n      this.calcViewportBoundaries();\n      this.clearContext(ctx);\n      fabric.util.setImageSmoothing(ctx, this.imageSmoothingEnabled);\n      this.fire('before:render', { ctx: ctx, });\n      this._renderBackground(ctx);\n\n      ctx.save();\n      //apply viewport transform once for all rendering process\n      ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n      this._renderObjects(ctx, objects);\n      ctx.restore();\n      if (!this.controlsAboveOverlay && this.interactive) {\n        this.drawControls(ctx);\n      }\n      if (path) {\n        path.canvas = this;\n        // needed to setup a couple of variables\n        path.shouldCache();\n        path._transformDone = true;\n        path.renderCache({ forClipping: true });\n        this.drawClipPathOnCanvas(ctx);\n      }\n      this._renderOverlay(ctx);\n      if (this.controlsAboveOverlay && this.interactive) {\n        this.drawControls(ctx);\n      }\n      this.fire('after:render', { ctx: ctx, });\n    },\n\n    /**\n     * Paint the cached clipPath on the lowerCanvasEl\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    drawClipPathOnCanvas: function(ctx) {\n      var v = this.viewportTransform, path = this.clipPath;\n      ctx.save();\n      ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n      // DEBUG: uncomment this line, comment the following\n      // ctx.globalAlpha = 0.4;\n      ctx.globalCompositeOperation = 'destination-in';\n      path.transform(ctx);\n      ctx.scale(1 / path.zoomX, 1 / path.zoomY);\n      ctx.drawImage(path._cacheCanvas, -path.cacheTranslationX, -path.cacheTranslationY);\n      ctx.restore();\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {Array} objects to render\n     */\n    _renderObjects: function(ctx, objects) {\n      var i, len;\n      for (i = 0, len = objects.length; i < len; ++i) {\n        objects[i] && objects[i].render(ctx);\n      }\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {string} property 'background' or 'overlay'\n     */\n    _renderBackgroundOrOverlay: function(ctx, property) {\n      var fill = this[property + 'Color'], object = this[property + 'Image'],\n          v = this.viewportTransform, needsVpt = this[property + 'Vpt'];\n      if (!fill && !object) {\n        return;\n      }\n      if (fill) {\n        ctx.save();\n        ctx.beginPath();\n        ctx.moveTo(0, 0);\n        ctx.lineTo(this.width, 0);\n        ctx.lineTo(this.width, this.height);\n        ctx.lineTo(0, this.height);\n        ctx.closePath();\n        ctx.fillStyle = fill.toLive\n          ? fill.toLive(ctx, this)\n          : fill;\n        if (needsVpt) {\n          ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n        }\n        ctx.transform(1, 0, 0, 1, fill.offsetX || 0, fill.offsetY || 0);\n        var m = fill.gradientTransform || fill.patternTransform;\n        m && ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n        ctx.fill();\n        ctx.restore();\n      }\n      if (object) {\n        ctx.save();\n        if (needsVpt) {\n          ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n        }\n        object.render(ctx);\n        ctx.restore();\n      }\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderBackground: function(ctx) {\n      this._renderBackgroundOrOverlay(ctx, 'background');\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderOverlay: function(ctx) {\n      this._renderBackgroundOrOverlay(ctx, 'overlay');\n    },\n\n    /**\n     * Returns coordinates of a center of canvas.\n     * Returned value is an object with top and left properties\n     * @return {Object} object with \"top\" and \"left\" number values\n     */\n    getCenter: function () {\n      return {\n        top: this.height / 2,\n        left: this.width / 2\n      };\n    },\n\n    /**\n     * Centers object horizontally in the canvas\n     * @param {fabric.Object} object Object to center horizontally\n     * @return {fabric.Canvas} thisArg\n     */\n    centerObjectH: function (object) {\n      return this._centerObject(object, new fabric.Point(this.getCenter().left, object.getCenterPoint().y));\n    },\n\n    /**\n     * Centers object vertically in the canvas\n     * @param {fabric.Object} object Object to center vertically\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    centerObjectV: function (object) {\n      return this._centerObject(object, new fabric.Point(object.getCenterPoint().x, this.getCenter().top));\n    },\n\n    /**\n     * Centers object vertically and horizontally in the canvas\n     * @param {fabric.Object} object Object to center vertically and horizontally\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    centerObject: function(object) {\n      var center = this.getCenter();\n\n      return this._centerObject(object, new fabric.Point(center.left, center.top));\n    },\n\n    /**\n     * Centers object vertically and horizontally in the viewport\n     * @param {fabric.Object} object Object to center vertically and horizontally\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    viewportCenterObject: function(object) {\n      var vpCenter = this.getVpCenter();\n\n      return this._centerObject(object, vpCenter);\n    },\n\n    /**\n     * Centers object horizontally in the viewport, object.top is unchanged\n     * @param {fabric.Object} object Object to center vertically and horizontally\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    viewportCenterObjectH: function(object) {\n      var vpCenter = this.getVpCenter();\n      this._centerObject(object, new fabric.Point(vpCenter.x, object.getCenterPoint().y));\n      return this;\n    },\n\n    /**\n     * Centers object Vertically in the viewport, object.top is unchanged\n     * @param {fabric.Object} object Object to center vertically and horizontally\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    viewportCenterObjectV: function(object) {\n      var vpCenter = this.getVpCenter();\n\n      return this._centerObject(object, new fabric.Point(object.getCenterPoint().x, vpCenter.y));\n    },\n\n    /**\n     * Calculate the point in canvas that correspond to the center of actual viewport.\n     * @return {fabric.Point} vpCenter, viewport center\n     * @chainable\n     */\n    getVpCenter: function() {\n      var center = this.getCenter(),\n          iVpt = invertTransform(this.viewportTransform);\n      return transformPoint({ x: center.left, y: center.top }, iVpt);\n    },\n\n    /**\n     * @private\n     * @param {fabric.Object} object Object to center\n     * @param {fabric.Point} center Center point\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    _centerObject: function(object, center) {\n      object.setPositionByOrigin(center, 'center', 'center');\n      object.setCoords();\n      this.renderOnAddRemove && this.requestRenderAll();\n      return this;\n    },\n\n    /**\n     * Returns dataless JSON representation of canvas\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {String} json string\n     */\n    toDatalessJSON: function (propertiesToInclude) {\n      return this.toDatalessObject(propertiesToInclude);\n    },\n\n    /**\n     * Returns object representation of canvas\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function (propertiesToInclude) {\n      return this._toObjectMethod('toObject', propertiesToInclude);\n    },\n\n    /**\n     * Returns dataless object representation of canvas\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toDatalessObject: function (propertiesToInclude) {\n      return this._toObjectMethod('toDatalessObject', propertiesToInclude);\n    },\n\n    /**\n     * @private\n     */\n    _toObjectMethod: function (methodName, propertiesToInclude) {\n\n      var clipPath = this.clipPath, data = {\n        version: fabric.version,\n        objects: this._toObjects(methodName, propertiesToInclude),\n      };\n      if (clipPath) {\n        data.clipPath = this._toObject(this.clipPath, methodName, propertiesToInclude);\n      }\n      extend(data, this.__serializeBgOverlay(methodName, propertiesToInclude));\n\n      fabric.util.populateWithProperties(this, data, propertiesToInclude);\n\n      return data;\n    },\n\n    /**\n     * @private\n     */\n    _toObjects: function(methodName, propertiesToInclude) {\n      return this._objects.filter(function(object) {\n        return !object.excludeFromExport;\n      }).map(function(instance) {\n        return this._toObject(instance, methodName, propertiesToInclude);\n      }, this);\n    },\n\n    /**\n     * @private\n     */\n    _toObject: function(instance, methodName, propertiesToInclude) {\n      var originalValue;\n\n      if (!this.includeDefaultValues) {\n        originalValue = instance.includeDefaultValues;\n        instance.includeDefaultValues = false;\n      }\n\n      var object = instance[methodName](propertiesToInclude);\n      if (!this.includeDefaultValues) {\n        instance.includeDefaultValues = originalValue;\n      }\n      return object;\n    },\n\n    /**\n     * @private\n     */\n    __serializeBgOverlay: function(methodName, propertiesToInclude) {\n      var data = { }, bgImage = this.backgroundImage, overlay = this.overlayImage;\n\n      if (this.backgroundColor) {\n        data.background = this.backgroundColor.toObject\n          ? this.backgroundColor.toObject(propertiesToInclude)\n          : this.backgroundColor;\n      }\n\n      if (this.overlayColor) {\n        data.overlay = this.overlayColor.toObject\n          ? this.overlayColor.toObject(propertiesToInclude)\n          : this.overlayColor;\n      }\n      if (bgImage && !bgImage.excludeFromExport) {\n        data.backgroundImage = this._toObject(bgImage, methodName, propertiesToInclude);\n      }\n      if (overlay && !overlay.excludeFromExport) {\n        data.overlayImage = this._toObject(overlay, methodName, propertiesToInclude);\n      }\n\n      return data;\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * When true, getSvgTransform() will apply the StaticCanvas.viewportTransform to the SVG transformation. When true,\n     * a zoomed canvas will then produce zoomed SVG output.\n     * @type Boolean\n     * @default\n     */\n    svgViewportTransformation: true,\n\n    /**\n     * Returns SVG representation of canvas\n     * @function\n     * @param {Object} [options] Options object for SVG output\n     * @param {Boolean} [options.suppressPreamble=false] If true xml tag is not included\n     * @param {Object} [options.viewBox] SVG viewbox object\n     * @param {Number} [options.viewBox.x] x-coordinate of viewbox\n     * @param {Number} [options.viewBox.y] y-coordinate of viewbox\n     * @param {Number} [options.viewBox.width] Width of viewbox\n     * @param {Number} [options.viewBox.height] Height of viewbox\n     * @param {String} [options.encoding=UTF-8] Encoding of SVG output\n     * @param {String} [options.width] desired width of svg with or without units\n     * @param {String} [options.height] desired height of svg with or without units\n     * @param {Function} [reviver] Method for further parsing of svg elements, called after each fabric object converted into svg representation.\n     * @return {String} SVG string\n     * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#serialization}\n     * @see {@link http://jsfiddle.net/fabricjs/jQ3ZZ/|jsFiddle demo}\n     * @example <caption>Normal SVG output</caption>\n     * var svg = canvas.toSVG();\n     * @example <caption>SVG output without preamble (without &lt;?xml ../>)</caption>\n     * var svg = canvas.toSVG({suppressPreamble: true});\n     * @example <caption>SVG output with viewBox attribute</caption>\n     * var svg = canvas.toSVG({\n     *   viewBox: {\n     *     x: 100,\n     *     y: 100,\n     *     width: 200,\n     *     height: 300\n     *   }\n     * });\n     * @example <caption>SVG output with different encoding (default: UTF-8)</caption>\n     * var svg = canvas.toSVG({encoding: 'ISO-8859-1'});\n     * @example <caption>Modify SVG output with reviver function</caption>\n     * var svg = canvas.toSVG(null, function(svg) {\n     *   return svg.replace('stroke-dasharray: ; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; ', '');\n     * });\n     */\n    toSVG: function(options, reviver) {\n      options || (options = { });\n      options.reviver = reviver;\n      var markup = [];\n\n      this._setSVGPreamble(markup, options);\n      this._setSVGHeader(markup, options);\n      if (this.clipPath) {\n        markup.push('<g clip-path=\"url(#' + this.clipPath.clipPathId + ')\" >\\n');\n      }\n      this._setSVGBgOverlayColor(markup, 'background');\n      this._setSVGBgOverlayImage(markup, 'backgroundImage', reviver);\n      this._setSVGObjects(markup, reviver);\n      if (this.clipPath) {\n        markup.push('</g>\\n');\n      }\n      this._setSVGBgOverlayColor(markup, 'overlay');\n      this._setSVGBgOverlayImage(markup, 'overlayImage', reviver);\n\n      markup.push('</svg>');\n\n      return markup.join('');\n    },\n\n    /**\n     * @private\n     */\n    _setSVGPreamble: function(markup, options) {\n      if (options.suppressPreamble) {\n        return;\n      }\n      markup.push(\n        '<?xml version=\"1.0\" encoding=\"', (options.encoding || 'UTF-8'), '\" standalone=\"no\" ?>\\n',\n        '<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" ',\n        '\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\\n'\n      );\n    },\n\n    /**\n     * @private\n     */\n    _setSVGHeader: function(markup, options) {\n      var width = options.width || this.width,\n          height = options.height || this.height,\n          vpt, viewBox = 'viewBox=\"0 0 ' + this.width + ' ' + this.height + '\" ',\n          NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n\n      if (options.viewBox) {\n        viewBox = 'viewBox=\"' +\n                options.viewBox.x + ' ' +\n                options.viewBox.y + ' ' +\n                options.viewBox.width + ' ' +\n                options.viewBox.height + '\" ';\n      }\n      else {\n        if (this.svgViewportTransformation) {\n          vpt = this.viewportTransform;\n          viewBox = 'viewBox=\"' +\n                  toFixed(-vpt[4] / vpt[0], NUM_FRACTION_DIGITS) + ' ' +\n                  toFixed(-vpt[5] / vpt[3], NUM_FRACTION_DIGITS) + ' ' +\n                  toFixed(this.width / vpt[0], NUM_FRACTION_DIGITS) + ' ' +\n                  toFixed(this.height / vpt[3], NUM_FRACTION_DIGITS) + '\" ';\n        }\n      }\n\n      markup.push(\n        '<svg ',\n        'xmlns=\"http://www.w3.org/2000/svg\" ',\n        'xmlns:xlink=\"http://www.w3.org/1999/xlink\" ',\n        'version=\"1.1\" ',\n        'width=\"', width, '\" ',\n        'height=\"', height, '\" ',\n        viewBox,\n        'xml:space=\"preserve\">\\n',\n        '<desc>Created with Fabric.js ', fabric.version, '</desc>\\n',\n        '<defs>\\n',\n        this.createSVGFontFacesMarkup(),\n        this.createSVGRefElementsMarkup(),\n        this.createSVGClipPathMarkup(options),\n        '</defs>\\n'\n      );\n    },\n\n    createSVGClipPathMarkup: function(options) {\n      var clipPath = this.clipPath;\n      if (clipPath) {\n        clipPath.clipPathId = 'CLIPPATH_' + fabric.Object.__uid++;\n        return  '<clipPath id=\"' + clipPath.clipPathId + '\" >\\n' +\n          this.clipPath.toClipPathSVG(options.reviver) +\n          '</clipPath>\\n';\n      }\n      return '';\n    },\n\n    /**\n     * Creates markup containing SVG referenced elements like patterns, gradients etc.\n     * @return {String}\n     */\n    createSVGRefElementsMarkup: function() {\n      var _this = this,\n          markup = ['background', 'overlay'].map(function(prop) {\n            var fill = _this[prop + 'Color'];\n            if (fill && fill.toLive) {\n              var shouldTransform = _this[prop + 'Vpt'], vpt = _this.viewportTransform,\n                  object = {\n                    width: _this.width / (shouldTransform ? vpt[0] : 1),\n                    height: _this.height / (shouldTransform ? vpt[3] : 1)\n                  };\n              return fill.toSVG(\n                object,\n                { additionalTransform: shouldTransform ? fabric.util.matrixToSVG(vpt) : '' }\n              );\n            }\n          });\n      return markup.join('');\n    },\n\n    /**\n     * Creates markup containing SVG font faces,\n     * font URLs for font faces must be collected by developers\n     * and are not extracted from the DOM by fabricjs\n     * @param {Array} objects Array of fabric objects\n     * @return {String}\n     */\n    createSVGFontFacesMarkup: function() {\n      var markup = '', fontList = { }, obj, fontFamily,\n          style, row, rowIndex, _char, charIndex, i, len,\n          fontPaths = fabric.fontPaths, objects = [];\n\n      this._objects.forEach(function add(object) {\n        objects.push(object);\n        if (object._objects) {\n          object._objects.forEach(add);\n        }\n      });\n\n      for (i = 0, len = objects.length; i < len; i++) {\n        obj = objects[i];\n        fontFamily = obj.fontFamily;\n        if (obj.type.indexOf('text') === -1 || fontList[fontFamily] || !fontPaths[fontFamily]) {\n          continue;\n        }\n        fontList[fontFamily] = true;\n        if (!obj.styles) {\n          continue;\n        }\n        style = obj.styles;\n        for (rowIndex in style) {\n          row = style[rowIndex];\n          for (charIndex in row) {\n            _char = row[charIndex];\n            fontFamily = _char.fontFamily;\n            if (!fontList[fontFamily] && fontPaths[fontFamily]) {\n              fontList[fontFamily] = true;\n            }\n          }\n        }\n      }\n\n      for (var j in fontList) {\n        markup += [\n          '\\t\\t@font-face {\\n',\n          '\\t\\t\\tfont-family: \\'', j, '\\';\\n',\n          '\\t\\t\\tsrc: url(\\'', fontPaths[j], '\\');\\n',\n          '\\t\\t}\\n'\n        ].join('');\n      }\n\n      if (markup) {\n        markup = [\n          '\\t<style type=\"text/css\">',\n          '<![CDATA[\\n',\n          markup,\n          ']]>',\n          '</style>\\n'\n        ].join('');\n      }\n\n      return markup;\n    },\n\n    /**\n     * @private\n     */\n    _setSVGObjects: function(markup, reviver) {\n      var instance, i, len, objects = this._objects;\n      for (i = 0, len = objects.length; i < len; i++) {\n        instance = objects[i];\n        if (instance.excludeFromExport) {\n          continue;\n        }\n        this._setSVGObject(markup, instance, reviver);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _setSVGObject: function(markup, instance, reviver) {\n      markup.push(instance.toSVG(reviver));\n    },\n\n    /**\n     * @private\n     */\n    _setSVGBgOverlayImage: function(markup, property, reviver) {\n      if (this[property] && !this[property].excludeFromExport && this[property].toSVG) {\n        markup.push(this[property].toSVG(reviver));\n      }\n    },\n\n    /**\n     * @private\n     */\n    _setSVGBgOverlayColor: function(markup, property) {\n      var filler = this[property + 'Color'], vpt = this.viewportTransform, finalWidth = this.width,\n          finalHeight = this.height;\n      if (!filler) {\n        return;\n      }\n      if (filler.toLive) {\n        var repeat = filler.repeat, iVpt = fabric.util.invertTransform(vpt), shouldInvert = this[property + 'Vpt'],\n            additionalTransform = shouldInvert ? fabric.util.matrixToSVG(iVpt) : '';\n        markup.push(\n          '<rect transform=\"' + additionalTransform + ' translate(', finalWidth / 2, ',', finalHeight / 2, ')\"',\n          ' x=\"', filler.offsetX - finalWidth / 2,\n          '\" y=\"', filler.offsetY - finalHeight / 2, '\" ',\n          'width=\"',\n          (repeat === 'repeat-y' || repeat === 'no-repeat'\n            ? filler.source.width\n            : finalWidth ),\n          '\" height=\"',\n          (repeat === 'repeat-x' || repeat === 'no-repeat'\n            ? filler.source.height\n            : finalHeight),\n          '\" fill=\"url(#SVGID_' + filler.id + ')\"',\n          '></rect>\\n'\n        );\n      }\n      else {\n        markup.push(\n          '<rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" ',\n          'fill=\"', filler, '\"',\n          '></rect>\\n'\n        );\n      }\n    },\n    /* _TO_SVG_END_ */\n\n    /**\n     * Moves an object or the objects of a multiple selection\n     * to the bottom of the stack of drawn objects\n     * @param {fabric.Object} object Object to send to back\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    sendToBack: function (object) {\n      if (!object) {\n        return this;\n      }\n      var activeSelection = this._activeObject,\n          i, obj, objs;\n      if (object === activeSelection && object.type === 'activeSelection') {\n        objs = activeSelection._objects;\n        for (i = objs.length; i--;) {\n          obj = objs[i];\n          removeFromArray(this._objects, obj);\n          this._objects.unshift(obj);\n        }\n      }\n      else {\n        removeFromArray(this._objects, object);\n        this._objects.unshift(object);\n      }\n      this.renderOnAddRemove && this.requestRenderAll();\n      return this;\n    },\n\n    /**\n     * Moves an object or the objects of a multiple selection\n     * to the top of the stack of drawn objects\n     * @param {fabric.Object} object Object to send\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    bringToFront: function (object) {\n      if (!object) {\n        return this;\n      }\n      var activeSelection = this._activeObject,\n          i, obj, objs;\n      if (object === activeSelection && object.type === 'activeSelection') {\n        objs = activeSelection._objects;\n        for (i = 0; i < objs.length; i++) {\n          obj = objs[i];\n          removeFromArray(this._objects, obj);\n          this._objects.push(obj);\n        }\n      }\n      else {\n        removeFromArray(this._objects, object);\n        this._objects.push(object);\n      }\n      this.renderOnAddRemove && this.requestRenderAll();\n      return this;\n    },\n\n    /**\n     * Moves an object or a selection down in stack of drawn objects\n     * An optional parameter, intersecting allows to move the object in behind\n     * the first intersecting object. Where intersection is calculated with\n     * bounding box. If no intersection is found, there will not be change in the\n     * stack.\n     * @param {fabric.Object} object Object to send\n     * @param {Boolean} [intersecting] If `true`, send object behind next lower intersecting object\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    sendBackwards: function (object, intersecting) {\n      if (!object) {\n        return this;\n      }\n      var activeSelection = this._activeObject,\n          i, obj, idx, newIdx, objs, objsMoved = 0;\n\n      if (object === activeSelection && object.type === 'activeSelection') {\n        objs = activeSelection._objects;\n        for (i = 0; i < objs.length; i++) {\n          obj = objs[i];\n          idx = this._objects.indexOf(obj);\n          if (idx > 0 + objsMoved) {\n            newIdx = idx - 1;\n            removeFromArray(this._objects, obj);\n            this._objects.splice(newIdx, 0, obj);\n          }\n          objsMoved++;\n        }\n      }\n      else {\n        idx = this._objects.indexOf(object);\n        if (idx !== 0) {\n          // if object is not on the bottom of stack\n          newIdx = this._findNewLowerIndex(object, idx, intersecting);\n          removeFromArray(this._objects, object);\n          this._objects.splice(newIdx, 0, object);\n        }\n      }\n      this.renderOnAddRemove && this.requestRenderAll();\n      return this;\n    },\n\n    /**\n     * @private\n     */\n    _findNewLowerIndex: function(object, idx, intersecting) {\n      var newIdx, i;\n\n      if (intersecting) {\n        newIdx = idx;\n\n        // traverse down the stack looking for the nearest intersecting object\n        for (i = idx - 1; i >= 0; --i) {\n\n          var isIntersecting = object.intersectsWithObject(this._objects[i]) ||\n                               object.isContainedWithinObject(this._objects[i]) ||\n                               this._objects[i].isContainedWithinObject(object);\n\n          if (isIntersecting) {\n            newIdx = i;\n            break;\n          }\n        }\n      }\n      else {\n        newIdx = idx - 1;\n      }\n\n      return newIdx;\n    },\n\n    /**\n     * Moves an object or a selection up in stack of drawn objects\n     * An optional parameter, intersecting allows to move the object in front\n     * of the first intersecting object. Where intersection is calculated with\n     * bounding box. If no intersection is found, there will not be change in the\n     * stack.\n     * @param {fabric.Object} object Object to send\n     * @param {Boolean} [intersecting] If `true`, send object in front of next upper intersecting object\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    bringForward: function (object, intersecting) {\n      if (!object) {\n        return this;\n      }\n      var activeSelection = this._activeObject,\n          i, obj, idx, newIdx, objs, objsMoved = 0;\n\n      if (object === activeSelection && object.type === 'activeSelection') {\n        objs = activeSelection._objects;\n        for (i = objs.length; i--;) {\n          obj = objs[i];\n          idx = this._objects.indexOf(obj);\n          if (idx < this._objects.length - 1 - objsMoved) {\n            newIdx = idx + 1;\n            removeFromArray(this._objects, obj);\n            this._objects.splice(newIdx, 0, obj);\n          }\n          objsMoved++;\n        }\n      }\n      else {\n        idx = this._objects.indexOf(object);\n        if (idx !== this._objects.length - 1) {\n          // if object is not on top of stack (last item in an array)\n          newIdx = this._findNewUpperIndex(object, idx, intersecting);\n          removeFromArray(this._objects, object);\n          this._objects.splice(newIdx, 0, object);\n        }\n      }\n      this.renderOnAddRemove && this.requestRenderAll();\n      return this;\n    },\n\n    /**\n     * @private\n     */\n    _findNewUpperIndex: function(object, idx, intersecting) {\n      var newIdx, i, len;\n\n      if (intersecting) {\n        newIdx = idx;\n\n        // traverse up the stack looking for the nearest intersecting object\n        for (i = idx + 1, len = this._objects.length; i < len; ++i) {\n\n          var isIntersecting = object.intersectsWithObject(this._objects[i]) ||\n                               object.isContainedWithinObject(this._objects[i]) ||\n                               this._objects[i].isContainedWithinObject(object);\n\n          if (isIntersecting) {\n            newIdx = i;\n            break;\n          }\n        }\n      }\n      else {\n        newIdx = idx + 1;\n      }\n\n      return newIdx;\n    },\n\n    /**\n     * Moves an object to specified level in stack of drawn objects\n     * @param {fabric.Object} object Object to send\n     * @param {Number} index Position to move to\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    moveTo: function (object, index) {\n      removeFromArray(this._objects, object);\n      this._objects.splice(index, 0, object);\n      return this.renderOnAddRemove && this.requestRenderAll();\n    },\n\n    /**\n     * Clears a canvas element and dispose objects\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    dispose: function () {\n      // cancel eventually ongoing renders\n      if (this.isRendering) {\n        fabric.util.cancelAnimFrame(this.isRendering);\n        this.isRendering = 0;\n      }\n      this.forEachObject(function(object) {\n        object.dispose && object.dispose();\n      });\n      this._objects = [];\n      if (this.backgroundImage && this.backgroundImage.dispose) {\n        this.backgroundImage.dispose();\n      }\n      this.backgroundImage = null;\n      if (this.overlayImage && this.overlayImage.dispose) {\n        this.overlayImage.dispose();\n      }\n      this.overlayImage = null;\n      this._iTextInstances = null;\n      this.contextContainer = null;\n      fabric.util.cleanUpJsdomNode(this.lowerCanvasEl);\n      this.lowerCanvasEl = undefined;\n      return this;\n    },\n\n    /**\n     * Returns a string representation of an instance\n     * @return {String} string representation of an instance\n     */\n    toString: function () {\n      return '#<fabric.Canvas (' + this.complexity() + '): ' +\n               '{ objects: ' + this._objects.length + ' }>';\n    }\n  });\n\n  extend(fabric.StaticCanvas.prototype, fabric.Observable);\n  extend(fabric.StaticCanvas.prototype, fabric.Collection);\n  extend(fabric.StaticCanvas.prototype, fabric.DataURLExporter);\n\n  extend(fabric.StaticCanvas, /** @lends fabric.StaticCanvas */ {\n\n    /**\n     * @static\n     * @type String\n     * @default\n     */\n    EMPTY_JSON: '{\"objects\": [], \"background\": \"white\"}',\n\n    /**\n     * Provides a way to check support of some of the canvas methods\n     * (either those of HTMLCanvasElement itself, or rendering context)\n     *\n     * @param {String} methodName Method to check support for;\n     *                            Could be one of \"setLineDash\"\n     * @return {Boolean | null} `true` if method is supported (or at least exists),\n     *                          `null` if canvas element or context can not be initialized\n     */\n    supports: function (methodName) {\n      var el = createCanvasElement();\n\n      if (!el || !el.getContext) {\n        return null;\n      }\n\n      var ctx = el.getContext('2d');\n      if (!ctx) {\n        return null;\n      }\n\n      switch (methodName) {\n\n        case 'setLineDash':\n          return typeof ctx.setLineDash !== 'undefined';\n\n        default:\n          return null;\n      }\n    }\n  });\n\n  /**\n   * Returns Object representation of canvas\n   * this alias is provided because if you call JSON.stringify on an instance,\n   * the toJSON object will be invoked if it exists.\n   * Having a toJSON method means you can do JSON.stringify(myCanvas)\n   * @function\n   * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n   * @return {Object} JSON compatible object\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#serialization}\n   * @see {@link http://jsfiddle.net/fabricjs/pec86/|jsFiddle demo}\n   * @example <caption>JSON without additional properties</caption>\n   * var json = canvas.toJSON();\n   * @example <caption>JSON with additional properties included</caption>\n   * var json = canvas.toJSON(['lockMovementX', 'lockMovementY', 'lockRotation', 'lockScalingX', 'lockScalingY']);\n   * @example <caption>JSON without default values</caption>\n   * canvas.includeDefaultValues = false;\n   * var json = canvas.toJSON();\n   */\n  fabric.StaticCanvas.prototype.toJSON = fabric.StaticCanvas.prototype.toObject;\n\n  if (fabric.isLikelyNode) {\n    fabric.StaticCanvas.prototype.createPNGStream = function() {\n      var impl = getNodeCanvas(this.lowerCanvasEl);\n      return impl && impl.createPNGStream();\n    };\n    fabric.StaticCanvas.prototype.createJPEGStream = function(opts) {\n      var impl = getNodeCanvas(this.lowerCanvasEl);\n      return impl && impl.createJPEGStream(opts);\n    };\n  }\n})();\n\n\n/**\n * BaseBrush class\n * @class fabric.BaseBrush\n * @see {@link http://fabricjs.com/freedrawing|Freedrawing demo}\n */\nfabric.BaseBrush = fabric.util.createClass(/** @lends fabric.BaseBrush.prototype */ {\n\n  /**\n   * Color of a brush\n   * @type String\n   * @default\n   */\n  color: 'rgb(0, 0, 0)',\n\n  /**\n   * Width of a brush, has to be a Number, no string literals\n   * @type Number\n   * @default\n   */\n  width: 1,\n\n  /**\n   * Shadow object representing shadow of this shape.\n   * <b>Backwards incompatibility note:</b> This property replaces \"shadowColor\" (String), \"shadowOffsetX\" (Number),\n   * \"shadowOffsetY\" (Number) and \"shadowBlur\" (Number) since v1.2.12\n   * @type fabric.Shadow\n   * @default\n   */\n  shadow: null,\n\n  /**\n   * Line endings style of a brush (one of \"butt\", \"round\", \"square\")\n   * @type String\n   * @default\n   */\n  strokeLineCap: 'round',\n\n  /**\n   * Corner style of a brush (one of \"bevel\", \"round\", \"miter\")\n   * @type String\n   * @default\n   */\n  strokeLineJoin: 'round',\n\n  /**\n   * Maximum miter length (used for strokeLineJoin = \"miter\") of a brush's\n   * @type Number\n   * @default\n   */\n  strokeMiterLimit:         10,\n\n  /**\n   * Stroke Dash Array.\n   * @type Array\n   * @default\n   */\n  strokeDashArray: null,\n\n  /**\n   * Sets brush styles\n   * @private\n   */\n  _setBrushStyles: function() {\n    var ctx = this.canvas.contextTop;\n    ctx.strokeStyle = this.color;\n    ctx.lineWidth = this.width;\n    ctx.lineCap = this.strokeLineCap;\n    ctx.miterLimit = this.strokeMiterLimit;\n    ctx.lineJoin = this.strokeLineJoin;\n    if (fabric.StaticCanvas.supports('setLineDash')) {\n      ctx.setLineDash(this.strokeDashArray || []);\n    }\n  },\n\n  /**\n   * Sets the transformation on given context\n   * @param {RenderingContext2d} ctx context to render on\n   * @private\n   */\n  _saveAndTransform: function(ctx) {\n    var v = this.canvas.viewportTransform;\n    ctx.save();\n    ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n  },\n\n  /**\n   * Sets brush shadow styles\n   * @private\n   */\n  _setShadow: function() {\n    if (!this.shadow) {\n      return;\n    }\n\n    var canvas = this.canvas,\n        shadow = this.shadow,\n        ctx = canvas.contextTop,\n        zoom = canvas.getZoom();\n    if (canvas && canvas._isRetinaScaling()) {\n      zoom *= fabric.devicePixelRatio;\n    }\n\n    ctx.shadowColor = shadow.color;\n    ctx.shadowBlur = shadow.blur * zoom;\n    ctx.shadowOffsetX = shadow.offsetX * zoom;\n    ctx.shadowOffsetY = shadow.offsetY * zoom;\n  },\n\n  needsFullRender: function() {\n    var color = new fabric.Color(this.color);\n    return color.getAlpha() < 1 || !!this.shadow;\n  },\n\n  /**\n   * Removes brush shadow styles\n   * @private\n   */\n  _resetShadow: function() {\n    var ctx = this.canvas.contextTop;\n\n    ctx.shadowColor = '';\n    ctx.shadowBlur = ctx.shadowOffsetX = ctx.shadowOffsetY = 0;\n  }\n});\n\n\n(function() {\n  /**\n   * PencilBrush class\n   * @class fabric.PencilBrush\n   * @extends fabric.BaseBrush\n   */\n  fabric.PencilBrush = fabric.util.createClass(fabric.BaseBrush, /** @lends fabric.PencilBrush.prototype */ {\n\n    /**\n     * Discard points that are less than `decimate` pixel distant from each other\n     * @type Number\n     * @default 0.4\n     */\n    decimate: 0.4,\n\n    /**\n     * Constructor\n     * @param {fabric.Canvas} canvas\n     * @return {fabric.PencilBrush} Instance of a pencil brush\n     */\n    initialize: function(canvas) {\n      this.canvas = canvas;\n      this._points = [];\n    },\n\n    /**\n     * Invoked inside on mouse down and mouse move\n     * @param {Object} pointer\n     */\n    _drawSegment: function (ctx, p1, p2) {\n      var midPoint = p1.midPointFrom(p2);\n      ctx.quadraticCurveTo(p1.x, p1.y, midPoint.x, midPoint.y);\n      return midPoint;\n    },\n\n    /**\n     * Invoked on mouse down\n     * @param {Object} pointer\n     */\n    onMouseDown: function(pointer, options) {\n      if (!this.canvas._isMainEvent(options.e)) {\n        return;\n      }\n      this._prepareForDrawing(pointer);\n      // capture coordinates immediately\n      // this allows to draw dots (when movement never occurs)\n      this._captureDrawingPath(pointer);\n      this._render();\n    },\n\n    /**\n     * Invoked on mouse move\n     * @param {Object} pointer\n     */\n    onMouseMove: function(pointer, options) {\n      if (!this.canvas._isMainEvent(options.e)) {\n        return;\n      }\n      if (this._captureDrawingPath(pointer) && this._points.length > 1) {\n        if (this.needsFullRender()) {\n          // redraw curve\n          // clear top canvas\n          this.canvas.clearContext(this.canvas.contextTop);\n          this._render();\n        }\n        else {\n          var points = this._points, length = points.length, ctx = this.canvas.contextTop;\n          // draw the curve update\n          this._saveAndTransform(ctx);\n          if (this.oldEnd) {\n            ctx.beginPath();\n            ctx.moveTo(this.oldEnd.x, this.oldEnd.y);\n          }\n          this.oldEnd = this._drawSegment(ctx, points[length - 2], points[length - 1], true);\n          ctx.stroke();\n          ctx.restore();\n        }\n      }\n    },\n\n    /**\n     * Invoked on mouse up\n     */\n    onMouseUp: function(options) {\n      if (!this.canvas._isMainEvent(options.e)) {\n        return true;\n      }\n      this.oldEnd = undefined;\n      this._finalizeAndAddPath();\n      return false;\n    },\n\n    /**\n     * @private\n     * @param {Object} pointer Actual mouse position related to the canvas.\n     */\n    _prepareForDrawing: function(pointer) {\n\n      var p = new fabric.Point(pointer.x, pointer.y);\n\n      this._reset();\n      this._addPoint(p);\n      this.canvas.contextTop.moveTo(p.x, p.y);\n    },\n\n    /**\n     * @private\n     * @param {fabric.Point} point Point to be added to points array\n     */\n    _addPoint: function(point) {\n      if (this._points.length > 1 && point.eq(this._points[this._points.length - 1])) {\n        return false;\n      }\n      this._points.push(point);\n      return true;\n    },\n\n    /**\n     * Clear points array and set contextTop canvas style.\n     * @private\n     */\n    _reset: function() {\n      this._points = [];\n      this._setBrushStyles();\n      this._setShadow();\n    },\n\n    /**\n     * @private\n     * @param {Object} pointer Actual mouse position related to the canvas.\n     */\n    _captureDrawingPath: function(pointer) {\n      var pointerPoint = new fabric.Point(pointer.x, pointer.y);\n      return this._addPoint(pointerPoint);\n    },\n\n    /**\n     * Draw a smooth path on the topCanvas using quadraticCurveTo\n     * @private\n     */\n    _render: function() {\n      var ctx  = this.canvas.contextTop, i, len,\n          p1 = this._points[0],\n          p2 = this._points[1];\n\n      this._saveAndTransform(ctx);\n      ctx.beginPath();\n      //if we only have 2 points in the path and they are the same\n      //it means that the user only clicked the canvas without moving the mouse\n      //then we should be drawing a dot. A path isn't drawn between two identical dots\n      //that's why we set them apart a bit\n      if (this._points.length === 2 && p1.x === p2.x && p1.y === p2.y) {\n        var width = this.width / 1000;\n        p1 = new fabric.Point(p1.x, p1.y);\n        p2 = new fabric.Point(p2.x, p2.y);\n        p1.x -= width;\n        p2.x += width;\n      }\n      ctx.moveTo(p1.x, p1.y);\n\n      for (i = 1, len = this._points.length; i < len; i++) {\n        // we pick the point between pi + 1 & pi + 2 as the\n        // end point and p1 as our control point.\n        this._drawSegment(ctx, p1, p2);\n        p1 = this._points[i];\n        p2 = this._points[i + 1];\n      }\n      // Draw last line as a straight line while\n      // we wait for the next point to be able to calculate\n      // the bezier control point\n      ctx.lineTo(p1.x, p1.y);\n      ctx.stroke();\n      ctx.restore();\n    },\n\n    /**\n     * Converts points to SVG path\n     * @param {Array} points Array of points\n     * @return {String} SVG path\n     */\n    convertPointsToSVGPath: function(points) {\n      var path = [], i, width = this.width / 1000,\n          p1 = new fabric.Point(points[0].x, points[0].y),\n          p2 = new fabric.Point(points[1].x, points[1].y),\n          len = points.length, multSignX = 1, multSignY = 0, manyPoints = len > 2;\n\n      if (manyPoints) {\n        multSignX = points[2].x < p2.x ? -1 : points[2].x === p2.x ? 0 : 1;\n        multSignY = points[2].y < p2.y ? -1 : points[2].y === p2.y ? 0 : 1;\n      }\n      path.push('M ', p1.x - multSignX * width, ' ', p1.y - multSignY * width, ' ');\n      for (i = 1; i < len; i++) {\n        if (!p1.eq(p2)) {\n          var midPoint = p1.midPointFrom(p2);\n          // p1 is our bezier control point\n          // midpoint is our endpoint\n          // start point is p(i-1) value.\n          path.push('Q ', p1.x, ' ', p1.y, ' ', midPoint.x, ' ', midPoint.y, ' ');\n        }\n        p1 = points[i];\n        if ((i + 1) < points.length) {\n          p2 = points[i + 1];\n        }\n      }\n      if (manyPoints) {\n        multSignX = p1.x > points[i - 2].x ? 1 : p1.x === points[i - 2].x ? 0 : -1;\n        multSignY = p1.y > points[i - 2].y ? 1 : p1.y === points[i - 2].y ? 0 : -1;\n      }\n      path.push('L ', p1.x + multSignX * width, ' ', p1.y + multSignY * width);\n      return path;\n    },\n\n    /**\n     * Creates fabric.Path object to add on canvas\n     * @param {String} pathData Path data\n     * @return {fabric.Path} Path to add on canvas\n     */\n    createPath: function(pathData) {\n      var path = new fabric.Path(pathData, {\n        fill: null,\n        stroke: this.color,\n        strokeWidth: this.width,\n        strokeLineCap: this.strokeLineCap,\n        strokeMiterLimit: this.strokeMiterLimit,\n        strokeLineJoin: this.strokeLineJoin,\n        strokeDashArray: this.strokeDashArray,\n      });\n      if (this.shadow) {\n        this.shadow.affectStroke = true;\n        path.shadow = new fabric.Shadow(this.shadow);\n      }\n\n      return path;\n    },\n\n    /**\n     * Decimate points array with the decimate value\n     */\n    decimatePoints: function(points, distance) {\n      if (points.length <= 2) {\n        return points;\n      }\n      var zoom = this.canvas.getZoom(), adjustedDistance = Math.pow(distance / zoom, 2),\n          i, l = points.length - 1, lastPoint = points[0], newPoints = [lastPoint],\n          cDistance;\n      for (i = 1; i < l; i++) {\n        cDistance = Math.pow(lastPoint.x - points[i].x, 2) + Math.pow(lastPoint.y - points[i].y, 2);\n        if (cDistance >= adjustedDistance) {\n          lastPoint = points[i];\n          newPoints.push(lastPoint);\n        }\n      }\n      if (newPoints.length === 1) {\n        newPoints.push(new fabric.Point(newPoints[0].x, newPoints[0].y));\n      }\n      return newPoints;\n    },\n\n    /**\n     * On mouseup after drawing the path on contextTop canvas\n     * we use the points captured to create an new fabric path object\n     * and add it to the fabric canvas.\n     */\n    _finalizeAndAddPath: function() {\n      var ctx = this.canvas.contextTop;\n      ctx.closePath();\n      if (this.decimate) {\n        this._points = this.decimatePoints(this._points, this.decimate);\n      }\n      var pathData = this.convertPointsToSVGPath(this._points).join('');\n      if (pathData === 'M 0 0 Q 0 0 0 0 L 0 0') {\n        // do not create 0 width/height paths, as they are\n        // rendered inconsistently across browsers\n        // Firefox 4, for example, renders a dot,\n        // whereas Chrome 10 renders nothing\n        this.canvas.requestRenderAll();\n        return;\n      }\n\n      var path = this.createPath(pathData);\n      this.canvas.clearContext(this.canvas.contextTop);\n      this.canvas.fire('before:path:created', { path: path });\n      this.canvas.add(path);\n      this.canvas.requestRenderAll();\n      path.setCoords();\n      this._resetShadow();\n\n\n      // fire event 'path' created\n      this.canvas.fire('path:created', { path: path });\n    }\n  });\n})();\n\n\n/**\n * CircleBrush class\n * @class fabric.CircleBrush\n */\nfabric.CircleBrush = fabric.util.createClass(fabric.BaseBrush, /** @lends fabric.CircleBrush.prototype */ {\n\n  /**\n   * Width of a brush\n   * @type Number\n   * @default\n   */\n  width: 10,\n\n  /**\n   * Constructor\n   * @param {fabric.Canvas} canvas\n   * @return {fabric.CircleBrush} Instance of a circle brush\n   */\n  initialize: function(canvas) {\n    this.canvas = canvas;\n    this.points = [];\n  },\n\n  /**\n   * Invoked inside on mouse down and mouse move\n   * @param {Object} pointer\n   */\n  drawDot: function(pointer) {\n    var point = this.addPoint(pointer),\n        ctx = this.canvas.contextTop;\n    this._saveAndTransform(ctx);\n    this.dot(ctx, point);\n    ctx.restore();\n  },\n\n  dot: function(ctx, point) {\n    ctx.fillStyle = point.fill;\n    ctx.beginPath();\n    ctx.arc(point.x, point.y, point.radius, 0, Math.PI * 2, false);\n    ctx.closePath();\n    ctx.fill();\n  },\n\n  /**\n   * Invoked on mouse down\n   */\n  onMouseDown: function(pointer) {\n    this.points.length = 0;\n    this.canvas.clearContext(this.canvas.contextTop);\n    this._setShadow();\n    this.drawDot(pointer);\n  },\n\n  /**\n   * Render the full state of the brush\n   * @private\n   */\n  _render: function() {\n    var ctx  = this.canvas.contextTop, i, len,\n        points = this.points;\n    this._saveAndTransform(ctx);\n    for (i = 0, len = points.length; i < len; i++) {\n      this.dot(ctx, points[i]);\n    }\n    ctx.restore();\n  },\n\n  /**\n   * Invoked on mouse move\n   * @param {Object} pointer\n   */\n  onMouseMove: function(pointer) {\n    if (this.needsFullRender()) {\n      this.canvas.clearContext(this.canvas.contextTop);\n      this.addPoint(pointer);\n      this._render();\n    }\n    else {\n      this.drawDot(pointer);\n    }\n  },\n\n  /**\n   * Invoked on mouse up\n   */\n  onMouseUp: function() {\n    var originalRenderOnAddRemove = this.canvas.renderOnAddRemove, i, len;\n    this.canvas.renderOnAddRemove = false;\n\n    var circles = [];\n\n    for (i = 0, len = this.points.length; i < len; i++) {\n      var point = this.points[i],\n          circle = new fabric.Circle({\n            radius: point.radius,\n            left: point.x,\n            top: point.y,\n            originX: 'center',\n            originY: 'center',\n            fill: point.fill\n          });\n\n      this.shadow && (circle.shadow = new fabric.Shadow(this.shadow));\n\n      circles.push(circle);\n    }\n    var group = new fabric.Group(circles);\n    group.canvas = this.canvas;\n\n    this.canvas.fire('before:path:created', { path: group });\n    this.canvas.add(group);\n    this.canvas.fire('path:created', { path: group });\n\n    this.canvas.clearContext(this.canvas.contextTop);\n    this._resetShadow();\n    this.canvas.renderOnAddRemove = originalRenderOnAddRemove;\n    this.canvas.requestRenderAll();\n  },\n\n  /**\n   * @param {Object} pointer\n   * @return {fabric.Point} Just added pointer point\n   */\n  addPoint: function(pointer) {\n    var pointerPoint = new fabric.Point(pointer.x, pointer.y),\n\n        circleRadius = fabric.util.getRandomInt(\n          Math.max(0, this.width - 20), this.width + 20) / 2,\n\n        circleColor = new fabric.Color(this.color)\n          .setAlpha(fabric.util.getRandomInt(0, 100) / 100)\n          .toRgba();\n\n    pointerPoint.radius = circleRadius;\n    pointerPoint.fill = circleColor;\n\n    this.points.push(pointerPoint);\n\n    return pointerPoint;\n  }\n});\n\n\n/**\n * SprayBrush class\n * @class fabric.SprayBrush\n */\nfabric.SprayBrush = fabric.util.createClass( fabric.BaseBrush, /** @lends fabric.SprayBrush.prototype */ {\n\n  /**\n   * Width of a spray\n   * @type Number\n   * @default\n   */\n  width:              10,\n\n  /**\n   * Density of a spray (number of dots per chunk)\n   * @type Number\n   * @default\n   */\n  density:            20,\n\n  /**\n   * Width of spray dots\n   * @type Number\n   * @default\n   */\n  dotWidth:           1,\n\n  /**\n   * Width variance of spray dots\n   * @type Number\n   * @default\n   */\n  dotWidthVariance:   1,\n\n  /**\n   * Whether opacity of a dot should be random\n   * @type Boolean\n   * @default\n   */\n  randomOpacity:        false,\n\n  /**\n   * Whether overlapping dots (rectangles) should be removed (for performance reasons)\n   * @type Boolean\n   * @default\n   */\n  optimizeOverlapping:  true,\n\n  /**\n   * Constructor\n   * @param {fabric.Canvas} canvas\n   * @return {fabric.SprayBrush} Instance of a spray brush\n   */\n  initialize: function(canvas) {\n    this.canvas = canvas;\n    this.sprayChunks = [];\n  },\n\n  /**\n   * Invoked on mouse down\n   * @param {Object} pointer\n   */\n  onMouseDown: function(pointer) {\n    this.sprayChunks.length = 0;\n    this.canvas.clearContext(this.canvas.contextTop);\n    this._setShadow();\n\n    this.addSprayChunk(pointer);\n    this.render(this.sprayChunkPoints);\n  },\n\n  /**\n   * Invoked on mouse move\n   * @param {Object} pointer\n   */\n  onMouseMove: function(pointer) {\n    this.addSprayChunk(pointer);\n    this.render(this.sprayChunkPoints);\n  },\n\n  /**\n   * Invoked on mouse up\n   */\n  onMouseUp: function() {\n    var originalRenderOnAddRemove = this.canvas.renderOnAddRemove;\n    this.canvas.renderOnAddRemove = false;\n\n    var rects = [];\n\n    for (var i = 0, ilen = this.sprayChunks.length; i < ilen; i++) {\n      var sprayChunk = this.sprayChunks[i];\n\n      for (var j = 0, jlen = sprayChunk.length; j < jlen; j++) {\n\n        var rect = new fabric.Rect({\n          width: sprayChunk[j].width,\n          height: sprayChunk[j].width,\n          left: sprayChunk[j].x + 1,\n          top: sprayChunk[j].y + 1,\n          originX: 'center',\n          originY: 'center',\n          fill: this.color\n        });\n        rects.push(rect);\n      }\n    }\n\n    if (this.optimizeOverlapping) {\n      rects = this._getOptimizedRects(rects);\n    }\n\n    var group = new fabric.Group(rects);\n    this.shadow && group.set('shadow', new fabric.Shadow(this.shadow));\n    this.canvas.fire('before:path:created', { path: group });\n    this.canvas.add(group);\n    this.canvas.fire('path:created', { path: group });\n\n    this.canvas.clearContext(this.canvas.contextTop);\n    this._resetShadow();\n    this.canvas.renderOnAddRemove = originalRenderOnAddRemove;\n    this.canvas.requestRenderAll();\n  },\n\n  /**\n   * @private\n   * @param {Array} rects\n   */\n  _getOptimizedRects: function(rects) {\n\n    // avoid creating duplicate rects at the same coordinates\n    var uniqueRects = { }, key, i, len;\n\n    for (i = 0, len = rects.length; i < len; i++) {\n      key = rects[i].left + '' + rects[i].top;\n      if (!uniqueRects[key]) {\n        uniqueRects[key] = rects[i];\n      }\n    }\n    var uniqueRectsArray = [];\n    for (key in uniqueRects) {\n      uniqueRectsArray.push(uniqueRects[key]);\n    }\n\n    return uniqueRectsArray;\n  },\n\n  /**\n   * Render new chunk of spray brush\n   */\n  render: function(sprayChunk) {\n    var ctx = this.canvas.contextTop, i, len;\n    ctx.fillStyle = this.color;\n\n    this._saveAndTransform(ctx);\n\n    for (i = 0, len = sprayChunk.length; i < len; i++) {\n      var point = sprayChunk[i];\n      if (typeof point.opacity !== 'undefined') {\n        ctx.globalAlpha = point.opacity;\n      }\n      ctx.fillRect(point.x, point.y, point.width, point.width);\n    }\n    ctx.restore();\n  },\n\n  /**\n   * Render all spray chunks\n   */\n  _render: function() {\n    var ctx = this.canvas.contextTop, i, ilen;\n    ctx.fillStyle = this.color;\n\n    this._saveAndTransform(ctx);\n\n    for (i = 0, ilen = this.sprayChunks.length; i < ilen; i++) {\n      this.render(this.sprayChunks[i]);\n    }\n    ctx.restore();\n  },\n\n  /**\n   * @param {Object} pointer\n   */\n  addSprayChunk: function(pointer) {\n    this.sprayChunkPoints = [];\n\n    var x, y, width, radius = this.width / 2, i;\n\n    for (i = 0; i < this.density; i++) {\n\n      x = fabric.util.getRandomInt(pointer.x - radius, pointer.x + radius);\n      y = fabric.util.getRandomInt(pointer.y - radius, pointer.y + radius);\n\n      if (this.dotWidthVariance) {\n        width = fabric.util.getRandomInt(\n          // bottom clamp width to 1\n          Math.max(1, this.dotWidth - this.dotWidthVariance),\n          this.dotWidth + this.dotWidthVariance);\n      }\n      else {\n        width = this.dotWidth;\n      }\n\n      var point = new fabric.Point(x, y);\n      point.width = width;\n\n      if (this.randomOpacity) {\n        point.opacity = fabric.util.getRandomInt(0, 100) / 100;\n      }\n\n      this.sprayChunkPoints.push(point);\n    }\n\n    this.sprayChunks.push(this.sprayChunkPoints);\n  }\n});\n\n\n/**\n * PatternBrush class\n * @class fabric.PatternBrush\n * @extends fabric.BaseBrush\n */\nfabric.PatternBrush = fabric.util.createClass(fabric.PencilBrush, /** @lends fabric.PatternBrush.prototype */ {\n\n  getPatternSrc: function() {\n\n    var dotWidth = 20,\n        dotDistance = 5,\n        patternCanvas = fabric.util.createCanvasElement(),\n        patternCtx = patternCanvas.getContext('2d');\n\n    patternCanvas.width = patternCanvas.height = dotWidth + dotDistance;\n\n    patternCtx.fillStyle = this.color;\n    patternCtx.beginPath();\n    patternCtx.arc(dotWidth / 2, dotWidth / 2, dotWidth / 2, 0, Math.PI * 2, false);\n    patternCtx.closePath();\n    patternCtx.fill();\n\n    return patternCanvas;\n  },\n\n  getPatternSrcFunction: function() {\n    return String(this.getPatternSrc).replace('this.color', '\"' + this.color + '\"');\n  },\n\n  /**\n   * Creates \"pattern\" instance property\n   */\n  getPattern: function() {\n    return this.canvas.contextTop.createPattern(this.source || this.getPatternSrc(), 'repeat');\n  },\n\n  /**\n   * Sets brush styles\n   */\n  _setBrushStyles: function() {\n    this.callSuper('_setBrushStyles');\n    this.canvas.contextTop.strokeStyle = this.getPattern();\n  },\n\n  /**\n   * Creates path\n   */\n  createPath: function(pathData) {\n    var path = this.callSuper('createPath', pathData),\n        topLeft = path._getLeftTopCoords().scalarAdd(path.strokeWidth / 2);\n\n    path.stroke = new fabric.Pattern({\n      source: this.source || this.getPatternSrcFunction(),\n      offsetX: -topLeft.x,\n      offsetY: -topLeft.y\n    });\n    return path;\n  }\n});\n\n\n(function() {\n\n  var getPointer = fabric.util.getPointer,\n      degreesToRadians = fabric.util.degreesToRadians,\n      abs = Math.abs,\n      supportLineDash = fabric.StaticCanvas.supports('setLineDash'),\n      isTouchEvent = fabric.util.isTouchEvent,\n      STROKE_OFFSET = 0.5;\n\n  /**\n   * Canvas class\n   * @class fabric.Canvas\n   * @extends fabric.StaticCanvas\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#canvas}\n   * @see {@link fabric.Canvas#initialize} for constructor definition\n   *\n   * @fires object:modified at the end of a transform or any change when statefull is true\n   * @fires object:rotating while an object is being rotated from the control\n   * @fires object:scaling while an object is being scaled by controls\n   * @fires object:moving while an object is being dragged\n   * @fires object:skewing while an object is being skewed from the controls\n   *\n   * @fires before:transform before a transform is is started\n   * @fires before:selection:cleared\n   * @fires selection:cleared\n   * @fires selection:updated\n   * @fires selection:created\n   *\n   * @fires path:created after a drawing operation ends and the path is added\n   * @fires mouse:down\n   * @fires mouse:move\n   * @fires mouse:up\n   * @fires mouse:down:before  on mouse down, before the inner fabric logic runs\n   * @fires mouse:move:before on mouse move, before the inner fabric logic runs\n   * @fires mouse:up:before on mouse up, before the inner fabric logic runs\n   * @fires mouse:over\n   * @fires mouse:out\n   * @fires mouse:dblclick whenever a native dbl click event fires on the canvas.\n   *\n   * @fires dragover\n   * @fires dragenter\n   * @fires dragleave\n   * @fires drop\n   * @fires after:render at the end of the render process, receives the context in the callback\n   * @fires before:render at start the render process, receives the context in the callback\n   *\n   * the following events are deprecated:\n   * @fires object:rotated at the end of a rotation transform\n   * @fires object:scaled at the end of a scale transform\n   * @fires object:moved at the end of translation transform\n   * @fires object:skewed at the end of a skew transform\n   */\n  fabric.Canvas = fabric.util.createClass(fabric.StaticCanvas, /** @lends fabric.Canvas.prototype */ {\n\n    /**\n     * Constructor\n     * @param {HTMLElement | String} el &lt;canvas> element to initialize instance on\n     * @param {Object} [options] Options object\n     * @return {Object} thisArg\n     */\n    initialize: function(el, options) {\n      options || (options = { });\n      this.renderAndResetBound = this.renderAndReset.bind(this);\n      this.requestRenderAllBound = this.requestRenderAll.bind(this);\n      this._initStatic(el, options);\n      this._initInteractive();\n      this._createCacheCanvas();\n    },\n\n    /**\n     * When true, objects can be transformed by one side (unproportionally)\n     * when dragged on the corners that normally would not do that.\n     * @type Boolean\n     * @default\n     * @since fabric 4.0 // changed name and default value\n     */\n    uniformScaling:      true,\n\n    /**\n     * Indicates which key switches uniform scaling.\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\n     * If `null` or 'none' or any other string that is not a modifier key\n     * feature is disabled.\n     * totally wrong named. this sounds like `uniform scaling`\n     * if Canvas.uniformScaling is true, pressing this will set it to false\n     * and viceversa.\n     * @since 1.6.2\n     * @type String\n     * @default\n     */\n    uniScaleKey:           'shiftKey',\n\n    /**\n     * When true, objects use center point as the origin of scale transformation.\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\n     * @since 1.3.4\n     * @type Boolean\n     * @default\n     */\n    centeredScaling:        false,\n\n    /**\n     * When true, objects use center point as the origin of rotate transformation.\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\n     * @since 1.3.4\n     * @type Boolean\n     * @default\n     */\n    centeredRotation:       false,\n\n    /**\n     * Indicates which key enable centered Transform\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\n     * If `null` or 'none' or any other string that is not a modifier key\n     * feature is disabled feature disabled.\n     * @since 1.6.2\n     * @type String\n     * @default\n     */\n    centeredKey:           'altKey',\n\n    /**\n     * Indicates which key enable alternate action on corner\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\n     * If `null` or 'none' or any other string that is not a modifier key\n     * feature is disabled feature disabled.\n     * @since 1.6.2\n     * @type String\n     * @default\n     */\n    altActionKey:           'shiftKey',\n\n    /**\n     * Indicates that canvas is interactive. This property should not be changed.\n     * @type Boolean\n     * @default\n     */\n    interactive:            true,\n\n    /**\n     * Indicates whether group selection should be enabled\n     * @type Boolean\n     * @default\n     */\n    selection:              true,\n\n    /**\n     * Indicates which key or keys enable multiple click selection\n     * Pass value as a string or array of strings\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\n     * If `null` or empty or containing any other string that is not a modifier key\n     * feature is disabled.\n     * @since 1.6.2\n     * @type String|Array\n     * @default\n     */\n    selectionKey:           'shiftKey',\n\n    /**\n     * Indicates which key enable alternative selection\n     * in case of target overlapping with active object\n     * values: 'altKey', 'shiftKey', 'ctrlKey'.\n     * For a series of reason that come from the general expectations on how\n     * things should work, this feature works only for preserveObjectStacking true.\n     * If `null` or 'none' or any other string that is not a modifier key\n     * feature is disabled.\n     * @since 1.6.5\n     * @type null|String\n     * @default\n     */\n    altSelectionKey:           null,\n\n    /**\n     * Color of selection\n     * @type String\n     * @default\n     */\n    selectionColor:         'rgba(100, 100, 255, 0.3)', // blue\n\n    /**\n     * Default dash array pattern\n     * If not empty the selection border is dashed\n     * @type Array\n     */\n    selectionDashArray:     [],\n\n    /**\n     * Color of the border of selection (usually slightly darker than color of selection itself)\n     * @type String\n     * @default\n     */\n    selectionBorderColor:   'rgba(255, 255, 255, 0.3)',\n\n    /**\n     * Width of a line used in object/group selection\n     * @type Number\n     * @default\n     */\n    selectionLineWidth:     1,\n\n    /**\n     * Select only shapes that are fully contained in the dragged selection rectangle.\n     * @type Boolean\n     * @default\n     */\n    selectionFullyContained: false,\n\n    /**\n     * Default cursor value used when hovering over an object on canvas\n     * @type String\n     * @default\n     */\n    hoverCursor:            'move',\n\n    /**\n     * Default cursor value used when moving an object on canvas\n     * @type String\n     * @default\n     */\n    moveCursor:             'move',\n\n    /**\n     * Default cursor value used for the entire canvas\n     * @type String\n     * @default\n     */\n    defaultCursor:          'default',\n\n    /**\n     * Cursor value used during free drawing\n     * @type String\n     * @default\n     */\n    freeDrawingCursor:      'crosshair',\n\n    /**\n     * Cursor value used for rotation point\n     * @type String\n     * @default\n     */\n    rotationCursor:         'crosshair',\n\n    /**\n     * Cursor value used for disabled elements ( corners with disabled action )\n     * @type String\n     * @since 2.0.0\n     * @default\n     */\n    notAllowedCursor:         'not-allowed',\n\n    /**\n     * Default element class that's given to wrapper (div) element of canvas\n     * @type String\n     * @default\n     */\n    containerClass:         'canvas-container',\n\n    /**\n     * When true, object detection happens on per-pixel basis rather than on per-bounding-box\n     * @type Boolean\n     * @default\n     */\n    perPixelTargetFind:     false,\n\n    /**\n     * Number of pixels around target pixel to tolerate (consider active) during object detection\n     * @type Number\n     * @default\n     */\n    targetFindTolerance:    0,\n\n    /**\n     * When true, target detection is skipped. Target detection will return always undefined.\n     * click selection won't work anymore, events will fire with no targets.\n     * if something is selected before setting it to true, it will be deselected at the first click.\n     * area selection will still work. check the `selection` property too.\n     * if you deactivate both, you should look into staticCanvas.\n     * @type Boolean\n     * @default\n     */\n    skipTargetFind:         false,\n\n    /**\n     * When true, mouse events on canvas (mousedown/mousemove/mouseup) result in free drawing.\n     * After mousedown, mousemove creates a shape,\n     * and then mouseup finalizes it and adds an instance of `fabric.Path` onto canvas.\n     * @tutorial {@link http://fabricjs.com/fabric-intro-part-4#free_drawing}\n     * @type Boolean\n     * @default\n     */\n    isDrawingMode:          false,\n\n    /**\n     * Indicates whether objects should remain in current stack position when selected.\n     * When false objects are brought to top and rendered as part of the selection group\n     * @type Boolean\n     * @default\n     */\n    preserveObjectStacking: false,\n\n    /**\n     * Indicates the angle that an object will lock to while rotating.\n     * @type Number\n     * @since 1.6.7\n     * @default\n     */\n    snapAngle: 0,\n\n    /**\n     * Indicates the distance from the snapAngle the rotation will lock to the snapAngle.\n     * When `null`, the snapThreshold will default to the snapAngle.\n     * @type null|Number\n     * @since 1.6.7\n     * @default\n     */\n    snapThreshold: null,\n\n    /**\n     * Indicates if the right click on canvas can output the context menu or not\n     * @type Boolean\n     * @since 1.6.5\n     * @default\n     */\n    stopContextMenu: false,\n\n    /**\n     * Indicates if the canvas can fire right click events\n     * @type Boolean\n     * @since 1.6.5\n     * @default\n     */\n    fireRightClick: false,\n\n    /**\n     * Indicates if the canvas can fire middle click events\n     * @type Boolean\n     * @since 1.7.8\n     * @default\n     */\n    fireMiddleClick: false,\n\n    /**\n     * Keep track of the subTargets for Mouse Events\n     * @type fabric.Object[]\n     */\n    targets: [],\n\n    /**\n     * Keep track of the hovered target\n     * @type fabric.Object\n     * @private\n     */\n    _hoveredTarget: null,\n\n    /**\n     * hold the list of nested targets hovered\n     * @type fabric.Object[]\n     * @private\n     */\n    _hoveredTargets: [],\n\n    /**\n     * @private\n     */\n    _initInteractive: function() {\n      this._currentTransform = null;\n      this._groupSelector = null;\n      this._initWrapperElement();\n      this._createUpperCanvas();\n      this._initEventListeners();\n\n      this._initRetinaScaling();\n\n      this.freeDrawingBrush = fabric.PencilBrush && new fabric.PencilBrush(this);\n\n      this.calcOffset();\n    },\n\n    /**\n     * Divides objects in two groups, one to render immediately\n     * and one to render as activeGroup.\n     * @return {Array} objects to render immediately and pushes the other in the activeGroup.\n     */\n    _chooseObjectsToRender: function() {\n      var activeObjects = this.getActiveObjects(),\n          object, objsToRender, activeGroupObjects;\n\n      if (activeObjects.length > 0 && !this.preserveObjectStacking) {\n        objsToRender = [];\n        activeGroupObjects = [];\n        for (var i = 0, length = this._objects.length; i < length; i++) {\n          object = this._objects[i];\n          if (activeObjects.indexOf(object) === -1 ) {\n            objsToRender.push(object);\n          }\n          else {\n            activeGroupObjects.push(object);\n          }\n        }\n        if (activeObjects.length > 1) {\n          this._activeObject._objects = activeGroupObjects;\n        }\n        objsToRender.push.apply(objsToRender, activeGroupObjects);\n      }\n      else {\n        objsToRender = this._objects;\n      }\n      return objsToRender;\n    },\n\n    /**\n     * Renders both the top canvas and the secondary container canvas.\n     * @return {fabric.Canvas} instance\n     * @chainable\n     */\n    renderAll: function () {\n      if (this.contextTopDirty && !this._groupSelector && !this.isDrawingMode) {\n        this.clearContext(this.contextTop);\n        this.contextTopDirty = false;\n      }\n      if (this.hasLostContext) {\n        this.renderTopLayer(this.contextTop);\n      }\n      var canvasToDrawOn = this.contextContainer;\n      this.renderCanvas(canvasToDrawOn, this._chooseObjectsToRender());\n      return this;\n    },\n\n    renderTopLayer: function(ctx) {\n      ctx.save();\n      if (this.isDrawingMode && this._isCurrentlyDrawing) {\n        this.freeDrawingBrush && this.freeDrawingBrush._render();\n        this.contextTopDirty = true;\n      }\n      // we render the top context - last object\n      if (this.selection && this._groupSelector) {\n        this._drawSelection(ctx);\n        this.contextTopDirty = true;\n      }\n      ctx.restore();\n    },\n\n    /**\n     * Method to render only the top canvas.\n     * Also used to render the group selection box.\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    renderTop: function () {\n      var ctx = this.contextTop;\n      this.clearContext(ctx);\n      this.renderTopLayer(ctx);\n      this.fire('after:render');\n      return this;\n    },\n\n    /**\n     * @private\n     */\n    _normalizePointer: function (object, pointer) {\n      var m = object.calcTransformMatrix(),\n          invertedM = fabric.util.invertTransform(m),\n          vptPointer = this.restorePointerVpt(pointer);\n      return fabric.util.transformPoint(vptPointer, invertedM);\n    },\n\n    /**\n     * Returns true if object is transparent at a certain location\n     * @param {fabric.Object} target Object to check\n     * @param {Number} x Left coordinate\n     * @param {Number} y Top coordinate\n     * @return {Boolean}\n     */\n    isTargetTransparent: function (target, x, y) {\n      // in case the target is the activeObject, we cannot execute this optimization\n      // because we need to draw controls too.\n      if (target.shouldCache() && target._cacheCanvas && target !== this._activeObject) {\n        var normalizedPointer = this._normalizePointer(target, {x: x, y: y}),\n            targetRelativeX = Math.max(target.cacheTranslationX + (normalizedPointer.x * target.zoomX), 0),\n            targetRelativeY = Math.max(target.cacheTranslationY + (normalizedPointer.y * target.zoomY), 0);\n\n        var isTransparent = fabric.util.isTransparent(\n          target._cacheContext, Math.round(targetRelativeX), Math.round(targetRelativeY), this.targetFindTolerance);\n\n        return isTransparent;\n      }\n\n      var ctx = this.contextCache,\n          originalColor = target.selectionBackgroundColor, v = this.viewportTransform;\n\n      target.selectionBackgroundColor = '';\n\n      this.clearContext(ctx);\n\n      ctx.save();\n      ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n      target.render(ctx);\n      ctx.restore();\n\n      target === this._activeObject && target._renderControls(ctx, {\n        hasBorders: false,\n        transparentCorners: false\n      }, {\n        hasBorders: false,\n      });\n\n      target.selectionBackgroundColor = originalColor;\n\n      var isTransparent = fabric.util.isTransparent(\n        ctx, x, y, this.targetFindTolerance);\n\n      return isTransparent;\n    },\n\n    /**\n     * takes an event and determines if selection key has been pressed\n     * @private\n     * @param {Event} e Event object\n     */\n    _isSelectionKeyPressed: function(e) {\n      var selectionKeyPressed = false;\n\n      if (Object.prototype.toString.call(this.selectionKey) === '[object Array]') {\n        selectionKeyPressed = !!this.selectionKey.find(function(key) { return e[key] === true; });\n      }\n      else {\n        selectionKeyPressed = e[this.selectionKey];\n      }\n\n      return selectionKeyPressed;\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object\n     * @param {fabric.Object} target\n     */\n    _shouldClearSelection: function (e, target) {\n      var activeObjects = this.getActiveObjects(),\n          activeObject = this._activeObject;\n\n      return (\n        !target\n        ||\n        (target &&\n          activeObject &&\n          activeObjects.length > 1 &&\n          activeObjects.indexOf(target) === -1 &&\n          activeObject !== target &&\n          !this._isSelectionKeyPressed(e))\n        ||\n        (target && !target.evented)\n        ||\n        (target &&\n          !target.selectable &&\n          activeObject &&\n          activeObject !== target)\n      );\n    },\n\n    /**\n     * centeredScaling from object can't override centeredScaling from canvas.\n     * this should be fixed, since object setting should take precedence over canvas.\n     * also this should be something that will be migrated in the control properties.\n     * as ability to define the origin of the transformation that the control provide.\n     * @private\n     * @param {fabric.Object} target\n     * @param {String} action\n     * @param {Boolean} altKey\n     */\n    _shouldCenterTransform: function (target, action, altKey) {\n      if (!target) {\n        return;\n      }\n\n      var centerTransform;\n\n      if (action === 'scale' || action === 'scaleX' || action === 'scaleY' || action === 'resizing') {\n        centerTransform = this.centeredScaling || target.centeredScaling;\n      }\n      else if (action === 'rotate') {\n        centerTransform = this.centeredRotation || target.centeredRotation;\n      }\n\n      return centerTransform ? !altKey : altKey;\n    },\n\n    /**\n     * should disappear before release 4.0\n     * @private\n     */\n    _getOriginFromCorner: function(target, corner) {\n      var origin = {\n        x: target.originX,\n        y: target.originY\n      };\n\n      if (corner === 'ml' || corner === 'tl' || corner === 'bl') {\n        origin.x = 'right';\n      }\n      else if (corner === 'mr' || corner === 'tr' || corner === 'br') {\n        origin.x = 'left';\n      }\n\n      if (corner === 'tl' || corner === 'mt' || corner === 'tr') {\n        origin.y = 'bottom';\n      }\n      else if (corner === 'bl' || corner === 'mb' || corner === 'br') {\n        origin.y = 'top';\n      }\n      return origin;\n    },\n\n    /**\n     * @private\n     * @param {Boolean} alreadySelected true if target is already selected\n     * @param {String} corner a string representing the corner ml, mr, tl ...\n     * @param {Event} e Event object\n     * @param {fabric.Object} [target] inserted back to help overriding. Unused\n     */\n    _getActionFromCorner: function(alreadySelected, corner, e, target) {\n      if (!corner || !alreadySelected) {\n        return 'drag';\n      }\n      var control = target.controls[corner];\n      return control.getActionName(e, control, target);\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object\n     * @param {fabric.Object} target\n     */\n    _setupCurrentTransform: function (e, target, alreadySelected) {\n      if (!target) {\n        return;\n      }\n\n      var pointer = this.getPointer(e), corner = target.__corner,\n          control = target.controls[corner],\n          actionHandler = (alreadySelected && corner) ?\n            control.getActionHandler(e, target, control) : fabric.controlsUtils.dragHandler,\n          action = this._getActionFromCorner(alreadySelected, corner, e, target),\n          origin = this._getOriginFromCorner(target, corner),\n          altKey = e[this.centeredKey],\n          transform = {\n            target: target,\n            action: action,\n            actionHandler: actionHandler,\n            corner: corner,\n            scaleX: target.scaleX,\n            scaleY: target.scaleY,\n            skewX: target.skewX,\n            skewY: target.skewY,\n            // used by transation\n            offsetX: pointer.x - target.left,\n            offsetY: pointer.y - target.top,\n            originX: origin.x,\n            originY: origin.y,\n            ex: pointer.x,\n            ey: pointer.y,\n            lastX: pointer.x,\n            lastY: pointer.y,\n            // unsure they are useful anymore.\n            // left: target.left,\n            // top: target.top,\n            theta: degreesToRadians(target.angle),\n            // end of unsure\n            width: target.width * target.scaleX,\n            shiftKey: e.shiftKey,\n            altKey: altKey,\n            original: fabric.util.saveObjectTransform(target),\n          };\n\n      if (this._shouldCenterTransform(target, action, altKey)) {\n        transform.originX = 'center';\n        transform.originY = 'center';\n      }\n      transform.original.originX = origin.x;\n      transform.original.originY = origin.y;\n      this._currentTransform = transform;\n      this._beforeTransform(e);\n    },\n\n    /**\n     * Set the cursor type of the canvas element\n     * @param {String} value Cursor type of the canvas element.\n     * @see http://www.w3.org/TR/css3-ui/#cursor\n     */\n    setCursor: function (value) {\n      this.upperCanvasEl.style.cursor = value;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx to draw the selection on\n     */\n    _drawSelection: function (ctx) {\n      var groupSelector = this._groupSelector,\n          left = groupSelector.left,\n          top = groupSelector.top,\n          aleft = abs(left),\n          atop = abs(top);\n\n      if (this.selectionColor) {\n        ctx.fillStyle = this.selectionColor;\n\n        ctx.fillRect(\n          groupSelector.ex - ((left > 0) ? 0 : -left),\n          groupSelector.ey - ((top > 0) ? 0 : -top),\n          aleft,\n          atop\n        );\n      }\n\n      if (!this.selectionLineWidth || !this.selectionBorderColor) {\n        return;\n      }\n      ctx.lineWidth = this.selectionLineWidth;\n      ctx.strokeStyle = this.selectionBorderColor;\n\n      // selection border\n      if (this.selectionDashArray.length > 1 && !supportLineDash) {\n\n        var px = groupSelector.ex + STROKE_OFFSET - ((left > 0) ? 0 : aleft),\n            py = groupSelector.ey + STROKE_OFFSET - ((top > 0) ? 0 : atop);\n\n        ctx.beginPath();\n\n        fabric.util.drawDashedLine(ctx, px, py, px + aleft, py, this.selectionDashArray);\n        fabric.util.drawDashedLine(ctx, px, py + atop - 1, px + aleft, py + atop - 1, this.selectionDashArray);\n        fabric.util.drawDashedLine(ctx, px, py, px, py + atop, this.selectionDashArray);\n        fabric.util.drawDashedLine(ctx, px + aleft - 1, py, px + aleft - 1, py + atop, this.selectionDashArray);\n\n        ctx.closePath();\n        ctx.stroke();\n      }\n      else {\n        fabric.Object.prototype._setLineDash.call(this, ctx, this.selectionDashArray);\n        ctx.strokeRect(\n          groupSelector.ex + STROKE_OFFSET - ((left > 0) ? 0 : aleft),\n          groupSelector.ey + STROKE_OFFSET - ((top > 0) ? 0 : atop),\n          aleft,\n          atop\n        );\n      }\n    },\n\n    /**\n     * Method that determines what object we are clicking on\n     * the skipGroup parameter is for internal use, is needed for shift+click action\n     * 11/09/2018 TODO: would be cool if findTarget could discern between being a full target\n     * or the outside part of the corner.\n     * @param {Event} e mouse event\n     * @param {Boolean} skipGroup when true, activeGroup is skipped and only objects are traversed through\n     * @return {fabric.Object} the target found\n     */\n    findTarget: function (e, skipGroup) {\n      if (this.skipTargetFind) {\n        return;\n      }\n\n      var ignoreZoom = true,\n          pointer = this.getPointer(e, ignoreZoom),\n          activeObject = this._activeObject,\n          aObjects = this.getActiveObjects(),\n          activeTarget, activeTargetSubs,\n          isTouch = isTouchEvent(e);\n\n      // first check current group (if one exists)\n      // active group does not check sub targets like normal groups.\n      // if active group just exits.\n      this.targets = [];\n\n      if (aObjects.length > 1 && !skipGroup && activeObject === this._searchPossibleTargets([activeObject], pointer)) {\n        return activeObject;\n      }\n      // if we hit the corner of an activeObject, let's return that.\n      if (aObjects.length === 1 && activeObject._findTargetCorner(pointer, isTouch)) {\n        return activeObject;\n      }\n      if (aObjects.length === 1 &&\n        activeObject === this._searchPossibleTargets([activeObject], pointer)) {\n        if (!this.preserveObjectStacking) {\n          return activeObject;\n        }\n        else {\n          activeTarget = activeObject;\n          activeTargetSubs = this.targets;\n          this.targets = [];\n        }\n      }\n      var target = this._searchPossibleTargets(this._objects, pointer);\n      if (e[this.altSelectionKey] && target && activeTarget && target !== activeTarget) {\n        target = activeTarget;\n        this.targets = activeTargetSubs;\n      }\n      return target;\n    },\n\n    /**\n     * Checks point is inside the object.\n     * @param {Object} [pointer] x,y object of point coordinates we want to check.\n     * @param {fabric.Object} obj Object to test against\n     * @param {Object} [globalPointer] x,y object of point coordinates relative to canvas used to search per pixel target.\n     * @return {Boolean} true if point is contained within an area of given object\n     * @private\n     */\n    _checkTarget: function(pointer, obj, globalPointer) {\n      if (obj &&\n          obj.visible &&\n          obj.evented &&\n          // http://www.geog.ubc.ca/courses/klink/gis.notes/ncgia/u32.html\n          // http://idav.ucdavis.edu/~okreylos/TAship/Spring2000/PointInPolygon.html\n          (obj.containsPoint(pointer) || !!obj._findTargetCorner(pointer))\n      ) {\n        if ((this.perPixelTargetFind || obj.perPixelTargetFind) && !obj.isEditing) {\n          var isTransparent = this.isTargetTransparent(obj, globalPointer.x, globalPointer.y);\n          if (!isTransparent) {\n            return true;\n          }\n        }\n        else {\n          return true;\n        }\n      }\n    },\n\n    /**\n     * Function used to search inside objects an object that contains pointer in bounding box or that contains pointerOnCanvas when painted\n     * @param {Array} [objects] objects array to look into\n     * @param {Object} [pointer] x,y object of point coordinates we want to check.\n     * @return {fabric.Object} object that contains pointer\n     * @private\n     */\n    _searchPossibleTargets: function(objects, pointer) {\n      // Cache all targets where their bounding box contains point.\n      var target, i = objects.length, subTarget;\n      // Do not check for currently grouped objects, since we check the parent group itself.\n      // until we call this function specifically to search inside the activeGroup\n      while (i--) {\n        var objToCheck = objects[i];\n        var pointerToUse = objToCheck.group ?\n          this._normalizePointer(objToCheck.group, pointer) : pointer;\n        if (this._checkTarget(pointerToUse, objToCheck, pointer)) {\n          target = objects[i];\n          if (target.subTargetCheck && target instanceof fabric.Group) {\n            subTarget = this._searchPossibleTargets(target._objects, pointer);\n            subTarget && this.targets.push(subTarget);\n          }\n          break;\n        }\n      }\n      return target;\n    },\n\n    /**\n     * Returns pointer coordinates without the effect of the viewport\n     * @param {Object} pointer with \"x\" and \"y\" number values\n     * @return {Object} object with \"x\" and \"y\" number values\n     */\n    restorePointerVpt: function(pointer) {\n      return fabric.util.transformPoint(\n        pointer,\n        fabric.util.invertTransform(this.viewportTransform)\n      );\n    },\n\n    /**\n     * Returns pointer coordinates relative to canvas.\n     * Can return coordinates with or without viewportTransform.\n     * ignoreZoom false gives back coordinates that represent\n     * the point clicked on canvas element.\n     * ignoreZoom true gives back coordinates after being processed\n     * by the viewportTransform ( sort of coordinates of what is displayed\n     * on the canvas where you are clicking.\n     * ignoreZoom true = HTMLElement coordinates relative to top,left\n     * ignoreZoom false, default = fabric space coordinates, the same used for shape position\n     * To interact with your shapes top and left you want to use ignoreZoom true\n     * most of the time, while ignoreZoom false will give you coordinates\n     * compatible with the object.oCoords system.\n     * of the time.\n     * @param {Event} e\n     * @param {Boolean} ignoreZoom\n     * @return {Object} object with \"x\" and \"y\" number values\n     */\n    getPointer: function (e, ignoreZoom) {\n      // return cached values if we are in the event processing chain\n      if (this._absolutePointer && !ignoreZoom) {\n        return this._absolutePointer;\n      }\n      if (this._pointer && ignoreZoom) {\n        return this._pointer;\n      }\n\n      var pointer = getPointer(e),\n          upperCanvasEl = this.upperCanvasEl,\n          bounds = upperCanvasEl.getBoundingClientRect(),\n          boundsWidth = bounds.width || 0,\n          boundsHeight = bounds.height || 0,\n          cssScale;\n\n      if (!boundsWidth || !boundsHeight ) {\n        if ('top' in bounds && 'bottom' in bounds) {\n          boundsHeight = Math.abs( bounds.top - bounds.bottom );\n        }\n        if ('right' in bounds && 'left' in bounds) {\n          boundsWidth = Math.abs( bounds.right - bounds.left );\n        }\n      }\n\n      this.calcOffset();\n      pointer.x = pointer.x - this._offset.left;\n      pointer.y = pointer.y - this._offset.top;\n      if (!ignoreZoom) {\n        pointer = this.restorePointerVpt(pointer);\n      }\n\n      var retinaScaling = this.getRetinaScaling();\n      if (retinaScaling !== 1) {\n        pointer.x /= retinaScaling;\n        pointer.y /= retinaScaling;\n      }\n\n      if (boundsWidth === 0 || boundsHeight === 0) {\n        // If bounds are not available (i.e. not visible), do not apply scale.\n        cssScale = { width: 1, height: 1 };\n      }\n      else {\n        cssScale = {\n          width: upperCanvasEl.width / boundsWidth,\n          height: upperCanvasEl.height / boundsHeight\n        };\n      }\n\n      return {\n        x: pointer.x * cssScale.width,\n        y: pointer.y * cssScale.height\n      };\n    },\n\n    /**\n     * @private\n     * @throws {CANVAS_INIT_ERROR} If canvas can not be initialized\n     */\n    _createUpperCanvas: function () {\n      var lowerCanvasClass = this.lowerCanvasEl.className.replace(/\\s*lower-canvas\\s*/, ''),\n          lowerCanvasEl = this.lowerCanvasEl, upperCanvasEl = this.upperCanvasEl;\n\n      // there is no need to create a new upperCanvas element if we have already one.\n      if (upperCanvasEl) {\n        upperCanvasEl.className = '';\n      }\n      else {\n        upperCanvasEl = this._createCanvasElement();\n        this.upperCanvasEl = upperCanvasEl;\n      }\n      fabric.util.addClass(upperCanvasEl, 'upper-canvas ' + lowerCanvasClass);\n\n      this.wrapperEl.appendChild(upperCanvasEl);\n\n      this._copyCanvasStyle(lowerCanvasEl, upperCanvasEl);\n      this._applyCanvasStyle(upperCanvasEl);\n      this.contextTop = upperCanvasEl.getContext('2d');\n    },\n\n    /**\n     * @private\n     */\n    _createCacheCanvas: function () {\n      this.cacheCanvasEl = this._createCanvasElement();\n      this.cacheCanvasEl.setAttribute('width', this.width);\n      this.cacheCanvasEl.setAttribute('height', this.height);\n      this.contextCache = this.cacheCanvasEl.getContext('2d');\n    },\n\n    /**\n     * @private\n     */\n    _initWrapperElement: function () {\n      this.wrapperEl = fabric.util.wrapElement(this.lowerCanvasEl, 'div', {\n        'class': this.containerClass\n      });\n      fabric.util.setStyle(this.wrapperEl, {\n        width: this.width + 'px',\n        height: this.height + 'px',\n        position: 'relative'\n      });\n      fabric.util.makeElementUnselectable(this.wrapperEl);\n    },\n\n    /**\n     * @private\n     * @param {HTMLElement} element canvas element to apply styles on\n     */\n    _applyCanvasStyle: function (element) {\n      var width = this.width || element.width,\n          height = this.height || element.height;\n\n      fabric.util.setStyle(element, {\n        position: 'absolute',\n        width: width + 'px',\n        height: height + 'px',\n        left: 0,\n        top: 0,\n        'touch-action': this.allowTouchScrolling ? 'manipulation' : 'none',\n        '-ms-touch-action': this.allowTouchScrolling ? 'manipulation' : 'none'\n      });\n      element.width = width;\n      element.height = height;\n      fabric.util.makeElementUnselectable(element);\n    },\n\n    /**\n     * Copy the entire inline style from one element (fromEl) to another (toEl)\n     * @private\n     * @param {Element} fromEl Element style is copied from\n     * @param {Element} toEl Element copied style is applied to\n     */\n    _copyCanvasStyle: function (fromEl, toEl) {\n      toEl.style.cssText = fromEl.style.cssText;\n    },\n\n    /**\n     * Returns context of canvas where object selection is drawn\n     * @return {CanvasRenderingContext2D}\n     */\n    getSelectionContext: function() {\n      return this.contextTop;\n    },\n\n    /**\n     * Returns &lt;canvas> element on which object selection is drawn\n     * @return {HTMLCanvasElement}\n     */\n    getSelectionElement: function () {\n      return this.upperCanvasEl;\n    },\n\n    /**\n     * Returns currently active object\n     * @return {fabric.Object} active object\n     */\n    getActiveObject: function () {\n      return this._activeObject;\n    },\n\n    /**\n     * Returns an array with the current selected objects\n     * @return {fabric.Object} active object\n     */\n    getActiveObjects: function () {\n      var active = this._activeObject;\n      if (active) {\n        if (active.type === 'activeSelection' && active._objects) {\n          return active._objects.slice(0);\n        }\n        else {\n          return [active];\n        }\n      }\n      return [];\n    },\n\n    /**\n     * @private\n     * @param {fabric.Object} obj Object that was removed\n     */\n    _onObjectRemoved: function(obj) {\n      // removing active object should fire \"selection:cleared\" events\n      if (obj === this._activeObject) {\n        this.fire('before:selection:cleared', { target: obj });\n        this._discardActiveObject();\n        this.fire('selection:cleared', { target: obj });\n        obj.fire('deselected');\n      }\n      if (obj === this._hoveredTarget){\n        this._hoveredTarget = null;\n        this._hoveredTargets = [];\n      }\n      this.callSuper('_onObjectRemoved', obj);\n    },\n\n    /**\n     * @private\n     * Compares the old activeObject with the current one and fires correct events\n     * @param {fabric.Object} obj old activeObject\n     */\n    _fireSelectionEvents: function(oldObjects, e) {\n      var somethingChanged = false, objects = this.getActiveObjects(),\n          added = [], removed = [], opt = { e: e };\n      oldObjects.forEach(function(oldObject) {\n        if (objects.indexOf(oldObject) === -1) {\n          somethingChanged = true;\n          oldObject.fire('deselected', opt);\n          removed.push(oldObject);\n        }\n      });\n      objects.forEach(function(object) {\n        if (oldObjects.indexOf(object) === -1) {\n          somethingChanged = true;\n          object.fire('selected', opt);\n          added.push(object);\n        }\n      });\n      if (oldObjects.length > 0 && objects.length > 0) {\n        opt.selected = added;\n        opt.deselected = removed;\n        // added for backward compatibility\n        opt.updated = added[0] || removed[0];\n        opt.target = this._activeObject;\n        somethingChanged && this.fire('selection:updated', opt);\n      }\n      else if (objects.length > 0) {\n        opt.selected = added;\n        // added for backward compatibility\n        opt.target = this._activeObject;\n        this.fire('selection:created', opt);\n      }\n      else if (oldObjects.length > 0) {\n        opt.deselected = removed;\n        this.fire('selection:cleared', opt);\n      }\n    },\n\n    /**\n     * Sets given object as the only active object on canvas\n     * @param {fabric.Object} object Object to set as an active one\n     * @param {Event} [e] Event (passed along when firing \"object:selected\")\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    setActiveObject: function (object, e) {\n      var currentActives = this.getActiveObjects();\n      this._setActiveObject(object, e);\n      this._fireSelectionEvents(currentActives, e);\n      return this;\n    },\n\n    /**\n     * @private\n     * @param {Object} object to set as active\n     * @param {Event} [e] Event (passed along when firing \"object:selected\")\n     * @return {Boolean} true if the selection happened\n     */\n    _setActiveObject: function(object, e) {\n      if (this._activeObject === object) {\n        return false;\n      }\n      if (!this._discardActiveObject(e, object)) {\n        return false;\n      }\n      if (object.onSelect({ e: e })) {\n        return false;\n      }\n      this._activeObject = object;\n      return true;\n    },\n\n    /**\n     * @private\n     */\n    _discardActiveObject: function(e, object) {\n      var obj = this._activeObject;\n      if (obj) {\n        // onDeselect return TRUE to cancel selection;\n        if (obj.onDeselect({ e: e, object: object })) {\n          return false;\n        }\n        this._activeObject = null;\n      }\n      return true;\n    },\n\n    /**\n     * Discards currently active object and fire events. If the function is called by fabric\n     * as a consequence of a mouse event, the event is passed as a parameter and\n     * sent to the fire function for the custom events. When used as a method the\n     * e param does not have any application.\n     * @param {event} e\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    discardActiveObject: function (e) {\n      var currentActives = this.getActiveObjects(), activeObject = this.getActiveObject();\n      if (currentActives.length) {\n        this.fire('before:selection:cleared', { target: activeObject, e: e });\n      }\n      this._discardActiveObject(e);\n      this._fireSelectionEvents(currentActives, e);\n      return this;\n    },\n\n    /**\n     * Clears a canvas element and removes all event listeners\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    dispose: function () {\n      var wrapper = this.wrapperEl;\n      this.removeListeners();\n      wrapper.removeChild(this.upperCanvasEl);\n      wrapper.removeChild(this.lowerCanvasEl);\n      this.contextCache = null;\n      this.contextTop = null;\n      ['upperCanvasEl', 'cacheCanvasEl'].forEach((function(element) {\n        fabric.util.cleanUpJsdomNode(this[element]);\n        this[element] = undefined;\n      }).bind(this));\n      if (wrapper.parentNode) {\n        wrapper.parentNode.replaceChild(this.lowerCanvasEl, this.wrapperEl);\n      }\n      delete this.wrapperEl;\n      fabric.StaticCanvas.prototype.dispose.call(this);\n      return this;\n    },\n\n    /**\n     * Clears all contexts (background, main, top) of an instance\n     * @return {fabric.Canvas} thisArg\n     * @chainable\n     */\n    clear: function () {\n      // this.discardActiveGroup();\n      this.discardActiveObject();\n      this.clearContext(this.contextTop);\n      return this.callSuper('clear');\n    },\n\n    /**\n     * Draws objects' controls (borders/controls)\n     * @param {CanvasRenderingContext2D} ctx Context to render controls on\n     */\n    drawControls: function(ctx) {\n      var activeObject = this._activeObject;\n\n      if (activeObject) {\n        activeObject._renderControls(ctx);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _toObject: function(instance, methodName, propertiesToInclude) {\n      //If the object is part of the current selection group, it should\n      //be transformed appropriately\n      //i.e. it should be serialised as it would appear if the selection group\n      //were to be destroyed.\n      var originalProperties = this._realizeGroupTransformOnObject(instance),\n          object = this.callSuper('_toObject', instance, methodName, propertiesToInclude);\n      //Undo the damage we did by changing all of its properties\n      this._unwindGroupTransformOnObject(instance, originalProperties);\n      return object;\n    },\n\n    /**\n     * Realises an object's group transformation on it\n     * @private\n     * @param {fabric.Object} [instance] the object to transform (gets mutated)\n     * @returns the original values of instance which were changed\n     */\n    _realizeGroupTransformOnObject: function(instance) {\n      if (instance.group && instance.group.type === 'activeSelection' && this._activeObject === instance.group) {\n        var layoutProps = ['angle', 'flipX', 'flipY', 'left', 'scaleX', 'scaleY', 'skewX', 'skewY', 'top'];\n        //Copy all the positionally relevant properties across now\n        var originalValues = {};\n        layoutProps.forEach(function(prop) {\n          originalValues[prop] = instance[prop];\n        });\n        this._activeObject.realizeTransform(instance);\n        return originalValues;\n      }\n      else {\n        return null;\n      }\n    },\n\n    /**\n     * Restores the changed properties of instance\n     * @private\n     * @param {fabric.Object} [instance] the object to un-transform (gets mutated)\n     * @param {Object} [originalValues] the original values of instance, as returned by _realizeGroupTransformOnObject\n     */\n    _unwindGroupTransformOnObject: function(instance, originalValues) {\n      if (originalValues) {\n        instance.set(originalValues);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _setSVGObject: function(markup, instance, reviver) {\n      //If the object is in a selection group, simulate what would happen to that\n      //object when the group is deselected\n      var originalProperties = this._realizeGroupTransformOnObject(instance);\n      this.callSuper('_setSVGObject', markup, instance, reviver);\n      this._unwindGroupTransformOnObject(instance, originalProperties);\n    },\n\n    setViewportTransform: function (vpt) {\n      if (this.renderOnAddRemove && this._activeObject && this._activeObject.isEditing) {\n        this._activeObject.clearContextTop();\n      }\n      fabric.StaticCanvas.prototype.setViewportTransform.call(this, vpt);\n    }\n  });\n\n  // copying static properties manually to work around Opera's bug,\n  // where \"prototype\" property is enumerable and overrides existing prototype\n  for (var prop in fabric.StaticCanvas) {\n    if (prop !== 'prototype') {\n      fabric.Canvas[prop] = fabric.StaticCanvas[prop];\n    }\n  }\n})();\n\n\n(function() {\n\n  var addListener = fabric.util.addListener,\n      removeListener = fabric.util.removeListener,\n      RIGHT_CLICK = 3, MIDDLE_CLICK = 2, LEFT_CLICK = 1,\n      addEventOptions = { passive: false };\n\n  function checkClick(e, value) {\n    return e.button && (e.button === value - 1);\n  }\n\n  fabric.util.object.extend(fabric.Canvas.prototype, /** @lends fabric.Canvas.prototype */ {\n\n    /**\n     * Contains the id of the touch event that owns the fabric transform\n     * @type Number\n     * @private\n     */\n    mainTouchId: null,\n\n    /**\n     * Adds mouse listeners to canvas\n     * @private\n     */\n    _initEventListeners: function () {\n      // in case we initialized the class twice. This should not happen normally\n      // but in some kind of applications where the canvas element may be changed\n      // this is a workaround to having double listeners.\n      this.removeListeners();\n      this._bindEvents();\n      this.addOrRemove(addListener, 'add');\n    },\n\n    /**\n     * return an event prefix pointer or mouse.\n     * @private\n     */\n    _getEventPrefix: function () {\n      return this.enablePointerEvents ? 'pointer' : 'mouse';\n    },\n\n    addOrRemove: function(functor, eventjsFunctor) {\n      var canvasElement = this.upperCanvasEl,\n          eventTypePrefix = this._getEventPrefix();\n      functor(fabric.window, 'resize', this._onResize);\n      functor(canvasElement, eventTypePrefix + 'down', this._onMouseDown);\n      functor(canvasElement, eventTypePrefix + 'move', this._onMouseMove, addEventOptions);\n      functor(canvasElement, eventTypePrefix + 'out', this._onMouseOut);\n      functor(canvasElement, eventTypePrefix + 'enter', this._onMouseEnter);\n      functor(canvasElement, 'wheel', this._onMouseWheel);\n      functor(canvasElement, 'contextmenu', this._onContextMenu);\n      functor(canvasElement, 'dblclick', this._onDoubleClick);\n      functor(canvasElement, 'dragover', this._onDragOver);\n      functor(canvasElement, 'dragenter', this._onDragEnter);\n      functor(canvasElement, 'dragleave', this._onDragLeave);\n      functor(canvasElement, 'drop', this._onDrop);\n      if (!this.enablePointerEvents) {\n        functor(canvasElement, 'touchstart', this._onTouchStart, addEventOptions);\n      }\n      if (typeof eventjs !== 'undefined' && eventjsFunctor in eventjs) {\n        eventjs[eventjsFunctor](canvasElement, 'gesture', this._onGesture);\n        eventjs[eventjsFunctor](canvasElement, 'drag', this._onDrag);\n        eventjs[eventjsFunctor](canvasElement, 'orientation', this._onOrientationChange);\n        eventjs[eventjsFunctor](canvasElement, 'shake', this._onShake);\n        eventjs[eventjsFunctor](canvasElement, 'longpress', this._onLongPress);\n      }\n    },\n\n    /**\n     * Removes all event listeners\n     */\n    removeListeners: function() {\n      this.addOrRemove(removeListener, 'remove');\n      // if you dispose on a mouseDown, before mouse up, you need to clean document to...\n      var eventTypePrefix = this._getEventPrefix();\n      removeListener(fabric.document, eventTypePrefix + 'up', this._onMouseUp);\n      removeListener(fabric.document, 'touchend', this._onTouchEnd, addEventOptions);\n      removeListener(fabric.document, eventTypePrefix + 'move', this._onMouseMove, addEventOptions);\n      removeListener(fabric.document, 'touchmove', this._onMouseMove, addEventOptions);\n    },\n\n    /**\n     * @private\n     */\n    _bindEvents: function() {\n      if (this.eventsBound) {\n        // for any reason we pass here twice we do not want to bind events twice.\n        return;\n      }\n      this._onMouseDown = this._onMouseDown.bind(this);\n      this._onTouchStart = this._onTouchStart.bind(this);\n      this._onMouseMove = this._onMouseMove.bind(this);\n      this._onMouseUp = this._onMouseUp.bind(this);\n      this._onTouchEnd = this._onTouchEnd.bind(this);\n      this._onResize = this._onResize.bind(this);\n      this._onGesture = this._onGesture.bind(this);\n      this._onDrag = this._onDrag.bind(this);\n      this._onShake = this._onShake.bind(this);\n      this._onLongPress = this._onLongPress.bind(this);\n      this._onOrientationChange = this._onOrientationChange.bind(this);\n      this._onMouseWheel = this._onMouseWheel.bind(this);\n      this._onMouseOut = this._onMouseOut.bind(this);\n      this._onMouseEnter = this._onMouseEnter.bind(this);\n      this._onContextMenu = this._onContextMenu.bind(this);\n      this._onDoubleClick = this._onDoubleClick.bind(this);\n      this._onDragOver = this._onDragOver.bind(this);\n      this._onDragEnter = this._simpleEventHandler.bind(this, 'dragenter');\n      this._onDragLeave = this._simpleEventHandler.bind(this, 'dragleave');\n      this._onDrop = this._simpleEventHandler.bind(this, 'drop');\n      this.eventsBound = true;\n    },\n\n    /**\n     * @private\n     * @param {Event} [e] Event object fired on Event.js gesture\n     * @param {Event} [self] Inner Event object\n     */\n    _onGesture: function(e, self) {\n      this.__onTransformGesture && this.__onTransformGesture(e, self);\n    },\n\n    /**\n     * @private\n     * @param {Event} [e] Event object fired on Event.js drag\n     * @param {Event} [self] Inner Event object\n     */\n    _onDrag: function(e, self) {\n      this.__onDrag && this.__onDrag(e, self);\n    },\n\n    /**\n     * @private\n     * @param {Event} [e] Event object fired on wheel event\n     */\n    _onMouseWheel: function(e) {\n      this.__onMouseWheel(e);\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    _onMouseOut: function(e) {\n      var target = this._hoveredTarget;\n      this.fire('mouse:out', { target: target, e: e });\n      this._hoveredTarget = null;\n      target && target.fire('mouseout', { e: e });\n\n      var _this = this;\n      this._hoveredTargets.forEach(function(_target){\n        _this.fire('mouse:out', { target: target, e: e });\n        _target && target.fire('mouseout', { e: e });\n      });\n      this._hoveredTargets = [];\n\n      if (this._iTextInstances) {\n        this._iTextInstances.forEach(function(obj) {\n          if (obj.isEditing) {\n            obj.hiddenTextarea.focus();\n          }\n        });\n      }\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mouseenter\n     */\n    _onMouseEnter: function(e) {\n      // This find target and consequent 'mouse:over' is used to\n      // clear old instances on hovered target.\n      // calling findTarget has the side effect of killing target.__corner.\n      // as a short term fix we are not firing this if we are currently transforming.\n      // as a long term fix we need to separate the action of finding a target with the\n      // side effects we added to it.\n      if (!this._currentTransform && !this.findTarget(e)) {\n        this.fire('mouse:over', { target: null, e: e });\n        this._hoveredTarget = null;\n        this._hoveredTargets = [];\n      }\n    },\n\n    /**\n     * @private\n     * @param {Event} [e] Event object fired on Event.js orientation change\n     * @param {Event} [self] Inner Event object\n     */\n    _onOrientationChange: function(e, self) {\n      this.__onOrientationChange && this.__onOrientationChange(e, self);\n    },\n\n    /**\n     * @private\n     * @param {Event} [e] Event object fired on Event.js shake\n     * @param {Event} [self] Inner Event object\n     */\n    _onShake: function(e, self) {\n      this.__onShake && this.__onShake(e, self);\n    },\n\n    /**\n     * @private\n     * @param {Event} [e] Event object fired on Event.js shake\n     * @param {Event} [self] Inner Event object\n     */\n    _onLongPress: function(e, self) {\n      this.__onLongPress && this.__onLongPress(e, self);\n    },\n\n    /**\n     * prevent default to allow drop event to be fired\n     * @private\n     * @param {Event} [e] Event object fired on Event.js shake\n     */\n    _onDragOver: function(e) {\n      e.preventDefault();\n      var target = this._simpleEventHandler('dragover', e);\n      this._fireEnterLeaveEvents(target, e);\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    _onContextMenu: function (e) {\n      if (this.stopContextMenu) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n      return false;\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    _onDoubleClick: function (e) {\n      this._cacheTransformEventData(e);\n      this._handleEvent(e, 'dblclick');\n      this._resetTransformEventData(e);\n    },\n\n    /**\n     * Return a the id of an event.\n     * returns either the pointerId or the identifier or 0 for the mouse event\n     * @private\n     * @param {Event} evt Event object\n     */\n    getPointerId: function(evt) {\n      var changedTouches = evt.changedTouches;\n\n      if (changedTouches) {\n        return changedTouches[0] && changedTouches[0].identifier;\n      }\n\n      if (this.enablePointerEvents) {\n        return evt.pointerId;\n      }\n\n      return -1;\n    },\n\n    /**\n     * Determines if an event has the id of the event that is considered main\n     * @private\n     * @param {evt} event Event object\n     */\n    _isMainEvent: function(evt) {\n      if (evt.isPrimary === true) {\n        return true;\n      }\n      if (evt.isPrimary === false) {\n        return false;\n      }\n      if (evt.type === 'touchend' && evt.touches.length === 0) {\n        return true;\n      }\n      if (evt.changedTouches) {\n        return evt.changedTouches[0].identifier === this.mainTouchId;\n      }\n      return true;\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    _onTouchStart: function(e) {\n      e.preventDefault();\n      if (this.mainTouchId === null) {\n        this.mainTouchId = this.getPointerId(e);\n      }\n      this.__onMouseDown(e);\n      this._resetTransformEventData();\n      var canvasElement = this.upperCanvasEl,\n          eventTypePrefix = this._getEventPrefix();\n      addListener(fabric.document, 'touchend', this._onTouchEnd, addEventOptions);\n      addListener(fabric.document, 'touchmove', this._onMouseMove, addEventOptions);\n      // Unbind mousedown to prevent double triggers from touch devices\n      removeListener(canvasElement, eventTypePrefix + 'down', this._onMouseDown);\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    _onMouseDown: function (e) {\n      this.__onMouseDown(e);\n      this._resetTransformEventData();\n      var canvasElement = this.upperCanvasEl,\n          eventTypePrefix = this._getEventPrefix();\n      removeListener(canvasElement, eventTypePrefix + 'move', this._onMouseMove, addEventOptions);\n      addListener(fabric.document, eventTypePrefix + 'up', this._onMouseUp);\n      addListener(fabric.document, eventTypePrefix + 'move', this._onMouseMove, addEventOptions);\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    _onTouchEnd: function(e) {\n      if (e.touches.length > 0) {\n        // if there are still touches stop here\n        return;\n      }\n      this.__onMouseUp(e);\n      this._resetTransformEventData();\n      this.mainTouchId = null;\n      var eventTypePrefix = this._getEventPrefix();\n      removeListener(fabric.document, 'touchend', this._onTouchEnd, addEventOptions);\n      removeListener(fabric.document, 'touchmove', this._onMouseMove, addEventOptions);\n      var _this = this;\n      if (this._willAddMouseDown) {\n        clearTimeout(this._willAddMouseDown);\n      }\n      this._willAddMouseDown = setTimeout(function() {\n        // Wait 400ms before rebinding mousedown to prevent double triggers\n        // from touch devices\n        addListener(_this.upperCanvasEl, eventTypePrefix + 'down', _this._onMouseDown);\n        _this._willAddMouseDown = 0;\n      }, 400);\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mouseup\n     */\n    _onMouseUp: function (e) {\n      this.__onMouseUp(e);\n      this._resetTransformEventData();\n      var canvasElement = this.upperCanvasEl,\n          eventTypePrefix = this._getEventPrefix();\n      if (this._isMainEvent(e)) {\n        removeListener(fabric.document, eventTypePrefix + 'up', this._onMouseUp);\n        removeListener(fabric.document, eventTypePrefix + 'move', this._onMouseMove, addEventOptions);\n        addListener(canvasElement, eventTypePrefix + 'move', this._onMouseMove, addEventOptions);\n      }\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousemove\n     */\n    _onMouseMove: function (e) {\n      !this.allowTouchScrolling && e.preventDefault && e.preventDefault();\n      this.__onMouseMove(e);\n    },\n\n    /**\n     * @private\n     */\n    _onResize: function () {\n      this.calcOffset();\n    },\n\n    /**\n     * Decides whether the canvas should be redrawn in mouseup and mousedown events.\n     * @private\n     * @param {Object} target\n     */\n    _shouldRender: function(target) {\n      var activeObject = this._activeObject;\n\n      if (\n        !!activeObject !== !!target ||\n        (activeObject && target && (activeObject !== target))\n      ) {\n        // this covers: switch of target, from target to no target, selection of target\n        // multiSelection with key and mouse\n        return true;\n      }\n      else if (activeObject && activeObject.isEditing) {\n        // if we mouse up/down over a editing textbox a cursor change,\n        // there is no need to re render\n        return false;\n      }\n      return false;\n    },\n\n    /**\n     * Method that defines the actions when mouse is released on canvas.\n     * The method resets the currentTransform parameters, store the image corner\n     * position in the image object and render the canvas on top.\n     * @private\n     * @param {Event} e Event object fired on mouseup\n     */\n    __onMouseUp: function (e) {\n      var target, transform = this._currentTransform,\n          groupSelector = this._groupSelector, shouldRender = false,\n          isClick = (!groupSelector || (groupSelector.left === 0 && groupSelector.top === 0));\n      this._cacheTransformEventData(e);\n      target = this._target;\n      this._handleEvent(e, 'up:before');\n      // if right/middle click just fire events and return\n      // target undefined will make the _handleEvent search the target\n      if (checkClick(e, RIGHT_CLICK)) {\n        if (this.fireRightClick) {\n          this._handleEvent(e, 'up', RIGHT_CLICK, isClick);\n        }\n        return;\n      }\n\n      if (checkClick(e, MIDDLE_CLICK)) {\n        if (this.fireMiddleClick) {\n          this._handleEvent(e, 'up', MIDDLE_CLICK, isClick);\n        }\n        this._resetTransformEventData();\n        return;\n      }\n\n      if (this.isDrawingMode && this._isCurrentlyDrawing) {\n        this._onMouseUpInDrawingMode(e);\n        return;\n      }\n\n      if (!this._isMainEvent(e)) {\n        return;\n      }\n      if (transform) {\n        this._finalizeCurrentTransform(e);\n        shouldRender = transform.actionPerformed;\n      }\n      if (!isClick) {\n        var targetWasActive = target === this._activeObject;\n        this._maybeGroupObjects(e);\n        if (!shouldRender) {\n          shouldRender = (\n            this._shouldRender(target) ||\n            (!targetWasActive && target === this._activeObject)\n          );\n        }\n      }\n      if (target) {\n        var corner = target._findTargetCorner(\n          this.getPointer(e, true),\n          fabric.util.isTouchEvent(e)\n        );\n        var control = target.controls[corner],\n            mouseUpHandler = control && control.getMouseUpHandler(e, target, control);\n        if (mouseUpHandler) {\n          var pointer = this.getPointer(e);\n          mouseUpHandler(e, transform, pointer.x, pointer.y);\n        }\n        target.isMoving = false;\n      }\n      this._setCursorFromEvent(e, target);\n      this._handleEvent(e, 'up', LEFT_CLICK, isClick);\n      this._groupSelector = null;\n      this._currentTransform = null;\n      // reset the target information about which corner is selected\n      target && (target.__corner = 0);\n      if (shouldRender) {\n        this.requestRenderAll();\n      }\n      else if (!isClick) {\n        this.renderTop();\n      }\n    },\n\n    /**\n     * @private\n     * Handle event firing for target and subtargets\n     * @param {Event} e event from mouse\n     * @param {String} eventType event to fire (up, down or move)\n     * @return {Fabric.Object} target return the the target found, for internal reasons.\n     */\n    _simpleEventHandler: function(eventType, e) {\n      var target = this.findTarget(e),\n          targets = this.targets,\n          options = {\n            e: e,\n            target: target,\n            subTargets: targets,\n          };\n      this.fire(eventType, options);\n      target && target.fire(eventType, options);\n      if (!targets) {\n        return target;\n      }\n      for (var i = 0; i < targets.length; i++) {\n        targets[i].fire(eventType, options);\n      }\n      return target;\n    },\n\n    /**\n     * @private\n     * Handle event firing for target and subtargets\n     * @param {Event} e event from mouse\n     * @param {String} eventType event to fire (up, down or move)\n     * @param {fabric.Object} targetObj receiving event\n     * @param {Number} [button] button used in the event 1 = left, 2 = middle, 3 = right\n     * @param {Boolean} isClick for left button only, indicates that the mouse up happened without move.\n     */\n    _handleEvent: function(e, eventType, button, isClick) {\n      var target = this._target,\n          targets = this.targets || [],\n          options = {\n            e: e,\n            target: target,\n            subTargets: targets,\n            button: button || LEFT_CLICK,\n            isClick: isClick || false,\n            pointer: this._pointer,\n            absolutePointer: this._absolutePointer,\n            transform: this._currentTransform\n          };\n      if (eventType === 'up') {\n        options.currentTarget = this.findTarget(e);\n        options.currentSubTargets = this.targets;\n      }\n      this.fire('mouse:' + eventType, options);\n      target && target.fire('mouse' + eventType, options);\n      for (var i = 0; i < targets.length; i++) {\n        targets[i].fire('mouse' + eventType, options);\n      }\n    },\n\n    /**\n     * @private\n     * @param {Event} e send the mouse event that generate the finalize down, so it can be used in the event\n     */\n    _finalizeCurrentTransform: function(e) {\n\n      var transform = this._currentTransform,\n          target = transform.target,\n          eventName,\n          options = {\n            e: e,\n            target: target,\n            transform: transform,\n            action: transform.action,\n          };\n\n      if (target._scaling) {\n        target._scaling = false;\n      }\n\n      target.setCoords();\n\n      if (transform.actionPerformed || (this.stateful && target.hasStateChanged())) {\n        if (transform.actionPerformed) {\n          // this is not friendly to the new control api.\n          // is deprecated.\n          eventName = this._addEventOptions(options, transform);\n          this._fire(eventName, options);\n        }\n        this._fire('modified', options);\n      }\n    },\n\n    /**\n     * Mutate option object in order to add by property and give back the event name.\n     * @private\n     * @deprecated since 4.2.0\n     * @param {Object} options to mutate\n     * @param {Object} transform to inspect action from\n     */\n    _addEventOptions: function(options, transform) {\n      // we can probably add more details at low cost\n      // scale change, rotation changes, translation changes\n      var eventName, by;\n      switch (transform.action) {\n        case 'scaleX':\n          eventName = 'scaled';\n          by = 'x';\n          break;\n        case 'scaleY':\n          eventName = 'scaled';\n          by = 'y';\n          break;\n        case 'skewX':\n          eventName = 'skewed';\n          by = 'x';\n          break;\n        case 'skewY':\n          eventName = 'skewed';\n          by = 'y';\n          break;\n        case 'scale':\n          eventName = 'scaled';\n          by = 'equally';\n          break;\n        case 'rotate':\n          eventName = 'rotated';\n          break;\n        case 'drag':\n          eventName = 'moved';\n          break;\n      }\n      options.by = by;\n      return eventName;\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    _onMouseDownInDrawingMode: function(e) {\n      this._isCurrentlyDrawing = true;\n      if (this.getActiveObject()) {\n        this.discardActiveObject(e).requestRenderAll();\n      }\n      var pointer = this.getPointer(e);\n      this.freeDrawingBrush.onMouseDown(pointer, { e: e, pointer: pointer });\n      this._handleEvent(e, 'down');\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mousemove\n     */\n    _onMouseMoveInDrawingMode: function(e) {\n      if (this._isCurrentlyDrawing) {\n        var pointer = this.getPointer(e);\n        this.freeDrawingBrush.onMouseMove(pointer, { e: e, pointer: pointer });\n      }\n      this.setCursor(this.freeDrawingCursor);\n      this._handleEvent(e, 'move');\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object fired on mouseup\n     */\n    _onMouseUpInDrawingMode: function(e) {\n      var pointer = this.getPointer(e);\n      this._isCurrentlyDrawing = this.freeDrawingBrush.onMouseUp({ e: e, pointer: pointer });\n      this._handleEvent(e, 'up');\n    },\n\n    /**\n     * Method that defines the actions when mouse is clicked on canvas.\n     * The method inits the currentTransform parameters and renders all the\n     * canvas so the current image can be placed on the top canvas and the rest\n     * in on the container one.\n     * @private\n     * @param {Event} e Event object fired on mousedown\n     */\n    __onMouseDown: function (e) {\n      this._cacheTransformEventData(e);\n      this._handleEvent(e, 'down:before');\n      var target = this._target;\n      // if right click just fire events\n      if (checkClick(e, RIGHT_CLICK)) {\n        if (this.fireRightClick) {\n          this._handleEvent(e, 'down', RIGHT_CLICK);\n        }\n        return;\n      }\n\n      if (checkClick(e, MIDDLE_CLICK)) {\n        if (this.fireMiddleClick) {\n          this._handleEvent(e, 'down', MIDDLE_CLICK);\n        }\n        return;\n      }\n\n      if (this.isDrawingMode) {\n        this._onMouseDownInDrawingMode(e);\n        return;\n      }\n\n      if (!this._isMainEvent(e)) {\n        return;\n      }\n\n      // ignore if some object is being transformed at this moment\n      if (this._currentTransform) {\n        return;\n      }\n\n      var pointer = this._pointer;\n      // save pointer for check in __onMouseUp event\n      this._previousPointer = pointer;\n      var shouldRender = this._shouldRender(target),\n          shouldGroup = this._shouldGroup(e, target);\n      if (this._shouldClearSelection(e, target)) {\n        this.discardActiveObject(e);\n      }\n      else if (shouldGroup) {\n        this._handleGrouping(e, target);\n        target = this._activeObject;\n      }\n\n      if (this.selection && (!target ||\n        (!target.selectable && !target.isEditing && target !== this._activeObject))) {\n        this._groupSelector = {\n          ex: pointer.x,\n          ey: pointer.y,\n          top: 0,\n          left: 0\n        };\n      }\n\n      if (target) {\n        var alreadySelected = target === this._activeObject;\n        if (target.selectable) {\n          this.setActiveObject(target, e);\n        }\n        var corner = target._findTargetCorner(\n          this.getPointer(e, true),\n          fabric.util.isTouchEvent(e)\n        );\n        target.__corner = corner;\n        if (target === this._activeObject && (corner || !shouldGroup)) {\n          this._setupCurrentTransform(e, target, alreadySelected);\n          var control = target.controls[corner],\n              pointer = this.getPointer(e),\n              mouseDownHandler = control && control.getMouseDownHandler(e, target, control);\n          if (mouseDownHandler) {\n            mouseDownHandler(e, this._currentTransform, pointer.x, pointer.y);\n          }\n        }\n      }\n      this._handleEvent(e, 'down');\n      // we must renderAll so that we update the visuals\n      (shouldRender || shouldGroup) && this.requestRenderAll();\n    },\n\n    /**\n     * reset cache form common information needed during event processing\n     * @private\n     */\n    _resetTransformEventData: function() {\n      this._target = null;\n      this._pointer = null;\n      this._absolutePointer = null;\n    },\n\n    /**\n     * Cache common information needed during event processing\n     * @private\n     * @param {Event} e Event object fired on event\n     */\n    _cacheTransformEventData: function(e) {\n      // reset in order to avoid stale caching\n      this._resetTransformEventData();\n      this._pointer = this.getPointer(e, true);\n      this._absolutePointer = this.restorePointerVpt(this._pointer);\n      this._target = this._currentTransform ? this._currentTransform.target : this.findTarget(e) || null;\n    },\n\n    /**\n     * @private\n     */\n    _beforeTransform: function(e) {\n      var t = this._currentTransform;\n      this.stateful && t.target.saveState();\n      this.fire('before:transform', {\n        e: e,\n        transform: t,\n      });\n    },\n\n    /**\n     * Method that defines the actions when mouse is hovering the canvas.\n     * The currentTransform parameter will define whether the user is rotating/scaling/translating\n     * an image or neither of them (only hovering). A group selection is also possible and would cancel\n     * all any other type of action.\n     * In case of an image transformation only the top canvas will be rendered.\n     * @private\n     * @param {Event} e Event object fired on mousemove\n     */\n    __onMouseMove: function (e) {\n      this._handleEvent(e, 'move:before');\n      this._cacheTransformEventData(e);\n      var target, pointer;\n\n      if (this.isDrawingMode) {\n        this._onMouseMoveInDrawingMode(e);\n        return;\n      }\n\n      if (!this._isMainEvent(e)) {\n        return;\n      }\n\n      var groupSelector = this._groupSelector;\n\n      // We initially clicked in an empty area, so we draw a box for multiple selection\n      if (groupSelector) {\n        pointer = this._pointer;\n\n        groupSelector.left = pointer.x - groupSelector.ex;\n        groupSelector.top = pointer.y - groupSelector.ey;\n\n        this.renderTop();\n      }\n      else if (!this._currentTransform) {\n        target = this.findTarget(e) || null;\n        this._setCursorFromEvent(e, target);\n        this._fireOverOutEvents(target, e);\n      }\n      else {\n        this._transformObject(e);\n      }\n      this._handleEvent(e, 'move');\n      this._resetTransformEventData();\n    },\n\n    /**\n     * Manage the mouseout, mouseover events for the fabric object on the canvas\n     * @param {Fabric.Object} target the target where the target from the mousemove event\n     * @param {Event} e Event object fired on mousemove\n     * @private\n     */\n    _fireOverOutEvents: function(target, e) {\n      var _hoveredTarget = this._hoveredTarget,\n          _hoveredTargets = this._hoveredTargets, targets = this.targets,\n          length = Math.max(_hoveredTargets.length, targets.length);\n\n      this.fireSyntheticInOutEvents(target, e, {\n        oldTarget: _hoveredTarget,\n        evtOut: 'mouseout',\n        canvasEvtOut: 'mouse:out',\n        evtIn: 'mouseover',\n        canvasEvtIn: 'mouse:over',\n      });\n      for (var i = 0; i < length; i++){\n        this.fireSyntheticInOutEvents(targets[i], e, {\n          oldTarget: _hoveredTargets[i],\n          evtOut: 'mouseout',\n          evtIn: 'mouseover',\n        });\n      }\n      this._hoveredTarget = target;\n      this._hoveredTargets = this.targets.concat();\n    },\n\n    /**\n     * Manage the dragEnter, dragLeave events for the fabric objects on the canvas\n     * @param {Fabric.Object} target the target where the target from the onDrag event\n     * @param {Event} e Event object fired on ondrag\n     * @private\n     */\n    _fireEnterLeaveEvents: function(target, e) {\n      var _draggedoverTarget = this._draggedoverTarget,\n          _hoveredTargets = this._hoveredTargets, targets = this.targets,\n          length = Math.max(_hoveredTargets.length, targets.length);\n\n      this.fireSyntheticInOutEvents(target, e, {\n        oldTarget: _draggedoverTarget,\n        evtOut: 'dragleave',\n        evtIn: 'dragenter',\n      });\n      for (var i = 0; i < length; i++) {\n        this.fireSyntheticInOutEvents(targets[i], e, {\n          oldTarget: _hoveredTargets[i],\n          evtOut: 'dragleave',\n          evtIn: 'dragenter',\n        });\n      }\n      this._draggedoverTarget = target;\n    },\n\n    /**\n     * Manage the synthetic in/out events for the fabric objects on the canvas\n     * @param {Fabric.Object} target the target where the target from the supported events\n     * @param {Event} e Event object fired\n     * @param {Object} config configuration for the function to work\n     * @param {String} config.targetName property on the canvas where the old target is stored\n     * @param {String} [config.canvasEvtOut] name of the event to fire at canvas level for out\n     * @param {String} config.evtOut name of the event to fire for out\n     * @param {String} [config.canvasEvtIn] name of the event to fire at canvas level for in\n     * @param {String} config.evtIn name of the event to fire for in\n     * @private\n     */\n    fireSyntheticInOutEvents: function(target, e, config) {\n      var inOpt, outOpt, oldTarget = config.oldTarget, outFires, inFires,\n          targetChanged = oldTarget !== target, canvasEvtIn = config.canvasEvtIn, canvasEvtOut = config.canvasEvtOut;\n      if (targetChanged) {\n        inOpt = { e: e, target: target, previousTarget: oldTarget };\n        outOpt = { e: e, target: oldTarget, nextTarget: target };\n      }\n      inFires = target && targetChanged;\n      outFires = oldTarget && targetChanged;\n      if (outFires) {\n        canvasEvtOut && this.fire(canvasEvtOut, outOpt);\n        oldTarget.fire(config.evtOut, outOpt);\n      }\n      if (inFires) {\n        canvasEvtIn && this.fire(canvasEvtIn, inOpt);\n        target.fire(config.evtIn, inOpt);\n      }\n    },\n\n    /**\n     * Method that defines actions when an Event Mouse Wheel\n     * @param {Event} e Event object fired on mouseup\n     */\n    __onMouseWheel: function(e) {\n      this._cacheTransformEventData(e);\n      this._handleEvent(e, 'wheel');\n      this._resetTransformEventData();\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event fired on mousemove\n     */\n    _transformObject: function(e) {\n      var pointer = this.getPointer(e),\n          transform = this._currentTransform;\n\n      transform.reset = false;\n      transform.target.isMoving = true;\n      transform.shiftKey = e.shiftKey;\n      transform.altKey = e[this.centeredKey];\n\n      this._performTransformAction(e, transform, pointer);\n      transform.actionPerformed && this.requestRenderAll();\n    },\n\n    /**\n     * @private\n     */\n    _performTransformAction: function(e, transform, pointer) {\n      var x = pointer.x,\n          y = pointer.y,\n          action = transform.action,\n          actionPerformed = false,\n          actionHandler = transform.actionHandler;\n          // this object could be created from the function in the control handlers\n\n\n      if (actionHandler) {\n        actionPerformed = actionHandler(e, transform, x, y);\n      }\n      if (action === 'drag' && actionPerformed) {\n        this.setCursor(transform.target.moveCursor || this.moveCursor);\n      }\n      transform.actionPerformed = transform.actionPerformed || actionPerformed;\n    },\n\n    /**\n     * @private\n     */\n    _fire: fabric.controlsUtils.fireEvent,\n\n    /**\n     * Sets the cursor depending on where the canvas is being hovered.\n     * Note: very buggy in Opera\n     * @param {Event} e Event object\n     * @param {Object} target Object that the mouse is hovering, if so.\n     */\n    _setCursorFromEvent: function (e, target) {\n      if (!target) {\n        this.setCursor(this.defaultCursor);\n        return false;\n      }\n      var hoverCursor = target.hoverCursor || this.hoverCursor,\n          activeSelection = this._activeObject && this._activeObject.type === 'activeSelection' ?\n            this._activeObject : null,\n          // only show proper corner when group selection is not active\n          corner = (!activeSelection || !activeSelection.contains(target))\n          // here we call findTargetCorner always with undefined for the touch parameter.\n          // we assume that if you are using a cursor you do not need to interact with\n          // the bigger touch area.\n                    && target._findTargetCorner(this.getPointer(e, true));\n\n      if (!corner) {\n        if (target.subTargetCheck){\n          // hoverCursor should come from top-most subTarget,\n          // so we walk the array backwards\n          this.targets.concat().reverse().map(function(_target){\n            hoverCursor = _target.hoverCursor || hoverCursor;\n          });\n        }\n        this.setCursor(hoverCursor);\n      }\n      else {\n        this.setCursor(this.getCornerCursor(corner, target, e));\n      }\n    },\n\n    /**\n     * @private\n     */\n    getCornerCursor: function(corner, target, e) {\n      var control = target.controls[corner];\n      return control.cursorStyleHandler(e, control, target);\n    }\n  });\n})();\n\n\n(function() {\n\n  var min = Math.min,\n      max = Math.max;\n\n  fabric.util.object.extend(fabric.Canvas.prototype, /** @lends fabric.Canvas.prototype */ {\n\n    /**\n     * @private\n     * @param {Event} e Event object\n     * @param {fabric.Object} target\n     * @return {Boolean}\n     */\n    _shouldGroup: function(e, target) {\n      var activeObject = this._activeObject;\n      return activeObject && this._isSelectionKeyPressed(e) && target && target.selectable && this.selection &&\n            (activeObject !== target || activeObject.type === 'activeSelection') && !target.onSelect({ e: e });\n    },\n\n    /**\n     * @private\n     * @param {Event} e Event object\n     * @param {fabric.Object} target\n     */\n    _handleGrouping: function (e, target) {\n      var activeObject = this._activeObject;\n      // avoid multi select when shift click on a corner\n      if (activeObject.__corner) {\n        return;\n      }\n      if (target === activeObject) {\n        // if it's a group, find target again, using activeGroup objects\n        target = this.findTarget(e, true);\n        // if even object is not found or we are on activeObjectCorner, bail out\n        if (!target || !target.selectable) {\n          return;\n        }\n      }\n      if (activeObject && activeObject.type === 'activeSelection') {\n        this._updateActiveSelection(target, e);\n      }\n      else {\n        this._createActiveSelection(target, e);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _updateActiveSelection: function(target, e) {\n      var activeSelection = this._activeObject,\n          currentActiveObjects = activeSelection._objects.slice(0);\n      if (activeSelection.contains(target)) {\n        activeSelection.removeWithUpdate(target);\n        this._hoveredTarget = target;\n        this._hoveredTargets = this.targets.concat();\n        if (activeSelection.size() === 1) {\n          // activate last remaining object\n          this._setActiveObject(activeSelection.item(0), e);\n        }\n      }\n      else {\n        activeSelection.addWithUpdate(target);\n        this._hoveredTarget = activeSelection;\n        this._hoveredTargets = this.targets.concat();\n      }\n      this._fireSelectionEvents(currentActiveObjects, e);\n    },\n\n    /**\n     * @private\n     */\n    _createActiveSelection: function(target, e) {\n      var currentActives = this.getActiveObjects(), group = this._createGroup(target);\n      this._hoveredTarget = group;\n      // ISSUE 4115: should we consider subTargets here?\n      // this._hoveredTargets = [];\n      // this._hoveredTargets = this.targets.concat();\n      this._setActiveObject(group, e);\n      this._fireSelectionEvents(currentActives, e);\n    },\n\n    /**\n     * @private\n     * @param {Object} target\n     */\n    _createGroup: function(target) {\n      var objects = this._objects,\n          isActiveLower = objects.indexOf(this._activeObject) < objects.indexOf(target),\n          groupObjects = isActiveLower\n            ? [this._activeObject, target]\n            : [target, this._activeObject];\n      this._activeObject.isEditing && this._activeObject.exitEditing();\n      return new fabric.ActiveSelection(groupObjects, {\n        canvas: this\n      });\n    },\n\n    /**\n     * @private\n     * @param {Event} e mouse event\n     */\n    _groupSelectedObjects: function (e) {\n\n      var group = this._collectObjects(e),\n          aGroup;\n\n      // do not create group for 1 element only\n      if (group.length === 1) {\n        this.setActiveObject(group[0], e);\n      }\n      else if (group.length > 1) {\n        aGroup = new fabric.ActiveSelection(group.reverse(), {\n          canvas: this\n        });\n        this.setActiveObject(aGroup, e);\n      }\n    },\n\n    /**\n     * @private\n     */\n    _collectObjects: function(e) {\n      var group = [],\n          currentObject,\n          x1 = this._groupSelector.ex,\n          y1 = this._groupSelector.ey,\n          x2 = x1 + this._groupSelector.left,\n          y2 = y1 + this._groupSelector.top,\n          selectionX1Y1 = new fabric.Point(min(x1, x2), min(y1, y2)),\n          selectionX2Y2 = new fabric.Point(max(x1, x2), max(y1, y2)),\n          allowIntersect = !this.selectionFullyContained,\n          isClick = x1 === x2 && y1 === y2;\n      // we iterate reverse order to collect top first in case of click.\n      for (var i = this._objects.length; i--; ) {\n        currentObject = this._objects[i];\n\n        if (!currentObject || !currentObject.selectable || !currentObject.visible) {\n          continue;\n        }\n\n        if ((allowIntersect && currentObject.intersectsWithRect(selectionX1Y1, selectionX2Y2)) ||\n            currentObject.isContainedWithinRect(selectionX1Y1, selectionX2Y2) ||\n            (allowIntersect && currentObject.containsPoint(selectionX1Y1)) ||\n            (allowIntersect && currentObject.containsPoint(selectionX2Y2))\n        ) {\n          group.push(currentObject);\n          // only add one object if it's a click\n          if (isClick) {\n            break;\n          }\n        }\n      }\n\n      if (group.length > 1) {\n        group = group.filter(function(object) {\n          return !object.onSelect({ e: e });\n        });\n      }\n\n      return group;\n    },\n\n    /**\n     * @private\n     */\n    _maybeGroupObjects: function(e) {\n      if (this.selection && this._groupSelector) {\n        this._groupSelectedObjects(e);\n      }\n      this.setCursor(this.defaultCursor);\n      // clear selection and current transformation\n      this._groupSelector = null;\n    }\n  });\n\n})();\n\n\n(function () {\n  fabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\n\n    /**\n     * Exports canvas element to a dataurl image. Note that when multiplier is used, cropping is scaled appropriately\n     * @param {Object} [options] Options object\n     * @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n     * @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n     * @param {Number} [options.multiplier=1] Multiplier to scale by, to have consistent\n     * @param {Number} [options.left] Cropping left offset. Introduced in v1.2.14\n     * @param {Number} [options.top] Cropping top offset. Introduced in v1.2.14\n     * @param {Number} [options.width] Cropping width. Introduced in v1.2.14\n     * @param {Number} [options.height] Cropping height. Introduced in v1.2.14\n     * @param {Boolean} [options.enableRetinaScaling] Enable retina scaling for clone image. Introduce in 2.0.0\n     * @return {String} Returns a data: URL containing a representation of the object in the format specified by options.format\n     * @see {@link http://jsfiddle.net/fabricjs/NfZVb/|jsFiddle demo}\n     * @example <caption>Generate jpeg dataURL with lower quality</caption>\n     * var dataURL = canvas.toDataURL({\n     *   format: 'jpeg',\n     *   quality: 0.8\n     * });\n     * @example <caption>Generate cropped png dataURL (clipping of canvas)</caption>\n     * var dataURL = canvas.toDataURL({\n     *   format: 'png',\n     *   left: 100,\n     *   top: 100,\n     *   width: 200,\n     *   height: 200\n     * });\n     * @example <caption>Generate double scaled png dataURL</caption>\n     * var dataURL = canvas.toDataURL({\n     *   format: 'png',\n     *   multiplier: 2\n     * });\n     */\n    toDataURL: function (options) {\n      options || (options = { });\n\n      var format = options.format || 'png',\n          quality = options.quality || 1,\n          multiplier = (options.multiplier || 1) * (options.enableRetinaScaling ? this.getRetinaScaling() : 1),\n          canvasEl = this.toCanvasElement(multiplier, options);\n      return fabric.util.toDataURL(canvasEl, format, quality);\n    },\n\n    /**\n     * Create a new HTMLCanvas element painted with the current canvas content.\n     * No need to resize the actual one or repaint it.\n     * Will transfer object ownership to a new canvas, paint it, and set everything back.\n     * This is an intermediary step used to get to a dataUrl but also it is useful to\n     * create quick image copies of a canvas without passing for the dataUrl string\n     * @param {Number} [multiplier] a zoom factor.\n     * @param {Object} [cropping] Cropping informations\n     * @param {Number} [cropping.left] Cropping left offset.\n     * @param {Number} [cropping.top] Cropping top offset.\n     * @param {Number} [cropping.width] Cropping width.\n     * @param {Number} [cropping.height] Cropping height.\n     */\n    toCanvasElement: function(multiplier, cropping) {\n      multiplier = multiplier || 1;\n      cropping = cropping || { };\n      var scaledWidth = (cropping.width || this.width) * multiplier,\n          scaledHeight = (cropping.height || this.height) * multiplier,\n          zoom = this.getZoom(),\n          originalWidth = this.width,\n          originalHeight = this.height,\n          newZoom = zoom * multiplier,\n          vp = this.viewportTransform,\n          translateX = (vp[4] - (cropping.left || 0)) * multiplier,\n          translateY = (vp[5] - (cropping.top || 0)) * multiplier,\n          originalInteractive = this.interactive,\n          newVp = [newZoom, 0, 0, newZoom, translateX, translateY],\n          originalRetina = this.enableRetinaScaling,\n          canvasEl = fabric.util.createCanvasElement(),\n          originalContextTop = this.contextTop;\n      canvasEl.width = scaledWidth;\n      canvasEl.height = scaledHeight;\n      this.contextTop = null;\n      this.enableRetinaScaling = false;\n      this.interactive = false;\n      this.viewportTransform = newVp;\n      this.width = scaledWidth;\n      this.height = scaledHeight;\n      this.calcViewportBoundaries();\n      this.renderCanvas(canvasEl.getContext('2d'), this._objects);\n      this.viewportTransform = vp;\n      this.width = originalWidth;\n      this.height = originalHeight;\n      this.calcViewportBoundaries();\n      this.interactive = originalInteractive;\n      this.enableRetinaScaling = originalRetina;\n      this.contextTop = originalContextTop;\n      return canvasEl;\n    },\n  });\n\n})();\n\n\nfabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\n  /**\n   * Populates canvas with data from the specified JSON.\n   * JSON format must conform to the one of {@link fabric.Canvas#toJSON}\n   * @param {String|Object} json JSON string or object\n   * @param {Function} callback Callback, invoked when json is parsed\n   *                            and corresponding objects (e.g: {@link fabric.Image})\n   *                            are initialized\n   * @param {Function} [reviver] Method for further parsing of JSON elements, called after each fabric object created.\n   * @return {fabric.Canvas} instance\n   * @chainable\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#deserialization}\n   * @see {@link http://jsfiddle.net/fabricjs/fmgXt/|jsFiddle demo}\n   * @example <caption>loadFromJSON</caption>\n   * canvas.loadFromJSON(json, canvas.renderAll.bind(canvas));\n   * @example <caption>loadFromJSON with reviver</caption>\n   * canvas.loadFromJSON(json, canvas.renderAll.bind(canvas), function(o, object) {\n   *   // `o` = json object\n   *   // `object` = fabric.Object instance\n   *   // ... do some stuff ...\n   * });\n   */\n  loadFromJSON: function (json, callback, reviver) {\n    if (!json) {\n      return;\n    }\n\n    // serialize if it wasn't already\n    var serialized = (typeof json === 'string')\n      ? JSON.parse(json)\n      : fabric.util.object.clone(json);\n\n    var _this = this,\n        clipPath = serialized.clipPath,\n        renderOnAddRemove = this.renderOnAddRemove;\n\n    this.renderOnAddRemove = false;\n\n    delete serialized.clipPath;\n\n    this._enlivenObjects(serialized.objects, function (enlivenedObjects) {\n      _this.clear();\n      _this._setBgOverlay(serialized, function () {\n        if (clipPath) {\n          _this._enlivenObjects([clipPath], function (enlivenedCanvasClip) {\n            _this.clipPath = enlivenedCanvasClip[0];\n            _this.__setupCanvas.call(_this, serialized, enlivenedObjects, renderOnAddRemove, callback);\n          });\n        }\n        else {\n          _this.__setupCanvas.call(_this, serialized, enlivenedObjects, renderOnAddRemove, callback);\n        }\n      });\n    }, reviver);\n    return this;\n  },\n\n  /**\n   * @private\n   * @param {Object} serialized Object with background and overlay information\n   * @param {Array} restored canvas objects\n   * @param {Function} cached renderOnAddRemove callback\n   * @param {Function} callback Invoked after all background and overlay images/patterns loaded\n   */\n  __setupCanvas: function(serialized, enlivenedObjects, renderOnAddRemove, callback) {\n    var _this = this;\n    enlivenedObjects.forEach(function(obj, index) {\n      // we splice the array just in case some custom classes restored from JSON\n      // will add more object to canvas at canvas init.\n      _this.insertAt(obj, index);\n    });\n    this.renderOnAddRemove = renderOnAddRemove;\n    // remove parts i cannot set as options\n    delete serialized.objects;\n    delete serialized.backgroundImage;\n    delete serialized.overlayImage;\n    delete serialized.background;\n    delete serialized.overlay;\n    // this._initOptions does too many things to just\n    // call it. Normally loading an Object from JSON\n    // create the Object instance. Here the Canvas is\n    // already an instance and we are just loading things over it\n    this._setOptions(serialized);\n    this.renderAll();\n    callback && callback();\n  },\n\n  /**\n   * @private\n   * @param {Object} serialized Object with background and overlay information\n   * @param {Function} callback Invoked after all background and overlay images/patterns loaded\n   */\n  _setBgOverlay: function(serialized, callback) {\n    var loaded = {\n      backgroundColor: false,\n      overlayColor: false,\n      backgroundImage: false,\n      overlayImage: false\n    };\n\n    if (!serialized.backgroundImage && !serialized.overlayImage && !serialized.background && !serialized.overlay) {\n      callback && callback();\n      return;\n    }\n\n    var cbIfLoaded = function () {\n      if (loaded.backgroundImage && loaded.overlayImage && loaded.backgroundColor && loaded.overlayColor) {\n        callback && callback();\n      }\n    };\n\n    this.__setBgOverlay('backgroundImage', serialized.backgroundImage, loaded, cbIfLoaded);\n    this.__setBgOverlay('overlayImage', serialized.overlayImage, loaded, cbIfLoaded);\n    this.__setBgOverlay('backgroundColor', serialized.background, loaded, cbIfLoaded);\n    this.__setBgOverlay('overlayColor', serialized.overlay, loaded, cbIfLoaded);\n  },\n\n  /**\n   * @private\n   * @param {String} property Property to set (backgroundImage, overlayImage, backgroundColor, overlayColor)\n   * @param {(Object|String)} value Value to set\n   * @param {Object} loaded Set loaded property to true if property is set\n   * @param {Object} callback Callback function to invoke after property is set\n   */\n  __setBgOverlay: function(property, value, loaded, callback) {\n    var _this = this;\n\n    if (!value) {\n      loaded[property] = true;\n      callback && callback();\n      return;\n    }\n\n    if (property === 'backgroundImage' || property === 'overlayImage') {\n      fabric.util.enlivenObjects([value], function(enlivedObject){\n        _this[property] = enlivedObject[0];\n        loaded[property] = true;\n        callback && callback();\n      });\n    }\n    else {\n      this['set' + fabric.util.string.capitalize(property, true)](value, function() {\n        loaded[property] = true;\n        callback && callback();\n      });\n    }\n  },\n\n  /**\n   * @private\n   * @param {Array} objects\n   * @param {Function} callback\n   * @param {Function} [reviver]\n   */\n  _enlivenObjects: function (objects, callback, reviver) {\n    if (!objects || objects.length === 0) {\n      callback && callback([]);\n      return;\n    }\n\n    fabric.util.enlivenObjects(objects, function(enlivenedObjects) {\n      callback && callback(enlivenedObjects);\n    }, null, reviver);\n  },\n\n  /**\n   * @private\n   * @param {String} format\n   * @param {Function} callback\n   */\n  _toDataURL: function (format, callback) {\n    this.clone(function (clone) {\n      callback(clone.toDataURL(format));\n    });\n  },\n\n  /**\n   * @private\n   * @param {String} format\n   * @param {Number} multiplier\n   * @param {Function} callback\n   */\n  _toDataURLWithMultiplier: function (format, multiplier, callback) {\n    this.clone(function (clone) {\n      callback(clone.toDataURLWithMultiplier(format, multiplier));\n    });\n  },\n\n  /**\n   * Clones canvas instance\n   * @param {Object} [callback] Receives cloned instance as a first argument\n   * @param {Array} [properties] Array of properties to include in the cloned canvas and children\n   */\n  clone: function (callback, properties) {\n    var data = JSON.stringify(this.toJSON(properties));\n    this.cloneWithoutData(function(clone) {\n      clone.loadFromJSON(data, function() {\n        callback && callback(clone);\n      });\n    });\n  },\n\n  /**\n   * Clones canvas instance without cloning existing data.\n   * This essentially copies canvas dimensions, clipping properties, etc.\n   * but leaves data empty (so that you can populate it with your own)\n   * @param {Object} [callback] Receives cloned instance as a first argument\n   */\n  cloneWithoutData: function(callback) {\n    var el = fabric.util.createCanvasElement();\n\n    el.width = this.width;\n    el.height = this.height;\n\n    var clone = new fabric.Canvas(el);\n    if (this.backgroundImage) {\n      clone.setBackgroundImage(this.backgroundImage.src, function() {\n        clone.renderAll();\n        callback && callback(clone);\n      });\n      clone.backgroundImageOpacity = this.backgroundImageOpacity;\n      clone.backgroundImageStretch = this.backgroundImageStretch;\n    }\n    else {\n      callback && callback(clone);\n    }\n  }\n});\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend,\n      clone = fabric.util.object.clone,\n      toFixed = fabric.util.toFixed,\n      capitalize = fabric.util.string.capitalize,\n      degreesToRadians = fabric.util.degreesToRadians,\n      supportsLineDash = fabric.StaticCanvas.supports('setLineDash'),\n      objectCaching = !fabric.isLikelyNode,\n      ALIASING_LIMIT = 2;\n\n  if (fabric.Object) {\n    return;\n  }\n\n  /**\n   * Root object class from which all 2d shape classes inherit from\n   * @class fabric.Object\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#objects}\n   * @see {@link fabric.Object#initialize} for constructor definition\n   *\n   * @fires added\n   * @fires removed\n   *\n   * @fires selected\n   * @fires deselected\n   * @fires modified\n   * @fires modified\n   * @fires moved\n   * @fires scaled\n   * @fires rotated\n   * @fires skewed\n   *\n   * @fires rotating\n   * @fires scaling\n   * @fires moving\n   * @fires skewing\n   *\n   * @fires mousedown\n   * @fires mouseup\n   * @fires mouseover\n   * @fires mouseout\n   * @fires mousewheel\n   * @fires mousedblclick\n   *\n   * @fires dragover\n   * @fires dragenter\n   * @fires dragleave\n   * @fires drop\n   */\n  fabric.Object = fabric.util.createClass(fabric.CommonMethods, /** @lends fabric.Object.prototype */ {\n\n    /**\n     * Type of an object (rect, circle, path, etc.).\n     * Note that this property is meant to be read-only and not meant to be modified.\n     * If you modify, certain parts of Fabric (such as JSON loading) won't work correctly.\n     * @type String\n     * @default\n     */\n    type:                     'object',\n\n    /**\n     * Horizontal origin of transformation of an object (one of \"left\", \"right\", \"center\")\n     * See http://jsfiddle.net/1ow02gea/244/ on how originX/originY affect objects in groups\n     * @type String\n     * @default\n     */\n    originX:                  'left',\n\n    /**\n     * Vertical origin of transformation of an object (one of \"top\", \"bottom\", \"center\")\n     * See http://jsfiddle.net/1ow02gea/244/ on how originX/originY affect objects in groups\n     * @type String\n     * @default\n     */\n    originY:                  'top',\n\n    /**\n     * Top position of an object. Note that by default it's relative to object top. You can change this by setting originY={top/center/bottom}\n     * @type Number\n     * @default\n     */\n    top:                      0,\n\n    /**\n     * Left position of an object. Note that by default it's relative to object left. You can change this by setting originX={left/center/right}\n     * @type Number\n     * @default\n     */\n    left:                     0,\n\n    /**\n     * Object width\n     * @type Number\n     * @default\n     */\n    width:                    0,\n\n    /**\n     * Object height\n     * @type Number\n     * @default\n     */\n    height:                   0,\n\n    /**\n     * Object scale factor (horizontal)\n     * @type Number\n     * @default\n     */\n    scaleX:                   1,\n\n    /**\n     * Object scale factor (vertical)\n     * @type Number\n     * @default\n     */\n    scaleY:                   1,\n\n    /**\n     * When true, an object is rendered as flipped horizontally\n     * @type Boolean\n     * @default\n     */\n    flipX:                    false,\n\n    /**\n     * When true, an object is rendered as flipped vertically\n     * @type Boolean\n     * @default\n     */\n    flipY:                    false,\n\n    /**\n     * Opacity of an object\n     * @type Number\n     * @default\n     */\n    opacity:                  1,\n\n    /**\n     * Angle of rotation of an object (in degrees)\n     * @type Number\n     * @default\n     */\n    angle:                    0,\n\n    /**\n     * Angle of skew on x axes of an object (in degrees)\n     * @type Number\n     * @default\n     */\n    skewX:                    0,\n\n    /**\n     * Angle of skew on y axes of an object (in degrees)\n     * @type Number\n     * @default\n     */\n    skewY:                    0,\n\n    /**\n     * Size of object's controlling corners (in pixels)\n     * @type Number\n     * @default\n     */\n    cornerSize:               13,\n\n    /**\n     * Size of object's controlling corners when touch interaction is detected\n     * @type Number\n     * @default\n     */\n    touchCornerSize:               24,\n\n    /**\n     * When true, object's controlling corners are rendered as transparent inside (i.e. stroke instead of fill)\n     * @type Boolean\n     * @default\n     */\n    transparentCorners:       true,\n\n    /**\n     * Default cursor value used when hovering over this object on canvas\n     * @type String\n     * @default\n     */\n    hoverCursor:              null,\n\n    /**\n     * Default cursor value used when moving this object on canvas\n     * @type String\n     * @default\n     */\n    moveCursor:               null,\n\n    /**\n     * Padding between object and its controlling borders (in pixels)\n     * @type Number\n     * @default\n     */\n    padding:                  0,\n\n    /**\n     * Color of controlling borders of an object (when it's active)\n     * @type String\n     * @default\n     */\n    borderColor:              'rgb(178,204,255)',\n\n    /**\n     * Array specifying dash pattern of an object's borders (hasBorder must be true)\n     * @since 1.6.2\n     * @type Array\n     */\n    borderDashArray:          null,\n\n    /**\n     * Color of controlling corners of an object (when it's active)\n     * @type String\n     * @default\n     */\n    cornerColor:              'rgb(178,204,255)',\n\n    /**\n     * Color of controlling corners of an object (when it's active and transparentCorners false)\n     * @since 1.6.2\n     * @type String\n     * @default\n     */\n    cornerStrokeColor:        null,\n\n    /**\n     * Specify style of control, 'rect' or 'circle'\n     * @since 1.6.2\n     * @type String\n     */\n    cornerStyle:          'rect',\n\n    /**\n     * Array specifying dash pattern of an object's control (hasBorder must be true)\n     * @since 1.6.2\n     * @type Array\n     */\n    cornerDashArray:          null,\n\n    /**\n     * When true, this object will use center point as the origin of transformation\n     * when being scaled via the controls.\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\n     * @since 1.3.4\n     * @type Boolean\n     * @default\n     */\n    centeredScaling:          false,\n\n    /**\n     * When true, this object will use center point as the origin of transformation\n     * when being rotated via the controls.\n     * <b>Backwards incompatibility note:</b> This property replaces \"centerTransform\" (Boolean).\n     * @since 1.3.4\n     * @type Boolean\n     * @default\n     */\n    centeredRotation:         true,\n\n    /**\n     * Color of object's fill\n     * takes css colors https://www.w3.org/TR/css-color-3/\n     * @type String\n     * @default\n     */\n    fill:                     'rgb(0,0,0)',\n\n    /**\n     * Fill rule used to fill an object\n     * accepted values are nonzero, evenodd\n     * <b>Backwards incompatibility note:</b> This property was used for setting globalCompositeOperation until v1.4.12 (use `fabric.Object#globalCompositeOperation` instead)\n     * @type String\n     * @default\n     */\n    fillRule:                 'nonzero',\n\n    /**\n     * Composite rule used for canvas globalCompositeOperation\n     * @type String\n     * @default\n     */\n    globalCompositeOperation: 'source-over',\n\n    /**\n     * Background color of an object.\n     * takes css colors https://www.w3.org/TR/css-color-3/\n     * @type String\n     * @default\n     */\n    backgroundColor:          '',\n\n    /**\n     * Selection Background color of an object. colored layer behind the object when it is active.\n     * does not mix good with globalCompositeOperation methods.\n     * @type String\n     * @default\n     */\n    selectionBackgroundColor:          '',\n\n    /**\n     * When defined, an object is rendered via stroke and this property specifies its color\n     * takes css colors https://www.w3.org/TR/css-color-3/\n     * @type String\n     * @default\n     */\n    stroke:                   null,\n\n    /**\n     * Width of a stroke used to render this object\n     * @type Number\n     * @default\n     */\n    strokeWidth:              1,\n\n    /**\n     * Array specifying dash pattern of an object's stroke (stroke must be defined)\n     * @type Array\n     */\n    strokeDashArray:          null,\n\n    /**\n     * Line offset of an object's stroke\n     * @type Number\n     * @default\n     */\n    strokeDashOffset: 0,\n\n    /**\n     * Line endings style of an object's stroke (one of \"butt\", \"round\", \"square\")\n     * @type String\n     * @default\n     */\n    strokeLineCap:            'butt',\n\n    /**\n     * Corner style of an object's stroke (one of \"bevel\", \"round\", \"miter\")\n     * @type String\n     * @default\n     */\n    strokeLineJoin:           'miter',\n\n    /**\n     * Maximum miter length (used for strokeLineJoin = \"miter\") of an object's stroke\n     * @type Number\n     * @default\n     */\n    strokeMiterLimit:         4,\n\n    /**\n     * Shadow object representing shadow of this shape\n     * @type fabric.Shadow\n     * @default\n     */\n    shadow:                   null,\n\n    /**\n     * Opacity of object's controlling borders when object is active and moving\n     * @type Number\n     * @default\n     */\n    borderOpacityWhenMoving:  0.4,\n\n    /**\n     * Scale factor of object's controlling borders\n     * bigger number will make a thicker border\n     * border is 1, so this is basically a border thickness\n     * since there is no way to change the border itself.\n     * @type Number\n     * @default\n     */\n    borderScaleFactor:        1,\n\n    /**\n     * Minimum allowed scale value of an object\n     * @type Number\n     * @default\n     */\n    minScaleLimit:            0,\n\n    /**\n     * When set to `false`, an object can not be selected for modification (using either point-click-based or group-based selection).\n     * But events still fire on it.\n     * @type Boolean\n     * @default\n     */\n    selectable:               true,\n\n    /**\n     * When set to `false`, an object can not be a target of events. All events propagate through it. Introduced in v1.3.4\n     * @type Boolean\n     * @default\n     */\n    evented:                  true,\n\n    /**\n     * When set to `false`, an object is not rendered on canvas\n     * @type Boolean\n     * @default\n     */\n    visible:                  true,\n\n    /**\n     * When set to `false`, object's controls are not displayed and can not be used to manipulate object\n     * @type Boolean\n     * @default\n     */\n    hasControls:              true,\n\n    /**\n     * When set to `false`, object's controlling borders are not rendered\n     * @type Boolean\n     * @default\n     */\n    hasBorders:               true,\n\n    /**\n     * When set to `true`, objects are \"found\" on canvas on per-pixel basis rather than according to bounding box\n     * @type Boolean\n     * @default\n     */\n    perPixelTargetFind:       false,\n\n    /**\n     * When `false`, default object's values are not included in its serialization\n     * @type Boolean\n     * @default\n     */\n    includeDefaultValues:     true,\n\n    /**\n     * When `true`, object horizontal movement is locked\n     * @type Boolean\n     * @default\n     */\n    lockMovementX:            false,\n\n    /**\n     * When `true`, object vertical movement is locked\n     * @type Boolean\n     * @default\n     */\n    lockMovementY:            false,\n\n    /**\n     * When `true`, object rotation is locked\n     * @type Boolean\n     * @default\n     */\n    lockRotation:             false,\n\n    /**\n     * When `true`, object horizontal scaling is locked\n     * @type Boolean\n     * @default\n     */\n    lockScalingX:             false,\n\n    /**\n     * When `true`, object vertical scaling is locked\n     * @type Boolean\n     * @default\n     */\n    lockScalingY:             false,\n\n    /**\n     * When `true`, object horizontal skewing is locked\n     * @type Boolean\n     * @default\n     */\n    lockSkewingX:             false,\n\n    /**\n     * When `true`, object vertical skewing is locked\n     * @type Boolean\n     * @default\n     */\n    lockSkewingY:             false,\n\n    /**\n     * When `true`, object cannot be flipped by scaling into negative values\n     * @type Boolean\n     * @default\n     */\n    lockScalingFlip:          false,\n\n    /**\n     * When `true`, object is not exported in OBJECT/JSON\n     * @since 1.6.3\n     * @type Boolean\n     * @default\n     */\n    excludeFromExport:        false,\n\n    /**\n     * When `true`, object is cached on an additional canvas.\n     * When `false`, object is not cached unless necessary ( clipPath )\n     * default to true\n     * @since 1.7.0\n     * @type Boolean\n     * @default true\n     */\n    objectCaching:            objectCaching,\n\n    /**\n     * When `true`, object properties are checked for cache invalidation. In some particular\n     * situation you may want this to be disabled ( spray brush, very big, groups)\n     * or if your application does not allow you to modify properties for groups child you want\n     * to disable it for groups.\n     * default to false\n     * since 1.7.0\n     * @type Boolean\n     * @default false\n     */\n    statefullCache:            false,\n\n    /**\n     * When `true`, cache does not get updated during scaling. The picture will get blocky if scaled\n     * too much and will be redrawn with correct details at the end of scaling.\n     * this setting is performance and application dependant.\n     * default to true\n     * since 1.7.0\n     * @type Boolean\n     * @default true\n     */\n    noScaleCache:              true,\n\n    /**\n     * When `false`, the stoke width will scale with the object.\n     * When `true`, the stroke will always match the exact pixel size entered for stroke width.\n     * default to false\n     * @since 2.6.0\n     * @type Boolean\n     * @default false\n     * @type Boolean\n     * @default false\n     */\n    strokeUniform:              false,\n\n    /**\n     * When set to `true`, object's cache will be rerendered next render call.\n     * since 1.7.0\n     * @type Boolean\n     * @default true\n     */\n    dirty:                true,\n\n    /**\n     * keeps the value of the last hovered corner during mouse move.\n     * 0 is no corner, or 'mt', 'ml', 'mtr' etc..\n     * It should be private, but there is no harm in using it as\n     * a read-only property.\n     * @type number|string|any\n     * @default 0\n     */\n    __corner: 0,\n\n    /**\n     * Determines if the fill or the stroke is drawn first (one of \"fill\" or \"stroke\")\n     * @type String\n     * @default\n     */\n    paintFirst:           'fill',\n\n    /**\n     * List of properties to consider when checking if state\n     * of an object is changed (fabric.Object#hasStateChanged)\n     * as well as for history (undo/redo) purposes\n     * @type Array\n     */\n    stateProperties: (\n      'top left width height scaleX scaleY flipX flipY originX originY transformMatrix ' +\n      'stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit ' +\n      'angle opacity fill globalCompositeOperation shadow visible backgroundColor ' +\n      'skewX skewY fillRule paintFirst clipPath strokeUniform'\n    ).split(' '),\n\n    /**\n     * List of properties to consider when checking if cache needs refresh\n     * Those properties are checked by statefullCache ON ( or lazy mode if we want ) or from single\n     * calls to Object.set(key, value). If the key is in this list, the object is marked as dirty\n     * and refreshed at the next render\n     * @type Array\n     */\n    cacheProperties: (\n      'fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform' +\n      ' strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath'\n    ).split(' '),\n\n    /**\n     * List of properties to consider for animating colors.\n     * @type Array\n     */\n    colorProperties: (\n      'fill stroke backgroundColor'\n    ).split(' '),\n\n    /**\n     * a fabricObject that, without stroke define a clipping area with their shape. filled in black\n     * the clipPath object gets used when the object has rendered, and the context is placed in the center\n     * of the object cacheCanvas.\n     * If you want 0,0 of a clipPath to align with an object center, use clipPath.originX/Y to 'center'\n     * @type fabric.Object\n     */\n    clipPath: undefined,\n\n    /**\n     * Meaningful ONLY when the object is used as clipPath.\n     * if true, the clipPath will make the object clip to the outside of the clipPath\n     * since 2.4.0\n     * @type boolean\n     * @default false\n     */\n    inverted: false,\n\n    /**\n     * Meaningful ONLY when the object is used as clipPath.\n     * if true, the clipPath will have its top and left relative to canvas, and will\n     * not be influenced by the object transform. This will make the clipPath relative\n     * to the canvas, but clipping just a particular object.\n     * WARNING this is beta, this feature may change or be renamed.\n     * since 2.4.0\n     * @type boolean\n     * @default false\n     */\n    absolutePositioned: false,\n\n    /**\n     * Constructor\n     * @param {Object} [options] Options object\n     */\n    initialize: function(options) {\n      if (options) {\n        this.setOptions(options);\n      }\n    },\n\n    /**\n     * Create a the canvas used to keep the cached copy of the object\n     * @private\n     */\n    _createCacheCanvas: function() {\n      this._cacheProperties = {};\n      this._cacheCanvas = fabric.util.createCanvasElement();\n      this._cacheContext = this._cacheCanvas.getContext('2d');\n      this._updateCacheCanvas();\n      // if canvas gets created, is empty, so dirty.\n      this.dirty = true;\n    },\n\n    /**\n     * Limit the cache dimensions so that X * Y do not cross fabric.perfLimitSizeTotal\n     * and each side do not cross fabric.cacheSideLimit\n     * those numbers are configurable so that you can get as much detail as you want\n     * making bargain with performances.\n     * @param {Object} dims\n     * @param {Object} dims.width width of canvas\n     * @param {Object} dims.height height of canvas\n     * @param {Object} dims.zoomX zoomX zoom value to unscale the canvas before drawing cache\n     * @param {Object} dims.zoomY zoomY zoom value to unscale the canvas before drawing cache\n     * @return {Object}.width width of canvas\n     * @return {Object}.height height of canvas\n     * @return {Object}.zoomX zoomX zoom value to unscale the canvas before drawing cache\n     * @return {Object}.zoomY zoomY zoom value to unscale the canvas before drawing cache\n     */\n    _limitCacheSize: function(dims) {\n      var perfLimitSizeTotal = fabric.perfLimitSizeTotal,\n          width = dims.width, height = dims.height,\n          max = fabric.maxCacheSideLimit, min = fabric.minCacheSideLimit;\n      if (width <= max && height <= max && width * height <= perfLimitSizeTotal) {\n        if (width < min) {\n          dims.width = min;\n        }\n        if (height < min) {\n          dims.height = min;\n        }\n        return dims;\n      }\n      var ar = width / height, limitedDims = fabric.util.limitDimsByArea(ar, perfLimitSizeTotal),\n          capValue = fabric.util.capValue,\n          x = capValue(min, limitedDims.x, max),\n          y = capValue(min, limitedDims.y, max);\n      if (width > x) {\n        dims.zoomX /= width / x;\n        dims.width = x;\n        dims.capped = true;\n      }\n      if (height > y) {\n        dims.zoomY /= height / y;\n        dims.height = y;\n        dims.capped = true;\n      }\n      return dims;\n    },\n\n    /**\n     * Return the dimension and the zoom level needed to create a cache canvas\n     * big enough to host the object to be cached.\n     * @private\n     * @return {Object}.x width of object to be cached\n     * @return {Object}.y height of object to be cached\n     * @return {Object}.width width of canvas\n     * @return {Object}.height height of canvas\n     * @return {Object}.zoomX zoomX zoom value to unscale the canvas before drawing cache\n     * @return {Object}.zoomY zoomY zoom value to unscale the canvas before drawing cache\n     */\n    _getCacheCanvasDimensions: function() {\n      var objectScale = this.getTotalObjectScaling(),\n          // caculate dimensions without skewing\n          dim = this._getTransformedDimensions(0, 0),\n          neededX = dim.x * objectScale.scaleX / this.scaleX,\n          neededY = dim.y * objectScale.scaleY / this.scaleY;\n      return {\n        // for sure this ALIASING_LIMIT is slightly creating problem\n        // in situation in which the cache canvas gets an upper limit\n        // also objectScale contains already scaleX and scaleY\n        width: neededX + ALIASING_LIMIT,\n        height: neededY + ALIASING_LIMIT,\n        zoomX: objectScale.scaleX,\n        zoomY: objectScale.scaleY,\n        x: neededX,\n        y: neededY\n      };\n    },\n\n    /**\n     * Update width and height of the canvas for cache\n     * returns true or false if canvas needed resize.\n     * @private\n     * @return {Boolean} true if the canvas has been resized\n     */\n    _updateCacheCanvas: function() {\n      var targetCanvas = this.canvas;\n      if (this.noScaleCache && targetCanvas && targetCanvas._currentTransform) {\n        var target = targetCanvas._currentTransform.target,\n            action = targetCanvas._currentTransform.action;\n        if (this === target && action.slice && action.slice(0, 5) === 'scale') {\n          return false;\n        }\n      }\n      var canvas = this._cacheCanvas,\n          dims = this._limitCacheSize(this._getCacheCanvasDimensions()),\n          minCacheSize = fabric.minCacheSideLimit,\n          width = dims.width, height = dims.height, drawingWidth, drawingHeight,\n          zoomX = dims.zoomX, zoomY = dims.zoomY,\n          dimensionsChanged = width !== this.cacheWidth || height !== this.cacheHeight,\n          zoomChanged = this.zoomX !== zoomX || this.zoomY !== zoomY,\n          shouldRedraw = dimensionsChanged || zoomChanged,\n          additionalWidth = 0, additionalHeight = 0, shouldResizeCanvas = false;\n      if (dimensionsChanged) {\n        var canvasWidth = this._cacheCanvas.width,\n            canvasHeight = this._cacheCanvas.height,\n            sizeGrowing = width > canvasWidth || height > canvasHeight,\n            sizeShrinking = (width < canvasWidth * 0.9 || height < canvasHeight * 0.9) &&\n              canvasWidth > minCacheSize && canvasHeight > minCacheSize;\n        shouldResizeCanvas = sizeGrowing || sizeShrinking;\n        if (sizeGrowing && !dims.capped && (width > minCacheSize || height > minCacheSize)) {\n          additionalWidth = width * 0.1;\n          additionalHeight = height * 0.1;\n        }\n      }\n      if (shouldRedraw) {\n        if (shouldResizeCanvas) {\n          canvas.width = Math.ceil(width + additionalWidth);\n          canvas.height = Math.ceil(height + additionalHeight);\n        }\n        else {\n          this._cacheContext.setTransform(1, 0, 0, 1, 0, 0);\n          this._cacheContext.clearRect(0, 0, canvas.width, canvas.height);\n        }\n        drawingWidth = dims.x / 2;\n        drawingHeight = dims.y / 2;\n        this.cacheTranslationX = Math.round(canvas.width / 2 - drawingWidth) + drawingWidth;\n        this.cacheTranslationY = Math.round(canvas.height / 2 - drawingHeight) + drawingHeight;\n        this.cacheWidth = width;\n        this.cacheHeight = height;\n        this._cacheContext.translate(this.cacheTranslationX, this.cacheTranslationY);\n        this._cacheContext.scale(zoomX, zoomY);\n        this.zoomX = zoomX;\n        this.zoomY = zoomY;\n        return true;\n      }\n      return false;\n    },\n\n    /**\n     * Sets object's properties from options\n     * @param {Object} [options] Options object\n     */\n    setOptions: function(options) {\n      this._setOptions(options);\n      this._initGradient(options.fill, 'fill');\n      this._initGradient(options.stroke, 'stroke');\n      this._initPattern(options.fill, 'fill');\n      this._initPattern(options.stroke, 'stroke');\n    },\n\n    /**\n     * Transforms context when rendering an object\n     * @param {CanvasRenderingContext2D} ctx Context\n     */\n    transform: function(ctx) {\n      var needFullTransform = (this.group && !this.group._transformDone) ||\n         (this.group && this.canvas && ctx === this.canvas.contextTop);\n      var m = this.calcTransformMatrix(!needFullTransform);\n      ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n    },\n\n    /**\n     * Returns an object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS,\n\n          object = {\n            type:                     this.type,\n            version:                  fabric.version,\n            originX:                  this.originX,\n            originY:                  this.originY,\n            left:                     toFixed(this.left, NUM_FRACTION_DIGITS),\n            top:                      toFixed(this.top, NUM_FRACTION_DIGITS),\n            width:                    toFixed(this.width, NUM_FRACTION_DIGITS),\n            height:                   toFixed(this.height, NUM_FRACTION_DIGITS),\n            fill:                     (this.fill && this.fill.toObject) ? this.fill.toObject() : this.fill,\n            stroke:                   (this.stroke && this.stroke.toObject) ? this.stroke.toObject() : this.stroke,\n            strokeWidth:              toFixed(this.strokeWidth, NUM_FRACTION_DIGITS),\n            strokeDashArray:          this.strokeDashArray ? this.strokeDashArray.concat() : this.strokeDashArray,\n            strokeLineCap:            this.strokeLineCap,\n            strokeDashOffset:         this.strokeDashOffset,\n            strokeLineJoin:           this.strokeLineJoin,\n            strokeUniform:            this.strokeUniform,\n            strokeMiterLimit:         toFixed(this.strokeMiterLimit, NUM_FRACTION_DIGITS),\n            scaleX:                   toFixed(this.scaleX, NUM_FRACTION_DIGITS),\n            scaleY:                   toFixed(this.scaleY, NUM_FRACTION_DIGITS),\n            angle:                    toFixed(this.angle, NUM_FRACTION_DIGITS),\n            flipX:                    this.flipX,\n            flipY:                    this.flipY,\n            opacity:                  toFixed(this.opacity, NUM_FRACTION_DIGITS),\n            shadow:                   (this.shadow && this.shadow.toObject) ? this.shadow.toObject() : this.shadow,\n            visible:                  this.visible,\n            backgroundColor:          this.backgroundColor,\n            fillRule:                 this.fillRule,\n            paintFirst:               this.paintFirst,\n            globalCompositeOperation: this.globalCompositeOperation,\n            skewX:                    toFixed(this.skewX, NUM_FRACTION_DIGITS),\n            skewY:                    toFixed(this.skewY, NUM_FRACTION_DIGITS),\n          };\n\n      if (this.clipPath) {\n        object.clipPath = this.clipPath.toObject(propertiesToInclude);\n        object.clipPath.inverted = this.clipPath.inverted;\n        object.clipPath.absolutePositioned = this.clipPath.absolutePositioned;\n      }\n\n      fabric.util.populateWithProperties(this, object, propertiesToInclude);\n      if (!this.includeDefaultValues) {\n        object = this._removeDefaultValues(object);\n      }\n\n      return object;\n    },\n\n    /**\n     * Returns (dataless) object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} Object representation of an instance\n     */\n    toDatalessObject: function(propertiesToInclude) {\n      // will be overwritten by subclasses\n      return this.toObject(propertiesToInclude);\n    },\n\n    /**\n     * @private\n     * @param {Object} object\n     */\n    _removeDefaultValues: function(object) {\n      var prototype = fabric.util.getKlass(object.type).prototype,\n          stateProperties = prototype.stateProperties;\n      stateProperties.forEach(function(prop) {\n        if (prop === 'left' || prop === 'top') {\n          return;\n        }\n        if (object[prop] === prototype[prop]) {\n          delete object[prop];\n        }\n        var isArray = Object.prototype.toString.call(object[prop]) === '[object Array]' &&\n                      Object.prototype.toString.call(prototype[prop]) === '[object Array]';\n\n        // basically a check for [] === []\n        if (isArray && object[prop].length === 0 && prototype[prop].length === 0) {\n          delete object[prop];\n        }\n      });\n\n      return object;\n    },\n\n    /**\n     * Returns a string representation of an instance\n     * @return {String}\n     */\n    toString: function() {\n      return '#<fabric.' + capitalize(this.type) + '>';\n    },\n\n    /**\n     * Return the object scale factor counting also the group scaling\n     * @return {Object} object with scaleX and scaleY properties\n     */\n    getObjectScaling: function() {\n      var options = fabric.util.qrDecompose(this.calcTransformMatrix());\n      return { scaleX: Math.abs(options.scaleX), scaleY: Math.abs(options.scaleY) };\n    },\n\n    /**\n     * Return the object scale factor counting also the group scaling, zoom and retina\n     * @return {Object} object with scaleX and scaleY properties\n     */\n    getTotalObjectScaling: function() {\n      var scale = this.getObjectScaling(), scaleX = scale.scaleX, scaleY = scale.scaleY;\n      if (this.canvas) {\n        var zoom = this.canvas.getZoom();\n        var retina = this.canvas.getRetinaScaling();\n        scaleX *= zoom * retina;\n        scaleY *= zoom * retina;\n      }\n      return { scaleX: scaleX, scaleY: scaleY };\n    },\n\n    /**\n     * Return the object opacity counting also the group property\n     * @return {Number}\n     */\n    getObjectOpacity: function() {\n      var opacity = this.opacity;\n      if (this.group) {\n        opacity *= this.group.getObjectOpacity();\n      }\n      return opacity;\n    },\n\n    /**\n     * @private\n     * @param {String} key\n     * @param {*} value\n     * @return {fabric.Object} thisArg\n     */\n    _set: function(key, value) {\n      var shouldConstrainValue = (key === 'scaleX' || key === 'scaleY'),\n          isChanged = this[key] !== value, groupNeedsUpdate = false;\n\n      if (shouldConstrainValue) {\n        value = this._constrainScale(value);\n      }\n      if (key === 'scaleX' && value < 0) {\n        this.flipX = !this.flipX;\n        value *= -1;\n      }\n      else if (key === 'scaleY' && value < 0) {\n        this.flipY = !this.flipY;\n        value *= -1;\n      }\n      else if (key === 'shadow' && value && !(value instanceof fabric.Shadow)) {\n        value = new fabric.Shadow(value);\n      }\n      else if (key === 'dirty' && this.group) {\n        this.group.set('dirty', value);\n      }\n\n      this[key] = value;\n\n      if (isChanged) {\n        groupNeedsUpdate = this.group && this.group.isOnACache();\n        if (this.cacheProperties.indexOf(key) > -1) {\n          this.dirty = true;\n          groupNeedsUpdate && this.group.set('dirty', true);\n        }\n        else if (groupNeedsUpdate && this.stateProperties.indexOf(key) > -1) {\n          this.group.set('dirty', true);\n        }\n      }\n      return this;\n    },\n\n    /**\n     * This callback function is called by the parent group of an object every\n     * time a non-delegated property changes on the group. It is passed the key\n     * and value as parameters. Not adding in this function's signature to avoid\n     * Travis build error about unused variables.\n     */\n    setOnGroup: function() {\n      // implemented by sub-classes, as needed.\n    },\n\n    /**\n     * Retrieves viewportTransform from Object's canvas if possible\n     * @method getViewportTransform\n     * @memberOf fabric.Object.prototype\n     * @return {Array}\n     */\n    getViewportTransform: function() {\n      if (this.canvas && this.canvas.viewportTransform) {\n        return this.canvas.viewportTransform;\n      }\n      return fabric.iMatrix.concat();\n    },\n\n    /*\n     * @private\n     * return if the object would be visible in rendering\n     * @memberOf fabric.Object.prototype\n     * @return {Boolean}\n     */\n    isNotVisible: function() {\n      return this.opacity === 0 ||\n        (!this.width && !this.height && this.strokeWidth === 0) ||\n        !this.visible;\n    },\n\n    /**\n     * Renders an object on a specified context\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    render: function(ctx) {\n      // do not render if width/height are zeros or object is not visible\n      if (this.isNotVisible()) {\n        return;\n      }\n      if (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen()) {\n        return;\n      }\n      ctx.save();\n      this._setupCompositeOperation(ctx);\n      this.drawSelectionBackground(ctx);\n      this.transform(ctx);\n      this._setOpacity(ctx);\n      this._setShadow(ctx, this);\n      if (this.shouldCache()) {\n        this.renderCache();\n        this.drawCacheOnCanvas(ctx);\n      }\n      else {\n        this._removeCacheCanvas();\n        this.dirty = false;\n        this.drawObject(ctx);\n        if (this.objectCaching && this.statefullCache) {\n          this.saveState({ propertySet: 'cacheProperties' });\n        }\n      }\n      ctx.restore();\n    },\n\n    renderCache: function(options) {\n      options = options || {};\n      if (!this._cacheCanvas) {\n        this._createCacheCanvas();\n      }\n      if (this.isCacheDirty()) {\n        this.statefullCache && this.saveState({ propertySet: 'cacheProperties' });\n        this.drawObject(this._cacheContext, options.forClipping);\n        this.dirty = false;\n      }\n    },\n\n    /**\n     * Remove cacheCanvas and its dimensions from the objects\n     */\n    _removeCacheCanvas: function() {\n      this._cacheCanvas = null;\n      this.cacheWidth = 0;\n      this.cacheHeight = 0;\n    },\n\n    /**\n     * return true if the object will draw a stroke\n     * Does not consider text styles. This is just a shortcut used at rendering time\n     * We want it to be an approximation and be fast.\n     * wrote to avoid extra caching, it has to return true when stroke happens,\n     * can guess when it will not happen at 100% chance, does not matter if it misses\n     * some use case where the stroke is invisible.\n     * @since 3.0.0\n     * @returns Boolean\n     */\n    hasStroke: function() {\n      return this.stroke && this.stroke !== 'transparent' && this.strokeWidth !== 0;\n    },\n\n    /**\n     * return true if the object will draw a fill\n     * Does not consider text styles. This is just a shortcut used at rendering time\n     * We want it to be an approximation and be fast.\n     * wrote to avoid extra caching, it has to return true when fill happens,\n     * can guess when it will not happen at 100% chance, does not matter if it misses\n     * some use case where the fill is invisible.\n     * @since 3.0.0\n     * @returns Boolean\n     */\n    hasFill: function() {\n      return this.fill && this.fill !== 'transparent';\n    },\n\n    /**\n     * When set to `true`, force the object to have its own cache, even if it is inside a group\n     * it may be needed when your object behave in a particular way on the cache and always needs\n     * its own isolated canvas to render correctly.\n     * Created to be overridden\n     * since 1.7.12\n     * @returns Boolean\n     */\n    needsItsOwnCache: function() {\n      if (this.paintFirst === 'stroke' &&\n        this.hasFill() && this.hasStroke() && typeof this.shadow === 'object') {\n        return true;\n      }\n      if (this.clipPath) {\n        return true;\n      }\n      return false;\n    },\n\n    /**\n     * Decide if the object should cache or not. Create its own cache level\n     * objectCaching is a global flag, wins over everything\n     * needsItsOwnCache should be used when the object drawing method requires\n     * a cache step. None of the fabric classes requires it.\n     * Generally you do not cache objects in groups because the group outside is cached.\n     * Read as: cache if is needed, or if the feature is enabled but we are not already caching.\n     * @return {Boolean}\n     */\n    shouldCache: function() {\n      this.ownCaching = this.needsItsOwnCache() || (\n        this.objectCaching &&\n        (!this.group || !this.group.isOnACache())\n      );\n      return this.ownCaching;\n    },\n\n    /**\n     * Check if this object or a child object will cast a shadow\n     * used by Group.shouldCache to know if child has a shadow recursively\n     * @return {Boolean}\n     */\n    willDrawShadow: function() {\n      return !!this.shadow && (this.shadow.offsetX !== 0 || this.shadow.offsetY !== 0);\n    },\n\n    /**\n     * Execute the drawing operation for an object clipPath\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    drawClipPathOnCache: function(ctx) {\n      var path = this.clipPath;\n      ctx.save();\n      // DEBUG: uncomment this line, comment the following\n      // ctx.globalAlpha = 0.4\n      if (path.inverted) {\n        ctx.globalCompositeOperation = 'destination-out';\n      }\n      else {\n        ctx.globalCompositeOperation = 'destination-in';\n      }\n      //ctx.scale(1 / 2, 1 / 2);\n      if (path.absolutePositioned) {\n        var m = fabric.util.invertTransform(this.calcTransformMatrix());\n        ctx.transform(m[0], m[1], m[2], m[3], m[4], m[5]);\n      }\n      path.transform(ctx);\n      ctx.scale(1 / path.zoomX, 1 / path.zoomY);\n      ctx.drawImage(path._cacheCanvas, -path.cacheTranslationX, -path.cacheTranslationY);\n      ctx.restore();\n    },\n\n    /**\n     * Execute the drawing operation for an object on a specified context\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    drawObject: function(ctx, forClipping) {\n      var originalFill = this.fill, originalStroke = this.stroke;\n      if (forClipping) {\n        this.fill = 'black';\n        this.stroke = '';\n        this._setClippingProperties(ctx);\n      }\n      else {\n        this._renderBackground(ctx);\n      }\n      this._render(ctx);\n      this._drawClipPath(ctx);\n      this.fill = originalFill;\n      this.stroke = originalStroke;\n    },\n\n    _drawClipPath: function(ctx) {\n      var path = this.clipPath;\n      if (!path) { return; }\n      // needed to setup a couple of variables\n      // path canvas gets overridden with this one.\n      // TODO find a better solution?\n      path.canvas = this.canvas;\n      path.shouldCache();\n      path._transformDone = true;\n      path.renderCache({ forClipping: true });\n      this.drawClipPathOnCache(ctx);\n    },\n\n    /**\n     * Paint the cached copy of the object on the target context.\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    drawCacheOnCanvas: function(ctx) {\n      ctx.scale(1 / this.zoomX, 1 / this.zoomY);\n      ctx.drawImage(this._cacheCanvas, -this.cacheTranslationX, -this.cacheTranslationY);\n    },\n\n    /**\n     * Check if cache is dirty\n     * @param {Boolean} skipCanvas skip canvas checks because this object is painted\n     * on parent canvas.\n     */\n    isCacheDirty: function(skipCanvas) {\n      if (this.isNotVisible()) {\n        return false;\n      }\n      if (this._cacheCanvas && !skipCanvas && this._updateCacheCanvas()) {\n        // in this case the context is already cleared.\n        return true;\n      }\n      else {\n        if (this.dirty ||\n          (this.clipPath && this.clipPath.absolutePositioned) ||\n          (this.statefullCache && this.hasStateChanged('cacheProperties'))\n        ) {\n          if (this._cacheCanvas && !skipCanvas) {\n            var width = this.cacheWidth / this.zoomX;\n            var height = this.cacheHeight / this.zoomY;\n            this._cacheContext.clearRect(-width / 2, -height / 2, width, height);\n          }\n          return true;\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Draws a background for the object big as its untransformed dimensions\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderBackground: function(ctx) {\n      if (!this.backgroundColor) {\n        return;\n      }\n      var dim = this._getNonTransformedDimensions();\n      ctx.fillStyle = this.backgroundColor;\n\n      ctx.fillRect(\n        -dim.x / 2,\n        -dim.y / 2,\n        dim.x,\n        dim.y\n      );\n      // if there is background color no other shadows\n      // should be casted\n      this._removeShadow(ctx);\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _setOpacity: function(ctx) {\n      if (this.group && !this.group._transformDone) {\n        ctx.globalAlpha = this.getObjectOpacity();\n      }\n      else {\n        ctx.globalAlpha *= this.opacity;\n      }\n    },\n\n    _setStrokeStyles: function(ctx, decl) {\n      var stroke = decl.stroke;\n      if (stroke) {\n        ctx.lineWidth = decl.strokeWidth;\n        ctx.lineCap = decl.strokeLineCap;\n        ctx.lineDashOffset = decl.strokeDashOffset;\n        ctx.lineJoin = decl.strokeLineJoin;\n        ctx.miterLimit = decl.strokeMiterLimit;\n        if (stroke.toLive) {\n          if (stroke.gradientUnits === 'percentage' || stroke.gradientTrasnform || stroke.patternTransform) {\n            // need to transform gradient in a pattern.\n            // this is a slow process. If you are hitting this codepath, and the object\n            // is not using caching, you should consider switching it on.\n            // we need a canvas as big as the current object caching canvas.\n            this._applyPatternForTransformedGradient(ctx, stroke);\n          }\n          else {\n            // is a simple gradient or pattern\n            ctx.strokeStyle = stroke.toLive(ctx, this);\n            this._applyPatternGradientTransform(ctx, stroke);\n          }\n        }\n        else {\n          // is a color\n          ctx.strokeStyle = decl.stroke;\n        }\n      }\n    },\n\n    _setFillStyles: function(ctx, decl) {\n      var fill = decl.fill;\n      if (fill) {\n        if (fill.toLive) {\n          ctx.fillStyle = fill.toLive(ctx, this);\n          this._applyPatternGradientTransform(ctx, decl.fill);\n        }\n        else {\n          ctx.fillStyle = fill;\n        }\n      }\n    },\n\n    _setClippingProperties: function(ctx) {\n      ctx.globalAlpha = 1;\n      ctx.strokeStyle = 'transparent';\n      ctx.fillStyle = '#000000';\n    },\n\n    /**\n     * @private\n     * Sets line dash\n     * @param {CanvasRenderingContext2D} ctx Context to set the dash line on\n     * @param {Array} dashArray array representing dashes\n     * @param {Function} alternative function to call if browser does not support lineDash\n     */\n    _setLineDash: function(ctx, dashArray, alternative) {\n      if (!dashArray || dashArray.length === 0) {\n        return;\n      }\n      // Spec requires the concatenation of two copies the dash list when the number of elements is odd\n      if (1 & dashArray.length) {\n        dashArray.push.apply(dashArray, dashArray);\n      }\n      if (supportsLineDash) {\n        ctx.setLineDash(dashArray);\n      }\n      else {\n        alternative && alternative(ctx);\n      }\n    },\n\n    /**\n     * Renders controls and borders for the object\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {Object} [styleOverride] properties to override the object style\n     */\n    _renderControls: function(ctx, styleOverride) {\n      var vpt = this.getViewportTransform(),\n          matrix = this.calcTransformMatrix(),\n          options, drawBorders, drawControls;\n      styleOverride = styleOverride || { };\n      drawBorders = typeof styleOverride.hasBorders !== 'undefined' ? styleOverride.hasBorders : this.hasBorders;\n      drawControls = typeof styleOverride.hasControls !== 'undefined' ? styleOverride.hasControls : this.hasControls;\n      matrix = fabric.util.multiplyTransformMatrices(vpt, matrix);\n      options = fabric.util.qrDecompose(matrix);\n      ctx.save();\n      ctx.translate(options.translateX, options.translateY);\n      ctx.lineWidth = 1 * this.borderScaleFactor;\n      if (!this.group) {\n        ctx.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;\n      }\n      if (styleOverride.forActiveSelection) {\n        ctx.rotate(degreesToRadians(options.angle));\n        drawBorders && this.drawBordersInGroup(ctx, options, styleOverride);\n      }\n      else {\n        ctx.rotate(degreesToRadians(this.angle));\n        drawBorders && this.drawBorders(ctx, styleOverride);\n      }\n      drawControls && this.drawControls(ctx, styleOverride);\n      ctx.restore();\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _setShadow: function(ctx) {\n      if (!this.shadow) {\n        return;\n      }\n\n      var shadow = this.shadow, canvas = this.canvas, scaling,\n          multX = (canvas && canvas.viewportTransform[0]) || 1,\n          multY = (canvas && canvas.viewportTransform[3]) || 1;\n      if (shadow.nonScaling) {\n        scaling = { scaleX: 1, scaleY: 1 };\n      }\n      else {\n        scaling = this.getObjectScaling();\n      }\n      if (canvas && canvas._isRetinaScaling()) {\n        multX *= fabric.devicePixelRatio;\n        multY *= fabric.devicePixelRatio;\n      }\n      ctx.shadowColor = shadow.color;\n      ctx.shadowBlur = shadow.blur * fabric.browserShadowBlurConstant *\n        (multX + multY) * (scaling.scaleX + scaling.scaleY) / 4;\n      ctx.shadowOffsetX = shadow.offsetX * multX * scaling.scaleX;\n      ctx.shadowOffsetY = shadow.offsetY * multY * scaling.scaleY;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _removeShadow: function(ctx) {\n      if (!this.shadow) {\n        return;\n      }\n\n      ctx.shadowColor = '';\n      ctx.shadowBlur = ctx.shadowOffsetX = ctx.shadowOffsetY = 0;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {Object} filler fabric.Pattern or fabric.Gradient\n     * @return {Object} offset.offsetX offset for text rendering\n     * @return {Object} offset.offsetY offset for text rendering\n     */\n    _applyPatternGradientTransform: function(ctx, filler) {\n      if (!filler || !filler.toLive) {\n        return { offsetX: 0, offsetY: 0 };\n      }\n      var t = filler.gradientTransform || filler.patternTransform;\n      var offsetX = -this.width / 2 + filler.offsetX || 0,\n          offsetY = -this.height / 2 + filler.offsetY || 0;\n\n      if (filler.gradientUnits === 'percentage') {\n        ctx.transform(this.width, 0, 0, this.height, offsetX, offsetY);\n      }\n      else {\n        ctx.transform(1, 0, 0, 1, offsetX, offsetY);\n      }\n      if (t) {\n        ctx.transform(t[0], t[1], t[2], t[3], t[4], t[5]);\n      }\n      return { offsetX: offsetX, offsetY: offsetY };\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderPaintInOrder: function(ctx) {\n      if (this.paintFirst === 'stroke') {\n        this._renderStroke(ctx);\n        this._renderFill(ctx);\n      }\n      else {\n        this._renderFill(ctx);\n        this._renderStroke(ctx);\n      }\n    },\n\n    /**\n     * @private\n     * function that actually render something on the context.\n     * empty here to allow Obects to work on tests to benchmark fabric functionalites\n     * not related to rendering\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(/* ctx */) {\n\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderFill: function(ctx) {\n      if (!this.fill) {\n        return;\n      }\n\n      ctx.save();\n      this._setFillStyles(ctx, this);\n      if (this.fillRule === 'evenodd') {\n        ctx.fill('evenodd');\n      }\n      else {\n        ctx.fill();\n      }\n      ctx.restore();\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderStroke: function(ctx) {\n      if (!this.stroke || this.strokeWidth === 0) {\n        return;\n      }\n\n      if (this.shadow && !this.shadow.affectStroke) {\n        this._removeShadow(ctx);\n      }\n\n      ctx.save();\n      if (this.strokeUniform && this.group) {\n        var scaling = this.getObjectScaling();\n        ctx.scale(1 / scaling.scaleX, 1 / scaling.scaleY);\n      }\n      else if (this.strokeUniform) {\n        ctx.scale(1 / this.scaleX, 1 / this.scaleY);\n      }\n      this._setLineDash(ctx, this.strokeDashArray, this._renderDashedStroke);\n      this._setStrokeStyles(ctx, this);\n      ctx.stroke();\n      ctx.restore();\n    },\n\n    /**\n     * This function try to patch the missing gradientTransform on canvas gradients.\n     * transforming a context to transform the gradient, is going to transform the stroke too.\n     * we want to transform the gradient but not the stroke operation, so we create\n     * a transformed gradient on a pattern and then we use the pattern instead of the gradient.\n     * this method has drwabacks: is slow, is in low resolution, needs a patch for when the size\n     * is limited.\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {fabric.Gradient} filler a fabric gradient instance\n     */\n    _applyPatternForTransformedGradient: function(ctx, filler) {\n      var dims = this._limitCacheSize(this._getCacheCanvasDimensions()),\n          pCanvas = fabric.util.createCanvasElement(), pCtx, retinaScaling = this.canvas.getRetinaScaling(),\n          width = dims.x / this.scaleX / retinaScaling, height = dims.y / this.scaleY / retinaScaling;\n      pCanvas.width = width;\n      pCanvas.height = height;\n      pCtx = pCanvas.getContext('2d');\n      pCtx.beginPath(); pCtx.moveTo(0, 0); pCtx.lineTo(width, 0); pCtx.lineTo(width, height);\n      pCtx.lineTo(0, height); pCtx.closePath();\n      pCtx.translate(width / 2, height / 2);\n      pCtx.scale(\n        dims.zoomX / this.scaleX / retinaScaling,\n        dims.zoomY / this.scaleY / retinaScaling\n      );\n      this._applyPatternGradientTransform(pCtx, filler);\n      pCtx.fillStyle = filler.toLive(ctx);\n      pCtx.fill();\n      ctx.translate(-this.width / 2 - this.strokeWidth / 2, -this.height / 2 - this.strokeWidth / 2);\n      ctx.scale(\n        retinaScaling * this.scaleX / dims.zoomX,\n        retinaScaling * this.scaleY / dims.zoomY\n      );\n      ctx.strokeStyle = pCtx.createPattern(pCanvas, 'no-repeat');\n    },\n\n    /**\n     * This function is an helper for svg import. it returns the center of the object in the svg\n     * untransformed coordinates\n     * @private\n     * @return {Object} center point from element coordinates\n     */\n    _findCenterFromElement: function() {\n      return { x: this.left + this.width / 2, y: this.top + this.height / 2 };\n    },\n\n    /**\n     * This function is an helper for svg import. it decompose the transformMatrix\n     * and assign properties to object.\n     * untransformed coordinates\n     * @private\n     * @chainable\n     */\n    _assignTransformMatrixProps: function() {\n      if (this.transformMatrix) {\n        var options = fabric.util.qrDecompose(this.transformMatrix);\n        this.flipX = false;\n        this.flipY = false;\n        this.set('scaleX', options.scaleX);\n        this.set('scaleY', options.scaleY);\n        this.angle = options.angle;\n        this.skewX = options.skewX;\n        this.skewY = 0;\n      }\n    },\n\n    /**\n     * This function is an helper for svg import. it removes the transform matrix\n     * and set to object properties that fabricjs can handle\n     * @private\n     * @param {Object} preserveAspectRatioOptions\n     * @return {thisArg}\n     */\n    _removeTransformMatrix: function(preserveAspectRatioOptions) {\n      var center = this._findCenterFromElement();\n      if (this.transformMatrix) {\n        this._assignTransformMatrixProps();\n        center = fabric.util.transformPoint(center, this.transformMatrix);\n      }\n      this.transformMatrix = null;\n      if (preserveAspectRatioOptions) {\n        this.scaleX *= preserveAspectRatioOptions.scaleX;\n        this.scaleY *= preserveAspectRatioOptions.scaleY;\n        this.cropX = preserveAspectRatioOptions.cropX;\n        this.cropY = preserveAspectRatioOptions.cropY;\n        center.x += preserveAspectRatioOptions.offsetLeft;\n        center.y += preserveAspectRatioOptions.offsetTop;\n        this.width = preserveAspectRatioOptions.width;\n        this.height = preserveAspectRatioOptions.height;\n      }\n      this.setPositionByOrigin(center, 'center', 'center');\n    },\n\n    /**\n     * Clones an instance, using a callback method will work for every object.\n     * @param {Function} callback Callback is invoked with a clone as a first argument\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     */\n    clone: function(callback, propertiesToInclude) {\n      var objectForm = this.toObject(propertiesToInclude);\n      if (this.constructor.fromObject) {\n        this.constructor.fromObject(objectForm, callback);\n      }\n      else {\n        fabric.Object._fromObject('Object', objectForm, callback);\n      }\n    },\n\n    /**\n     * Creates an instance of fabric.Image out of an object\n     * makes use of toCanvasElement.\n     * Once this method was based on toDataUrl and loadImage, so it also had a quality\n     * and format option. toCanvasElement is faster and produce no loss of quality.\n     * If you need to get a real Jpeg or Png from an object, using toDataURL is the right way to do it.\n     * toCanvasElement and then toBlob from the obtained canvas is also a good option.\n     * This method is sync now, but still support the callback because we did not want to break.\n     * When fabricJS 5.0 will be planned, this will probably be changed to not have a callback.\n     * @param {Function} callback callback, invoked with an instance as a first argument\n     * @param {Object} [options] for clone as image, passed to toDataURL\n     * @param {Number} [options.multiplier=1] Multiplier to scale by\n     * @param {Number} [options.left] Cropping left offset. Introduced in v1.2.14\n     * @param {Number} [options.top] Cropping top offset. Introduced in v1.2.14\n     * @param {Number} [options.width] Cropping width. Introduced in v1.2.14\n     * @param {Number} [options.height] Cropping height. Introduced in v1.2.14\n     * @param {Boolean} [options.enableRetinaScaling] Enable retina scaling for clone image. Introduce in 1.6.4\n     * @param {Boolean} [options.withoutTransform] Remove current object transform ( no scale , no angle, no flip, no skew ). Introduced in 2.3.4\n     * @param {Boolean} [options.withoutShadow] Remove current object shadow. Introduced in 2.4.2\n     * @return {fabric.Object} thisArg\n     */\n    cloneAsImage: function(callback, options) {\n      var canvasEl = this.toCanvasElement(options);\n      if (callback) {\n        callback(new fabric.Image(canvasEl));\n      }\n      return this;\n    },\n\n    /**\n     * Converts an object into a HTMLCanvas element\n     * @param {Object} options Options object\n     * @param {Number} [options.multiplier=1] Multiplier to scale by\n     * @param {Number} [options.left] Cropping left offset. Introduced in v1.2.14\n     * @param {Number} [options.top] Cropping top offset. Introduced in v1.2.14\n     * @param {Number} [options.width] Cropping width. Introduced in v1.2.14\n     * @param {Number} [options.height] Cropping height. Introduced in v1.2.14\n     * @param {Boolean} [options.enableRetinaScaling] Enable retina scaling for clone image. Introduce in 1.6.4\n     * @param {Boolean} [options.withoutTransform] Remove current object transform ( no scale , no angle, no flip, no skew ). Introduced in 2.3.4\n     * @param {Boolean} [options.withoutShadow] Remove current object shadow. Introduced in 2.4.2\n     * @return {HTMLCanvasElement} Returns DOM element <canvas> with the fabric.Object\n     */\n    toCanvasElement: function(options) {\n      options || (options = { });\n\n      var utils = fabric.util, origParams = utils.saveObjectTransform(this),\n          originalGroup = this.group,\n          originalShadow = this.shadow, abs = Math.abs,\n          multiplier = (options.multiplier || 1) * (options.enableRetinaScaling ? fabric.devicePixelRatio : 1);\n      delete this.group;\n      if (options.withoutTransform) {\n        utils.resetObjectTransform(this);\n      }\n      if (options.withoutShadow) {\n        this.shadow = null;\n      }\n\n      var el = fabric.util.createCanvasElement(),\n          // skip canvas zoom and calculate with setCoords now.\n          boundingRect = this.getBoundingRect(true, true),\n          shadow = this.shadow, scaling,\n          shadowOffset = { x: 0, y: 0 }, shadowBlur,\n          width, height;\n\n      if (shadow) {\n        shadowBlur = shadow.blur;\n        if (shadow.nonScaling) {\n          scaling = { scaleX: 1, scaleY: 1 };\n        }\n        else {\n          scaling = this.getObjectScaling();\n        }\n        // consider non scaling shadow.\n        shadowOffset.x = 2 * Math.round(abs(shadow.offsetX) + shadowBlur) * (abs(scaling.scaleX));\n        shadowOffset.y = 2 * Math.round(abs(shadow.offsetY) + shadowBlur) * (abs(scaling.scaleY));\n      }\n      width = boundingRect.width + shadowOffset.x;\n      height = boundingRect.height + shadowOffset.y;\n      // if the current width/height is not an integer\n      // we need to make it so.\n      el.width = Math.ceil(width);\n      el.height = Math.ceil(height);\n      var canvas = new fabric.StaticCanvas(el, {\n        enableRetinaScaling: false,\n        renderOnAddRemove: false,\n        skipOffscreen: false,\n      });\n      if (options.format === 'jpeg') {\n        canvas.backgroundColor = '#fff';\n      }\n      this.setPositionByOrigin(new fabric.Point(canvas.width / 2, canvas.height / 2), 'center', 'center');\n\n      var originalCanvas = this.canvas;\n      canvas.add(this);\n      var canvasEl = canvas.toCanvasElement(multiplier || 1, options);\n      this.shadow = originalShadow;\n      this.set('canvas', originalCanvas);\n      if (originalGroup) {\n        this.group = originalGroup;\n      }\n      this.set(origParams).setCoords();\n      // canvas.dispose will call image.dispose that will nullify the elements\n      // since this canvas is a simple element for the process, we remove references\n      // to objects in this way in order to avoid object trashing.\n      canvas._objects = [];\n      canvas.dispose();\n      canvas = null;\n\n      return canvasEl;\n    },\n\n    /**\n     * Converts an object into a data-url-like string\n     * @param {Object} options Options object\n     * @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n     * @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n     * @param {Number} [options.multiplier=1] Multiplier to scale by\n     * @param {Number} [options.left] Cropping left offset. Introduced in v1.2.14\n     * @param {Number} [options.top] Cropping top offset. Introduced in v1.2.14\n     * @param {Number} [options.width] Cropping width. Introduced in v1.2.14\n     * @param {Number} [options.height] Cropping height. Introduced in v1.2.14\n     * @param {Boolean} [options.enableRetinaScaling] Enable retina scaling for clone image. Introduce in 1.6.4\n     * @param {Boolean} [options.withoutTransform] Remove current object transform ( no scale , no angle, no flip, no skew ). Introduced in 2.3.4\n     * @param {Boolean} [options.withoutShadow] Remove current object shadow. Introduced in 2.4.2\n     * @return {String} Returns a data: URL containing a representation of the object in the format specified by options.format\n     */\n    toDataURL: function(options) {\n      options || (options = { });\n      return fabric.util.toDataURL(this.toCanvasElement(options), options.format || 'png', options.quality || 1);\n    },\n\n    /**\n     * Returns true if specified type is identical to the type of an instance\n     * @param {String} type Type to check against\n     * @return {Boolean}\n     */\n    isType: function(type) {\n      return this.type === type;\n    },\n\n    /**\n     * Returns complexity of an instance\n     * @return {Number} complexity of this instance (is 1 unless subclassed)\n     */\n    complexity: function() {\n      return 1;\n    },\n\n    /**\n     * Returns a JSON representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} JSON\n     */\n    toJSON: function(propertiesToInclude) {\n      // delegate, not alias\n      return this.toObject(propertiesToInclude);\n    },\n\n    /**\n     * Sets \"angle\" of an instance with centered rotation\n     * @param {Number} angle Angle value (in degrees)\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    rotate: function(angle) {\n      var shouldCenterOrigin = (this.originX !== 'center' || this.originY !== 'center') && this.centeredRotation;\n\n      if (shouldCenterOrigin) {\n        this._setOriginToCenter();\n      }\n\n      this.set('angle', angle);\n\n      if (shouldCenterOrigin) {\n        this._resetOrigin();\n      }\n\n      return this;\n    },\n\n    /**\n     * Centers object horizontally on canvas to which it was added last.\n     * You might need to call `setCoords` on an object after centering, to update controls area.\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    centerH: function () {\n      this.canvas && this.canvas.centerObjectH(this);\n      return this;\n    },\n\n    /**\n     * Centers object horizontally on current viewport of canvas to which it was added last.\n     * You might need to call `setCoords` on an object after centering, to update controls area.\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    viewportCenterH: function () {\n      this.canvas && this.canvas.viewportCenterObjectH(this);\n      return this;\n    },\n\n    /**\n     * Centers object vertically on canvas to which it was added last.\n     * You might need to call `setCoords` on an object after centering, to update controls area.\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    centerV: function () {\n      this.canvas && this.canvas.centerObjectV(this);\n      return this;\n    },\n\n    /**\n     * Centers object vertically on current viewport of canvas to which it was added last.\n     * You might need to call `setCoords` on an object after centering, to update controls area.\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    viewportCenterV: function () {\n      this.canvas && this.canvas.viewportCenterObjectV(this);\n      return this;\n    },\n\n    /**\n     * Centers object vertically and horizontally on canvas to which is was added last\n     * You might need to call `setCoords` on an object after centering, to update controls area.\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    center: function () {\n      this.canvas && this.canvas.centerObject(this);\n      return this;\n    },\n\n    /**\n     * Centers object on current viewport of canvas to which it was added last.\n     * You might need to call `setCoords` on an object after centering, to update controls area.\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    viewportCenter: function () {\n      this.canvas && this.canvas.viewportCenterObject(this);\n      return this;\n    },\n\n    /**\n     * Returns coordinates of a pointer relative to an object\n     * @param {Event} e Event to operate upon\n     * @param {Object} [pointer] Pointer to operate upon (instead of event)\n     * @return {Object} Coordinates of a pointer (x, y)\n     */\n    getLocalPointer: function(e, pointer) {\n      pointer = pointer || this.canvas.getPointer(e);\n      var pClicked = new fabric.Point(pointer.x, pointer.y),\n          objectLeftTop = this._getLeftTopCoords();\n      if (this.angle) {\n        pClicked = fabric.util.rotatePoint(\n          pClicked, objectLeftTop, degreesToRadians(-this.angle));\n      }\n      return {\n        x: pClicked.x - objectLeftTop.x,\n        y: pClicked.y - objectLeftTop.y\n      };\n    },\n\n    /**\n     * Sets canvas globalCompositeOperation for specific object\n     * custom composition operation for the particular object can be specified using globalCompositeOperation property\n     * @param {CanvasRenderingContext2D} ctx Rendering canvas context\n     */\n    _setupCompositeOperation: function (ctx) {\n      if (this.globalCompositeOperation) {\n        ctx.globalCompositeOperation = this.globalCompositeOperation;\n      }\n    }\n  });\n\n  fabric.util.createAccessors && fabric.util.createAccessors(fabric.Object);\n\n  extend(fabric.Object.prototype, fabric.Observable);\n\n  /**\n   * Defines the number of fraction digits to use when serializing object values.\n   * You can use it to increase/decrease precision of such values like left, top, scaleX, scaleY, etc.\n   * @static\n   * @memberOf fabric.Object\n   * @constant\n   * @type Number\n   */\n  fabric.Object.NUM_FRACTION_DIGITS = 2;\n\n  fabric.Object._fromObject = function(className, object, callback, extraParam) {\n    var klass = fabric[className];\n    object = clone(object, true);\n    fabric.util.enlivenPatterns([object.fill, object.stroke], function(patterns) {\n      if (typeof patterns[0] !== 'undefined') {\n        object.fill = patterns[0];\n      }\n      if (typeof patterns[1] !== 'undefined') {\n        object.stroke = patterns[1];\n      }\n      fabric.util.enlivenObjects([object.clipPath], function(enlivedProps) {\n        object.clipPath = enlivedProps[0];\n        var instance = extraParam ? new klass(object[extraParam], object) : new klass(object);\n        callback && callback(instance);\n      });\n    });\n  };\n\n  /**\n   * Unique id used internally when creating SVG elements\n   * @static\n   * @memberOf fabric.Object\n   * @type Number\n   */\n  fabric.Object.__uid = 0;\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function() {\n\n  var degreesToRadians = fabric.util.degreesToRadians,\n      originXOffset = {\n        left: -0.5,\n        center: 0,\n        right: 0.5\n      },\n      originYOffset = {\n        top: -0.5,\n        center: 0,\n        bottom: 0.5\n      };\n\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n\n    /**\n     * Translates the coordinates from a set of origin to another (based on the object's dimensions)\n     * @param {fabric.Point} point The point which corresponds to the originX and originY params\n     * @param {String} fromOriginX Horizontal origin: 'left', 'center' or 'right'\n     * @param {String} fromOriginY Vertical origin: 'top', 'center' or 'bottom'\n     * @param {String} toOriginX Horizontal origin: 'left', 'center' or 'right'\n     * @param {String} toOriginY Vertical origin: 'top', 'center' or 'bottom'\n     * @return {fabric.Point}\n     */\n    translateToGivenOrigin: function(point, fromOriginX, fromOriginY, toOriginX, toOriginY) {\n      var x = point.x,\n          y = point.y,\n          offsetX, offsetY, dim;\n\n      if (typeof fromOriginX === 'string') {\n        fromOriginX = originXOffset[fromOriginX];\n      }\n      else {\n        fromOriginX -= 0.5;\n      }\n\n      if (typeof toOriginX === 'string') {\n        toOriginX = originXOffset[toOriginX];\n      }\n      else {\n        toOriginX -= 0.5;\n      }\n\n      offsetX = toOriginX - fromOriginX;\n\n      if (typeof fromOriginY === 'string') {\n        fromOriginY = originYOffset[fromOriginY];\n      }\n      else {\n        fromOriginY -= 0.5;\n      }\n\n      if (typeof toOriginY === 'string') {\n        toOriginY = originYOffset[toOriginY];\n      }\n      else {\n        toOriginY -= 0.5;\n      }\n\n      offsetY = toOriginY - fromOriginY;\n\n      if (offsetX || offsetY) {\n        dim = this._getTransformedDimensions();\n        x = point.x + offsetX * dim.x;\n        y = point.y + offsetY * dim.y;\n      }\n\n      return new fabric.Point(x, y);\n    },\n\n    /**\n     * Translates the coordinates from origin to center coordinates (based on the object's dimensions)\n     * @param {fabric.Point} point The point which corresponds to the originX and originY params\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\n     * @return {fabric.Point}\n     */\n    translateToCenterPoint: function(point, originX, originY) {\n      var p = this.translateToGivenOrigin(point, originX, originY, 'center', 'center');\n      if (this.angle) {\n        return fabric.util.rotatePoint(p, point, degreesToRadians(this.angle));\n      }\n      return p;\n    },\n\n    /**\n     * Translates the coordinates from center to origin coordinates (based on the object's dimensions)\n     * @param {fabric.Point} center The point which corresponds to center of the object\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\n     * @return {fabric.Point}\n     */\n    translateToOriginPoint: function(center, originX, originY) {\n      var p = this.translateToGivenOrigin(center, 'center', 'center', originX, originY);\n      if (this.angle) {\n        return fabric.util.rotatePoint(p, center, degreesToRadians(this.angle));\n      }\n      return p;\n    },\n\n    /**\n     * Returns the real center coordinates of the object\n     * @return {fabric.Point}\n     */\n    getCenterPoint: function() {\n      var leftTop = new fabric.Point(this.left, this.top);\n      return this.translateToCenterPoint(leftTop, this.originX, this.originY);\n    },\n\n    /**\n     * Returns the coordinates of the object based on center coordinates\n     * @param {fabric.Point} point The point which corresponds to the originX and originY params\n     * @return {fabric.Point}\n     */\n    // getOriginPoint: function(center) {\n    //   return this.translateToOriginPoint(center, this.originX, this.originY);\n    // },\n\n    /**\n     * Returns the coordinates of the object as if it has a different origin\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\n     * @return {fabric.Point}\n     */\n    getPointByOrigin: function(originX, originY) {\n      var center = this.getCenterPoint();\n      return this.translateToOriginPoint(center, originX, originY);\n    },\n\n    /**\n     * Returns the point in local coordinates\n     * @param {fabric.Point} point The point relative to the global coordinate system\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\n     * @return {fabric.Point}\n     */\n    toLocalPoint: function(point, originX, originY) {\n      var center = this.getCenterPoint(),\n          p, p2;\n\n      if (typeof originX !== 'undefined' && typeof originY !== 'undefined' ) {\n        p = this.translateToGivenOrigin(center, 'center', 'center', originX, originY);\n      }\n      else {\n        p = new fabric.Point(this.left, this.top);\n      }\n\n      p2 = new fabric.Point(point.x, point.y);\n      if (this.angle) {\n        p2 = fabric.util.rotatePoint(p2, center, -degreesToRadians(this.angle));\n      }\n      return p2.subtractEquals(p);\n    },\n\n    /**\n     * Returns the point in global coordinates\n     * @param {fabric.Point} The point relative to the local coordinate system\n     * @return {fabric.Point}\n     */\n    // toGlobalPoint: function(point) {\n    //   return fabric.util.rotatePoint(point, this.getCenterPoint(), degreesToRadians(this.angle)).addEquals(new fabric.Point(this.left, this.top));\n    // },\n\n    /**\n     * Sets the position of the object taking into consideration the object's origin\n     * @param {fabric.Point} pos The new position of the object\n     * @param {String} originX Horizontal origin: 'left', 'center' or 'right'\n     * @param {String} originY Vertical origin: 'top', 'center' or 'bottom'\n     * @return {void}\n     */\n    setPositionByOrigin: function(pos, originX, originY) {\n      var center = this.translateToCenterPoint(pos, originX, originY),\n          position = this.translateToOriginPoint(center, this.originX, this.originY);\n      this.set('left', position.x);\n      this.set('top', position.y);\n    },\n\n    /**\n     * @param {String} to One of 'left', 'center', 'right'\n     */\n    adjustPosition: function(to) {\n      var angle = degreesToRadians(this.angle),\n          hypotFull = this.getScaledWidth(),\n          xFull = fabric.util.cos(angle) * hypotFull,\n          yFull = fabric.util.sin(angle) * hypotFull,\n          offsetFrom, offsetTo;\n\n      //TODO: this function does not consider mixed situation like top, center.\n      if (typeof this.originX === 'string') {\n        offsetFrom = originXOffset[this.originX];\n      }\n      else {\n        offsetFrom = this.originX - 0.5;\n      }\n      if (typeof to === 'string') {\n        offsetTo = originXOffset[to];\n      }\n      else {\n        offsetTo = to - 0.5;\n      }\n      this.left += xFull * (offsetTo - offsetFrom);\n      this.top += yFull * (offsetTo - offsetFrom);\n      this.setCoords();\n      this.originX = to;\n    },\n\n    /**\n     * Sets the origin/position of the object to it's center point\n     * @private\n     * @return {void}\n     */\n    _setOriginToCenter: function() {\n      this._originalOriginX = this.originX;\n      this._originalOriginY = this.originY;\n\n      var center = this.getCenterPoint();\n\n      this.originX = 'center';\n      this.originY = 'center';\n\n      this.left = center.x;\n      this.top = center.y;\n    },\n\n    /**\n     * Resets the origin/position of the object to it's original origin\n     * @private\n     * @return {void}\n     */\n    _resetOrigin: function() {\n      var originPoint = this.translateToOriginPoint(\n        this.getCenterPoint(),\n        this._originalOriginX,\n        this._originalOriginY);\n\n      this.originX = this._originalOriginX;\n      this.originY = this._originalOriginY;\n\n      this.left = originPoint.x;\n      this.top = originPoint.y;\n\n      this._originalOriginX = null;\n      this._originalOriginY = null;\n    },\n\n    /**\n     * @private\n     */\n    _getLeftTopCoords: function() {\n      return this.translateToOriginPoint(this.getCenterPoint(), 'left', 'top');\n    },\n  });\n\n})();\n\n\n(function() {\n\n  function arrayFromCoords(coords) {\n    return [\n      new fabric.Point(coords.tl.x, coords.tl.y),\n      new fabric.Point(coords.tr.x, coords.tr.y),\n      new fabric.Point(coords.br.x, coords.br.y),\n      new fabric.Point(coords.bl.x, coords.bl.y)\n    ];\n  }\n\n  var util = fabric.util,\n      degreesToRadians = util.degreesToRadians,\n      multiplyMatrices = util.multiplyTransformMatrices,\n      transformPoint = util.transformPoint;\n\n  util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n\n    /**\n     * Describe object's corner position in canvas element coordinates.\n     * properties are depending on control keys and padding the main controls.\n     * each property is an object with x, y and corner.\n     * The `corner` property contains in a similar manner the 4 points of the\n     * interactive area of the corner.\n     * The coordinates depends from the controls positionHandler and are used\n     * to draw and locate controls\n     * @memberOf fabric.Object.prototype\n     */\n    oCoords: null,\n\n    /**\n     * Describe object's corner position in canvas object absolute coordinates\n     * properties are tl,tr,bl,br and describe the four main corner.\n     * each property is an object with x, y, instance of Fabric.Point.\n     * The coordinates depends from this properties: width, height, scaleX, scaleY\n     * skewX, skewY, angle, strokeWidth, top, left.\n     * Those coordinates are useful to understand where an object is. They get updated\n     * with oCoords but they do not need to be updated when zoom or panning change.\n     * The coordinates get updated with @method setCoords.\n     * You can calculate them without updating with @method calcACoords();\n     * @memberOf fabric.Object.prototype\n     */\n    aCoords: null,\n\n    /**\n     * Describe object's corner position in canvas element coordinates.\n     * includes padding. Used of object detection.\n     * set and refreshed with setCoords and calcCoords.\n     * @memberOf fabric.Object.prototype\n     */\n    lineCoords: null,\n\n    /**\n     * storage for object transform matrix\n     */\n    ownMatrixCache: null,\n\n    /**\n     * storage for object full transform matrix\n     */\n    matrixCache: null,\n\n    /**\n     * custom controls interface\n     * controls are added by default_controls.js\n     */\n    controls: { },\n\n    /**\n     * return correct set of coordinates for intersection\n     * this will return either aCoords or lineCoords.\n     * @param {Boolean} absolute will return aCoords if true or lineCoords\n     * @return {Object} {tl, tr, br, bl} points\n     */\n    _getCoords: function(absolute, calculate) {\n      if (calculate) {\n        return (absolute ? this.calcACoords() : this.calcLineCoords());\n      }\n      if (!this.aCoords || !this.lineCoords) {\n        this.setCoords(true);\n      }\n      return (absolute ? this.aCoords : this.lineCoords);\n    },\n\n    /**\n     * return correct set of coordinates for intersection\n     * this will return either aCoords or lineCoords.\n     * The coords are returned in an array.\n     * @return {Array} [tl, tr, br, bl] of points\n     */\n    getCoords: function(absolute, calculate) {\n      return arrayFromCoords(this._getCoords(absolute, calculate));\n    },\n\n    /**\n     * Checks if object intersects with an area formed by 2 points\n     * @param {Object} pointTL top-left point of area\n     * @param {Object} pointBR bottom-right point of area\n     * @param {Boolean} [absolute] use coordinates without viewportTransform\n     * @param {Boolean} [calculate] use coordinates of current position instead of .oCoords\n     * @return {Boolean} true if object intersects with an area formed by 2 points\n     */\n    intersectsWithRect: function(pointTL, pointBR, absolute, calculate) {\n      var coords = this.getCoords(absolute, calculate),\n          intersection = fabric.Intersection.intersectPolygonRectangle(\n            coords,\n            pointTL,\n            pointBR\n          );\n      return intersection.status === 'Intersection';\n    },\n\n    /**\n     * Checks if object intersects with another object\n     * @param {Object} other Object to test\n     * @param {Boolean} [absolute] use coordinates without viewportTransform\n     * @param {Boolean} [calculate] use coordinates of current position instead of .oCoords\n     * @return {Boolean} true if object intersects with another object\n     */\n    intersectsWithObject: function(other, absolute, calculate) {\n      var intersection = fabric.Intersection.intersectPolygonPolygon(\n        this.getCoords(absolute, calculate),\n        other.getCoords(absolute, calculate)\n      );\n\n      return intersection.status === 'Intersection'\n        || other.isContainedWithinObject(this, absolute, calculate)\n        || this.isContainedWithinObject(other, absolute, calculate);\n    },\n\n    /**\n     * Checks if object is fully contained within area of another object\n     * @param {Object} other Object to test\n     * @param {Boolean} [absolute] use coordinates without viewportTransform\n     * @param {Boolean} [calculate] use coordinates of current position instead of .oCoords\n     * @return {Boolean} true if object is fully contained within area of another object\n     */\n    isContainedWithinObject: function(other, absolute, calculate) {\n      var points = this.getCoords(absolute, calculate),\n          otherCoords = absolute ? other.aCoords : other.lineCoords,\n          i = 0, lines = other._getImageLines(otherCoords);\n      for (; i < 4; i++) {\n        if (!other.containsPoint(points[i], lines)) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n    /**\n     * Checks if object is fully contained within area formed by 2 points\n     * @param {Object} pointTL top-left point of area\n     * @param {Object} pointBR bottom-right point of area\n     * @param {Boolean} [absolute] use coordinates without viewportTransform\n     * @param {Boolean} [calculate] use coordinates of current position instead of .oCoords\n     * @return {Boolean} true if object is fully contained within area formed by 2 points\n     */\n    isContainedWithinRect: function(pointTL, pointBR, absolute, calculate) {\n      var boundingRect = this.getBoundingRect(absolute, calculate);\n\n      return (\n        boundingRect.left >= pointTL.x &&\n        boundingRect.left + boundingRect.width <= pointBR.x &&\n        boundingRect.top >= pointTL.y &&\n        boundingRect.top + boundingRect.height <= pointBR.y\n      );\n    },\n\n    /**\n     * Checks if point is inside the object\n     * @param {fabric.Point} point Point to check against\n     * @param {Object} [lines] object returned from @method _getImageLines\n     * @param {Boolean} [absolute] use coordinates without viewportTransform\n     * @param {Boolean} [calculate] use coordinates of current position instead of .oCoords\n     * @return {Boolean} true if point is inside the object\n     */\n    containsPoint: function(point, lines, absolute, calculate) {\n      var coords = this._getCoords(absolute, calculate),\n          lines = lines || this._getImageLines(coords),\n          xPoints = this._findCrossPoints(point, lines);\n      // if xPoints is odd then point is inside the object\n      return (xPoints !== 0 && xPoints % 2 === 1);\n    },\n\n    /**\n     * Checks if object is contained within the canvas with current viewportTransform\n     * the check is done stopping at first point that appears on screen\n     * @param {Boolean} [calculate] use coordinates of current position instead of .aCoords\n     * @return {Boolean} true if object is fully or partially contained within canvas\n     */\n    isOnScreen: function(calculate) {\n      if (!this.canvas) {\n        return false;\n      }\n      var pointTL = this.canvas.vptCoords.tl, pointBR = this.canvas.vptCoords.br;\n      var points = this.getCoords(true, calculate);\n      // if some point is on screen, the object is on screen.\n      if (points.some(function(point) {\n        return point.x <= pointBR.x && point.x >= pointTL.x &&\n        point.y <= pointBR.y && point.y >= pointTL.y;\n      })) {\n        return true;\n      }\n      // no points on screen, check intersection with absolute coordinates\n      if (this.intersectsWithRect(pointTL, pointBR, true, calculate)) {\n        return true;\n      }\n      return this._containsCenterOfCanvas(pointTL, pointBR, calculate);\n    },\n\n    /**\n     * Checks if the object contains the midpoint between canvas extremities\n     * Does not make sense outside the context of isOnScreen and isPartiallyOnScreen\n     * @private\n     * @param {Fabric.Point} pointTL Top Left point\n     * @param {Fabric.Point} pointBR Top Right point\n     * @param {Boolean} calculate use coordinates of current position instead of .oCoords\n     * @return {Boolean} true if the object contains the point\n     */\n    _containsCenterOfCanvas: function(pointTL, pointBR, calculate) {\n      // worst case scenario the object is so big that contains the screen\n      var centerPoint = { x: (pointTL.x + pointBR.x) / 2, y: (pointTL.y + pointBR.y) / 2 };\n      if (this.containsPoint(centerPoint, null, true, calculate)) {\n        return true;\n      }\n      return false;\n    },\n\n    /**\n     * Checks if object is partially contained within the canvas with current viewportTransform\n     * @param {Boolean} [calculate] use coordinates of current position instead of .oCoords\n     * @return {Boolean} true if object is partially contained within canvas\n     */\n    isPartiallyOnScreen: function(calculate) {\n      if (!this.canvas) {\n        return false;\n      }\n      var pointTL = this.canvas.vptCoords.tl, pointBR = this.canvas.vptCoords.br;\n      if (this.intersectsWithRect(pointTL, pointBR, true, calculate)) {\n        return true;\n      }\n      var allPointsAreOutside = this.getCoords(true, calculate).every(function(point) {\n        return (point.x >= pointBR.x || point.x <= pointTL.x) &&\n        (point.y >= pointBR.y || point.y <= pointTL.y);\n      });\n      return allPointsAreOutside && this._containsCenterOfCanvas(pointTL, pointBR, calculate);\n    },\n\n    /**\n     * Method that returns an object with the object edges in it, given the coordinates of the corners\n     * @private\n     * @param {Object} oCoords Coordinates of the object corners\n     */\n    _getImageLines: function(oCoords) {\n\n      var lines = {\n        topline: {\n          o: oCoords.tl,\n          d: oCoords.tr\n        },\n        rightline: {\n          o: oCoords.tr,\n          d: oCoords.br\n        },\n        bottomline: {\n          o: oCoords.br,\n          d: oCoords.bl\n        },\n        leftline: {\n          o: oCoords.bl,\n          d: oCoords.tl\n        }\n      };\n\n      // // debugging\n      // if (this.canvas.contextTop) {\n      //   this.canvas.contextTop.fillRect(lines.bottomline.d.x, lines.bottomline.d.y, 2, 2);\n      //   this.canvas.contextTop.fillRect(lines.bottomline.o.x, lines.bottomline.o.y, 2, 2);\n      //\n      //   this.canvas.contextTop.fillRect(lines.leftline.d.x, lines.leftline.d.y, 2, 2);\n      //   this.canvas.contextTop.fillRect(lines.leftline.o.x, lines.leftline.o.y, 2, 2);\n      //\n      //   this.canvas.contextTop.fillRect(lines.topline.d.x, lines.topline.d.y, 2, 2);\n      //   this.canvas.contextTop.fillRect(lines.topline.o.x, lines.topline.o.y, 2, 2);\n      //\n      //   this.canvas.contextTop.fillRect(lines.rightline.d.x, lines.rightline.d.y, 2, 2);\n      //   this.canvas.contextTop.fillRect(lines.rightline.o.x, lines.rightline.o.y, 2, 2);\n      // }\n\n      return lines;\n    },\n\n    /**\n     * Helper method to determine how many cross points are between the 4 object edges\n     * and the horizontal line determined by a point on canvas\n     * @private\n     * @param {fabric.Point} point Point to check\n     * @param {Object} lines Coordinates of the object being evaluated\n     */\n    // remove yi, not used but left code here just in case.\n    _findCrossPoints: function(point, lines) {\n      var b1, b2, a1, a2, xi, // yi,\n          xcount = 0,\n          iLine;\n\n      for (var lineKey in lines) {\n        iLine = lines[lineKey];\n        // optimisation 1: line below point. no cross\n        if ((iLine.o.y < point.y) && (iLine.d.y < point.y)) {\n          continue;\n        }\n        // optimisation 2: line above point. no cross\n        if ((iLine.o.y >= point.y) && (iLine.d.y >= point.y)) {\n          continue;\n        }\n        // optimisation 3: vertical line case\n        if ((iLine.o.x === iLine.d.x) && (iLine.o.x >= point.x)) {\n          xi = iLine.o.x;\n          // yi = point.y;\n        }\n        // calculate the intersection point\n        else {\n          b1 = 0;\n          b2 = (iLine.d.y - iLine.o.y) / (iLine.d.x - iLine.o.x);\n          a1 = point.y - b1 * point.x;\n          a2 = iLine.o.y - b2 * iLine.o.x;\n\n          xi = -(a1 - a2) / (b1 - b2);\n          // yi = a1 + b1 * xi;\n        }\n        // dont count xi < point.x cases\n        if (xi >= point.x) {\n          xcount += 1;\n        }\n        // optimisation 4: specific for square images\n        if (xcount === 2) {\n          break;\n        }\n      }\n      return xcount;\n    },\n\n    /**\n     * Returns coordinates of object's bounding rectangle (left, top, width, height)\n     * the box is intended as aligned to axis of canvas.\n     * @param {Boolean} [absolute] use coordinates without viewportTransform\n     * @param {Boolean} [calculate] use coordinates of current position instead of .oCoords / .aCoords\n     * @return {Object} Object with left, top, width, height properties\n     */\n    getBoundingRect: function(absolute, calculate) {\n      var coords = this.getCoords(absolute, calculate);\n      return util.makeBoundingBoxFromPoints(coords);\n    },\n\n    /**\n     * Returns width of an object's bounding box counting transformations\n     * before 2.0 it was named getWidth();\n     * @return {Number} width value\n     */\n    getScaledWidth: function() {\n      return this._getTransformedDimensions().x;\n    },\n\n    /**\n     * Returns height of an object bounding box counting transformations\n     * before 2.0 it was named getHeight();\n     * @return {Number} height value\n     */\n    getScaledHeight: function() {\n      return this._getTransformedDimensions().y;\n    },\n\n    /**\n     * Makes sure the scale is valid and modifies it if necessary\n     * @private\n     * @param {Number} value\n     * @return {Number}\n     */\n    _constrainScale: function(value) {\n      if (Math.abs(value) < this.minScaleLimit) {\n        if (value < 0) {\n          return -this.minScaleLimit;\n        }\n        else {\n          return this.minScaleLimit;\n        }\n      }\n      else if (value === 0) {\n        return 0.0001;\n      }\n      return value;\n    },\n\n    /**\n     * Scales an object (equally by x and y)\n     * @param {Number} value Scale factor\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    scale: function(value) {\n      this._set('scaleX', value);\n      this._set('scaleY', value);\n      return this.setCoords();\n    },\n\n    /**\n     * Scales an object to a given width, with respect to bounding box (scaling by x/y equally)\n     * @param {Number} value New width value\n     * @param {Boolean} absolute ignore viewport\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    scaleToWidth: function(value, absolute) {\n      // adjust to bounding rect factor so that rotated shapes would fit as well\n      var boundingRectFactor = this.getBoundingRect(absolute).width / this.getScaledWidth();\n      return this.scale(value / this.width / boundingRectFactor);\n    },\n\n    /**\n     * Scales an object to a given height, with respect to bounding box (scaling by x/y equally)\n     * @param {Number} value New height value\n     * @param {Boolean} absolute ignore viewport\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    scaleToHeight: function(value, absolute) {\n      // adjust to bounding rect factor so that rotated shapes would fit as well\n      var boundingRectFactor = this.getBoundingRect(absolute).height / this.getScaledHeight();\n      return this.scale(value / this.height / boundingRectFactor);\n    },\n\n    /**\n     * Calculates and returns the .coords of an object.\n     * unused by the library, only for the end dev.\n     * @return {Object} Object with tl, tr, br, bl ....\n     * @chainable\n     * @deprecated\n     */\n    calcCoords: function(absolute) {\n      // this is a compatibility function to avoid removing calcCoords now.\n      if (absolute) {\n        return this.calcACoords();\n      }\n      return this.calcOCoords();\n    },\n\n    calcLineCoords: function() {\n      var vpt = this.getViewportTransform(),\n          padding = this.padding, angle = degreesToRadians(this.angle),\n          cos = util.cos(angle), sin = util.sin(angle),\n          cosP = cos * padding, sinP = sin * padding, cosPSinP = cosP + sinP,\n          cosPMinusSinP = cosP - sinP, aCoords = this.calcACoords();\n\n      var lineCoords = {\n        tl: transformPoint(aCoords.tl, vpt),\n        tr: transformPoint(aCoords.tr, vpt),\n        bl: transformPoint(aCoords.bl, vpt),\n        br: transformPoint(aCoords.br, vpt),\n      };\n\n      if (padding) {\n        lineCoords.tl.x -= cosPMinusSinP;\n        lineCoords.tl.y -= cosPSinP;\n        lineCoords.tr.x += cosPSinP;\n        lineCoords.tr.y -= cosPMinusSinP;\n        lineCoords.bl.x -= cosPSinP;\n        lineCoords.bl.y += cosPMinusSinP;\n        lineCoords.br.x += cosPMinusSinP;\n        lineCoords.br.y += cosPSinP;\n      }\n\n      return lineCoords;\n    },\n\n    calcOCoords: function() {\n      var rotateMatrix = this._calcRotateMatrix(),\n          translateMatrix = this._calcTranslateMatrix(),\n          vpt = this.getViewportTransform(),\n          startMatrix = multiplyMatrices(vpt, translateMatrix),\n          finalMatrix = multiplyMatrices(startMatrix, rotateMatrix),\n          finalMatrix = multiplyMatrices(finalMatrix, [1 / vpt[0], 0, 0, 1 / vpt[3], 0, 0]),\n          dim = this._calculateCurrentDimensions(),\n          coords = {};\n      this.forEachControl(function(control, key, fabricObject) {\n        coords[key] = control.positionHandler(dim, finalMatrix, fabricObject);\n      });\n\n      // debug code\n      // var canvas = this.canvas;\n      // setTimeout(function() {\n      //   canvas.contextTop.clearRect(0, 0, 700, 700);\n      //   canvas.contextTop.fillStyle = 'green';\n      //   Object.keys(coords).forEach(function(key) {\n      //     var control = coords[key];\n      //     canvas.contextTop.fillRect(control.x, control.y, 3, 3);\n      //   });\n      // }, 50);\n      return coords;\n    },\n\n    calcACoords: function() {\n      var rotateMatrix = this._calcRotateMatrix(),\n          translateMatrix = this._calcTranslateMatrix(),\n          finalMatrix = multiplyMatrices(translateMatrix, rotateMatrix),\n          dim = this._getTransformedDimensions(),\n          w = dim.x / 2, h = dim.y / 2;\n      return {\n        // corners\n        tl: transformPoint({ x: -w, y: -h }, finalMatrix),\n        tr: transformPoint({ x: w, y: -h }, finalMatrix),\n        bl: transformPoint({ x: -w, y: h }, finalMatrix),\n        br: transformPoint({ x: w, y: h }, finalMatrix)\n      };\n    },\n\n    /**\n     * Sets corner and controls position coordinates based on current angle, width and height, left and top.\n     * oCoords are used to find the corners\n     * aCoords are used to quickly find an object on the canvas\n     * lineCoords are used to quickly find object during pointer events.\n     * See {@link https://github.com/kangax/fabric.js/wiki/When-to-call-setCoords|When-to-call-setCoords}\n     * @param {Boolean} [skipCorners] skip calculation of oCoords.\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    setCoords: function(skipCorners) {\n      this.aCoords = this.calcACoords();\n      // in case we are in a group, for how the inner group target check works,\n      // lineCoords are exactly aCoords. Since the vpt gets absorbed by the normalized pointer.\n      this.lineCoords = this.group ? this.aCoords : this.calcLineCoords();\n      if (skipCorners) {\n        return this;\n      }\n      // set coordinates of the draggable boxes in the corners used to scale/rotate the image\n      this.oCoords = this.calcOCoords();\n      this._setCornerCoords && this._setCornerCoords();\n      return this;\n    },\n\n    /**\n     * calculate rotation matrix of an object\n     * @return {Array} rotation matrix for the object\n     */\n    _calcRotateMatrix: function() {\n      return util.calcRotateMatrix(this);\n    },\n\n    /**\n     * calculate the translation matrix for an object transform\n     * @return {Array} rotation matrix for the object\n     */\n    _calcTranslateMatrix: function() {\n      var center = this.getCenterPoint();\n      return [1, 0, 0, 1, center.x, center.y];\n    },\n\n    transformMatrixKey: function(skipGroup) {\n      var sep = '_', prefix = '';\n      if (!skipGroup && this.group) {\n        prefix = this.group.transformMatrixKey(skipGroup) + sep;\n      };\n      return prefix + this.top + sep + this.left + sep + this.scaleX + sep + this.scaleY +\n        sep + this.skewX + sep + this.skewY + sep + this.angle + sep + this.originX + sep + this.originY +\n        sep + this.width + sep + this.height + sep + this.strokeWidth + this.flipX + this.flipY;\n    },\n\n    /**\n     * calculate transform matrix that represents the current transformations from the\n     * object's properties.\n     * @param {Boolean} [skipGroup] return transform matrix for object not counting parent transformations\n     * There are some situation in which this is useful to avoid the fake rotation.\n     * @return {Array} transform matrix for the object\n     */\n    calcTransformMatrix: function(skipGroup) {\n      var matrix = this.calcOwnMatrix();\n      if (skipGroup || !this.group) {\n        return matrix;\n      }\n      var key = this.transformMatrixKey(skipGroup), cache = this.matrixCache || (this.matrixCache = {});\n      if (cache.key === key) {\n        return cache.value;\n      }\n      if (this.group) {\n        matrix = multiplyMatrices(this.group.calcTransformMatrix(false), matrix);\n      }\n      cache.key = key;\n      cache.value = matrix;\n      return matrix;\n    },\n\n    /**\n     * calculate transform matrix that represents the current transformations from the\n     * object's properties, this matrix does not include the group transformation\n     * @return {Array} transform matrix for the object\n     */\n    calcOwnMatrix: function() {\n      var key = this.transformMatrixKey(true), cache = this.ownMatrixCache || (this.ownMatrixCache = {});\n      if (cache.key === key) {\n        return cache.value;\n      }\n      var tMatrix = this._calcTranslateMatrix(),\n          options = {\n            angle: this.angle,\n            translateX: tMatrix[4],\n            translateY: tMatrix[5],\n            scaleX: this.scaleX,\n            scaleY: this.scaleY,\n            skewX: this.skewX,\n            skewY: this.skewY,\n            flipX: this.flipX,\n            flipY: this.flipY,\n          };\n      cache.key = key;\n      cache.value = util.composeMatrix(options);\n      return cache.value;\n    },\n\n    /*\n     * Calculate object dimensions from its properties\n     * @private\n     * @deprecated since 3.4.0, please use fabric.util._calcDimensionsTransformMatrix\n     * not including or including flipX, flipY to emulate the flipping boolean\n     * @return {Object} .x width dimension\n     * @return {Object} .y height dimension\n     */\n    _calcDimensionsTransformMatrix: function(skewX, skewY, flipping) {\n      return util.calcDimensionsMatrix({\n        skewX: skewX,\n        skewY: skewY,\n        scaleX: this.scaleX * (flipping && this.flipX ? -1 : 1),\n        scaleY: this.scaleY * (flipping && this.flipY ? -1 : 1)\n      });\n    },\n\n    /*\n     * Calculate object dimensions from its properties\n     * @private\n     * @return {Object} .x width dimension\n     * @return {Object} .y height dimension\n     */\n    _getNonTransformedDimensions: function() {\n      var strokeWidth = this.strokeWidth,\n          w = this.width + strokeWidth,\n          h = this.height + strokeWidth;\n      return { x: w, y: h };\n    },\n\n    /*\n     * Calculate object bounding box dimensions from its properties scale, skew.\n     * @param {Number} skewX, a value to override current skewX\n     * @param {Number} skewY, a value to override current skewY\n     * @private\n     * @return {Object} .x width dimension\n     * @return {Object} .y height dimension\n     */\n    _getTransformedDimensions: function(skewX, skewY) {\n      if (typeof skewX === 'undefined') {\n        skewX = this.skewX;\n      }\n      if (typeof skewY === 'undefined') {\n        skewY = this.skewY;\n      }\n      var dimensions = this._getNonTransformedDimensions(), dimX, dimY,\n          noSkew = skewX === 0 && skewY === 0;\n\n      if (this.strokeUniform) {\n        dimX = this.width;\n        dimY = this.height;\n      }\n      else {\n        dimX = dimensions.x;\n        dimY = dimensions.y;\n      }\n      if (noSkew) {\n        return this._finalizeDimensions(dimX * this.scaleX, dimY * this.scaleY);\n      }\n      var bbox = util.sizeAfterTransform(dimX, dimY, {\n        scaleX: this.scaleX,\n        scaleY: this.scaleY,\n        skewX: skewX,\n        skewY: skewY,\n      });\n      return this._finalizeDimensions(bbox.x, bbox.y);\n    },\n\n    /*\n     * Calculate object bounding box dimensions from its properties scale, skew.\n     * @param Number width width of the bbox\n     * @param Number height height of the bbox\n     * @private\n     * @return {Object} .x finalized width dimension\n     * @return {Object} .y finalized height dimension\n     */\n    _finalizeDimensions: function(width, height) {\n      return this.strokeUniform ?\n        { x: width + this.strokeWidth, y: height + this.strokeWidth }\n        :\n        { x: width, y: height };\n    },\n\n    /*\n     * Calculate object dimensions for controls box, including padding and canvas zoom.\n     * and active selection\n     * private\n     */\n    _calculateCurrentDimensions: function()  {\n      var vpt = this.getViewportTransform(),\n          dim = this._getTransformedDimensions(),\n          p = transformPoint(dim, vpt, true);\n      return p.scalarAdd(2 * this.padding);\n    },\n  });\n})();\n\n\nfabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n\n  /**\n   * Moves an object to the bottom of the stack of drawn objects\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  sendToBack: function() {\n    if (this.group) {\n      fabric.StaticCanvas.prototype.sendToBack.call(this.group, this);\n    }\n    else if (this.canvas) {\n      this.canvas.sendToBack(this);\n    }\n    return this;\n  },\n\n  /**\n   * Moves an object to the top of the stack of drawn objects\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  bringToFront: function() {\n    if (this.group) {\n      fabric.StaticCanvas.prototype.bringToFront.call(this.group, this);\n    }\n    else if (this.canvas) {\n      this.canvas.bringToFront(this);\n    }\n    return this;\n  },\n\n  /**\n   * Moves an object down in stack of drawn objects\n   * @param {Boolean} [intersecting] If `true`, send object behind next lower intersecting object\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  sendBackwards: function(intersecting) {\n    if (this.group) {\n      fabric.StaticCanvas.prototype.sendBackwards.call(this.group, this, intersecting);\n    }\n    else if (this.canvas) {\n      this.canvas.sendBackwards(this, intersecting);\n    }\n    return this;\n  },\n\n  /**\n   * Moves an object up in stack of drawn objects\n   * @param {Boolean} [intersecting] If `true`, send object in front of next upper intersecting object\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  bringForward: function(intersecting) {\n    if (this.group) {\n      fabric.StaticCanvas.prototype.bringForward.call(this.group, this, intersecting);\n    }\n    else if (this.canvas) {\n      this.canvas.bringForward(this, intersecting);\n    }\n    return this;\n  },\n\n  /**\n   * Moves an object to specified level in stack of drawn objects\n   * @param {Number} index New position of object\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  moveTo: function(index) {\n    if (this.group && this.group.type !== 'activeSelection') {\n      fabric.StaticCanvas.prototype.moveTo.call(this.group, this, index);\n    }\n    else if (this.canvas) {\n      this.canvas.moveTo(this, index);\n    }\n    return this;\n  }\n});\n\n\n/* _TO_SVG_START_ */\n(function() {\n  function getSvgColorString(prop, value) {\n    if (!value) {\n      return prop + ': none; ';\n    }\n    else if (value.toLive) {\n      return prop + ': url(#SVGID_' + value.id + '); ';\n    }\n    else {\n      var color = new fabric.Color(value),\n          str = prop + ': ' + color.toRgb() + '; ',\n          opacity = color.getAlpha();\n      if (opacity !== 1) {\n        //change the color in rgb + opacity\n        str += prop + '-opacity: ' + opacity.toString() + '; ';\n      }\n      return str;\n    }\n  }\n\n  var toFixed = fabric.util.toFixed;\n\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n    /**\n     * Returns styles-string for svg-export\n     * @param {Boolean} skipShadow a boolean to skip shadow filter output\n     * @return {String}\n     */\n    getSvgStyles: function(skipShadow) {\n\n      var fillRule = this.fillRule ? this.fillRule : 'nonzero',\n          strokeWidth = this.strokeWidth ? this.strokeWidth : '0',\n          strokeDashArray = this.strokeDashArray ? this.strokeDashArray.join(' ') : 'none',\n          strokeDashOffset = this.strokeDashOffset ? this.strokeDashOffset : '0',\n          strokeLineCap = this.strokeLineCap ? this.strokeLineCap : 'butt',\n          strokeLineJoin = this.strokeLineJoin ? this.strokeLineJoin : 'miter',\n          strokeMiterLimit = this.strokeMiterLimit ? this.strokeMiterLimit : '4',\n          opacity = typeof this.opacity !== 'undefined' ? this.opacity : '1',\n          visibility = this.visible ? '' : ' visibility: hidden;',\n          filter = skipShadow ? '' : this.getSvgFilter(),\n          fill = getSvgColorString('fill', this.fill),\n          stroke = getSvgColorString('stroke', this.stroke);\n\n      return [\n        stroke,\n        'stroke-width: ', strokeWidth, '; ',\n        'stroke-dasharray: ', strokeDashArray, '; ',\n        'stroke-linecap: ', strokeLineCap, '; ',\n        'stroke-dashoffset: ', strokeDashOffset, '; ',\n        'stroke-linejoin: ', strokeLineJoin, '; ',\n        'stroke-miterlimit: ', strokeMiterLimit, '; ',\n        fill,\n        'fill-rule: ', fillRule, '; ',\n        'opacity: ', opacity, ';',\n        filter,\n        visibility\n      ].join('');\n    },\n\n    /**\n     * Returns styles-string for svg-export\n     * @param {Object} style the object from which to retrieve style properties\n     * @param {Boolean} useWhiteSpace a boolean to include an additional attribute in the style.\n     * @return {String}\n     */\n    getSvgSpanStyles: function(style, useWhiteSpace) {\n      var term = '; ';\n      var fontFamily = style.fontFamily ?\n        'font-family: ' + (((style.fontFamily.indexOf('\\'') === -1 && style.fontFamily.indexOf('\"') === -1) ?\n          '\\'' + style.fontFamily  + '\\'' : style.fontFamily)) + term : '';\n      var strokeWidth = style.strokeWidth ? 'stroke-width: ' + style.strokeWidth + term : '',\n          fontFamily = fontFamily,\n          fontSize = style.fontSize ? 'font-size: ' + style.fontSize + 'px' + term : '',\n          fontStyle = style.fontStyle ? 'font-style: ' + style.fontStyle + term : '',\n          fontWeight = style.fontWeight ? 'font-weight: ' + style.fontWeight + term : '',\n          fill = style.fill ? getSvgColorString('fill', style.fill) : '',\n          stroke = style.stroke ? getSvgColorString('stroke', style.stroke) : '',\n          textDecoration = this.getSvgTextDecoration(style),\n          deltaY = style.deltaY ? 'baseline-shift: ' + (-style.deltaY) + '; ' : '';\n      if (textDecoration) {\n        textDecoration = 'text-decoration: ' + textDecoration + term;\n      }\n\n      return [\n        stroke,\n        strokeWidth,\n        fontFamily,\n        fontSize,\n        fontStyle,\n        fontWeight,\n        textDecoration,\n        fill,\n        deltaY,\n        useWhiteSpace ? 'white-space: pre; ' : ''\n      ].join('');\n    },\n\n    /**\n     * Returns text-decoration property for svg-export\n     * @param {Object} style the object from which to retrieve style properties\n     * @return {String}\n     */\n    getSvgTextDecoration: function(style) {\n      return ['overline', 'underline', 'line-through'].filter(function(decoration) {\n        return style[decoration.replace('-', '')];\n      }).join(' ');\n    },\n\n    /**\n     * Returns filter for svg shadow\n     * @return {String}\n     */\n    getSvgFilter: function() {\n      return this.shadow ? 'filter: url(#SVGID_' + this.shadow.id + ');' : '';\n    },\n\n    /**\n     * Returns id attribute for svg output\n     * @return {String}\n     */\n    getSvgCommons: function() {\n      return [\n        this.id ? 'id=\"' + this.id + '\" ' : '',\n        this.clipPath ? 'clip-path=\"url(#' + this.clipPath.clipPathId + ')\" ' : '',\n      ].join('');\n    },\n\n    /**\n     * Returns transform-string for svg-export\n     * @param {Boolean} use the full transform or the single object one.\n     * @return {String}\n     */\n    getSvgTransform: function(full, additionalTransform) {\n      var transform = full ? this.calcTransformMatrix() : this.calcOwnMatrix(),\n          svgTransform = 'transform=\"' + fabric.util.matrixToSVG(transform);\n      return svgTransform +\n        (additionalTransform || '') + '\" ';\n    },\n\n    _setSVGBg: function(textBgRects) {\n      if (this.backgroundColor) {\n        var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n        textBgRects.push(\n          '\\t\\t<rect ',\n          this._getFillAttributes(this.backgroundColor),\n          ' x=\"',\n          toFixed(-this.width / 2, NUM_FRACTION_DIGITS),\n          '\" y=\"',\n          toFixed(-this.height / 2, NUM_FRACTION_DIGITS),\n          '\" width=\"',\n          toFixed(this.width, NUM_FRACTION_DIGITS),\n          '\" height=\"',\n          toFixed(this.height, NUM_FRACTION_DIGITS),\n          '\"></rect>\\n');\n      }\n    },\n\n    /**\n     * Returns svg representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    toSVG: function(reviver) {\n      return this._createBaseSVGMarkup(this._toSVG(reviver), { reviver: reviver });\n    },\n\n    /**\n     * Returns svg clipPath representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    toClipPathSVG: function(reviver) {\n      return '\\t' + this._createBaseClipPathSVGMarkup(this._toSVG(reviver), { reviver: reviver });\n    },\n\n    /**\n     * @private\n     */\n    _createBaseClipPathSVGMarkup: function(objectMarkup, options) {\n      options = options || {};\n      var reviver = options.reviver,\n          additionalTransform = options.additionalTransform || '',\n          commonPieces = [\n            this.getSvgTransform(true, additionalTransform),\n            this.getSvgCommons(),\n          ].join(''),\n          // insert commons in the markup, style and svgCommons\n          index = objectMarkup.indexOf('COMMON_PARTS');\n      objectMarkup[index] = commonPieces;\n      return reviver ? reviver(objectMarkup.join('')) : objectMarkup.join('');\n    },\n\n    /**\n     * @private\n     */\n    _createBaseSVGMarkup: function(objectMarkup, options) {\n      options = options || {};\n      var noStyle = options.noStyle,\n          reviver = options.reviver,\n          styleInfo = noStyle ? '' : 'style=\"' + this.getSvgStyles() + '\" ',\n          shadowInfo = options.withShadow ? 'style=\"' + this.getSvgFilter() + '\" ' : '',\n          clipPath = this.clipPath,\n          vectorEffect = this.strokeUniform ? 'vector-effect=\"non-scaling-stroke\" ' : '',\n          absoluteClipPath = clipPath && clipPath.absolutePositioned,\n          stroke = this.stroke, fill = this.fill, shadow = this.shadow,\n          commonPieces, markup = [], clipPathMarkup,\n          // insert commons in the markup, style and svgCommons\n          index = objectMarkup.indexOf('COMMON_PARTS'),\n          additionalTransform = options.additionalTransform;\n      if (clipPath) {\n        clipPath.clipPathId = 'CLIPPATH_' + fabric.Object.__uid++;\n        clipPathMarkup = '<clipPath id=\"' + clipPath.clipPathId + '\" >\\n' +\n          clipPath.toClipPathSVG(reviver) +\n          '</clipPath>\\n';\n      }\n      if (absoluteClipPath) {\n        markup.push(\n          '<g ', shadowInfo, this.getSvgCommons(), ' >\\n'\n        );\n      }\n      markup.push(\n        '<g ',\n        this.getSvgTransform(false),\n        !absoluteClipPath ? shadowInfo + this.getSvgCommons() : '',\n        ' >\\n'\n      );\n      commonPieces = [\n        styleInfo,\n        vectorEffect,\n        noStyle ? '' : this.addPaintOrder(), ' ',\n        additionalTransform ? 'transform=\"' + additionalTransform + '\" ' : '',\n      ].join('');\n      objectMarkup[index] = commonPieces;\n      if (fill && fill.toLive) {\n        markup.push(fill.toSVG(this));\n      }\n      if (stroke && stroke.toLive) {\n        markup.push(stroke.toSVG(this));\n      }\n      if (shadow) {\n        markup.push(shadow.toSVG(this));\n      }\n      if (clipPath) {\n        markup.push(clipPathMarkup);\n      }\n      markup.push(objectMarkup.join(''));\n      markup.push('</g>\\n');\n      absoluteClipPath && markup.push('</g>\\n');\n      return reviver ? reviver(markup.join('')) : markup.join('');\n    },\n\n    addPaintOrder: function() {\n      return this.paintFirst !== 'fill' ? ' paint-order=\"' + this.paintFirst + '\" ' : '';\n    }\n  });\n})();\n/* _TO_SVG_END_ */\n\n\n(function() {\n\n  var extend = fabric.util.object.extend,\n      originalSet = 'stateProperties';\n\n  /*\n    Depends on `stateProperties`\n  */\n  function saveProps(origin, destination, props) {\n    var tmpObj = { }, deep = true;\n    props.forEach(function(prop) {\n      tmpObj[prop] = origin[prop];\n    });\n\n    extend(origin[destination], tmpObj, deep);\n  }\n\n  function _isEqual(origValue, currentValue, firstPass) {\n    if (origValue === currentValue) {\n      // if the objects are identical, return\n      return true;\n    }\n    else if (Array.isArray(origValue)) {\n      if (!Array.isArray(currentValue) || origValue.length !== currentValue.length) {\n        return false;\n      }\n      for (var i = 0, len = origValue.length; i < len; i++) {\n        if (!_isEqual(origValue[i], currentValue[i])) {\n          return false;\n        }\n      }\n      return true;\n    }\n    else if (origValue && typeof origValue === 'object') {\n      var keys = Object.keys(origValue), key;\n      if (!currentValue ||\n          typeof currentValue !== 'object' ||\n          (!firstPass && keys.length !== Object.keys(currentValue).length)\n      ) {\n        return false;\n      }\n      for (var i = 0, len = keys.length; i < len; i++) {\n        key = keys[i];\n        // since clipPath is in the statefull cache list and the clipPath objects\n        // would be iterated as an object, this would lead to possible infinite recursion\n        // we do not want to compare those.\n        if (key === 'canvas' || key === 'group') {\n          continue;\n        }\n        if (!_isEqual(origValue[key], currentValue[key])) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }\n\n\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n\n    /**\n     * Returns true if object state (one of its state properties) was changed\n     * @param {String} [propertySet] optional name for the set of property we want to save\n     * @return {Boolean} true if instance' state has changed since `{@link fabric.Object#saveState}` was called\n     */\n    hasStateChanged: function(propertySet) {\n      propertySet = propertySet || originalSet;\n      var dashedPropertySet = '_' + propertySet;\n      if (Object.keys(this[dashedPropertySet]).length < this[propertySet].length) {\n        return true;\n      }\n      return !_isEqual(this[dashedPropertySet], this, true);\n    },\n\n    /**\n     * Saves state of an object\n     * @param {Object} [options] Object with additional `stateProperties` array to include when saving state\n     * @return {fabric.Object} thisArg\n     */\n    saveState: function(options) {\n      var propertySet = options && options.propertySet || originalSet,\n          destination = '_' + propertySet;\n      if (!this[destination]) {\n        return this.setupState(options);\n      }\n      saveProps(this, destination, this[propertySet]);\n      if (options && options.stateProperties) {\n        saveProps(this, destination, options.stateProperties);\n      }\n      return this;\n    },\n\n    /**\n     * Setups state of an object\n     * @param {Object} [options] Object with additional `stateProperties` array to include when saving state\n     * @return {fabric.Object} thisArg\n     */\n    setupState: function(options) {\n      options = options || { };\n      var propertySet = options.propertySet || originalSet;\n      options.propertySet = propertySet;\n      this['_' + propertySet] = { };\n      this.saveState(options);\n      return this;\n    }\n  });\n})();\n\n\n(function() {\n\n  var degreesToRadians = fabric.util.degreesToRadians;\n\n  fabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n    /**\n     * Determines which corner has been clicked\n     * @private\n     * @param {Object} pointer The pointer indicating the mouse position\n     * @return {String|Boolean} corner code (tl, tr, bl, br, etc.), or false if nothing is found\n     */\n    _findTargetCorner: function(pointer, forTouch) {\n      // objects in group, anykind, are not self modificable,\n      // must not return an hovered corner.\n      if (!this.hasControls || this.group || (!this.canvas || this.canvas._activeObject !== this)) {\n        return false;\n      }\n\n      var ex = pointer.x,\n          ey = pointer.y,\n          xPoints,\n          lines, keys = Object.keys(this.oCoords),\n          j = keys.length - 1, i;\n      this.__corner = 0;\n\n      // cycle in reverse order so we pick first the one on top\n      for (; j >= 0; j--) {\n        i = keys[j];\n        if (!this.isControlVisible(i)) {\n          continue;\n        }\n\n        lines = this._getImageLines(forTouch ? this.oCoords[i].touchCorner : this.oCoords[i].corner);\n        // // debugging\n        //\n        // this.canvas.contextTop.fillRect(lines.bottomline.d.x, lines.bottomline.d.y, 2, 2);\n        // this.canvas.contextTop.fillRect(lines.bottomline.o.x, lines.bottomline.o.y, 2, 2);\n        //\n        // this.canvas.contextTop.fillRect(lines.leftline.d.x, lines.leftline.d.y, 2, 2);\n        // this.canvas.contextTop.fillRect(lines.leftline.o.x, lines.leftline.o.y, 2, 2);\n        //\n        // this.canvas.contextTop.fillRect(lines.topline.d.x, lines.topline.d.y, 2, 2);\n        // this.canvas.contextTop.fillRect(lines.topline.o.x, lines.topline.o.y, 2, 2);\n        //\n        // this.canvas.contextTop.fillRect(lines.rightline.d.x, lines.rightline.d.y, 2, 2);\n        // this.canvas.contextTop.fillRect(lines.rightline.o.x, lines.rightline.o.y, 2, 2);\n\n        xPoints = this._findCrossPoints({ x: ex, y: ey }, lines);\n        if (xPoints !== 0 && xPoints % 2 === 1) {\n          this.__corner = i;\n          return i;\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Calls a function for each control. The function gets called,\n     * with the control, the object that is calling the iterator and the control's key\n     * @param {Function} fn function to iterate over the controls over\n     */\n    forEachControl: function(fn) {\n      for (var i in this.controls) {\n        fn(this.controls[i], i, this);\n      };\n    },\n\n    /**\n     * Sets the coordinates of the draggable boxes in the corners of\n     * the image used to scale/rotate it.\n     * note: if we would switch to ROUND corner area, all of this would disappear.\n     * everything would resolve to a single point and a pythagorean theorem for the distance\n     * @private\n     */\n    _setCornerCoords: function() {\n      var coords = this.oCoords;\n\n      for (var control in coords) {\n        var controlObject = this.controls[control];\n        coords[control].corner = controlObject.calcCornerCoords(\n          this.angle, this.cornerSize, coords[control].x, coords[control].y, false);\n        coords[control].touchCorner = controlObject.calcCornerCoords(\n          this.angle, this.touchCornerSize, coords[control].x, coords[control].y, true);\n      }\n    },\n\n    /**\n     * Draws a colored layer behind the object, inside its selection borders.\n     * Requires public options: padding, selectionBackgroundColor\n     * this function is called when the context is transformed\n     * has checks to be skipped when the object is on a staticCanvas\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    drawSelectionBackground: function(ctx) {\n      if (!this.selectionBackgroundColor ||\n        (this.canvas && !this.canvas.interactive) ||\n        (this.canvas && this.canvas._activeObject !== this)\n      ) {\n        return this;\n      }\n      ctx.save();\n      var center = this.getCenterPoint(), wh = this._calculateCurrentDimensions(),\n          vpt = this.canvas.viewportTransform;\n      ctx.translate(center.x, center.y);\n      ctx.scale(1 / vpt[0], 1 / vpt[3]);\n      ctx.rotate(degreesToRadians(this.angle));\n      ctx.fillStyle = this.selectionBackgroundColor;\n      ctx.fillRect(-wh.x / 2, -wh.y / 2, wh.x, wh.y);\n      ctx.restore();\n      return this;\n    },\n\n    /**\n     * Draws borders of an object's bounding box.\n     * Requires public properties: width, height\n     * Requires public options: padding, borderColor\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\n     * @param {Object} styleOverride object to override the object style\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    drawBorders: function(ctx, styleOverride) {\n      styleOverride = styleOverride || {};\n      var wh = this._calculateCurrentDimensions(),\n          strokeWidth = this.borderScaleFactor,\n          width = wh.x + strokeWidth,\n          height = wh.y + strokeWidth,\n          hasControls = typeof styleOverride.hasControls !== 'undefined' ?\n            styleOverride.hasControls : this.hasControls,\n          shouldStroke = false;\n\n      ctx.save();\n      ctx.strokeStyle = styleOverride.borderColor || this.borderColor;\n      this._setLineDash(ctx, styleOverride.borderDashArray || this.borderDashArray, null);\n\n      ctx.strokeRect(\n        -width / 2,\n        -height / 2,\n        width,\n        height\n      );\n\n      if (hasControls) {\n        ctx.beginPath();\n        this.forEachControl(function(control, key, fabricObject) {\n          // in this moment, the ctx is centered on the object.\n          // width and height of the above function are the size of the bbox.\n          if (control.withConnection && control.getVisibility(fabricObject, key)) {\n            // reset movement for each control\n            shouldStroke = true;\n            ctx.moveTo(control.x * width, control.y * height);\n            ctx.lineTo(\n              control.x * width + control.offsetX,\n              control.y * height + control.offsetY\n            );\n          }\n        });\n        if (shouldStroke) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n      return this;\n    },\n\n    /**\n     * Draws borders of an object's bounding box when it is inside a group.\n     * Requires public properties: width, height\n     * Requires public options: padding, borderColor\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\n     * @param {object} options object representing current object parameters\n     * @param {Object} styleOverride object to override the object style\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    drawBordersInGroup: function(ctx, options, styleOverride) {\n      styleOverride = styleOverride || {};\n      var bbox = fabric.util.sizeAfterTransform(this.width, this.height, options),\n          strokeWidth = this.strokeWidth,\n          strokeUniform = this.strokeUniform,\n          borderScaleFactor = this.borderScaleFactor,\n          width =\n            bbox.x + strokeWidth * (strokeUniform ? this.canvas.getZoom() : options.scaleX) + borderScaleFactor,\n          height =\n            bbox.y + strokeWidth * (strokeUniform ? this.canvas.getZoom() : options.scaleY) + borderScaleFactor;\n      ctx.save();\n      this._setLineDash(ctx, styleOverride.borderDashArray || this.borderDashArray, null);\n      ctx.strokeStyle = styleOverride.borderColor || this.borderColor;\n      ctx.strokeRect(\n        -width / 2,\n        -height / 2,\n        width,\n        height\n      );\n\n      ctx.restore();\n      return this;\n    },\n\n    /**\n     * Draws corners of an object's bounding box.\n     * Requires public properties: width, height\n     * Requires public options: cornerSize, padding\n     * @param {CanvasRenderingContext2D} ctx Context to draw on\n     * @param {Object} styleOverride object to override the object style\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    drawControls: function(ctx, styleOverride) {\n      styleOverride = styleOverride || {};\n      ctx.save();\n      ctx.setTransform(this.canvas.getRetinaScaling(), 0, 0, this.canvas.getRetinaScaling(), 0, 0);\n      ctx.strokeStyle = ctx.fillStyle = styleOverride.cornerColor || this.cornerColor;\n      if (!this.transparentCorners) {\n        ctx.strokeStyle = styleOverride.cornerStrokeColor || this.cornerStrokeColor;\n      }\n      this._setLineDash(ctx, styleOverride.cornerDashArray || this.cornerDashArray, null);\n      this.setCoords();\n      this.forEachControl(function(control, key, fabricObject) {\n        if (control.getVisibility(fabricObject, key)) {\n          control.render(ctx,\n            fabricObject.oCoords[key].x,\n            fabricObject.oCoords[key].y, styleOverride, fabricObject);\n        }\n      });\n      ctx.restore();\n\n      return this;\n    },\n\n    /**\n     * Returns true if the specified control is visible, false otherwise.\n     * @param {String} controlKey The key of the control. Possible values are 'tl', 'tr', 'br', 'bl', 'ml', 'mt', 'mr', 'mb', 'mtr'.\n     * @returns {Boolean} true if the specified control is visible, false otherwise\n     */\n    isControlVisible: function(controlKey) {\n      return this.controls[controlKey] && this.controls[controlKey].getVisibility(this, controlKey);\n    },\n\n    /**\n     * Sets the visibility of the specified control.\n     * @param {String} controlKey The key of the control. Possible values are 'tl', 'tr', 'br', 'bl', 'ml', 'mt', 'mr', 'mb', 'mtr'.\n     * @param {Boolean} visible true to set the specified control visible, false otherwise\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    setControlVisible: function(controlKey, visible) {\n      if (!this._controlsVisibility) {\n        this._controlsVisibility = {};\n      }\n      this._controlsVisibility[controlKey] = visible;\n      return this;\n    },\n\n    /**\n     * Sets the visibility state of object controls.\n     * @param {Object} [options] Options object\n     * @param {Boolean} [options.bl] true to enable the bottom-left control, false to disable it\n     * @param {Boolean} [options.br] true to enable the bottom-right control, false to disable it\n     * @param {Boolean} [options.mb] true to enable the middle-bottom control, false to disable it\n     * @param {Boolean} [options.ml] true to enable the middle-left control, false to disable it\n     * @param {Boolean} [options.mr] true to enable the middle-right control, false to disable it\n     * @param {Boolean} [options.mt] true to enable the middle-top control, false to disable it\n     * @param {Boolean} [options.tl] true to enable the top-left control, false to disable it\n     * @param {Boolean} [options.tr] true to enable the top-right control, false to disable it\n     * @param {Boolean} [options.mtr] true to enable the middle-top-rotate control, false to disable it\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    setControlsVisibility: function(options) {\n      options || (options = { });\n\n      for (var p in options) {\n        this.setControlVisible(p, options[p]);\n      }\n      return this;\n    },\n\n\n    /**\n     * This callback function is called every time _discardActiveObject or _setActiveObject\n     * try to to deselect this object. If the function returns true, the process is cancelled\n     * @param {Object} [options] options sent from the upper functions\n     * @param {Event} [options.e] event if the process is generated by an event\n     */\n    onDeselect: function() {\n      // implemented by sub-classes, as needed.\n    },\n\n\n    /**\n     * This callback function is called every time _discardActiveObject or _setActiveObject\n     * try to to select this object. If the function returns true, the process is cancelled\n     * @param {Object} [options] options sent from the upper functions\n     * @param {Event} [options.e] event if the process is generated by an event\n     */\n    onSelect: function() {\n      // implemented by sub-classes, as needed.\n    }\n  });\n})();\n\n\nfabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\n\n  /**\n   * Animation duration (in ms) for fx* methods\n   * @type Number\n   * @default\n   */\n  FX_DURATION: 500,\n\n  /**\n   * Centers object horizontally with animation.\n   * @param {fabric.Object} object Object to center\n   * @param {Object} [callbacks] Callbacks object with optional \"onComplete\" and/or \"onChange\" properties\n   * @param {Function} [callbacks.onComplete] Invoked on completion\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\n   * @return {fabric.Canvas} thisArg\n   * @chainable\n   */\n  fxCenterObjectH: function (object, callbacks) {\n    callbacks = callbacks || { };\n\n    var empty = function() { },\n        onComplete = callbacks.onComplete || empty,\n        onChange = callbacks.onChange || empty,\n        _this = this;\n\n    fabric.util.animate({\n      startValue: object.left,\n      endValue: this.getCenter().left,\n      duration: this.FX_DURATION,\n      onChange: function(value) {\n        object.set('left', value);\n        _this.requestRenderAll();\n        onChange();\n      },\n      onComplete: function() {\n        object.setCoords();\n        onComplete();\n      }\n    });\n\n    return this;\n  },\n\n  /**\n   * Centers object vertically with animation.\n   * @param {fabric.Object} object Object to center\n   * @param {Object} [callbacks] Callbacks object with optional \"onComplete\" and/or \"onChange\" properties\n   * @param {Function} [callbacks.onComplete] Invoked on completion\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\n   * @return {fabric.Canvas} thisArg\n   * @chainable\n   */\n  fxCenterObjectV: function (object, callbacks) {\n    callbacks = callbacks || { };\n\n    var empty = function() { },\n        onComplete = callbacks.onComplete || empty,\n        onChange = callbacks.onChange || empty,\n        _this = this;\n\n    fabric.util.animate({\n      startValue: object.top,\n      endValue: this.getCenter().top,\n      duration: this.FX_DURATION,\n      onChange: function(value) {\n        object.set('top', value);\n        _this.requestRenderAll();\n        onChange();\n      },\n      onComplete: function() {\n        object.setCoords();\n        onComplete();\n      }\n    });\n\n    return this;\n  },\n\n  /**\n   * Same as `fabric.Canvas#remove` but animated\n   * @param {fabric.Object} object Object to remove\n   * @param {Object} [callbacks] Callbacks object with optional \"onComplete\" and/or \"onChange\" properties\n   * @param {Function} [callbacks.onComplete] Invoked on completion\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\n   * @return {fabric.Canvas} thisArg\n   * @chainable\n   */\n  fxRemove: function (object, callbacks) {\n    callbacks = callbacks || { };\n\n    var empty = function() { },\n        onComplete = callbacks.onComplete || empty,\n        onChange = callbacks.onChange || empty,\n        _this = this;\n\n    fabric.util.animate({\n      startValue: object.opacity,\n      endValue: 0,\n      duration: this.FX_DURATION,\n      onChange: function(value) {\n        object.set('opacity', value);\n        _this.requestRenderAll();\n        onChange();\n      },\n      onComplete: function () {\n        _this.remove(object);\n        onComplete();\n      }\n    });\n\n    return this;\n  }\n});\n\nfabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n  /**\n   * Animates object's properties\n   * @param {String|Object} property Property to animate (if string) or properties to animate (if object)\n   * @param {Number|Object} value Value to animate property to (if string was given first) or options object\n   * @return {fabric.Object} thisArg\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#animation}\n   * @chainable\n   *\n   * As object — multiple properties\n   *\n   * object.animate({ left: ..., top: ... });\n   * object.animate({ left: ..., top: ... }, { duration: ... });\n   *\n   * As string — one property\n   *\n   * object.animate('left', ...);\n   * object.animate('left', { duration: ... });\n   *\n   */\n  animate: function() {\n    if (arguments[0] && typeof arguments[0] === 'object') {\n      var propsToAnimate = [], prop, skipCallbacks;\n      for (prop in arguments[0]) {\n        propsToAnimate.push(prop);\n      }\n      for (var i = 0, len = propsToAnimate.length; i < len; i++) {\n        prop = propsToAnimate[i];\n        skipCallbacks = i !== len - 1;\n        this._animate(prop, arguments[0][prop], arguments[1], skipCallbacks);\n      }\n    }\n    else {\n      this._animate.apply(this, arguments);\n    }\n    return this;\n  },\n\n  /**\n   * @private\n   * @param {String} property Property to animate\n   * @param {String} to Value to animate to\n   * @param {Object} [options] Options object\n   * @param {Boolean} [skipCallbacks] When true, callbacks like onchange and oncomplete are not invoked\n   */\n  _animate: function(property, to, options, skipCallbacks) {\n    var _this = this, propPair;\n\n    to = to.toString();\n\n    if (!options) {\n      options = { };\n    }\n    else {\n      options = fabric.util.object.clone(options);\n    }\n\n    if (~property.indexOf('.')) {\n      propPair = property.split('.');\n    }\n\n    var propIsColor =\n      _this.colorProperties.indexOf(property) > -1 ||\n      (propPair && _this.colorProperties.indexOf(propPair[1]) > -1);\n\n    var currentValue = propPair\n      ? this.get(propPair[0])[propPair[1]]\n      : this.get(property);\n\n    if (!('from' in options)) {\n      options.from = currentValue;\n    }\n\n    if (!propIsColor) {\n      if (~to.indexOf('=')) {\n        to = currentValue + parseFloat(to.replace('=', ''));\n      }\n      else {\n        to = parseFloat(to);\n      }\n    }\n\n    var _options = {\n      startValue: options.from,\n      endValue: to,\n      byValue: options.by,\n      easing: options.easing,\n      duration: options.duration,\n      abort: options.abort && function () {\n        return options.abort.call(_this);\n      },\n      onChange: function (value, valueProgress, timeProgress) {\n        if (propPair) {\n          _this[propPair[0]][propPair[1]] = value;\n        }\n        else {\n          _this.set(property, value);\n        }\n        if (skipCallbacks) {\n          return;\n        }\n        options.onChange && options.onChange(value, valueProgress, timeProgress);\n      },\n      onComplete: function (value, valueProgress, timeProgress) {\n        if (skipCallbacks) {\n          return;\n        }\n\n        _this.setCoords();\n        options.onComplete && options.onComplete(value, valueProgress, timeProgress);\n      }\n    };\n\n    if (propIsColor) {\n      fabric.util.animateColor(_options.startValue, _options.endValue, _options.duration, _options);\n    }\n    else {\n      fabric.util.animate(_options);\n    }\n  }\n});\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend,\n      clone = fabric.util.object.clone,\n      coordProps = { x1: 1, x2: 1, y1: 1, y2: 1 },\n      supportsLineDash = fabric.StaticCanvas.supports('setLineDash');\n\n  if (fabric.Line) {\n    fabric.warn('fabric.Line is already defined');\n    return;\n  }\n\n  /**\n   * Line class\n   * @class fabric.Line\n   * @extends fabric.Object\n   * @see {@link fabric.Line#initialize} for constructor definition\n   */\n  fabric.Line = fabric.util.createClass(fabric.Object, /** @lends fabric.Line.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'line',\n\n    /**\n     * x value or first line edge\n     * @type Number\n     * @default\n     */\n    x1: 0,\n\n    /**\n     * y value or first line edge\n     * @type Number\n     * @default\n     */\n    y1: 0,\n\n    /**\n     * x value or second line edge\n     * @type Number\n     * @default\n     */\n    x2: 0,\n\n    /**\n     * y value or second line edge\n     * @type Number\n     * @default\n     */\n    y2: 0,\n\n    cacheProperties: fabric.Object.prototype.cacheProperties.concat('x1', 'x2', 'y1', 'y2'),\n\n    /**\n     * Constructor\n     * @param {Array} [points] Array of points\n     * @param {Object} [options] Options object\n     * @return {fabric.Line} thisArg\n     */\n    initialize: function(points, options) {\n      if (!points) {\n        points = [0, 0, 0, 0];\n      }\n\n      this.callSuper('initialize', options);\n\n      this.set('x1', points[0]);\n      this.set('y1', points[1]);\n      this.set('x2', points[2]);\n      this.set('y2', points[3]);\n\n      this._setWidthHeight(options);\n    },\n\n    /**\n     * @private\n     * @param {Object} [options] Options\n     */\n    _setWidthHeight: function(options) {\n      options || (options = { });\n\n      this.width = Math.abs(this.x2 - this.x1);\n      this.height = Math.abs(this.y2 - this.y1);\n\n      this.left = 'left' in options\n        ? options.left\n        : this._getLeftToOriginX();\n\n      this.top = 'top' in options\n        ? options.top\n        : this._getTopToOriginY();\n    },\n\n    /**\n     * @private\n     * @param {String} key\n     * @param {*} value\n     */\n    _set: function(key, value) {\n      this.callSuper('_set', key, value);\n      if (typeof coordProps[key] !== 'undefined') {\n        this._setWidthHeight();\n      }\n      return this;\n    },\n\n    /**\n     * @private\n     * @return {Number} leftToOriginX Distance from left edge of canvas to originX of Line.\n     */\n    _getLeftToOriginX: makeEdgeToOriginGetter(\n      { // property names\n        origin: 'originX',\n        axis1: 'x1',\n        axis2: 'x2',\n        dimension: 'width'\n      },\n      { // possible values of origin\n        nearest: 'left',\n        center: 'center',\n        farthest: 'right'\n      }\n    ),\n\n    /**\n     * @private\n     * @return {Number} topToOriginY Distance from top edge of canvas to originY of Line.\n     */\n    _getTopToOriginY: makeEdgeToOriginGetter(\n      { // property names\n        origin: 'originY',\n        axis1: 'y1',\n        axis2: 'y2',\n        dimension: 'height'\n      },\n      { // possible values of origin\n        nearest: 'top',\n        center: 'center',\n        farthest: 'bottom'\n      }\n    ),\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n      ctx.beginPath();\n\n      if (!this.strokeDashArray || this.strokeDashArray && supportsLineDash) {\n        // move from center (of virtual box) to its left/top corner\n        // we can't assume x1, y1 is top left and x2, y2 is bottom right\n        var p = this.calcLinePoints();\n        ctx.moveTo(p.x1, p.y1);\n        ctx.lineTo(p.x2, p.y2);\n      }\n\n      ctx.lineWidth = this.strokeWidth;\n\n      // TODO: test this\n      // make sure setting \"fill\" changes color of a line\n      // (by copying fillStyle to strokeStyle, since line is stroked, not filled)\n      var origStrokeStyle = ctx.strokeStyle;\n      ctx.strokeStyle = this.stroke || ctx.fillStyle;\n      this.stroke && this._renderStroke(ctx);\n      ctx.strokeStyle = origStrokeStyle;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderDashedStroke: function(ctx) {\n      var p = this.calcLinePoints();\n\n      ctx.beginPath();\n      fabric.util.drawDashedLine(ctx, p.x1, p.y1, p.x2, p.y2, this.strokeDashArray);\n      ctx.closePath();\n    },\n\n    /**\n     * This function is an helper for svg import. it returns the center of the object in the svg\n     * untransformed coordinates\n     * @private\n     * @return {Object} center point from element coordinates\n     */\n    _findCenterFromElement: function() {\n      return {\n        x: (this.x1 + this.x2) / 2,\n        y: (this.y1 + this.y2) / 2,\n      };\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @method toObject\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      return extend(this.callSuper('toObject', propertiesToInclude), this.calcLinePoints());\n    },\n\n    /*\n     * Calculate object dimensions from its properties\n     * @private\n     */\n    _getNonTransformedDimensions: function() {\n      var dim = this.callSuper('_getNonTransformedDimensions');\n      if (this.strokeLineCap === 'butt') {\n        if (this.width === 0) {\n          dim.y -= this.strokeWidth;\n        }\n        if (this.height === 0) {\n          dim.x -= this.strokeWidth;\n        }\n      }\n      return dim;\n    },\n\n    /**\n     * Recalculates line points given width and height\n     * @private\n     */\n    calcLinePoints: function() {\n      var xMult = this.x1 <= this.x2 ? -1 : 1,\n          yMult = this.y1 <= this.y2 ? -1 : 1,\n          x1 = (xMult * this.width * 0.5),\n          y1 = (yMult * this.height * 0.5),\n          x2 = (xMult * this.width * -0.5),\n          y2 = (yMult * this.height * -0.5);\n\n      return {\n        x1: x1,\n        x2: x2,\n        y1: y1,\n        y2: y2\n      };\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      var p = this.calcLinePoints();\n      return [\n        '<line ', 'COMMON_PARTS',\n        'x1=\"', p.x1,\n        '\" y1=\"', p.y1,\n        '\" x2=\"', p.x2,\n        '\" y2=\"', p.y2,\n        '\" />\\n'\n      ];\n    },\n    /* _TO_SVG_END_ */\n  });\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Line.fromElement})\n   * @static\n   * @memberOf fabric.Line\n   * @see http://www.w3.org/TR/SVG/shapes.html#LineElement\n   */\n  fabric.Line.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('x1 y1 x2 y2'.split(' '));\n\n  /**\n   * Returns fabric.Line instance from an SVG element\n   * @static\n   * @memberOf fabric.Line\n   * @param {SVGElement} element Element to parse\n   * @param {Object} [options] Options object\n   * @param {Function} [callback] callback function invoked after parsing\n   */\n  fabric.Line.fromElement = function(element, callback, options) {\n    options = options || { };\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Line.ATTRIBUTE_NAMES),\n        points = [\n          parsedAttributes.x1 || 0,\n          parsedAttributes.y1 || 0,\n          parsedAttributes.x2 || 0,\n          parsedAttributes.y2 || 0\n        ];\n    callback(new fabric.Line(points, extend(parsedAttributes, options)));\n  };\n  /* _FROM_SVG_END_ */\n\n  /**\n   * Returns fabric.Line instance from an object representation\n   * @static\n   * @memberOf fabric.Line\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] invoked with new instance as first argument\n   */\n  fabric.Line.fromObject = function(object, callback) {\n    function _callback(instance) {\n      delete instance.points;\n      callback && callback(instance);\n    };\n    var options = clone(object, true);\n    options.points = [object.x1, object.y1, object.x2, object.y2];\n    fabric.Object._fromObject('Line', options, _callback, 'points');\n  };\n\n  /**\n   * Produces a function that calculates distance from canvas edge to Line origin.\n   */\n  function makeEdgeToOriginGetter(propertyNames, originValues) {\n    var origin = propertyNames.origin,\n        axis1 = propertyNames.axis1,\n        axis2 = propertyNames.axis2,\n        dimension = propertyNames.dimension,\n        nearest = originValues.nearest,\n        center = originValues.center,\n        farthest = originValues.farthest;\n\n    return function() {\n      switch (this.get(origin)) {\n        case nearest:\n          return Math.min(this.get(axis1), this.get(axis2));\n        case center:\n          return Math.min(this.get(axis1), this.get(axis2)) + (0.5 * this.get(dimension));\n        case farthest:\n          return Math.max(this.get(axis1), this.get(axis2));\n      }\n    };\n\n  }\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      pi = Math.PI;\n\n  if (fabric.Circle) {\n    fabric.warn('fabric.Circle is already defined.');\n    return;\n  }\n\n  /**\n   * Circle class\n   * @class fabric.Circle\n   * @extends fabric.Object\n   * @see {@link fabric.Circle#initialize} for constructor definition\n   */\n  fabric.Circle = fabric.util.createClass(fabric.Object, /** @lends fabric.Circle.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'circle',\n\n    /**\n     * Radius of this circle\n     * @type Number\n     * @default\n     */\n    radius: 0,\n\n    /**\n     * Start angle of the circle, moving clockwise\n     * deprecated type, this should be in degree, this was an oversight.\n     * probably will change to degrees in next major version\n     * @type Number\n     * @default 0\n     */\n    startAngle: 0,\n\n    /**\n     * End angle of the circle\n     * deprecated type, this should be in degree, this was an oversight.\n     * probably will change to degrees in next major version\n     * @type Number\n     * @default 2Pi\n     */\n    endAngle: pi * 2,\n\n    cacheProperties: fabric.Object.prototype.cacheProperties.concat('radius', 'startAngle', 'endAngle'),\n\n    /**\n     * @private\n     * @param {String} key\n     * @param {*} value\n     * @return {fabric.Circle} thisArg\n     */\n    _set: function(key, value) {\n      this.callSuper('_set', key, value);\n\n      if (key === 'radius') {\n        this.setRadius(value);\n      }\n\n      return this;\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      return this.callSuper('toObject', ['radius', 'startAngle', 'endAngle'].concat(propertiesToInclude));\n    },\n\n    /* _TO_SVG_START_ */\n\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      var svgString, x = 0, y = 0,\n          angle = (this.endAngle - this.startAngle) % ( 2 * pi);\n\n      if (angle === 0) {\n        svgString = [\n          '<circle ', 'COMMON_PARTS',\n          'cx=\"' + x + '\" cy=\"' + y + '\" ',\n          'r=\"', this.radius,\n          '\" />\\n'\n        ];\n      }\n      else {\n        var startX = fabric.util.cos(this.startAngle) * this.radius,\n            startY = fabric.util.sin(this.startAngle) * this.radius,\n            endX = fabric.util.cos(this.endAngle) * this.radius,\n            endY = fabric.util.sin(this.endAngle) * this.radius,\n            largeFlag = angle > pi ? '1' : '0';\n        svgString = [\n          '<path d=\"M ' + startX + ' ' + startY,\n          ' A ' + this.radius + ' ' + this.radius,\n          ' 0 ', +largeFlag + ' 1', ' ' + endX + ' ' + endY,\n          '\" ', 'COMMON_PARTS', ' />\\n'\n        ];\n      }\n      return svgString;\n    },\n    /* _TO_SVG_END_ */\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx context to render on\n     */\n    _render: function(ctx) {\n      ctx.beginPath();\n      ctx.arc(\n        0,\n        0,\n        this.radius,\n        this.startAngle,\n        this.endAngle, false);\n      this._renderPaintInOrder(ctx);\n    },\n\n    /**\n     * Returns horizontal radius of an object (according to how an object is scaled)\n     * @return {Number}\n     */\n    getRadiusX: function() {\n      return this.get('radius') * this.get('scaleX');\n    },\n\n    /**\n     * Returns vertical radius of an object (according to how an object is scaled)\n     * @return {Number}\n     */\n    getRadiusY: function() {\n      return this.get('radius') * this.get('scaleY');\n    },\n\n    /**\n     * Sets radius of an object (and updates width accordingly)\n     * @return {fabric.Circle} thisArg\n     */\n    setRadius: function(value) {\n      this.radius = value;\n      return this.set('width', value * 2).set('height', value * 2);\n    },\n  });\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Circle.fromElement})\n   * @static\n   * @memberOf fabric.Circle\n   * @see: http://www.w3.org/TR/SVG/shapes.html#CircleElement\n   */\n  fabric.Circle.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('cx cy r'.split(' '));\n\n  /**\n   * Returns {@link fabric.Circle} instance from an SVG element\n   * @static\n   * @memberOf fabric.Circle\n   * @param {SVGElement} element Element to parse\n   * @param {Function} [callback] Options callback invoked after parsing is finished\n   * @param {Object} [options] Options object\n   * @throws {Error} If value of `r` attribute is missing or invalid\n   */\n  fabric.Circle.fromElement = function(element, callback) {\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Circle.ATTRIBUTE_NAMES);\n\n    if (!isValidRadius(parsedAttributes)) {\n      throw new Error('value of `r` attribute is required and can not be negative');\n    }\n\n    parsedAttributes.left = (parsedAttributes.left || 0) - parsedAttributes.radius;\n    parsedAttributes.top = (parsedAttributes.top || 0) - parsedAttributes.radius;\n    callback(new fabric.Circle(parsedAttributes));\n  };\n\n  /**\n   * @private\n   */\n  function isValidRadius(attributes) {\n    return (('radius' in attributes) && (attributes.radius >= 0));\n  }\n  /* _FROM_SVG_END_ */\n\n  /**\n   * Returns {@link fabric.Circle} instance from an object representation\n   * @static\n   * @memberOf fabric.Circle\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] invoked with new instance as first argument\n   * @return {Object} Instance of fabric.Circle\n   */\n  fabric.Circle.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Circle', object, callback);\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { });\n\n  if (fabric.Triangle) {\n    fabric.warn('fabric.Triangle is already defined');\n    return;\n  }\n\n  /**\n   * Triangle class\n   * @class fabric.Triangle\n   * @extends fabric.Object\n   * @return {fabric.Triangle} thisArg\n   * @see {@link fabric.Triangle#initialize} for constructor definition\n   */\n  fabric.Triangle = fabric.util.createClass(fabric.Object, /** @lends fabric.Triangle.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'triangle',\n\n    /**\n     * Width is set to 100 to compensate the old initialize code that was setting it to 100\n     * @type Number\n     * @default\n     */\n    width: 100,\n\n    /**\n     * Height is set to 100 to compensate the old initialize code that was setting it to 100\n     * @type Number\n     * @default\n     */\n    height: 100,\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n      var widthBy2 = this.width / 2,\n          heightBy2 = this.height / 2;\n\n      ctx.beginPath();\n      ctx.moveTo(-widthBy2, heightBy2);\n      ctx.lineTo(0, -heightBy2);\n      ctx.lineTo(widthBy2, heightBy2);\n      ctx.closePath();\n\n      this._renderPaintInOrder(ctx);\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderDashedStroke: function(ctx) {\n      var widthBy2 = this.width / 2,\n          heightBy2 = this.height / 2;\n\n      ctx.beginPath();\n      fabric.util.drawDashedLine(ctx, -widthBy2, heightBy2, 0, -heightBy2, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, 0, -heightBy2, widthBy2, heightBy2, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, widthBy2, heightBy2, -widthBy2, heightBy2, this.strokeDashArray);\n      ctx.closePath();\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      var widthBy2 = this.width / 2,\n          heightBy2 = this.height / 2,\n          points = [\n            -widthBy2 + ' ' + heightBy2,\n            '0 ' + -heightBy2,\n            widthBy2 + ' ' + heightBy2\n          ].join(',');\n      return [\n        '<polygon ', 'COMMON_PARTS',\n        'points=\"', points,\n        '\" />'\n      ];\n    },\n    /* _TO_SVG_END_ */\n  });\n\n  /**\n   * Returns {@link fabric.Triangle} instance from an object representation\n   * @static\n   * @memberOf fabric.Triangle\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] invoked with new instance as first argument\n   */\n  fabric.Triangle.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Triangle', object, callback);\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      piBy2   = Math.PI * 2;\n\n  if (fabric.Ellipse) {\n    fabric.warn('fabric.Ellipse is already defined.');\n    return;\n  }\n\n  /**\n   * Ellipse class\n   * @class fabric.Ellipse\n   * @extends fabric.Object\n   * @return {fabric.Ellipse} thisArg\n   * @see {@link fabric.Ellipse#initialize} for constructor definition\n   */\n  fabric.Ellipse = fabric.util.createClass(fabric.Object, /** @lends fabric.Ellipse.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'ellipse',\n\n    /**\n     * Horizontal radius\n     * @type Number\n     * @default\n     */\n    rx:   0,\n\n    /**\n     * Vertical radius\n     * @type Number\n     * @default\n     */\n    ry:   0,\n\n    cacheProperties: fabric.Object.prototype.cacheProperties.concat('rx', 'ry'),\n\n    /**\n     * Constructor\n     * @param {Object} [options] Options object\n     * @return {fabric.Ellipse} thisArg\n     */\n    initialize: function(options) {\n      this.callSuper('initialize', options);\n      this.set('rx', options && options.rx || 0);\n      this.set('ry', options && options.ry || 0);\n    },\n\n    /**\n     * @private\n     * @param {String} key\n     * @param {*} value\n     * @return {fabric.Ellipse} thisArg\n     */\n    _set: function(key, value) {\n      this.callSuper('_set', key, value);\n      switch (key) {\n\n        case 'rx':\n          this.rx = value;\n          this.set('width', value * 2);\n          break;\n\n        case 'ry':\n          this.ry = value;\n          this.set('height', value * 2);\n          break;\n\n      }\n      return this;\n    },\n\n    /**\n     * Returns horizontal radius of an object (according to how an object is scaled)\n     * @return {Number}\n     */\n    getRx: function() {\n      return this.get('rx') * this.get('scaleX');\n    },\n\n    /**\n     * Returns Vertical radius of an object (according to how an object is scaled)\n     * @return {Number}\n     */\n    getRy: function() {\n      return this.get('ry') * this.get('scaleY');\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      return this.callSuper('toObject', ['rx', 'ry'].concat(propertiesToInclude));\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      return [\n        '<ellipse ', 'COMMON_PARTS',\n        'cx=\"0\" cy=\"0\" ',\n        'rx=\"', this.rx,\n        '\" ry=\"', this.ry,\n        '\" />\\n'\n      ];\n    },\n    /* _TO_SVG_END_ */\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx context to render on\n     */\n    _render: function(ctx) {\n      ctx.beginPath();\n      ctx.save();\n      ctx.transform(1, 0, 0, this.ry / this.rx, 0, 0);\n      ctx.arc(\n        0,\n        0,\n        this.rx,\n        0,\n        piBy2,\n        false);\n      ctx.restore();\n      this._renderPaintInOrder(ctx);\n    },\n  });\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Ellipse.fromElement})\n   * @static\n   * @memberOf fabric.Ellipse\n   * @see http://www.w3.org/TR/SVG/shapes.html#EllipseElement\n   */\n  fabric.Ellipse.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('cx cy rx ry'.split(' '));\n\n  /**\n   * Returns {@link fabric.Ellipse} instance from an SVG element\n   * @static\n   * @memberOf fabric.Ellipse\n   * @param {SVGElement} element Element to parse\n   * @param {Function} [callback] Options callback invoked after parsing is finished\n   * @return {fabric.Ellipse}\n   */\n  fabric.Ellipse.fromElement = function(element, callback) {\n\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Ellipse.ATTRIBUTE_NAMES);\n\n    parsedAttributes.left = (parsedAttributes.left || 0) - parsedAttributes.rx;\n    parsedAttributes.top = (parsedAttributes.top || 0) - parsedAttributes.ry;\n    callback(new fabric.Ellipse(parsedAttributes));\n  };\n  /* _FROM_SVG_END_ */\n\n  /**\n   * Returns {@link fabric.Ellipse} instance from an object representation\n   * @static\n   * @memberOf fabric.Ellipse\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] invoked with new instance as first argument\n   * @return {fabric.Ellipse}\n   */\n  fabric.Ellipse.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Ellipse', object, callback);\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend;\n\n  if (fabric.Rect) {\n    fabric.warn('fabric.Rect is already defined');\n    return;\n  }\n\n  /**\n   * Rectangle class\n   * @class fabric.Rect\n   * @extends fabric.Object\n   * @return {fabric.Rect} thisArg\n   * @see {@link fabric.Rect#initialize} for constructor definition\n   */\n  fabric.Rect = fabric.util.createClass(fabric.Object, /** @lends fabric.Rect.prototype */ {\n\n    /**\n     * List of properties to consider when checking if state of an object is changed ({@link fabric.Object#hasStateChanged})\n     * as well as for history (undo/redo) purposes\n     * @type Array\n     */\n    stateProperties: fabric.Object.prototype.stateProperties.concat('rx', 'ry'),\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'rect',\n\n    /**\n     * Horizontal border radius\n     * @type Number\n     * @default\n     */\n    rx:   0,\n\n    /**\n     * Vertical border radius\n     * @type Number\n     * @default\n     */\n    ry:   0,\n\n    cacheProperties: fabric.Object.prototype.cacheProperties.concat('rx', 'ry'),\n\n    /**\n     * Constructor\n     * @param {Object} [options] Options object\n     * @return {Object} thisArg\n     */\n    initialize: function(options) {\n      this.callSuper('initialize', options);\n      this._initRxRy();\n    },\n\n    /**\n     * Initializes rx/ry attributes\n     * @private\n     */\n    _initRxRy: function() {\n      if (this.rx && !this.ry) {\n        this.ry = this.rx;\n      }\n      else if (this.ry && !this.rx) {\n        this.rx = this.ry;\n      }\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n\n      // 1x1 case (used in spray brush) optimization was removed because\n      // with caching and higher zoom level this makes more damage than help\n\n      var rx = this.rx ? Math.min(this.rx, this.width / 2) : 0,\n          ry = this.ry ? Math.min(this.ry, this.height / 2) : 0,\n          w = this.width,\n          h = this.height,\n          x = -this.width / 2,\n          y = -this.height / 2,\n          isRounded = rx !== 0 || ry !== 0,\n          /* \"magic number\" for bezier approximations of arcs (http://itc.ktu.lt/itc354/Riskus354.pdf) */\n          k = 1 - 0.5522847498;\n      ctx.beginPath();\n\n      ctx.moveTo(x + rx, y);\n\n      ctx.lineTo(x + w - rx, y);\n      isRounded && ctx.bezierCurveTo(x + w - k * rx, y, x + w, y + k * ry, x + w, y + ry);\n\n      ctx.lineTo(x + w, y + h - ry);\n      isRounded && ctx.bezierCurveTo(x + w, y + h - k * ry, x + w - k * rx, y + h, x + w - rx, y + h);\n\n      ctx.lineTo(x + rx, y + h);\n      isRounded && ctx.bezierCurveTo(x + k * rx, y + h, x, y + h - k * ry, x, y + h - ry);\n\n      ctx.lineTo(x, y + ry);\n      isRounded && ctx.bezierCurveTo(x, y + k * ry, x + k * rx, y, x + rx, y);\n\n      ctx.closePath();\n\n      this._renderPaintInOrder(ctx);\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderDashedStroke: function(ctx) {\n      var x = -this.width / 2,\n          y = -this.height / 2,\n          w = this.width,\n          h = this.height;\n\n      ctx.beginPath();\n      fabric.util.drawDashedLine(ctx, x, y, x + w, y, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, x + w, y, x + w, y + h, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, x + w, y + h, x, y + h, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, x, y + h, x, y, this.strokeDashArray);\n      ctx.closePath();\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      return this.callSuper('toObject', ['rx', 'ry'].concat(propertiesToInclude));\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      var x = -this.width / 2, y = -this.height / 2;\n      return [\n        '<rect ', 'COMMON_PARTS',\n        'x=\"', x, '\" y=\"', y,\n        '\" rx=\"', this.rx, '\" ry=\"', this.ry,\n        '\" width=\"', this.width, '\" height=\"', this.height,\n        '\" />\\n'\n      ];\n    },\n    /* _TO_SVG_END_ */\n  });\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by `fabric.Rect.fromElement`)\n   * @static\n   * @memberOf fabric.Rect\n   * @see: http://www.w3.org/TR/SVG/shapes.html#RectElement\n   */\n  fabric.Rect.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat('x y rx ry width height'.split(' '));\n\n  /**\n   * Returns {@link fabric.Rect} instance from an SVG element\n   * @static\n   * @memberOf fabric.Rect\n   * @param {SVGElement} element Element to parse\n   * @param {Function} callback callback function invoked after parsing\n   * @param {Object} [options] Options object\n   */\n  fabric.Rect.fromElement = function(element, callback, options) {\n    if (!element) {\n      return callback(null);\n    }\n    options = options || { };\n\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Rect.ATTRIBUTE_NAMES);\n    parsedAttributes.left = parsedAttributes.left || 0;\n    parsedAttributes.top  = parsedAttributes.top  || 0;\n    parsedAttributes.height  = parsedAttributes.height || 0;\n    parsedAttributes.width  = parsedAttributes.width || 0;\n    var rect = new fabric.Rect(extend((options ? fabric.util.object.clone(options) : { }), parsedAttributes));\n    rect.visible = rect.visible && rect.width > 0 && rect.height > 0;\n    callback(rect);\n  };\n  /* _FROM_SVG_END_ */\n\n  /**\n   * Returns {@link fabric.Rect} instance from an object representation\n   * @static\n   * @memberOf fabric.Rect\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] Callback to invoke when an fabric.Rect instance is created\n   */\n  fabric.Rect.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Rect', object, callback);\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend,\n      min = fabric.util.array.min,\n      max = fabric.util.array.max,\n      toFixed = fabric.util.toFixed;\n\n  if (fabric.Polyline) {\n    fabric.warn('fabric.Polyline is already defined');\n    return;\n  }\n\n  /**\n   * Polyline class\n   * @class fabric.Polyline\n   * @extends fabric.Object\n   * @see {@link fabric.Polyline#initialize} for constructor definition\n   */\n  fabric.Polyline = fabric.util.createClass(fabric.Object, /** @lends fabric.Polyline.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'polyline',\n\n    /**\n     * Points array\n     * @type Array\n     * @default\n     */\n    points: null,\n\n    cacheProperties: fabric.Object.prototype.cacheProperties.concat('points'),\n\n    /**\n     * Constructor\n     * @param {Array} points Array of points (where each point is an object with x and y)\n     * @param {Object} [options] Options object\n     * @return {fabric.Polyline} thisArg\n     * @example\n     * var poly = new fabric.Polyline([\n     *     { x: 10, y: 10 },\n     *     { x: 50, y: 30 },\n     *     { x: 40, y: 70 },\n     *     { x: 60, y: 50 },\n     *     { x: 100, y: 150 },\n     *     { x: 40, y: 100 }\n     *   ], {\n     *   stroke: 'red',\n     *   left: 100,\n     *   top: 100\n     * });\n     */\n    initialize: function(points, options) {\n      options = options || {};\n      this.points = points || [];\n      this.callSuper('initialize', options);\n      this._setPositionDimensions(options);\n    },\n\n    _setPositionDimensions: function(options) {\n      var calcDim = this._calcDimensions(options), correctLeftTop;\n      this.width = calcDim.width;\n      this.height = calcDim.height;\n      if (!options.fromSVG) {\n        correctLeftTop = this.translateToGivenOrigin(\n          { x: calcDim.left - this.strokeWidth / 2, y: calcDim.top - this.strokeWidth / 2 },\n          'left',\n          'top',\n          this.originX,\n          this.originY\n        );\n      }\n      if (typeof options.left === 'undefined') {\n        this.left = options.fromSVG ? calcDim.left : correctLeftTop.x;\n      }\n      if (typeof options.top === 'undefined') {\n        this.top = options.fromSVG ? calcDim.top : correctLeftTop.y;\n      }\n      this.pathOffset = {\n        x: calcDim.left + this.width / 2,\n        y: calcDim.top + this.height / 2\n      };\n    },\n\n    /**\n     * Calculate the polygon min and max point from points array,\n     * returning an object with left, top, width, height to measure the\n     * polygon size\n     * @return {Object} object.left X coordinate of the polygon leftmost point\n     * @return {Object} object.top Y coordinate of the polygon topmost point\n     * @return {Object} object.width distance between X coordinates of the polygon leftmost and rightmost point\n     * @return {Object} object.height distance between Y coordinates of the polygon topmost and bottommost point\n     * @private\n     */\n    _calcDimensions: function() {\n\n      var points = this.points,\n          minX = min(points, 'x') || 0,\n          minY = min(points, 'y') || 0,\n          maxX = max(points, 'x') || 0,\n          maxY = max(points, 'y') || 0,\n          width = (maxX - minX),\n          height = (maxY - minY);\n\n      return {\n        left: minX,\n        top: minY,\n        width: width,\n        height: height\n      };\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      return extend(this.callSuper('toObject', propertiesToInclude), {\n        points: this.points.concat()\n      });\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      var points = [], diffX = this.pathOffset.x, diffY = this.pathOffset.y,\n          NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n\n      for (var i = 0, len = this.points.length; i < len; i++) {\n        points.push(\n          toFixed(this.points[i].x - diffX, NUM_FRACTION_DIGITS), ',',\n          toFixed(this.points[i].y - diffY, NUM_FRACTION_DIGITS), ' '\n        );\n      }\n      return [\n        '<' + this.type + ' ', 'COMMON_PARTS',\n        'points=\"', points.join(''),\n        '\" />\\n'\n      ];\n    },\n    /* _TO_SVG_END_ */\n\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    commonRender: function(ctx) {\n      var point, len = this.points.length,\n          x = this.pathOffset.x,\n          y = this.pathOffset.y;\n\n      if (!len || isNaN(this.points[len - 1].y)) {\n        // do not draw if no points or odd points\n        // NaN comes from parseFloat of a empty string in parser\n        return false;\n      }\n      ctx.beginPath();\n      ctx.moveTo(this.points[0].x - x, this.points[0].y - y);\n      for (var i = 0; i < len; i++) {\n        point = this.points[i];\n        ctx.lineTo(point.x - x, point.y - y);\n      }\n      return true;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n      if (!this.commonRender(ctx)) {\n        return;\n      }\n      this._renderPaintInOrder(ctx);\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderDashedStroke: function(ctx) {\n      var p1, p2;\n\n      ctx.beginPath();\n      for (var i = 0, len = this.points.length; i < len; i++) {\n        p1 = this.points[i];\n        p2 = this.points[i + 1] || p1;\n        fabric.util.drawDashedLine(ctx, p1.x, p1.y, p2.x, p2.y, this.strokeDashArray);\n      }\n    },\n\n    /**\n     * Returns complexity of an instance\n     * @return {Number} complexity of this instance\n     */\n    complexity: function() {\n      return this.get('points').length;\n    }\n  });\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Polyline.fromElement})\n   * @static\n   * @memberOf fabric.Polyline\n   * @see: http://www.w3.org/TR/SVG/shapes.html#PolylineElement\n   */\n  fabric.Polyline.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat();\n\n  /**\n   * Returns fabric.Polyline instance from an SVG element\n   * @static\n   * @memberOf fabric.Polyline\n   * @param {SVGElement} element Element to parser\n   * @param {Function} callback callback function invoked after parsing\n   * @param {Object} [options] Options object\n   */\n  fabric.Polyline.fromElementGenerator = function(_class) {\n    return function(element, callback, options) {\n      if (!element) {\n        return callback(null);\n      }\n      options || (options = { });\n\n      var points = fabric.parsePointsAttribute(element.getAttribute('points')),\n          parsedAttributes = fabric.parseAttributes(element, fabric[_class].ATTRIBUTE_NAMES);\n      parsedAttributes.fromSVG = true;\n      callback(new fabric[_class](points, extend(parsedAttributes, options)));\n    };\n  };\n\n  fabric.Polyline.fromElement = fabric.Polyline.fromElementGenerator('Polyline');\n\n  /* _FROM_SVG_END_ */\n\n  /**\n   * Returns fabric.Polyline instance from an object representation\n   * @static\n   * @memberOf fabric.Polyline\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] Callback to invoke when an fabric.Path instance is created\n   */\n  fabric.Polyline.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Polyline', object, callback, 'points');\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { });\n\n  if (fabric.Polygon) {\n    fabric.warn('fabric.Polygon is already defined');\n    return;\n  }\n\n  /**\n   * Polygon class\n   * @class fabric.Polygon\n   * @extends fabric.Polyline\n   * @see {@link fabric.Polygon#initialize} for constructor definition\n   */\n  fabric.Polygon = fabric.util.createClass(fabric.Polyline, /** @lends fabric.Polygon.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'polygon',\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n      if (!this.commonRender(ctx)) {\n        return;\n      }\n      ctx.closePath();\n      this._renderPaintInOrder(ctx);\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderDashedStroke: function(ctx) {\n      this.callSuper('_renderDashedStroke', ctx);\n      ctx.closePath();\n    },\n  });\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by `fabric.Polygon.fromElement`)\n   * @static\n   * @memberOf fabric.Polygon\n   * @see: http://www.w3.org/TR/SVG/shapes.html#PolygonElement\n   */\n  fabric.Polygon.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat();\n\n  /**\n   * Returns {@link fabric.Polygon} instance from an SVG element\n   * @static\n   * @memberOf fabric.Polygon\n   * @param {SVGElement} element Element to parse\n   * @param {Function} callback callback function invoked after parsing\n   * @param {Object} [options] Options object\n   */\n  fabric.Polygon.fromElement = fabric.Polyline.fromElementGenerator('Polygon');\n  /* _FROM_SVG_END_ */\n\n  /**\n   * Returns fabric.Polygon instance from an object representation\n   * @static\n   * @memberOf fabric.Polygon\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] Callback to invoke when an fabric.Path instance is created\n   */\n  fabric.Polygon.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Polygon', object, callback, 'points');\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      min = fabric.util.array.min,\n      max = fabric.util.array.max,\n      extend = fabric.util.object.extend,\n      _toString = Object.prototype.toString,\n      toFixed = fabric.util.toFixed;\n\n  if (fabric.Path) {\n    fabric.warn('fabric.Path is already defined');\n    return;\n  }\n\n  /**\n   * Path class\n   * @class fabric.Path\n   * @extends fabric.Object\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#path_and_pathgroup}\n   * @see {@link fabric.Path#initialize} for constructor definition\n   */\n  fabric.Path = fabric.util.createClass(fabric.Object, /** @lends fabric.Path.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'path',\n\n    /**\n     * Array of path points\n     * @type Array\n     * @default\n     */\n    path: null,\n\n    cacheProperties: fabric.Object.prototype.cacheProperties.concat('path', 'fillRule'),\n\n    stateProperties: fabric.Object.prototype.stateProperties.concat('path'),\n\n    /**\n     * Constructor\n     * @param {Array|String} path Path data (sequence of coordinates and corresponding \"command\" tokens)\n     * @param {Object} [options] Options object\n     * @return {fabric.Path} thisArg\n     */\n    initialize: function(path, options) {\n      options = options || { };\n      this.callSuper('initialize', options);\n      if (!path) {\n        path = [];\n      }\n\n      var fromArray = _toString.call(path) === '[object Array]';\n\n      this.path = fromArray\n        ? fabric.util.makePathSimpler(path)\n\n        : fabric.util.makePathSimpler(\n          fabric.util.parsePath(path)\n        );\n\n      if (!this.path) {\n        return;\n      }\n      fabric.Polyline.prototype._setPositionDimensions.call(this, options);\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx context to render path on\n     */\n    _renderPathCommands: function(ctx) {\n      var current, // current instruction\n          subpathStartX = 0,\n          subpathStartY = 0,\n          x = 0, // current x\n          y = 0, // current y\n          controlX = 0, // current control point x\n          controlY = 0, // current control point y\n          l = -this.pathOffset.x,\n          t = -this.pathOffset.y;\n\n      ctx.beginPath();\n\n      for (var i = 0, len = this.path.length; i < len; ++i) {\n\n        current = this.path[i];\n\n        switch (current[0]) { // first letter\n\n          case 'L': // lineto, absolute\n            x = current[1];\n            y = current[2];\n            ctx.lineTo(x + l, y + t);\n            break;\n\n          case 'M': // moveTo, absolute\n            x = current[1];\n            y = current[2];\n            subpathStartX = x;\n            subpathStartY = y;\n            ctx.moveTo(x + l, y + t);\n            break;\n\n          case 'C': // bezierCurveTo, absolute\n            x = current[5];\n            y = current[6];\n            controlX = current[3];\n            controlY = current[4];\n            ctx.bezierCurveTo(\n              current[1] + l,\n              current[2] + t,\n              controlX + l,\n              controlY + t,\n              x + l,\n              y + t\n            );\n            break;\n\n          case 'Q': // quadraticCurveTo, absolute\n            ctx.quadraticCurveTo(\n              current[1] + l,\n              current[2] + t,\n              current[3] + l,\n              current[4] + t\n            );\n            x = current[3];\n            y = current[4];\n            controlX = current[1];\n            controlY = current[2];\n            break;\n\n          case 'z':\n          case 'Z':\n            x = subpathStartX;\n            y = subpathStartY;\n            ctx.closePath();\n            break;\n        }\n      }\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx context to render path on\n     */\n    _render: function(ctx) {\n      this._renderPathCommands(ctx);\n      this._renderPaintInOrder(ctx);\n    },\n\n    /**\n     * Returns string representation of an instance\n     * @return {String} string representation of an instance\n     */\n    toString: function() {\n      return '#<fabric.Path (' + this.complexity() +\n        '): { \"top\": ' + this.top + ', \"left\": ' + this.left + ' }>';\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      return extend(this.callSuper('toObject', propertiesToInclude), {\n        path: this.path.map(function(item) { return item.slice(); }),\n      });\n    },\n\n    /**\n     * Returns dataless object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toDatalessObject: function(propertiesToInclude) {\n      var o = this.toObject(['sourcePath'].concat(propertiesToInclude));\n      if (o.sourcePath) {\n        delete o.path;\n      }\n      return o;\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      var path = this.path.map(function(path) {\n        return path.join(' ');\n      }).join(' ');\n      return [\n        '<path ', 'COMMON_PARTS',\n        'd=\"', path,\n        '\" stroke-linecap=\"round\" ',\n        '/>\\n'\n      ];\n    },\n\n    _getOffsetTransform: function() {\n      var digits = fabric.Object.NUM_FRACTION_DIGITS;\n      return ' translate(' + toFixed(-this.pathOffset.x, digits) + ', ' +\n          toFixed(-this.pathOffset.y, digits) + ')';\n    },\n\n    /**\n     * Returns svg clipPath representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    toClipPathSVG: function(reviver) {\n      var additionalTransform = this._getOffsetTransform();\n      return '\\t' + this._createBaseClipPathSVGMarkup(\n        this._toSVG(), { reviver: reviver, additionalTransform: additionalTransform }\n      );\n    },\n\n    /**\n     * Returns svg representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    toSVG: function(reviver) {\n      var additionalTransform = this._getOffsetTransform();\n      return this._createBaseSVGMarkup(this._toSVG(), { reviver: reviver, additionalTransform: additionalTransform  });\n    },\n    /* _TO_SVG_END_ */\n\n    /**\n     * Returns number representation of an instance complexity\n     * @return {Number} complexity of this instance\n     */\n    complexity: function() {\n      return this.path.length;\n    },\n\n    /**\n     * @private\n     */\n    _calcDimensions: function() {\n\n      var aX = [],\n          aY = [],\n          current, // current instruction\n          subpathStartX = 0,\n          subpathStartY = 0,\n          x = 0, // current x\n          y = 0, // current y\n          bounds;\n\n      for (var i = 0, len = this.path.length; i < len; ++i) {\n\n        current = this.path[i];\n\n        switch (current[0]) { // first letter\n\n          case 'L': // lineto, absolute\n            x = current[1];\n            y = current[2];\n            bounds = [];\n            break;\n\n          case 'M': // moveTo, absolute\n            x = current[1];\n            y = current[2];\n            subpathStartX = x;\n            subpathStartY = y;\n            bounds = [];\n            break;\n\n          case 'C': // bezierCurveTo, absolute\n            bounds = fabric.util.getBoundsOfCurve(x, y,\n              current[1],\n              current[2],\n              current[3],\n              current[4],\n              current[5],\n              current[6]\n            );\n            x = current[5];\n            y = current[6];\n            break;\n\n          case 'Q': // quadraticCurveTo, absolute\n            bounds = fabric.util.getBoundsOfCurve(x, y,\n              current[1],\n              current[2],\n              current[1],\n              current[2],\n              current[3],\n              current[4]\n            );\n            x = current[3];\n            y = current[4];\n            break;\n\n          case 'z':\n          case 'Z':\n            x = subpathStartX;\n            y = subpathStartY;\n            break;\n        }\n        bounds.forEach(function (point) {\n          aX.push(point.x);\n          aY.push(point.y);\n        });\n        aX.push(x);\n        aY.push(y);\n      }\n\n      var minX = min(aX) || 0,\n          minY = min(aY) || 0,\n          maxX = max(aX) || 0,\n          maxY = max(aY) || 0,\n          deltaX = maxX - minX,\n          deltaY = maxY - minY;\n\n      return {\n        left: minX,\n        top: minY,\n        width: deltaX,\n        height: deltaY\n      };\n    }\n  });\n\n  /**\n   * Creates an instance of fabric.Path from an object\n   * @static\n   * @memberOf fabric.Path\n   * @param {Object} object\n   * @param {Function} [callback] Callback to invoke when an fabric.Path instance is created\n   */\n  fabric.Path.fromObject = function(object, callback) {\n    if (typeof object.sourcePath === 'string') {\n      var pathUrl = object.sourcePath;\n      fabric.loadSVGFromURL(pathUrl, function (elements) {\n        var path = elements[0];\n        path.setOptions(object);\n        callback && callback(path);\n      });\n    }\n    else {\n      fabric.Object._fromObject('Path', object, callback, 'path');\n    }\n  };\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by `fabric.Path.fromElement`)\n   * @static\n   * @memberOf fabric.Path\n   * @see http://www.w3.org/TR/SVG/paths.html#PathElement\n   */\n  fabric.Path.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(['d']);\n\n  /**\n   * Creates an instance of fabric.Path from an SVG <path> element\n   * @static\n   * @memberOf fabric.Path\n   * @param {SVGElement} element to parse\n   * @param {Function} callback Callback to invoke when an fabric.Path instance is created\n   * @param {Object} [options] Options object\n   * @param {Function} [callback] Options callback invoked after parsing is finished\n   */\n  fabric.Path.fromElement = function(element, callback, options) {\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Path.ATTRIBUTE_NAMES);\n    parsedAttributes.fromSVG = true;\n    callback(new fabric.Path(parsedAttributes.d, extend(parsedAttributes, options)));\n  };\n  /* _FROM_SVG_END_ */\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      min = fabric.util.array.min,\n      max = fabric.util.array.max;\n\n  if (fabric.Group) {\n    return;\n  }\n\n  /**\n   * Group class\n   * @class fabric.Group\n   * @extends fabric.Object\n   * @mixes fabric.Collection\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#groups}\n   * @see {@link fabric.Group#initialize} for constructor definition\n   */\n  fabric.Group = fabric.util.createClass(fabric.Object, fabric.Collection, /** @lends fabric.Group.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'group',\n\n    /**\n     * Width of stroke\n     * @type Number\n     * @default\n     */\n    strokeWidth: 0,\n\n    /**\n     * Indicates if click, mouseover, mouseout events & hoverCursor should also check for subtargets\n     * @type Boolean\n     * @default\n     */\n    subTargetCheck: false,\n\n    /**\n     * Groups are container, do not render anything on theyr own, ence no cache properties\n     * @type Array\n     * @default\n     */\n    cacheProperties: [],\n\n    /**\n     * setOnGroup is a method used for TextBox that is no more used since 2.0.0 The behavior is still\n     * available setting this boolean to true.\n     * @type Boolean\n     * @since 2.0.0\n     * @default\n     */\n    useSetOnGroup: false,\n\n    /**\n     * Constructor\n     * @param {Object} objects Group objects\n     * @param {Object} [options] Options object\n     * @param {Boolean} [isAlreadyGrouped] if true, objects have been grouped already.\n     * @return {Object} thisArg\n     */\n    initialize: function(objects, options, isAlreadyGrouped) {\n      options = options || {};\n      this._objects = [];\n      // if objects enclosed in a group have been grouped already,\n      // we cannot change properties of objects.\n      // Thus we need to set options to group without objects,\n      isAlreadyGrouped && this.callSuper('initialize', options);\n      this._objects = objects || [];\n      for (var i = this._objects.length; i--; ) {\n        this._objects[i].group = this;\n      }\n\n      if (!isAlreadyGrouped) {\n        var center = options && options.centerPoint;\n        // we want to set origins before calculating the bounding box.\n        // so that the topleft can be set with that in mind.\n        // if specific top and left are passed, are overwritten later\n        // with the callSuper('initialize', options)\n        if (options.originX !== undefined) {\n          this.originX = options.originX;\n        }\n        if (options.originY !== undefined) {\n          this.originY = options.originY;\n        }\n        // if coming from svg i do not want to calc bounds.\n        // i assume width and height are passed along options\n        center || this._calcBounds();\n        this._updateObjectsCoords(center);\n        delete options.centerPoint;\n        this.callSuper('initialize', options);\n      }\n      else {\n        this._updateObjectsACoords();\n      }\n\n      this.setCoords();\n    },\n\n    /**\n     * @private\n     */\n    _updateObjectsACoords: function() {\n      var skipControls = true;\n      for (var i = this._objects.length; i--; ){\n        this._objects[i].setCoords(skipControls);\n      }\n    },\n\n    /**\n     * @private\n     * @param {Boolean} [skipCoordsChange] if true, coordinates of objects enclosed in a group do not change\n     */\n    _updateObjectsCoords: function(center) {\n      var center = center || this.getCenterPoint();\n      for (var i = this._objects.length; i--; ){\n        this._updateObjectCoords(this._objects[i], center);\n      }\n    },\n\n    /**\n     * @private\n     * @param {Object} object\n     * @param {fabric.Point} center, current center of group.\n     */\n    _updateObjectCoords: function(object, center) {\n      var objectLeft = object.left,\n          objectTop = object.top,\n          skipControls = true;\n\n      object.set({\n        left: objectLeft - center.x,\n        top: objectTop - center.y\n      });\n      object.group = this;\n      object.setCoords(skipControls);\n    },\n\n    /**\n     * Returns string represenation of a group\n     * @return {String}\n     */\n    toString: function() {\n      return '#<fabric.Group: (' + this.complexity() + ')>';\n    },\n\n    /**\n     * Adds an object to a group; Then recalculates group's dimension, position.\n     * @param {Object} object\n     * @return {fabric.Group} thisArg\n     * @chainable\n     */\n    addWithUpdate: function(object) {\n      this._restoreObjectsState();\n      fabric.util.resetObjectTransform(this);\n      if (object) {\n        this._objects.push(object);\n        object.group = this;\n        object._set('canvas', this.canvas);\n      }\n      this._calcBounds();\n      this._updateObjectsCoords();\n      this.setCoords();\n      this.dirty = true;\n      return this;\n    },\n\n    /**\n     * Removes an object from a group; Then recalculates group's dimension, position.\n     * @param {Object} object\n     * @return {fabric.Group} thisArg\n     * @chainable\n     */\n    removeWithUpdate: function(object) {\n      this._restoreObjectsState();\n      fabric.util.resetObjectTransform(this);\n\n      this.remove(object);\n      this._calcBounds();\n      this._updateObjectsCoords();\n      this.setCoords();\n      this.dirty = true;\n      return this;\n    },\n\n    /**\n     * @private\n     */\n    _onObjectAdded: function(object) {\n      this.dirty = true;\n      object.group = this;\n      object._set('canvas', this.canvas);\n    },\n\n    /**\n     * @private\n     */\n    _onObjectRemoved: function(object) {\n      this.dirty = true;\n      delete object.group;\n    },\n\n    /**\n     * @private\n     */\n    _set: function(key, value) {\n      var i = this._objects.length;\n      if (this.useSetOnGroup) {\n        while (i--) {\n          this._objects[i].setOnGroup(key, value);\n        }\n      }\n      if (key === 'canvas') {\n        while (i--) {\n          this._objects[i]._set(key, value);\n        }\n      }\n      fabric.Object.prototype._set.call(this, key, value);\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      var _includeDefaultValues = this.includeDefaultValues;\n      var objsToObject = this._objects.map(function(obj) {\n        var originalDefaults = obj.includeDefaultValues;\n        obj.includeDefaultValues = _includeDefaultValues;\n        var _obj = obj.toObject(propertiesToInclude);\n        obj.includeDefaultValues = originalDefaults;\n        return _obj;\n      });\n      var obj = fabric.Object.prototype.toObject.call(this, propertiesToInclude);\n      obj.objects = objsToObject;\n      return obj;\n    },\n\n    /**\n     * Returns object representation of an instance, in dataless mode.\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toDatalessObject: function(propertiesToInclude) {\n      var objsToObject, sourcePath = this.sourcePath;\n      if (sourcePath) {\n        objsToObject = sourcePath;\n      }\n      else {\n        var _includeDefaultValues = this.includeDefaultValues;\n        objsToObject = this._objects.map(function(obj) {\n          var originalDefaults = obj.includeDefaultValues;\n          obj.includeDefaultValues = _includeDefaultValues;\n          var _obj = obj.toDatalessObject(propertiesToInclude);\n          obj.includeDefaultValues = originalDefaults;\n          return _obj;\n        });\n      }\n      var obj = fabric.Object.prototype.toDatalessObject.call(this, propertiesToInclude);\n      obj.objects = objsToObject;\n      return obj;\n    },\n\n    /**\n     * Renders instance on a given context\n     * @param {CanvasRenderingContext2D} ctx context to render instance on\n     */\n    render: function(ctx) {\n      this._transformDone = true;\n      this.callSuper('render', ctx);\n      this._transformDone = false;\n    },\n\n    /**\n     * Decide if the object should cache or not. Create its own cache level\n     * needsItsOwnCache should be used when the object drawing method requires\n     * a cache step. None of the fabric classes requires it.\n     * Generally you do not cache objects in groups because the group is already cached.\n     * @return {Boolean}\n     */\n    shouldCache: function() {\n      var ownCache = fabric.Object.prototype.shouldCache.call(this);\n      if (ownCache) {\n        for (var i = 0, len = this._objects.length; i < len; i++) {\n          if (this._objects[i].willDrawShadow()) {\n            this.ownCaching = false;\n            return false;\n          }\n        }\n      }\n      return ownCache;\n    },\n\n    /**\n     * Check if this object or a child object will cast a shadow\n     * @return {Boolean}\n     */\n    willDrawShadow: function() {\n      if (fabric.Object.prototype.willDrawShadow.call(this)) {\n        return true;\n      }\n      for (var i = 0, len = this._objects.length; i < len; i++) {\n        if (this._objects[i].willDrawShadow()) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Check if this group or its parent group are caching, recursively up\n     * @return {Boolean}\n     */\n    isOnACache: function() {\n      return this.ownCaching || (this.group && this.group.isOnACache());\n    },\n\n    /**\n     * Execute the drawing operation for an object on a specified context\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    drawObject: function(ctx) {\n      for (var i = 0, len = this._objects.length; i < len; i++) {\n        this._objects[i].render(ctx);\n      }\n      this._drawClipPath(ctx);\n    },\n\n    /**\n     * Check if cache is dirty\n     */\n    isCacheDirty: function(skipCanvas) {\n      if (this.callSuper('isCacheDirty', skipCanvas)) {\n        return true;\n      }\n      if (!this.statefullCache) {\n        return false;\n      }\n      for (var i = 0, len = this._objects.length; i < len; i++) {\n        if (this._objects[i].isCacheDirty(true)) {\n          if (this._cacheCanvas) {\n            // if this group has not a cache canvas there is nothing to clean\n            var x = this.cacheWidth / this.zoomX, y = this.cacheHeight / this.zoomY;\n            this._cacheContext.clearRect(-x / 2, -y / 2, x, y);\n          }\n          return true;\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Restores original state of each of group objects (original state is that which was before group was created).\n     * @private\n     * @return {fabric.Group} thisArg\n     * @chainable\n     */\n    _restoreObjectsState: function() {\n      this._objects.forEach(this._restoreObjectState, this);\n      return this;\n    },\n\n    /**\n     * Realises the transform from this group onto the supplied object\n     * i.e. it tells you what would happen if the supplied object was in\n     * the group, and then the group was destroyed. It mutates the supplied\n     * object.\n     * @param {fabric.Object} object\n     * @return {fabric.Object} transformedObject\n     */\n    realizeTransform: function(object) {\n      var matrix = object.calcTransformMatrix(),\n          options = fabric.util.qrDecompose(matrix),\n          center = new fabric.Point(options.translateX, options.translateY);\n      object.flipX = false;\n      object.flipY = false;\n      object.set('scaleX', options.scaleX);\n      object.set('scaleY', options.scaleY);\n      object.skewX = options.skewX;\n      object.skewY = options.skewY;\n      object.angle = options.angle;\n      object.setPositionByOrigin(center, 'center', 'center');\n      return object;\n    },\n\n    /**\n     * Restores original state of a specified object in group\n     * @private\n     * @param {fabric.Object} object\n     * @return {fabric.Group} thisArg\n     */\n    _restoreObjectState: function(object) {\n      this.realizeTransform(object);\n      delete object.group;\n      object.setCoords();\n      return this;\n    },\n\n    /**\n     * Destroys a group (restoring state of its objects)\n     * @return {fabric.Group} thisArg\n     * @chainable\n     */\n    destroy: function() {\n      // when group is destroyed objects needs to get a repaint to be eventually\n      // displayed on canvas.\n      this._objects.forEach(function(object) {\n        object.set('dirty', true);\n      });\n      return this._restoreObjectsState();\n    },\n\n    /**\n     * make a group an active selection, remove the group from canvas\n     * the group has to be on canvas for this to work.\n     * @return {fabric.ActiveSelection} thisArg\n     * @chainable\n     */\n    toActiveSelection: function() {\n      if (!this.canvas) {\n        return;\n      }\n      var objects = this._objects, canvas = this.canvas;\n      this._objects = [];\n      var options = this.toObject();\n      delete options.objects;\n      var activeSelection = new fabric.ActiveSelection([]);\n      activeSelection.set(options);\n      activeSelection.type = 'activeSelection';\n      canvas.remove(this);\n      objects.forEach(function(object) {\n        object.group = activeSelection;\n        object.dirty = true;\n        canvas.add(object);\n      });\n      activeSelection.canvas = canvas;\n      activeSelection._objects = objects;\n      canvas._activeObject = activeSelection;\n      activeSelection.setCoords();\n      return activeSelection;\n    },\n\n    /**\n     * Destroys a group (restoring state of its objects)\n     * @return {fabric.Group} thisArg\n     * @chainable\n     */\n    ungroupOnCanvas: function() {\n      return this._restoreObjectsState();\n    },\n\n    /**\n     * Sets coordinates of all objects inside group\n     * @return {fabric.Group} thisArg\n     * @chainable\n     */\n    setObjectsCoords: function() {\n      var skipControls = true;\n      this.forEachObject(function(object) {\n        object.setCoords(skipControls);\n      });\n      return this;\n    },\n\n    /**\n     * @private\n     */\n    _calcBounds: function(onlyWidthHeight) {\n      var aX = [],\n          aY = [],\n          o, prop,\n          props = ['tr', 'br', 'bl', 'tl'],\n          i = 0, iLen = this._objects.length,\n          j, jLen = props.length;\n\n      for ( ; i < iLen; ++i) {\n        o = this._objects[i];\n        o.aCoords = o.calcACoords();\n        for (j = 0; j < jLen; j++) {\n          prop = props[j];\n          aX.push(o.aCoords[prop].x);\n          aY.push(o.aCoords[prop].y);\n        }\n      }\n\n      this._getBounds(aX, aY, onlyWidthHeight);\n    },\n\n    /**\n     * @private\n     */\n    _getBounds: function(aX, aY, onlyWidthHeight) {\n      var minXY = new fabric.Point(min(aX), min(aY)),\n          maxXY = new fabric.Point(max(aX), max(aY)),\n          top = minXY.y || 0, left = minXY.x || 0,\n          width = (maxXY.x - minXY.x) || 0,\n          height = (maxXY.y - minXY.y) || 0;\n      this.width = width;\n      this.height = height;\n      if (!onlyWidthHeight) {\n        // the bounding box always finds the topleft most corner.\n        // whatever is the group origin, we set up here the left/top position.\n        this.setPositionByOrigin({ x: left, y: top }, 'left', 'top');\n      }\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    _toSVG: function(reviver) {\n      var svgString = ['<g ', 'COMMON_PARTS', ' >\\n'];\n\n      for (var i = 0, len = this._objects.length; i < len; i++) {\n        svgString.push('\\t\\t', this._objects[i].toSVG(reviver));\n      }\n      svgString.push('</g>\\n');\n      return svgString;\n    },\n\n    /**\n     * Returns styles-string for svg-export, specific version for group\n     * @return {String}\n     */\n    getSvgStyles: function() {\n      var opacity = typeof this.opacity !== 'undefined' && this.opacity !== 1 ?\n            'opacity: ' + this.opacity + ';' : '',\n          visibility = this.visible ? '' : ' visibility: hidden;';\n      return [\n        opacity,\n        this.getSvgFilter(),\n        visibility\n      ].join('');\n    },\n\n    /**\n     * Returns svg clipPath representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    toClipPathSVG: function(reviver) {\n      var svgString = [];\n\n      for (var i = 0, len = this._objects.length; i < len; i++) {\n        svgString.push('\\t', this._objects[i].toClipPathSVG(reviver));\n      }\n\n      return this._createBaseClipPathSVGMarkup(svgString, { reviver: reviver });\n    },\n    /* _TO_SVG_END_ */\n  });\n\n  /**\n   * Returns {@link fabric.Group} instance from an object representation\n   * @static\n   * @memberOf fabric.Group\n   * @param {Object} object Object to create a group from\n   * @param {Function} [callback] Callback to invoke when an group instance is created\n   */\n  fabric.Group.fromObject = function(object, callback) {\n    var objects = object.objects,\n        options = fabric.util.object.clone(object, true);\n    delete options.objects;\n    if (typeof objects === 'string') {\n      // it has to be an url or something went wrong.\n      fabric.loadSVGFromURL(objects, function (elements) {\n        var group = fabric.util.groupSVGElements(elements, object, objects);\n        group.set(options);\n        callback && callback(group);\n      });\n      return;\n    }\n    fabric.util.enlivenObjects(objects, function(enlivenedObjects) {\n      fabric.util.enlivenObjects([object.clipPath], function(enlivedClipPath) {\n        var options = fabric.util.object.clone(object, true);\n        options.clipPath = enlivedClipPath[0];\n        delete options.objects;\n        callback && callback(new fabric.Group(enlivenedObjects, options, true));\n      });\n    });\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { });\n\n  if (fabric.ActiveSelection) {\n    return;\n  }\n\n  /**\n   * Group class\n   * @class fabric.ActiveSelection\n   * @extends fabric.Group\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-3#groups}\n   * @see {@link fabric.ActiveSelection#initialize} for constructor definition\n   */\n  fabric.ActiveSelection = fabric.util.createClass(fabric.Group, /** @lends fabric.ActiveSelection.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'activeSelection',\n\n    /**\n     * Constructor\n     * @param {Object} objects ActiveSelection objects\n     * @param {Object} [options] Options object\n     * @return {Object} thisArg\n     */\n    initialize: function(objects, options) {\n      options = options || {};\n      this._objects = objects || [];\n      for (var i = this._objects.length; i--; ) {\n        this._objects[i].group = this;\n      }\n\n      if (options.originX) {\n        this.originX = options.originX;\n      }\n      if (options.originY) {\n        this.originY = options.originY;\n      }\n      this._calcBounds();\n      this._updateObjectsCoords();\n      fabric.Object.prototype.initialize.call(this, options);\n      this.setCoords();\n    },\n\n    /**\n     * Change te activeSelection to a normal group,\n     * High level function that automatically adds it to canvas as\n     * active object. no events fired.\n     * @since 2.0.0\n     * @return {fabric.Group}\n     */\n    toGroup: function() {\n      var objects = this._objects.concat();\n      this._objects = [];\n      var options = fabric.Object.prototype.toObject.call(this);\n      var newGroup = new fabric.Group([]);\n      delete options.type;\n      newGroup.set(options);\n      objects.forEach(function(object) {\n        object.canvas.remove(object);\n        object.group = newGroup;\n      });\n      newGroup._objects = objects;\n      if (!this.canvas) {\n        return newGroup;\n      }\n      var canvas = this.canvas;\n      canvas.add(newGroup);\n      canvas._activeObject = newGroup;\n      newGroup.setCoords();\n      return newGroup;\n    },\n\n    /**\n     * If returns true, deselection is cancelled.\n     * @since 2.0.0\n     * @return {Boolean} [cancel]\n     */\n    onDeselect: function() {\n      this.destroy();\n      return false;\n    },\n\n    /**\n     * Returns string representation of a group\n     * @return {String}\n     */\n    toString: function() {\n      return '#<fabric.ActiveSelection: (' + this.complexity() + ')>';\n    },\n\n    /**\n     * Decide if the object should cache or not. Create its own cache level\n     * objectCaching is a global flag, wins over everything\n     * needsItsOwnCache should be used when the object drawing method requires\n     * a cache step. None of the fabric classes requires it.\n     * Generally you do not cache objects in groups because the group outside is cached.\n     * @return {Boolean}\n     */\n    shouldCache: function() {\n      return false;\n    },\n\n    /**\n     * Check if this group or its parent group are caching, recursively up\n     * @return {Boolean}\n     */\n    isOnACache: function() {\n      return false;\n    },\n\n    /**\n     * Renders controls and borders for the object\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {Object} [styleOverride] properties to override the object style\n     * @param {Object} [childrenOverride] properties to override the children overrides\n     */\n    _renderControls: function(ctx, styleOverride, childrenOverride) {\n      ctx.save();\n      ctx.globalAlpha = this.isMoving ? this.borderOpacityWhenMoving : 1;\n      this.callSuper('_renderControls', ctx, styleOverride);\n      childrenOverride = childrenOverride || { };\n      if (typeof childrenOverride.hasControls === 'undefined') {\n        childrenOverride.hasControls = false;\n      }\n      childrenOverride.forActiveSelection = true;\n      for (var i = 0, len = this._objects.length; i < len; i++) {\n        this._objects[i]._renderControls(ctx, childrenOverride);\n      }\n      ctx.restore();\n    },\n  });\n\n  /**\n   * Returns {@link fabric.ActiveSelection} instance from an object representation\n   * @static\n   * @memberOf fabric.ActiveSelection\n   * @param {Object} object Object to create a group from\n   * @param {Function} [callback] Callback to invoke when an ActiveSelection instance is created\n   */\n  fabric.ActiveSelection.fromObject = function(object, callback) {\n    fabric.util.enlivenObjects(object.objects, function(enlivenedObjects) {\n      delete object.objects;\n      callback && callback(new fabric.ActiveSelection(enlivenedObjects, object, true));\n    });\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var extend = fabric.util.object.extend;\n\n  if (!global.fabric) {\n    global.fabric = { };\n  }\n\n  if (global.fabric.Image) {\n    fabric.warn('fabric.Image is already defined.');\n    return;\n  }\n\n  /**\n   * Image class\n   * @class fabric.Image\n   * @extends fabric.Object\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-1#images}\n   * @see {@link fabric.Image#initialize} for constructor definition\n   */\n  fabric.Image = fabric.util.createClass(fabric.Object, /** @lends fabric.Image.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'image',\n\n    /**\n     * Width of a stroke.\n     * For image quality a stroke multiple of 2 gives better results.\n     * @type Number\n     * @default\n     */\n    strokeWidth: 0,\n\n    /**\n     * When calling {@link fabric.Image.getSrc}, return value from element src with `element.getAttribute('src')`.\n     * This allows for relative urls as image src.\n     * @since 2.7.0\n     * @type Boolean\n     * @default\n     */\n    srcFromAttribute: false,\n\n    /**\n     * private\n     * contains last value of scaleX to detect\n     * if the Image got resized after the last Render\n     * @type Number\n     */\n    _lastScaleX: 1,\n\n    /**\n     * private\n     * contains last value of scaleY to detect\n     * if the Image got resized after the last Render\n     * @type Number\n     */\n    _lastScaleY: 1,\n\n    /**\n     * private\n     * contains last value of scaling applied by the apply filter chain\n     * @type Number\n     */\n    _filterScalingX: 1,\n\n    /**\n     * private\n     * contains last value of scaling applied by the apply filter chain\n     * @type Number\n     */\n    _filterScalingY: 1,\n\n    /**\n     * minimum scale factor under which any resizeFilter is triggered to resize the image\n     * 0 will disable the automatic resize. 1 will trigger automatically always.\n     * number bigger than 1 are not implemented yet.\n     * @type Number\n     */\n    minimumScaleTrigger: 0.5,\n\n    /**\n     * List of properties to consider when checking if\n     * state of an object is changed ({@link fabric.Object#hasStateChanged})\n     * as well as for history (undo/redo) purposes\n     * @type Array\n     */\n    stateProperties: fabric.Object.prototype.stateProperties.concat('cropX', 'cropY'),\n\n    /**\n     * key used to retrieve the texture representing this image\n     * @since 2.0.0\n     * @type String\n     * @default\n     */\n    cacheKey: '',\n\n    /**\n     * Image crop in pixels from original image size.\n     * @since 2.0.0\n     * @type Number\n     * @default\n     */\n    cropX: 0,\n\n    /**\n     * Image crop in pixels from original image size.\n     * @since 2.0.0\n     * @type Number\n     * @default\n     */\n    cropY: 0,\n\n    /**\n     * Indicates whether this canvas will use image smoothing when painting this image.\n     * Also influence if the cacheCanvas for this image uses imageSmoothing\n     * @since 4.0.0-beta.11\n     * @type Boolean\n     * @default\n     */\n    imageSmoothing: true,\n\n    /**\n     * Constructor\n     * @param {HTMLImageElement | String} element Image element\n     * @param {Object} [options] Options object\n     * @param {function} [callback] callback function to call after eventual filters applied.\n     * @return {fabric.Image} thisArg\n     */\n    initialize: function(element, options) {\n      options || (options = { });\n      this.filters = [];\n      this.cacheKey = 'texture' + fabric.Object.__uid++;\n      this.callSuper('initialize', options);\n      this._initElement(element, options);\n    },\n\n    /**\n     * Returns image element which this instance if based on\n     * @return {HTMLImageElement} Image element\n     */\n    getElement: function() {\n      return this._element || {};\n    },\n\n    /**\n     * Sets image element for this instance to a specified one.\n     * If filters defined they are applied to new image.\n     * You might need to call `canvas.renderAll` and `object.setCoords` after replacing, to render new image and update controls area.\n     * @param {HTMLImageElement} element\n     * @param {Object} [options] Options object\n     * @return {fabric.Image} thisArg\n     * @chainable\n     */\n    setElement: function(element, options) {\n      this.removeTexture(this.cacheKey);\n      this.removeTexture(this.cacheKey + '_filtered');\n      this._element = element;\n      this._originalElement = element;\n      this._initConfig(options);\n      if (this.filters.length !== 0) {\n        this.applyFilters();\n      }\n      // resizeFilters work on the already filtered copy.\n      // we need to apply resizeFilters AFTER normal filters.\n      // applyResizeFilters is run more often than normal filters\n      // and is triggered by user interactions rather than dev code\n      if (this.resizeFilter) {\n        this.applyResizeFilters();\n      }\n      return this;\n    },\n\n    /**\n     * Delete a single texture if in webgl mode\n     */\n    removeTexture: function(key) {\n      var backend = fabric.filterBackend;\n      if (backend && backend.evictCachesForKey) {\n        backend.evictCachesForKey(key);\n      }\n    },\n\n    /**\n     * Delete textures, reference to elements and eventually JSDOM cleanup\n     */\n    dispose: function() {\n      this.removeTexture(this.cacheKey);\n      this.removeTexture(this.cacheKey + '_filtered');\n      this._cacheContext = undefined;\n      ['_originalElement', '_element', '_filteredEl', '_cacheCanvas'].forEach((function(element) {\n        fabric.util.cleanUpJsdomNode(this[element]);\n        this[element] = undefined;\n      }).bind(this));\n    },\n\n    /**\n     * Get the crossOrigin value (of the corresponding image element)\n     */\n    getCrossOrigin: function() {\n      return this._originalElement && (this._originalElement.crossOrigin || null);\n    },\n\n    /**\n     * Returns original size of an image\n     * @return {Object} Object with \"width\" and \"height\" properties\n     */\n    getOriginalSize: function() {\n      var element = this.getElement();\n      return {\n        width: element.naturalWidth || element.width,\n        height: element.naturalHeight || element.height\n      };\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _stroke: function(ctx) {\n      if (!this.stroke || this.strokeWidth === 0) {\n        return;\n      }\n      var w = this.width / 2, h = this.height / 2;\n      ctx.beginPath();\n      ctx.moveTo(-w, -h);\n      ctx.lineTo(w, -h);\n      ctx.lineTo(w, h);\n      ctx.lineTo(-w, h);\n      ctx.lineTo(-w, -h);\n      ctx.closePath();\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderDashedStroke: function(ctx) {\n      var x = -this.width / 2,\n          y = -this.height / 2,\n          w = this.width,\n          h = this.height;\n\n      ctx.save();\n      this._setStrokeStyles(ctx, this);\n\n      ctx.beginPath();\n      fabric.util.drawDashedLine(ctx, x, y, x + w, y, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, x + w, y, x + w, y + h, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, x + w, y + h, x, y + h, this.strokeDashArray);\n      fabric.util.drawDashedLine(ctx, x, y + h, x, y, this.strokeDashArray);\n      ctx.closePath();\n      ctx.restore();\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      var filters = [];\n\n      this.filters.forEach(function(filterObj) {\n        if (filterObj) {\n          filters.push(filterObj.toObject());\n        }\n      });\n      var object = extend(\n        this.callSuper(\n          'toObject',\n          ['cropX', 'cropY'].concat(propertiesToInclude)\n        ), {\n          src: this.getSrc(),\n          crossOrigin: this.getCrossOrigin(),\n          filters: filters,\n        });\n      if (this.resizeFilter) {\n        object.resizeFilter = this.resizeFilter.toObject();\n      }\n      return object;\n    },\n\n    /**\n     * Returns true if an image has crop applied, inspecting values of cropX,cropY,width,height.\n     * @return {Boolean}\n     */\n    hasCrop: function() {\n      return this.cropX || this.cropY || this.width < this._element.width || this.height < this._element.height;\n    },\n\n    /* _TO_SVG_START_ */\n    /**\n     * Returns svg representation of an instance\n     * @return {Array} an array of strings with the specific svg representation\n     * of the instance\n     */\n    _toSVG: function() {\n      var svgString = [], imageMarkup = [], strokeSvg, element = this._element,\n          x = -this.width / 2, y = -this.height / 2, clipPath = '', imageRendering = '';\n      if (!element) {\n        return [];\n      }\n      if (this.hasCrop()) {\n        var clipPathId = fabric.Object.__uid++;\n        svgString.push(\n          '<clipPath id=\"imageCrop_' + clipPathId + '\">\\n',\n          '\\t<rect x=\"' + x + '\" y=\"' + y + '\" width=\"' + this.width + '\" height=\"' + this.height + '\" />\\n',\n          '</clipPath>\\n'\n        );\n        clipPath = ' clip-path=\"url(#imageCrop_' + clipPathId + ')\" ';\n      }\n      if (!this.imageSmoothing) {\n        imageRendering = '\" image-rendering=\"optimizeSpeed';\n      }\n      imageMarkup.push('\\t<image ', 'COMMON_PARTS', 'xlink:href=\"', this.getSvgSrc(true),\n        '\" x=\"', x - this.cropX, '\" y=\"', y - this.cropY,\n        // we're essentially moving origin of transformation from top/left corner to the center of the shape\n        // by wrapping it in container <g> element with actual transformation, then offsetting object to the top/left\n        // so that object's center aligns with container's left/top\n        '\" width=\"', element.width || element.naturalWidth,\n        '\" height=\"', element.height || element.height,\n        imageRendering,\n        '\"', clipPath,\n        '></image>\\n');\n\n      if (this.stroke || this.strokeDashArray) {\n        var origFill = this.fill;\n        this.fill = null;\n        strokeSvg = [\n          '\\t<rect ',\n          'x=\"', x, '\" y=\"', y,\n          '\" width=\"', this.width, '\" height=\"', this.height,\n          '\" style=\"', this.getSvgStyles(),\n          '\"/>\\n'\n        ];\n        this.fill = origFill;\n      }\n      if (this.paintFirst !== 'fill') {\n        svgString = svgString.concat(strokeSvg, imageMarkup);\n      }\n      else {\n        svgString = svgString.concat(imageMarkup, strokeSvg);\n      }\n      return svgString;\n    },\n    /* _TO_SVG_END_ */\n\n    /**\n     * Returns source of an image\n     * @param {Boolean} filtered indicates if the src is needed for svg\n     * @return {String} Source of an image\n     */\n    getSrc: function(filtered) {\n      var element = filtered ? this._element : this._originalElement;\n      if (element) {\n        if (element.toDataURL) {\n          return element.toDataURL();\n        }\n\n        if (this.srcFromAttribute) {\n          return element.getAttribute('src');\n        }\n        else {\n          return element.src;\n        }\n      }\n      else {\n        return this.src || '';\n      }\n    },\n\n    /**\n     * Sets source of an image\n     * @param {String} src Source string (URL)\n     * @param {Function} [callback] Callback is invoked when image has been loaded (and all filters have been applied)\n     * @param {Object} [options] Options object\n     * @param {String} [options.crossOrigin] crossOrigin value (one of \"\", \"anonymous\", \"use-credentials\")\n     * @see https://developer.mozilla.org/en-US/docs/HTML/CORS_settings_attributes\n     * @return {fabric.Image} thisArg\n     * @chainable\n     */\n    setSrc: function(src, callback, options) {\n      fabric.util.loadImage(src, function(img, isError) {\n        this.setElement(img, options);\n        this._setWidthHeight();\n        callback && callback(this, isError);\n      }, this, options && options.crossOrigin);\n      return this;\n    },\n\n    /**\n     * Returns string representation of an instance\n     * @return {String} String representation of an instance\n     */\n    toString: function() {\n      return '#<fabric.Image: { src: \"' + this.getSrc() + '\" }>';\n    },\n\n    applyResizeFilters: function() {\n      var filter = this.resizeFilter,\n          minimumScale = this.minimumScaleTrigger,\n          objectScale = this.getTotalObjectScaling(),\n          scaleX = objectScale.scaleX,\n          scaleY = objectScale.scaleY,\n          elementToFilter = this._filteredEl || this._originalElement;\n      if (this.group) {\n        this.set('dirty', true);\n      }\n      if (!filter || (scaleX > minimumScale && scaleY > minimumScale)) {\n        this._element = elementToFilter;\n        this._filterScalingX = 1;\n        this._filterScalingY = 1;\n        this._lastScaleX = scaleX;\n        this._lastScaleY = scaleY;\n        return;\n      }\n      if (!fabric.filterBackend) {\n        fabric.filterBackend = fabric.initFilterBackend();\n      }\n      var canvasEl = fabric.util.createCanvasElement(),\n          cacheKey = this._filteredEl ? (this.cacheKey + '_filtered') : this.cacheKey,\n          sourceWidth = elementToFilter.width, sourceHeight = elementToFilter.height;\n      canvasEl.width = sourceWidth;\n      canvasEl.height = sourceHeight;\n      this._element = canvasEl;\n      this._lastScaleX = filter.scaleX = scaleX;\n      this._lastScaleY = filter.scaleY = scaleY;\n      fabric.filterBackend.applyFilters(\n        [filter], elementToFilter, sourceWidth, sourceHeight, this._element, cacheKey);\n      this._filterScalingX = canvasEl.width / this._originalElement.width;\n      this._filterScalingY = canvasEl.height / this._originalElement.height;\n    },\n\n    /**\n     * Applies filters assigned to this image (from \"filters\" array) or from filter param\n     * @method applyFilters\n     * @param {Array} filters to be applied\n     * @param {Boolean} forResizing specify if the filter operation is a resize operation\n     * @return {thisArg} return the fabric.Image object\n     * @chainable\n     */\n    applyFilters: function(filters) {\n\n      filters = filters || this.filters || [];\n      filters = filters.filter(function(filter) { return filter && !filter.isNeutralState(); });\n      this.set('dirty', true);\n\n      // needs to clear out or WEBGL will not resize correctly\n      this.removeTexture(this.cacheKey + '_filtered');\n\n      if (filters.length === 0) {\n        this._element = this._originalElement;\n        this._filteredEl = null;\n        this._filterScalingX = 1;\n        this._filterScalingY = 1;\n        return this;\n      }\n\n      var imgElement = this._originalElement,\n          sourceWidth = imgElement.naturalWidth || imgElement.width,\n          sourceHeight = imgElement.naturalHeight || imgElement.height;\n\n      if (this._element === this._originalElement) {\n        // if the element is the same we need to create a new element\n        var canvasEl = fabric.util.createCanvasElement();\n        canvasEl.width = sourceWidth;\n        canvasEl.height = sourceHeight;\n        this._element = canvasEl;\n        this._filteredEl = canvasEl;\n      }\n      else {\n        // clear the existing element to get new filter data\n        // also dereference the eventual resized _element\n        this._element = this._filteredEl;\n        this._filteredEl.getContext('2d').clearRect(0, 0, sourceWidth, sourceHeight);\n        // we also need to resize again at next renderAll, so remove saved _lastScaleX/Y\n        this._lastScaleX = 1;\n        this._lastScaleY = 1;\n      }\n      if (!fabric.filterBackend) {\n        fabric.filterBackend = fabric.initFilterBackend();\n      }\n      fabric.filterBackend.applyFilters(\n        filters, this._originalElement, sourceWidth, sourceHeight, this._element, this.cacheKey);\n      if (this._originalElement.width !== this._element.width ||\n        this._originalElement.height !== this._element.height) {\n        this._filterScalingX = this._element.width / this._originalElement.width;\n        this._filterScalingY = this._element.height / this._originalElement.height;\n      }\n      return this;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n      fabric.util.setImageSmoothing(ctx, this.imageSmoothing);\n      if (this.isMoving !== true && this.resizeFilter && this._needsResize()) {\n        this.applyResizeFilters();\n      }\n      this._stroke(ctx);\n      this._renderPaintInOrder(ctx);\n    },\n\n    /**\n     * Paint the cached copy of the object on the target context.\n     * it will set the imageSmoothing for the draw operation\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    drawCacheOnCanvas: function(ctx) {\n      fabric.util.setImageSmoothing(ctx, this.imageSmoothing);\n      fabric.Object.prototype.drawCacheOnCanvas.call(this, ctx);\n    },\n\n    /**\n     * Decide if the object should cache or not. Create its own cache level\n     * needsItsOwnCache should be used when the object drawing method requires\n     * a cache step. None of the fabric classes requires it.\n     * Generally you do not cache objects in groups because the group outside is cached.\n     * This is the special image version where we would like to avoid caching where possible.\n     * Essentially images do not benefit from caching. They may require caching, and in that\n     * case we do it. Also caching an image usually ends in a loss of details.\n     * A full performance audit should be done.\n     * @return {Boolean}\n     */\n    shouldCache: function() {\n      return this.needsItsOwnCache();\n    },\n\n    _renderFill: function(ctx) {\n      var elementToDraw = this._element;\n      if (!elementToDraw) {\n        return;\n      }\n      var scaleX = this._filterScalingX, scaleY = this._filterScalingY,\n          w = this.width, h = this.height, min = Math.min, max = Math.max,\n          // crop values cannot be lesser than 0.\n          cropX = max(this.cropX, 0), cropY = max(this.cropY, 0),\n          elWidth = elementToDraw.naturalWidth || elementToDraw.width,\n          elHeight = elementToDraw.naturalHeight || elementToDraw.height,\n          sX = cropX * scaleX,\n          sY = cropY * scaleY,\n          // the width height cannot exceed element width/height, starting from the crop offset.\n          sW = min(w * scaleX, elWidth - sX),\n          sH = min(h * scaleY, elHeight - sY),\n          x = -w / 2, y = -h / 2,\n          maxDestW = min(w, elWidth / scaleX - cropX),\n          maxDestH = min(h, elHeight / scaleX - cropY);\n\n      elementToDraw && ctx.drawImage(elementToDraw, sX, sY, sW, sH, x, y, maxDestW, maxDestH);\n    },\n\n    /**\n     * needed to check if image needs resize\n     * @private\n     */\n    _needsResize: function() {\n      var scale = this.getTotalObjectScaling();\n      return (scale.scaleX !== this._lastScaleX || scale.scaleY !== this._lastScaleY);\n    },\n\n    /**\n     * @private\n     */\n    _resetWidthHeight: function() {\n      this.set(this.getOriginalSize());\n    },\n\n    /**\n     * The Image class's initialization method. This method is automatically\n     * called by the constructor.\n     * @private\n     * @param {HTMLImageElement|String} element The element representing the image\n     * @param {Object} [options] Options object\n     */\n    _initElement: function(element, options) {\n      this.setElement(fabric.util.getById(element), options);\n      fabric.util.addClass(this.getElement(), fabric.Image.CSS_CANVAS);\n    },\n\n    /**\n     * @private\n     * @param {Object} [options] Options object\n     */\n    _initConfig: function(options) {\n      options || (options = { });\n      this.setOptions(options);\n      this._setWidthHeight(options);\n    },\n\n    /**\n     * @private\n     * @param {Array} filters to be initialized\n     * @param {Function} callback Callback to invoke when all fabric.Image.filters instances are created\n     */\n    _initFilters: function(filters, callback) {\n      if (filters && filters.length) {\n        fabric.util.enlivenObjects(filters, function(enlivenedObjects) {\n          callback && callback(enlivenedObjects);\n        }, 'fabric.Image.filters');\n      }\n      else {\n        callback && callback();\n      }\n    },\n\n    /**\n     * @private\n     * Set the width and the height of the image object, using the element or the\n     * options.\n     * @param {Object} [options] Object with width/height properties\n     */\n    _setWidthHeight: function(options) {\n      options || (options = { });\n      var el = this.getElement();\n      this.width = options.width || el.naturalWidth || el.width || 0;\n      this.height = options.height || el.naturalHeight || el.height || 0;\n    },\n\n    /**\n     * Calculate offset for center and scale factor for the image in order to respect\n     * the preserveAspectRatio attribute\n     * @private\n     * @return {Object}\n     */\n    parsePreserveAspectRatioAttribute: function() {\n      var pAR = fabric.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio || ''),\n          rWidth = this._element.width, rHeight = this._element.height,\n          scaleX = 1, scaleY = 1, offsetLeft = 0, offsetTop = 0, cropX = 0, cropY = 0,\n          offset, pWidth = this.width, pHeight = this.height, parsedAttributes = { width: pWidth, height: pHeight };\n      if (pAR && (pAR.alignX !== 'none' || pAR.alignY !== 'none')) {\n        if (pAR.meetOrSlice === 'meet') {\n          scaleX = scaleY = fabric.util.findScaleToFit(this._element, parsedAttributes);\n          offset = (pWidth - rWidth * scaleX) / 2;\n          if (pAR.alignX === 'Min') {\n            offsetLeft = -offset;\n          }\n          if (pAR.alignX === 'Max') {\n            offsetLeft = offset;\n          }\n          offset = (pHeight - rHeight * scaleY) / 2;\n          if (pAR.alignY === 'Min') {\n            offsetTop = -offset;\n          }\n          if (pAR.alignY === 'Max') {\n            offsetTop = offset;\n          }\n        }\n        if (pAR.meetOrSlice === 'slice') {\n          scaleX = scaleY = fabric.util.findScaleToCover(this._element, parsedAttributes);\n          offset = rWidth - pWidth / scaleX;\n          if (pAR.alignX === 'Mid') {\n            cropX = offset / 2;\n          }\n          if (pAR.alignX === 'Max') {\n            cropX = offset;\n          }\n          offset = rHeight - pHeight / scaleY;\n          if (pAR.alignY === 'Mid') {\n            cropY = offset / 2;\n          }\n          if (pAR.alignY === 'Max') {\n            cropY = offset;\n          }\n          rWidth = pWidth / scaleX;\n          rHeight = pHeight / scaleY;\n        }\n      }\n      else {\n        scaleX = pWidth / rWidth;\n        scaleY = pHeight / rHeight;\n      }\n      return {\n        width: rWidth,\n        height: rHeight,\n        scaleX: scaleX,\n        scaleY: scaleY,\n        offsetLeft: offsetLeft,\n        offsetTop: offsetTop,\n        cropX: cropX,\n        cropY: cropY\n      };\n    }\n  });\n\n  /**\n   * Default CSS class name for canvas\n   * @static\n   * @type String\n   * @default\n   */\n  fabric.Image.CSS_CANVAS = 'canvas-img';\n\n  /**\n   * Alias for getSrc\n   * @static\n   */\n  fabric.Image.prototype.getSvgSrc = fabric.Image.prototype.getSrc;\n\n  /**\n   * Creates an instance of fabric.Image from its object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {Function} callback Callback to invoke when an image instance is created\n   */\n  fabric.Image.fromObject = function(_object, callback) {\n    var object = fabric.util.object.clone(_object);\n    fabric.util.loadImage(object.src, function(img, isError) {\n      if (isError) {\n        callback && callback(null, true);\n        return;\n      }\n      fabric.Image.prototype._initFilters.call(object, object.filters, function(filters) {\n        object.filters = filters || [];\n        fabric.Image.prototype._initFilters.call(object, [object.resizeFilter], function(resizeFilters) {\n          object.resizeFilter = resizeFilters[0];\n          fabric.util.enlivenObjects([object.clipPath], function(enlivedProps) {\n            object.clipPath = enlivedProps[0];\n            var image = new fabric.Image(img, object);\n            callback(image, false);\n          });\n        });\n      });\n    }, null, object.crossOrigin);\n  };\n\n  /**\n   * Creates an instance of fabric.Image from an URL string\n   * @static\n   * @param {String} url URL to create an image from\n   * @param {Function} [callback] Callback to invoke when image is created (newly created image is passed as a first argument). Second argument is a boolean indicating if an error occurred or not.\n   * @param {Object} [imgOptions] Options object\n   */\n  fabric.Image.fromURL = function(url, callback, imgOptions) {\n    fabric.util.loadImage(url, function(img, isError) {\n      callback && callback(new fabric.Image(img, imgOptions), isError);\n    }, null, imgOptions && imgOptions.crossOrigin);\n  };\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Image.fromElement})\n   * @static\n   * @see {@link http://www.w3.org/TR/SVG/struct.html#ImageElement}\n   */\n  fabric.Image.ATTRIBUTE_NAMES =\n    fabric.SHARED_ATTRIBUTES.concat(\n      'x y width height preserveAspectRatio xlink:href crossOrigin image-rendering'.split(' ')\n    );\n\n  /**\n   * Returns {@link fabric.Image} instance from an SVG element\n   * @static\n   * @param {SVGElement} element Element to parse\n   * @param {Object} [options] Options object\n   * @param {Function} callback Callback to execute when fabric.Image object is created\n   * @return {fabric.Image} Instance of fabric.Image\n   */\n  fabric.Image.fromElement = function(element, callback, options) {\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Image.ATTRIBUTE_NAMES);\n    fabric.Image.fromURL(parsedAttributes['xlink:href'], callback,\n      extend((options ? fabric.util.object.clone(options) : { }), parsedAttributes));\n  };\n  /* _FROM_SVG_END_ */\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\nfabric.util.object.extend(fabric.Object.prototype, /** @lends fabric.Object.prototype */ {\n\n  /**\n   * @private\n   * @return {Number} angle value\n   */\n  _getAngleValueForStraighten: function() {\n    var angle = this.angle % 360;\n    if (angle > 0) {\n      return Math.round((angle - 1) / 90) * 90;\n    }\n    return Math.round(angle / 90) * 90;\n  },\n\n  /**\n   * Straightens an object (rotating it from current angle to one of 0, 90, 180, 270, etc. depending on which is closer)\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  straighten: function() {\n    this.rotate(this._getAngleValueForStraighten());\n    return this;\n  },\n\n  /**\n   * Same as {@link fabric.Object.prototype.straighten} but with animation\n   * @param {Object} callbacks Object with callback functions\n   * @param {Function} [callbacks.onComplete] Invoked on completion\n   * @param {Function} [callbacks.onChange] Invoked on every step of animation\n   * @return {fabric.Object} thisArg\n   * @chainable\n   */\n  fxStraighten: function(callbacks) {\n    callbacks = callbacks || { };\n\n    var empty = function() { },\n        onComplete = callbacks.onComplete || empty,\n        onChange = callbacks.onChange || empty,\n        _this = this;\n\n    fabric.util.animate({\n      startValue: this.get('angle'),\n      endValue: this._getAngleValueForStraighten(),\n      duration: this.FX_DURATION,\n      onChange: function(value) {\n        _this.rotate(value);\n        onChange();\n      },\n      onComplete: function() {\n        _this.setCoords();\n        onComplete();\n      },\n    });\n\n    return this;\n  }\n});\n\nfabric.util.object.extend(fabric.StaticCanvas.prototype, /** @lends fabric.StaticCanvas.prototype */ {\n\n  /**\n   * Straightens object, then rerenders canvas\n   * @param {fabric.Object} object Object to straighten\n   * @return {fabric.Canvas} thisArg\n   * @chainable\n   */\n  straightenObject: function (object) {\n    object.straighten();\n    this.requestRenderAll();\n    return this;\n  },\n\n  /**\n   * Same as {@link fabric.Canvas.prototype.straightenObject}, but animated\n   * @param {fabric.Object} object Object to straighten\n   * @return {fabric.Canvas} thisArg\n   * @chainable\n   */\n  fxStraightenObject: function (object) {\n    object.fxStraighten({\n      onChange: this.requestRenderAllBound\n    });\n    return this;\n  }\n});\n\n\n(function() {\n\n  'use strict';\n\n  /**\n   * Tests if webgl supports certain precision\n   * @param {WebGL} Canvas WebGL context to test on\n   * @param {String} Precision to test can be any of following: 'lowp', 'mediump', 'highp'\n   * @returns {Boolean} Whether the user's browser WebGL supports given precision.\n   */\n  function testPrecision(gl, precision){\n    var fragmentSource = 'precision ' + precision + ' float;\\nvoid main(){}';\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, fragmentSource);\n    gl.compileShader(fragmentShader);\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * Indicate whether this filtering backend is supported by the user's browser.\n   * @param {Number} tileSize check if the tileSize is supported\n   * @returns {Boolean} Whether the user's browser supports WebGL.\n   */\n  fabric.isWebglSupported = function(tileSize) {\n    if (fabric.isLikelyNode) {\n      return false;\n    }\n    tileSize = tileSize || fabric.WebglFilterBackend.prototype.tileSize;\n    var canvas = document.createElement('canvas');\n    var gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n    var isSupported = false;\n    // eslint-disable-next-line\n    if (gl) {\n      fabric.maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);\n      isSupported = fabric.maxTextureSize >= tileSize;\n      var precisions = ['highp', 'mediump', 'lowp'];\n      for (var i = 0; i < 3; i++){\n        if (testPrecision(gl, precisions[i])){\n          fabric.webGlPrecision = precisions[i];\n          break;\n        };\n      }\n    }\n    this.isSupported = isSupported;\n    return isSupported;\n  };\n\n  fabric.WebglFilterBackend = WebglFilterBackend;\n\n  /**\n   * WebGL filter backend.\n   */\n  function WebglFilterBackend(options) {\n    if (options && options.tileSize) {\n      this.tileSize = options.tileSize;\n    }\n    this.setupGLContext(this.tileSize, this.tileSize);\n    this.captureGPUInfo();\n  };\n\n  WebglFilterBackend.prototype = /** @lends fabric.WebglFilterBackend.prototype */ {\n\n    tileSize: 2048,\n\n    /**\n     * Experimental. This object is a sort of repository of help layers used to avoid\n     * of recreating them during frequent filtering. If you are previewing a filter with\n     * a slider you probably do not want to create help layers every filter step.\n     * in this object there will be appended some canvases, created once, resized sometimes\n     * cleared never. Clearing is left to the developer.\n     **/\n    resources: {\n\n    },\n\n    /**\n     * Setup a WebGL context suitable for filtering, and bind any needed event handlers.\n     */\n    setupGLContext: function(width, height) {\n      this.dispose();\n      this.createWebGLCanvas(width, height);\n      // eslint-disable-next-line\n      this.aPosition = new Float32Array([0, 0, 0, 1, 1, 0, 1, 1]);\n      this.chooseFastestCopyGLTo2DMethod(width, height);\n    },\n\n    /**\n     * Pick a method to copy data from GL context to 2d canvas.  In some browsers using\n     * putImageData is faster than drawImage for that specific operation.\n     */\n    chooseFastestCopyGLTo2DMethod: function(width, height) {\n      var canMeasurePerf = typeof window.performance !== 'undefined', canUseImageData;\n      try {\n        new ImageData(1, 1);\n        canUseImageData = true;\n      }\n      catch (e) {\n        canUseImageData = false;\n      }\n      // eslint-disable-next-line no-undef\n      var canUseArrayBuffer = typeof ArrayBuffer !== 'undefined';\n      // eslint-disable-next-line no-undef\n      var canUseUint8Clamped = typeof Uint8ClampedArray !== 'undefined';\n\n      if (!(canMeasurePerf && canUseImageData && canUseArrayBuffer && canUseUint8Clamped)) {\n        return;\n      }\n\n      var targetCanvas = fabric.util.createCanvasElement();\n      // eslint-disable-next-line no-undef\n      var imageBuffer = new ArrayBuffer(width * height * 4);\n      if (fabric.forceGLPutImageData) {\n        this.imageBuffer = imageBuffer;\n        this.copyGLTo2D = copyGLTo2DPutImageData;\n        return;\n      }\n      var testContext = {\n        imageBuffer: imageBuffer,\n        destinationWidth: width,\n        destinationHeight: height,\n        targetCanvas: targetCanvas\n      };\n      var startTime, drawImageTime, putImageDataTime;\n      targetCanvas.width = width;\n      targetCanvas.height = height;\n\n      startTime = window.performance.now();\n      copyGLTo2DDrawImage.call(testContext, this.gl, testContext);\n      drawImageTime = window.performance.now() - startTime;\n\n      startTime = window.performance.now();\n      copyGLTo2DPutImageData.call(testContext, this.gl, testContext);\n      putImageDataTime = window.performance.now() - startTime;\n\n      if (drawImageTime > putImageDataTime) {\n        this.imageBuffer = imageBuffer;\n        this.copyGLTo2D = copyGLTo2DPutImageData;\n      }\n      else {\n        this.copyGLTo2D = copyGLTo2DDrawImage;\n      }\n    },\n\n    /**\n     * Create a canvas element and associated WebGL context and attaches them as\n     * class properties to the GLFilterBackend class.\n     */\n    createWebGLCanvas: function(width, height) {\n      var canvas = fabric.util.createCanvasElement();\n      canvas.width = width;\n      canvas.height = height;\n      var glOptions = {\n            alpha: true,\n            premultipliedAlpha: false,\n            depth: false,\n            stencil: false,\n            antialias: false\n          },\n          gl = canvas.getContext('webgl', glOptions);\n      if (!gl) {\n        gl = canvas.getContext('experimental-webgl', glOptions);\n      }\n      if (!gl) {\n        return;\n      }\n      gl.clearColor(0, 0, 0, 0);\n      // this canvas can fire webglcontextlost and webglcontextrestored\n      this.canvas = canvas;\n      this.gl = gl;\n    },\n\n    /**\n     * Attempts to apply the requested filters to the source provided, drawing the filtered output\n     * to the provided target canvas.\n     *\n     * @param {Array} filters The filters to apply.\n     * @param {HTMLImageElement|HTMLCanvasElement} source The source to be filtered.\n     * @param {Number} width The width of the source input.\n     * @param {Number} height The height of the source input.\n     * @param {HTMLCanvasElement} targetCanvas The destination for filtered output to be drawn.\n     * @param {String|undefined} cacheKey A key used to cache resources related to the source. If\n     * omitted, caching will be skipped.\n     */\n    applyFilters: function(filters, source, width, height, targetCanvas, cacheKey) {\n      var gl = this.gl;\n      var cachedTexture;\n      if (cacheKey) {\n        cachedTexture = this.getCachedTexture(cacheKey, source);\n      }\n      var pipelineState = {\n        originalWidth: source.width || source.originalWidth,\n        originalHeight: source.height || source.originalHeight,\n        sourceWidth: width,\n        sourceHeight: height,\n        destinationWidth: width,\n        destinationHeight: height,\n        context: gl,\n        sourceTexture: this.createTexture(gl, width, height, !cachedTexture && source),\n        targetTexture: this.createTexture(gl, width, height),\n        originalTexture: cachedTexture ||\n          this.createTexture(gl, width, height, !cachedTexture && source),\n        passes: filters.length,\n        webgl: true,\n        aPosition: this.aPosition,\n        programCache: this.programCache,\n        pass: 0,\n        filterBackend: this,\n        targetCanvas: targetCanvas\n      };\n      var tempFbo = gl.createFramebuffer();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, tempFbo);\n      filters.forEach(function(filter) { filter && filter.applyTo(pipelineState); });\n      resizeCanvasIfNeeded(pipelineState);\n      this.copyGLTo2D(gl, pipelineState);\n      gl.bindTexture(gl.TEXTURE_2D, null);\n      gl.deleteTexture(pipelineState.sourceTexture);\n      gl.deleteTexture(pipelineState.targetTexture);\n      gl.deleteFramebuffer(tempFbo);\n      targetCanvas.getContext('2d').setTransform(1, 0, 0, 1, 0, 0);\n      return pipelineState;\n    },\n\n    /**\n     * Detach event listeners, remove references, and clean up caches.\n     */\n    dispose: function() {\n      if (this.canvas) {\n        this.canvas = null;\n        this.gl = null;\n      }\n      this.clearWebGLCaches();\n    },\n\n    /**\n     * Wipe out WebGL-related caches.\n     */\n    clearWebGLCaches: function() {\n      this.programCache = {};\n      this.textureCache = {};\n    },\n\n    /**\n     * Create a WebGL texture object.\n     *\n     * Accepts specific dimensions to initialize the texture to or a source image.\n     *\n     * @param {WebGLRenderingContext} gl The GL context to use for creating the texture.\n     * @param {Number} width The width to initialize the texture at.\n     * @param {Number} height The height to initialize the texture.\n     * @param {HTMLImageElement|HTMLCanvasElement} textureImageSource A source for the texture data.\n     * @returns {WebGLTexture}\n     */\n    createTexture: function(gl, width, height, textureImageSource) {\n      var texture = gl.createTexture();\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      if (textureImageSource) {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureImageSource);\n      }\n      else {\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n      }\n      return texture;\n    },\n\n    /**\n     * Can be optionally used to get a texture from the cache array\n     *\n     * If an existing texture is not found, a new texture is created and cached.\n     *\n     * @param {String} uniqueId A cache key to use to find an existing texture.\n     * @param {HTMLImageElement|HTMLCanvasElement} textureImageSource A source to use to create the\n     * texture cache entry if one does not already exist.\n     */\n    getCachedTexture: function(uniqueId, textureImageSource) {\n      if (this.textureCache[uniqueId]) {\n        return this.textureCache[uniqueId];\n      }\n      else {\n        var texture = this.createTexture(\n          this.gl, textureImageSource.width, textureImageSource.height, textureImageSource);\n        this.textureCache[uniqueId] = texture;\n        return texture;\n      }\n    },\n\n    /**\n     * Clear out cached resources related to a source image that has been\n     * filtered previously.\n     *\n     * @param {String} cacheKey The cache key provided when the source image was filtered.\n     */\n    evictCachesForKey: function(cacheKey) {\n      if (this.textureCache[cacheKey]) {\n        this.gl.deleteTexture(this.textureCache[cacheKey]);\n        delete this.textureCache[cacheKey];\n      }\n    },\n\n    copyGLTo2D: copyGLTo2DDrawImage,\n\n    /**\n     * Attempt to extract GPU information strings from a WebGL context.\n     *\n     * Useful information when debugging or blacklisting specific GPUs.\n     *\n     * @returns {Object} A GPU info object with renderer and vendor strings.\n     */\n    captureGPUInfo: function() {\n      if (this.gpuInfo) {\n        return this.gpuInfo;\n      }\n      var gl = this.gl, gpuInfo = { renderer: '', vendor: '' };\n      if (!gl) {\n        return gpuInfo;\n      }\n      var ext = gl.getExtension('WEBGL_debug_renderer_info');\n      if (ext) {\n        var renderer = gl.getParameter(ext.UNMASKED_RENDERER_WEBGL);\n        var vendor = gl.getParameter(ext.UNMASKED_VENDOR_WEBGL);\n        if (renderer) {\n          gpuInfo.renderer = renderer.toLowerCase();\n        }\n        if (vendor) {\n          gpuInfo.vendor = vendor.toLowerCase();\n        }\n      }\n      this.gpuInfo = gpuInfo;\n      return gpuInfo;\n    },\n  };\n})();\n\nfunction resizeCanvasIfNeeded(pipelineState) {\n  var targetCanvas = pipelineState.targetCanvas,\n      width = targetCanvas.width, height = targetCanvas.height,\n      dWidth = pipelineState.destinationWidth,\n      dHeight = pipelineState.destinationHeight;\n\n  if (width !== dWidth || height !== dHeight) {\n    targetCanvas.width = dWidth;\n    targetCanvas.height = dHeight;\n  }\n}\n\n/**\n * Copy an input WebGL canvas on to an output 2D canvas.\n *\n * The WebGL canvas is assumed to be upside down, with the top-left pixel of the\n * desired output image appearing in the bottom-left corner of the WebGL canvas.\n *\n * @param {WebGLRenderingContext} sourceContext The WebGL context to copy from.\n * @param {HTMLCanvasElement} targetCanvas The 2D target canvas to copy on to.\n * @param {Object} pipelineState The 2D target canvas to copy on to.\n */\nfunction copyGLTo2DDrawImage(gl, pipelineState) {\n  var glCanvas = gl.canvas, targetCanvas = pipelineState.targetCanvas,\n      ctx = targetCanvas.getContext('2d');\n  ctx.translate(0, targetCanvas.height); // move it down again\n  ctx.scale(1, -1); // vertical flip\n  // where is my image on the big glcanvas?\n  var sourceY = glCanvas.height - targetCanvas.height;\n  ctx.drawImage(glCanvas, 0, sourceY, targetCanvas.width, targetCanvas.height, 0, 0,\n    targetCanvas.width, targetCanvas.height);\n}\n\n/**\n * Copy an input WebGL canvas on to an output 2D canvas using 2d canvas' putImageData\n * API. Measurably faster than using ctx.drawImage in Firefox (version 54 on OSX Sierra).\n *\n * @param {WebGLRenderingContext} sourceContext The WebGL context to copy from.\n * @param {HTMLCanvasElement} targetCanvas The 2D target canvas to copy on to.\n * @param {Object} pipelineState The 2D target canvas to copy on to.\n */\nfunction copyGLTo2DPutImageData(gl, pipelineState) {\n  var targetCanvas = pipelineState.targetCanvas, ctx = targetCanvas.getContext('2d'),\n      dWidth = pipelineState.destinationWidth,\n      dHeight = pipelineState.destinationHeight,\n      numBytes = dWidth * dHeight * 4;\n\n  // eslint-disable-next-line no-undef\n  var u8 = new Uint8Array(this.imageBuffer, 0, numBytes);\n  // eslint-disable-next-line no-undef\n  var u8Clamped = new Uint8ClampedArray(this.imageBuffer, 0, numBytes);\n\n  gl.readPixels(0, 0, dWidth, dHeight, gl.RGBA, gl.UNSIGNED_BYTE, u8);\n  var imgData = new ImageData(u8Clamped, dWidth, dHeight);\n  ctx.putImageData(imgData, 0, 0);\n}\n\n\n(function() {\n\n  'use strict';\n\n  var noop = function() {};\n\n  fabric.Canvas2dFilterBackend = Canvas2dFilterBackend;\n\n  /**\n   * Canvas 2D filter backend.\n   */\n  function Canvas2dFilterBackend() {};\n\n  Canvas2dFilterBackend.prototype = /** @lends fabric.Canvas2dFilterBackend.prototype */ {\n    evictCachesForKey: noop,\n    dispose: noop,\n    clearWebGLCaches: noop,\n\n    /**\n     * Experimental. This object is a sort of repository of help layers used to avoid\n     * of recreating them during frequent filtering. If you are previewing a filter with\n     * a slider you probably do not want to create help layers every filter step.\n     * in this object there will be appended some canvases, created once, resized sometimes\n     * cleared never. Clearing is left to the developer.\n     **/\n    resources: {\n\n    },\n\n    /**\n     * Apply a set of filters against a source image and draw the filtered output\n     * to the provided destination canvas.\n     *\n     * @param {EnhancedFilter} filters The filter to apply.\n     * @param {HTMLImageElement|HTMLCanvasElement} sourceElement The source to be filtered.\n     * @param {Number} sourceWidth The width of the source input.\n     * @param {Number} sourceHeight The height of the source input.\n     * @param {HTMLCanvasElement} targetCanvas The destination for filtered output to be drawn.\n     */\n    applyFilters: function(filters, sourceElement, sourceWidth, sourceHeight, targetCanvas) {\n      var ctx = targetCanvas.getContext('2d');\n      ctx.drawImage(sourceElement, 0, 0, sourceWidth, sourceHeight);\n      var imageData = ctx.getImageData(0, 0, sourceWidth, sourceHeight);\n      var originalImageData = ctx.getImageData(0, 0, sourceWidth, sourceHeight);\n      var pipelineState = {\n        sourceWidth: sourceWidth,\n        sourceHeight: sourceHeight,\n        imageData: imageData,\n        originalEl: sourceElement,\n        originalImageData: originalImageData,\n        canvasEl: targetCanvas,\n        ctx: ctx,\n        filterBackend: this,\n      };\n      filters.forEach(function(filter) { filter.applyTo(pipelineState); });\n      if (pipelineState.imageData.width !== sourceWidth || pipelineState.imageData.height !== sourceHeight) {\n        targetCanvas.width = pipelineState.imageData.width;\n        targetCanvas.height = pipelineState.imageData.height;\n      }\n      ctx.putImageData(pipelineState.imageData, 0, 0);\n      return pipelineState;\n    },\n\n  };\n})();\n\n\n/**\n * @namespace fabric.Image.filters\n * @memberOf fabric.Image\n * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#image_filters}\n * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n */\nfabric.Image = fabric.Image || { };\nfabric.Image.filters = fabric.Image.filters || { };\n\n/**\n * Root filter class from which all filter classes inherit from\n * @class fabric.Image.filters.BaseFilter\n * @memberOf fabric.Image.filters\n */\nfabric.Image.filters.BaseFilter = fabric.util.createClass(/** @lends fabric.Image.filters.BaseFilter.prototype */ {\n\n  /**\n   * Filter type\n   * @param {String} type\n   * @default\n   */\n  type: 'BaseFilter',\n\n  /**\n   * Array of attributes to send with buffers. do not modify\n   * @private\n   */\n\n  vertexSource: 'attribute vec2 aPosition;\\n' +\n    'varying vec2 vTexCoord;\\n' +\n    'void main() {\\n' +\n      'vTexCoord = aPosition;\\n' +\n      'gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n' +\n    '}',\n\n  fragmentSource: 'precision highp float;\\n' +\n    'varying vec2 vTexCoord;\\n' +\n    'uniform sampler2D uTexture;\\n' +\n    'void main() {\\n' +\n      'gl_FragColor = texture2D(uTexture, vTexCoord);\\n' +\n    '}',\n\n  /**\n   * Constructor\n   * @param {Object} [options] Options object\n   */\n  initialize: function(options) {\n    if (options) {\n      this.setOptions(options);\n    }\n  },\n\n  /**\n   * Sets filter's properties from options\n   * @param {Object} [options] Options object\n   */\n  setOptions: function(options) {\n    for (var prop in options) {\n      this[prop] = options[prop];\n    }\n  },\n\n  /**\n   * Compile this filter's shader program.\n   *\n   * @param {WebGLRenderingContext} gl The GL canvas context to use for shader compilation.\n   * @param {String} fragmentSource fragmentShader source for compilation\n   * @param {String} vertexSource vertexShader source for compilation\n   */\n  createProgram: function(gl, fragmentSource, vertexSource) {\n    fragmentSource = fragmentSource || this.fragmentSource;\n    vertexSource = vertexSource || this.vertexSource;\n    if (fabric.webGlPrecision !== 'highp'){\n      fragmentSource = fragmentSource.replace(\n        /precision highp float/g,\n        'precision ' + fabric.webGlPrecision + ' float'\n      );\n    }\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, vertexSource);\n    gl.compileShader(vertexShader);\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n      throw new Error(\n        // eslint-disable-next-line prefer-template\n        'Vertex shader compile error for ' + this.type + ': ' +\n        gl.getShaderInfoLog(vertexShader)\n      );\n    }\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, fragmentSource);\n    gl.compileShader(fragmentShader);\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n      throw new Error(\n        // eslint-disable-next-line prefer-template\n        'Fragment shader compile error for ' + this.type + ': ' +\n        gl.getShaderInfoLog(fragmentShader)\n      );\n    }\n\n    var program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n      throw new Error(\n        // eslint-disable-next-line prefer-template\n        'Shader link error for \"${this.type}\" ' +\n        gl.getProgramInfoLog(program)\n      );\n    }\n\n    var attributeLocations = this.getAttributeLocations(gl, program);\n    var uniformLocations = this.getUniformLocations(gl, program) || { };\n    uniformLocations.uStepW = gl.getUniformLocation(program, 'uStepW');\n    uniformLocations.uStepH = gl.getUniformLocation(program, 'uStepH');\n    return {\n      program: program,\n      attributeLocations: attributeLocations,\n      uniformLocations: uniformLocations\n    };\n  },\n\n  /**\n   * Return a map of attribute names to WebGLAttributeLocation objects.\n   *\n   * @param {WebGLRenderingContext} gl The canvas context used to compile the shader program.\n   * @param {WebGLShaderProgram} program The shader program from which to take attribute locations.\n   * @returns {Object} A map of attribute names to attribute locations.\n   */\n  getAttributeLocations: function(gl, program) {\n    return {\n      aPosition: gl.getAttribLocation(program, 'aPosition'),\n    };\n  },\n\n  /**\n   * Return a map of uniform names to WebGLUniformLocation objects.\n   *\n   * Intended to be overridden by subclasses.\n   *\n   * @param {WebGLRenderingContext} gl The canvas context used to compile the shader program.\n   * @param {WebGLShaderProgram} program The shader program from which to take uniform locations.\n   * @returns {Object} A map of uniform names to uniform locations.\n   */\n  getUniformLocations: function (/* gl, program */) {\n    // in case i do not need any special uniform i need to return an empty object\n    return { };\n  },\n\n  /**\n   * Send attribute data from this filter to its shader program on the GPU.\n   *\n   * @param {WebGLRenderingContext} gl The canvas context used to compile the shader program.\n   * @param {Object} attributeLocations A map of shader attribute names to their locations.\n   */\n  sendAttributeData: function(gl, attributeLocations, aPositionData) {\n    var attributeLocation = attributeLocations.aPosition;\n    var buffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n    gl.enableVertexAttribArray(attributeLocation);\n    gl.vertexAttribPointer(attributeLocation, 2, gl.FLOAT, false, 0, 0);\n    gl.bufferData(gl.ARRAY_BUFFER, aPositionData, gl.STATIC_DRAW);\n  },\n\n  _setupFrameBuffer: function(options) {\n    var gl = options.context, width, height;\n    if (options.passes > 1) {\n      width = options.destinationWidth;\n      height = options.destinationHeight;\n      if (options.sourceWidth !== width || options.sourceHeight !== height) {\n        gl.deleteTexture(options.targetTexture);\n        options.targetTexture = options.filterBackend.createTexture(gl, width, height);\n      }\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D,\n        options.targetTexture, 0);\n    }\n    else {\n      // draw last filter on canvas and not to framebuffer.\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      gl.finish();\n    }\n  },\n\n  _swapTextures: function(options) {\n    options.passes--;\n    options.pass++;\n    var temp = options.targetTexture;\n    options.targetTexture = options.sourceTexture;\n    options.sourceTexture = temp;\n  },\n\n  /**\n   * Generic isNeutral implementation for one parameter based filters.\n   * Used only in image applyFilters to discard filters that will not have an effect\n   * on the image\n   * Other filters may need their own version ( ColorMatrix, HueRotation, gamma, ComposedFilter )\n   * @param {Object} options\n   **/\n  isNeutralState: function(/* options */) {\n    var main = this.mainParameter,\n        _class = fabric.Image.filters[this.type].prototype;\n    if (main) {\n      if (Array.isArray(_class[main])) {\n        for (var i = _class[main].length; i--;) {\n          if (this[main][i] !== _class[main][i]) {\n            return false;\n          }\n        }\n        return true;\n      }\n      else {\n        return _class[main] === this[main];\n      }\n    }\n    else {\n      return false;\n    }\n  },\n\n  /**\n   * Apply this filter to the input image data provided.\n   *\n   * Determines whether to use WebGL or Canvas2D based on the options.webgl flag.\n   *\n   * @param {Object} options\n   * @param {Number} options.passes The number of filters remaining to be executed\n   * @param {Boolean} options.webgl Whether to use webgl to render the filter.\n   * @param {WebGLTexture} options.sourceTexture The texture setup as the source to be filtered.\n   * @param {WebGLTexture} options.targetTexture The texture where filtered output should be drawn.\n   * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n   * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n   */\n  applyTo: function(options) {\n    if (options.webgl) {\n      this._setupFrameBuffer(options);\n      this.applyToWebGL(options);\n      this._swapTextures(options);\n    }\n    else {\n      this.applyTo2d(options);\n    }\n  },\n\n  /**\n   * Retrieves the cached shader.\n   * @param {Object} options\n   * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n   * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n   */\n  retrieveShader: function(options) {\n    if (!options.programCache.hasOwnProperty(this.type)) {\n      options.programCache[this.type] = this.createProgram(options.context);\n    }\n    return options.programCache[this.type];\n  },\n\n  /**\n   * Apply this filter using webgl.\n   *\n   * @param {Object} options\n   * @param {Number} options.passes The number of filters remaining to be executed\n   * @param {Boolean} options.webgl Whether to use webgl to render the filter.\n   * @param {WebGLTexture} options.originalTexture The texture of the original input image.\n   * @param {WebGLTexture} options.sourceTexture The texture setup as the source to be filtered.\n   * @param {WebGLTexture} options.targetTexture The texture where filtered output should be drawn.\n   * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n   * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n   */\n  applyToWebGL: function(options) {\n    var gl = options.context;\n    var shader = this.retrieveShader(options);\n    if (options.pass === 0 && options.originalTexture) {\n      gl.bindTexture(gl.TEXTURE_2D, options.originalTexture);\n    }\n    else {\n      gl.bindTexture(gl.TEXTURE_2D, options.sourceTexture);\n    }\n    gl.useProgram(shader.program);\n    this.sendAttributeData(gl, shader.attributeLocations, options.aPosition);\n\n    gl.uniform1f(shader.uniformLocations.uStepW, 1 / options.sourceWidth);\n    gl.uniform1f(shader.uniformLocations.uStepH, 1 / options.sourceHeight);\n\n    this.sendUniformData(gl, shader.uniformLocations);\n    gl.viewport(0, 0, options.destinationWidth, options.destinationHeight);\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n  },\n\n  bindAdditionalTexture: function(gl, texture, textureUnit) {\n    gl.activeTexture(textureUnit);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    // reset active texture to 0 as usual\n    gl.activeTexture(gl.TEXTURE0);\n  },\n\n  unbindAdditionalTexture: function(gl, textureUnit) {\n    gl.activeTexture(textureUnit);\n    gl.bindTexture(gl.TEXTURE_2D, null);\n    gl.activeTexture(gl.TEXTURE0);\n  },\n\n  getMainParameter: function() {\n    return this[this.mainParameter];\n  },\n\n  setMainParameter: function(value) {\n    this[this.mainParameter] = value;\n  },\n\n  /**\n   * Send uniform data from this filter to its shader program on the GPU.\n   *\n   * Intended to be overridden by subclasses.\n   *\n   * @param {WebGLRenderingContext} gl The canvas context used to compile the shader program.\n   * @param {Object} uniformLocations A map of shader uniform names to their locations.\n   */\n  sendUniformData: function(/* gl, uniformLocations */) {\n    // Intentionally left blank.  Override me in subclasses.\n  },\n\n  /**\n   * If needed by a 2d filter, this functions can create an helper canvas to be used\n   * remember that options.targetCanvas is available for use till end of chain.\n   */\n  createHelpLayer: function(options) {\n    if (!options.helpLayer) {\n      var helpLayer = document.createElement('canvas');\n      helpLayer.width = options.sourceWidth;\n      helpLayer.height = options.sourceHeight;\n      options.helpLayer = helpLayer;\n    }\n  },\n\n  /**\n   * Returns object representation of an instance\n   * @return {Object} Object representation of an instance\n   */\n  toObject: function() {\n    var object = { type: this.type }, mainP = this.mainParameter;\n    if (mainP) {\n      object[mainP] = this[mainP];\n    }\n    return object;\n  },\n\n  /**\n   * Returns a JSON representation of an instance\n   * @return {Object} JSON\n   */\n  toJSON: function() {\n    // delegate, not alias\n    return this.toObject();\n  }\n});\n\nfabric.Image.filters.BaseFilter.fromObject = function(object, callback) {\n  var filter = new fabric.Image.filters[object.type](object);\n  callback && callback(filter);\n  return filter;\n};\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Color Matrix filter class\n   * @class fabric.Image.filters.ColorMatrix\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.ColorMatrix#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @see {@Link http://www.webwasp.co.uk/tutorials/219/Color_Matrix_Filter.php}\n   * @see {@Link http://phoboslab.org/log/2013/11/fast-image-filters-with-webgl}\n   * @example <caption>Kodachrome filter</caption>\n   * var filter = new fabric.Image.filters.ColorMatrix({\n   *  matrix: [\n       1.1285582396593525, -0.3967382283601348, -0.03992559172921793, 0, 63.72958762196502,\n       -0.16404339962244616, 1.0835251566291304, -0.05498805115633132, 0, 24.732407896706203,\n       -0.16786010706155763, -0.5603416277695248, 1.6014850761964943, 0, 35.62982807460946,\n       0, 0, 0, 1, 0\n      ]\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.ColorMatrix = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.ColorMatrix.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'ColorMatrix',\n\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'uniform mat4 uColorMatrix;\\n' +\n      'uniform vec4 uConstants;\\n' +\n      'void main() {\\n' +\n        'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n        'color *= uColorMatrix;\\n' +\n        'color += uConstants;\\n' +\n        'gl_FragColor = color;\\n' +\n      '}',\n\n    /**\n     * Colormatrix for pixels.\n     * array of 20 floats. Numbers in positions 4, 9, 14, 19 loose meaning\n     * outside the -1, 1 range.\n     * 0.0039215686 is the part of 1 that get translated to 1 in 2d\n     * @param {Array} matrix array of 20 numbers.\n     * @default\n     */\n    matrix: [\n      1, 0, 0, 0, 0,\n      0, 1, 0, 0, 0,\n      0, 0, 1, 0, 0,\n      0, 0, 0, 1, 0\n    ],\n\n    mainParameter: 'matrix',\n\n    /**\n     * Lock the colormatrix on the color part, skipping alpha, manly for non webgl scenario\n     * to save some calculation\n     */\n    colorsOnly: true,\n\n    /**\n     * Constructor\n     * @param {Object} [options] Options object\n     */\n    initialize: function(options) {\n      this.callSuper('initialize', options);\n      // create a new array instead mutating the prototype with push\n      this.matrix = this.matrix.slice(0);\n    },\n\n    /**\n     * Apply the ColorMatrix operation to a Uint8Array representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8Array to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          data = imageData.data,\n          iLen = data.length,\n          m = this.matrix,\n          r, g, b, a, i, colorsOnly = this.colorsOnly;\n\n      for (i = 0; i < iLen; i += 4) {\n        r = data[i];\n        g = data[i + 1];\n        b = data[i + 2];\n        if (colorsOnly) {\n          data[i] = r * m[0] + g * m[1] + b * m[2] + m[4] * 255;\n          data[i + 1] = r * m[5] + g * m[6] + b * m[7] + m[9] * 255;\n          data[i + 2] = r * m[10] + g * m[11] + b * m[12] + m[14] * 255;\n        }\n        else {\n          a = data[i + 3];\n          data[i] = r * m[0] + g * m[1] + b * m[2] + a * m[3] + m[4] * 255;\n          data[i + 1] = r * m[5] + g * m[6] + b * m[7] + a * m[8] + m[9] * 255;\n          data[i + 2] = r * m[10] + g * m[11] + b * m[12] + a * m[13] + m[14] * 255;\n          data[i + 3] = r * m[15] + g * m[16] + b * m[17] + a * m[18] + m[19] * 255;\n        }\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uColorMatrix: gl.getUniformLocation(program, 'uColorMatrix'),\n        uConstants: gl.getUniformLocation(program, 'uConstants'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      var m = this.matrix,\n          matrix = [\n            m[0], m[1], m[2], m[3],\n            m[5], m[6], m[7], m[8],\n            m[10], m[11], m[12], m[13],\n            m[15], m[16], m[17], m[18]\n          ],\n          constants = [m[4], m[9], m[14], m[19]];\n      gl.uniformMatrix4fv(uniformLocations.uColorMatrix, false, matrix);\n      gl.uniform4fv(uniformLocations.uConstants, constants);\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] function to invoke after filter creation\n   * @return {fabric.Image.filters.ColorMatrix} Instance of fabric.Image.filters.ColorMatrix\n   */\n  fabric.Image.filters.ColorMatrix.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Brightness filter class\n   * @class fabric.Image.filters.Brightness\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Brightness#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Brightness({\n   *   brightness: 0.05\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.Brightness = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Brightness.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Brightness',\n\n    /**\n     * Fragment source for the brightness program\n     */\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform float uBrightness;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'void main() {\\n' +\n        'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n        'color.rgb += uBrightness;\\n' +\n        'gl_FragColor = color;\\n' +\n      '}',\n\n    /**\n     * Brightness value, from -1 to 1.\n     * translated to -255 to 255 for 2d\n     * 0.0039215686 is the part of 1 that get translated to 1 in 2d\n     * @param {Number} brightness\n     * @default\n     */\n    brightness: 0,\n\n    /**\n     * Describe the property that is the filter parameter\n     * @param {String} m\n     * @default\n     */\n    mainParameter: 'brightness',\n\n    /**\n    * Apply the Brightness operation to a Uint8ClampedArray representing the pixels of an image.\n    *\n    * @param {Object} options\n    * @param {ImageData} options.imageData The Uint8ClampedArray to be filtered.\n    */\n    applyTo2d: function(options) {\n      if (this.brightness === 0) {\n        return;\n      }\n      var imageData = options.imageData,\n          data = imageData.data, i, len = data.length,\n          brightness = Math.round(this.brightness * 255);\n      for (i = 0; i < len; i += 4) {\n        data[i] = data[i] + brightness;\n        data[i + 1] = data[i + 1] + brightness;\n        data[i + 2] = data[i + 2] + brightness;\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uBrightness: gl.getUniformLocation(program, 'uBrightness'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform1f(uniformLocations.uBrightness, this.brightness);\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Brightness} Instance of fabric.Image.filters.Brightness\n   */\n  fabric.Image.filters.Brightness.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend,\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Adapted from <a href=\"http://www.html5rocks.com/en/tutorials/canvas/imagefilters/\">html5rocks article</a>\n   * @class fabric.Image.filters.Convolute\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Convolute#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example <caption>Sharpen filter</caption>\n   * var filter = new fabric.Image.filters.Convolute({\n   *   matrix: [ 0, -1,  0,\n   *            -1,  5, -1,\n   *             0, -1,  0 ]\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   * @example <caption>Blur filter</caption>\n   * var filter = new fabric.Image.filters.Convolute({\n   *   matrix: [ 1/9, 1/9, 1/9,\n   *             1/9, 1/9, 1/9,\n   *             1/9, 1/9, 1/9 ]\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   * @example <caption>Emboss filter</caption>\n   * var filter = new fabric.Image.filters.Convolute({\n   *   matrix: [ 1,   1,  1,\n   *             1, 0.7, -1,\n   *            -1,  -1, -1 ]\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   * @example <caption>Emboss filter with opaqueness</caption>\n   * var filter = new fabric.Image.filters.Convolute({\n   *   opaque: true,\n   *   matrix: [ 1,   1,  1,\n   *             1, 0.7, -1,\n   *            -1,  -1, -1 ]\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   */\n  filters.Convolute = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Convolute.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Convolute',\n\n    /*\n     * Opaque value (true/false)\n     */\n    opaque: false,\n\n    /*\n     * matrix for the filter, max 9x9\n     */\n    matrix: [0, 0, 0, 0, 1, 0, 0, 0, 0],\n\n    /**\n     * Fragment source for the brightness program\n     */\n    fragmentSource: {\n      Convolute_3_1: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[9];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 0);\\n' +\n          'for (float h = 0.0; h < 3.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 3.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\\n' +\n              'color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'gl_FragColor = color;\\n' +\n        '}',\n      Convolute_3_0: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[9];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 1);\\n' +\n          'for (float h = 0.0; h < 3.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 3.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\\n' +\n              'color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'float alpha = texture2D(uTexture, vTexCoord).a;\\n' +\n          'gl_FragColor = color;\\n' +\n          'gl_FragColor.a = alpha;\\n' +\n        '}',\n      Convolute_5_1: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[25];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 0);\\n' +\n          'for (float h = 0.0; h < 5.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 5.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n' +\n              'color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'gl_FragColor = color;\\n' +\n        '}',\n      Convolute_5_0: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[25];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 1);\\n' +\n          'for (float h = 0.0; h < 5.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 5.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\\n' +\n              'color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'float alpha = texture2D(uTexture, vTexCoord).a;\\n' +\n          'gl_FragColor = color;\\n' +\n          'gl_FragColor.a = alpha;\\n' +\n        '}',\n      Convolute_7_1: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[49];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 0);\\n' +\n          'for (float h = 0.0; h < 7.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 7.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n' +\n              'color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'gl_FragColor = color;\\n' +\n        '}',\n      Convolute_7_0: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[49];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 1);\\n' +\n          'for (float h = 0.0; h < 7.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 7.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\\n' +\n              'color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'float alpha = texture2D(uTexture, vTexCoord).a;\\n' +\n          'gl_FragColor = color;\\n' +\n          'gl_FragColor.a = alpha;\\n' +\n        '}',\n      Convolute_9_1: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[81];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 0);\\n' +\n          'for (float h = 0.0; h < 9.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 9.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n' +\n              'color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'gl_FragColor = color;\\n' +\n        '}',\n      Convolute_9_0: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform float uMatrix[81];\\n' +\n        'uniform float uStepW;\\n' +\n        'uniform float uStepH;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = vec4(0, 0, 0, 1);\\n' +\n          'for (float h = 0.0; h < 9.0; h+=1.0) {\\n' +\n            'for (float w = 0.0; w < 9.0; w+=1.0) {\\n' +\n              'vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\\n' +\n              'color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\\n' +\n            '}\\n' +\n          '}\\n' +\n          'float alpha = texture2D(uTexture, vTexCoord).a;\\n' +\n          'gl_FragColor = color;\\n' +\n          'gl_FragColor.a = alpha;\\n' +\n        '}',\n    },\n\n    /**\n     * Constructor\n     * @memberOf fabric.Image.filters.Convolute.prototype\n     * @param {Object} [options] Options object\n     * @param {Boolean} [options.opaque=false] Opaque value (true/false)\n     * @param {Array} [options.matrix] Filter matrix\n     */\n\n\n    /**\n    * Retrieves the cached shader.\n    * @param {Object} options\n    * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n    * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n    */\n    retrieveShader: function(options) {\n      var size = Math.sqrt(this.matrix.length);\n      var cacheKey = this.type + '_' + size + '_' + (this.opaque ? 1 : 0);\n      var shaderSource = this.fragmentSource[cacheKey];\n      if (!options.programCache.hasOwnProperty(cacheKey)) {\n        options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n      }\n      return options.programCache[cacheKey];\n    },\n\n    /**\n     * Apply the Brightness operation to a Uint8ClampedArray representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8ClampedArray to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          data = imageData.data,\n          weights = this.matrix,\n          side = Math.round(Math.sqrt(weights.length)),\n          halfSide = Math.floor(side / 2),\n          sw = imageData.width,\n          sh = imageData.height,\n          output = options.ctx.createImageData(sw, sh),\n          dst = output.data,\n          // go through the destination image pixels\n          alphaFac = this.opaque ? 1 : 0,\n          r, g, b, a, dstOff,\n          scx, scy, srcOff, wt,\n          x, y, cx, cy;\n\n      for (y = 0; y < sh; y++) {\n        for (x = 0; x < sw; x++) {\n          dstOff = (y * sw + x) * 4;\n          // calculate the weighed sum of the source image pixels that\n          // fall under the convolution matrix\n          r = 0; g = 0; b = 0; a = 0;\n\n          for (cy = 0; cy < side; cy++) {\n            for (cx = 0; cx < side; cx++) {\n              scy = y + cy - halfSide;\n              scx = x + cx - halfSide;\n\n              // eslint-disable-next-line max-depth\n              if (scy < 0 || scy >= sh || scx < 0 || scx >= sw) {\n                continue;\n              }\n\n              srcOff = (scy * sw + scx) * 4;\n              wt = weights[cy * side + cx];\n\n              r += data[srcOff] * wt;\n              g += data[srcOff + 1] * wt;\n              b += data[srcOff + 2] * wt;\n              // eslint-disable-next-line max-depth\n              if (!alphaFac) {\n                a += data[srcOff + 3] * wt;\n              }\n            }\n          }\n          dst[dstOff] = r;\n          dst[dstOff + 1] = g;\n          dst[dstOff + 2] = b;\n          if (!alphaFac) {\n            dst[dstOff + 3] = a;\n          }\n          else {\n            dst[dstOff + 3] = data[dstOff + 3];\n          }\n        }\n      }\n      options.imageData = output;\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uMatrix: gl.getUniformLocation(program, 'uMatrix'),\n        uOpaque: gl.getUniformLocation(program, 'uOpaque'),\n        uHalfSize: gl.getUniformLocation(program, 'uHalfSize'),\n        uSize: gl.getUniformLocation(program, 'uSize'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform1fv(uniformLocations.uMatrix, this.matrix);\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function() {\n      return extend(this.callSuper('toObject'), {\n        opaque: this.opaque,\n        matrix: this.matrix\n      });\n    }\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Convolute} Instance of fabric.Image.filters.Convolute\n   */\n  fabric.Image.filters.Convolute.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Grayscale image filter class\n   * @class fabric.Image.filters.Grayscale\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Grayscale();\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.Grayscale = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Grayscale.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Grayscale',\n\n    fragmentSource: {\n      average: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n          'float average = (color.r + color.b + color.g) / 3.0;\\n' +\n          'gl_FragColor = vec4(average, average, average, color.a);\\n' +\n        '}',\n      lightness: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform int uMode;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 col = texture2D(uTexture, vTexCoord);\\n' +\n          'float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\\n' +\n          'gl_FragColor = vec4(average, average, average, col.a);\\n' +\n        '}',\n      luminosity: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform int uMode;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 col = texture2D(uTexture, vTexCoord);\\n' +\n          'float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\\n' +\n          'gl_FragColor = vec4(average, average, average, col.a);\\n' +\n        '}',\n    },\n\n\n    /**\n     * Grayscale mode, between 'average', 'lightness', 'luminosity'\n     * @param {String} type\n     * @default\n     */\n    mode: 'average',\n\n    mainParameter: 'mode',\n\n    /**\n     * Apply the Grayscale operation to a Uint8Array representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8Array to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          data = imageData.data, i,\n          len = data.length, value,\n          mode = this.mode;\n      for (i = 0; i < len; i += 4) {\n        if (mode === 'average') {\n          value = (data[i] + data[i + 1] + data[i + 2]) / 3;\n        }\n        else if (mode === 'lightness') {\n          value = (Math.min(data[i], data[i + 1], data[i + 2]) +\n            Math.max(data[i], data[i + 1], data[i + 2])) / 2;\n        }\n        else if (mode === 'luminosity') {\n          value = 0.21 * data[i] + 0.72 * data[i + 1] + 0.07 * data[i + 2];\n        }\n        data[i] = value;\n        data[i + 1] = value;\n        data[i + 2] = value;\n      }\n    },\n\n    /**\n     * Retrieves the cached shader.\n     * @param {Object} options\n     * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n     * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n     */\n    retrieveShader: function(options) {\n      var cacheKey = this.type + '_' + this.mode;\n      if (!options.programCache.hasOwnProperty(cacheKey)) {\n        var shaderSource = this.fragmentSource[this.mode];\n        options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n      }\n      return options.programCache[cacheKey];\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uMode: gl.getUniformLocation(program, 'uMode'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      // default average mode.\n      var mode = 1;\n      gl.uniform1i(uniformLocations.uMode, mode);\n    },\n\n    /**\n     * Grayscale filter isNeutralState implementation\n     * The filter is never neutral\n     * on the image\n     **/\n    isNeutralState: function() {\n      return false;\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Grayscale} Instance of fabric.Image.filters.Grayscale\n   */\n  fabric.Image.filters.Grayscale.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Invert filter class\n   * @class fabric.Image.filters.Invert\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Invert();\n   * object.filters.push(filter);\n   * object.applyFilters(canvas.renderAll.bind(canvas));\n   */\n  filters.Invert = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Invert.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Invert',\n\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform int uInvert;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'void main() {\\n' +\n        'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n        'if (uInvert == 1) {\\n' +\n          'gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\\n' +\n        '} else {\\n' +\n          'gl_FragColor = color;\\n' +\n        '}\\n' +\n      '}',\n\n    /**\n     * Filter invert. if false, does nothing\n     * @param {Boolean} invert\n     * @default\n     */\n    invert: true,\n\n    mainParameter: 'invert',\n\n    /**\n     * Apply the Invert operation to a Uint8Array representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8Array to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          data = imageData.data, i,\n          len = data.length;\n      for (i = 0; i < len; i += 4) {\n        data[i] = 255 - data[i];\n        data[i + 1] = 255 - data[i + 1];\n        data[i + 2] = 255 - data[i + 2];\n      }\n    },\n\n    /**\n     * Invert filter isNeutralState implementation\n     * Used only in image applyFilters to discard filters that will not have an effect\n     * on the image\n     * @param {Object} options\n     **/\n    isNeutralState: function() {\n      return !this.invert;\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uInvert: gl.getUniformLocation(program, 'uInvert'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform1i(uniformLocations.uInvert, this.invert);\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Invert} Instance of fabric.Image.filters.Invert\n   */\n  fabric.Image.filters.Invert.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend,\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Noise filter class\n   * @class fabric.Image.filters.Noise\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Noise#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Noise({\n   *   noise: 700\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   */\n  filters.Noise = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Noise.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Noise',\n\n    /**\n     * Fragment source for the noise program\n     */\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform float uStepH;\\n' +\n      'uniform float uNoise;\\n' +\n      'uniform float uSeed;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'float rand(vec2 co, float seed, float vScale) {\\n' +\n        'return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\\n' +\n      '}\\n' +\n      'void main() {\\n' +\n        'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n        'color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\\n' +\n        'gl_FragColor = color;\\n' +\n      '}',\n\n    /**\n     * Describe the property that is the filter parameter\n     * @param {String} m\n     * @default\n     */\n    mainParameter: 'noise',\n\n    /**\n     * Noise value, from\n     * @param {Number} noise\n     * @default\n     */\n    noise: 0,\n\n    /**\n     * Apply the Brightness operation to a Uint8ClampedArray representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8ClampedArray to be filtered.\n     */\n    applyTo2d: function(options) {\n      if (this.noise === 0) {\n        return;\n      }\n      var imageData = options.imageData,\n          data = imageData.data, i, len = data.length,\n          noise = this.noise, rand;\n\n      for (i = 0, len = data.length; i < len; i += 4) {\n\n        rand = (0.5 - Math.random()) * noise;\n\n        data[i] += rand;\n        data[i + 1] += rand;\n        data[i + 2] += rand;\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uNoise: gl.getUniformLocation(program, 'uNoise'),\n        uSeed: gl.getUniformLocation(program, 'uSeed'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform1f(uniformLocations.uNoise, this.noise / 255);\n      gl.uniform1f(uniformLocations.uSeed, Math.random());\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function() {\n      return extend(this.callSuper('toObject'), {\n        noise: this.noise\n      });\n    }\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Noise} Instance of fabric.Image.filters.Noise\n   */\n  fabric.Image.filters.Noise.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Pixelate filter class\n   * @class fabric.Image.filters.Pixelate\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Pixelate#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Pixelate({\n   *   blocksize: 8\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.Pixelate = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Pixelate.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Pixelate',\n\n    blocksize: 4,\n\n    mainParameter: 'blocksize',\n\n    /**\n     * Fragment source for the Pixelate program\n     */\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform float uBlocksize;\\n' +\n      'uniform float uStepW;\\n' +\n      'uniform float uStepH;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'void main() {\\n' +\n        'float blockW = uBlocksize * uStepW;\\n' +\n        'float blockH = uBlocksize * uStepW;\\n' +\n        'int posX = int(vTexCoord.x / blockW);\\n' +\n        'int posY = int(vTexCoord.y / blockH);\\n' +\n        'float fposX = float(posX);\\n' +\n        'float fposY = float(posY);\\n' +\n        'vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\\n' +\n        'vec4 color = texture2D(uTexture, squareCoords);\\n' +\n        'gl_FragColor = color;\\n' +\n      '}',\n\n    /**\n     * Apply the Pixelate operation to a Uint8ClampedArray representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8ClampedArray to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          data = imageData.data,\n          iLen = imageData.height,\n          jLen = imageData.width,\n          index, i, j, r, g, b, a,\n          _i, _j, _iLen, _jLen;\n\n      for (i = 0; i < iLen; i += this.blocksize) {\n        for (j = 0; j < jLen; j += this.blocksize) {\n\n          index = (i * 4) * jLen + (j * 4);\n\n          r = data[index];\n          g = data[index + 1];\n          b = data[index + 2];\n          a = data[index + 3];\n\n          _iLen = Math.min(i + this.blocksize, iLen);\n          _jLen = Math.min(j + this.blocksize, jLen);\n          for (_i = i; _i < _iLen; _i++) {\n            for (_j = j; _j < _jLen; _j++) {\n              index = (_i * 4) * jLen + (_j * 4);\n              data[index] = r;\n              data[index + 1] = g;\n              data[index + 2] = b;\n              data[index + 3] = a;\n            }\n          }\n        }\n      }\n    },\n\n    /**\n     * Indicate when the filter is not gonna apply changes to the image\n     **/\n    isNeutralState: function() {\n      return this.blocksize === 1;\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uBlocksize: gl.getUniformLocation(program, 'uBlocksize'),\n        uStepW: gl.getUniformLocation(program, 'uStepW'),\n        uStepH: gl.getUniformLocation(program, 'uStepH'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform1f(uniformLocations.uBlocksize, this.blocksize);\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Pixelate} Instance of fabric.Image.filters.Pixelate\n   */\n  fabric.Image.filters.Pixelate.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      extend = fabric.util.object.extend,\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Remove white filter class\n   * @class fabric.Image.filters.RemoveColor\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.RemoveColor#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.RemoveColor({\n   *   threshold: 0.2,\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   */\n  filters.RemoveColor = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.RemoveColor.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'RemoveColor',\n\n    /**\n     * Color to remove, in any format understood by fabric.Color.\n     * @param {String} type\n     * @default\n     */\n    color: '#FFFFFF',\n\n    /**\n     * Fragment source for the brightness program\n     */\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform vec4 uLow;\\n' +\n      'uniform vec4 uHigh;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'void main() {\\n' +\n        'gl_FragColor = texture2D(uTexture, vTexCoord);\\n' +\n        'if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\\n' +\n          'gl_FragColor.a = 0.0;\\n' +\n        '}\\n' +\n      '}',\n\n    /**\n     * distance to actual color, as value up or down from each r,g,b\n     * between 0 and 1\n     **/\n    distance: 0.02,\n\n    /**\n     * For color to remove inside distance, use alpha channel for a smoother deletion\n     * NOT IMPLEMENTED YET\n     **/\n    useAlpha: false,\n\n    /**\n     * Constructor\n     * @memberOf fabric.Image.filters.RemoveWhite.prototype\n     * @param {Object} [options] Options object\n     * @param {Number} [options.color=#RRGGBB] Threshold value\n     * @param {Number} [options.distance=10] Distance value\n     */\n\n    /**\n     * Applies filter to canvas element\n     * @param {Object} canvasEl Canvas element to apply filter to\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          data = imageData.data, i,\n          distance = this.distance * 255,\n          r, g, b,\n          source = new fabric.Color(this.color).getSource(),\n          lowC = [\n            source[0] - distance,\n            source[1] - distance,\n            source[2] - distance,\n          ],\n          highC = [\n            source[0] + distance,\n            source[1] + distance,\n            source[2] + distance,\n          ];\n\n\n      for (i = 0; i < data.length; i += 4) {\n        r = data[i];\n        g = data[i + 1];\n        b = data[i + 2];\n\n        if (r > lowC[0] &&\n            g > lowC[1] &&\n            b > lowC[2] &&\n            r < highC[0] &&\n            g < highC[1] &&\n            b < highC[2]) {\n          data[i + 3] = 0;\n        }\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uLow: gl.getUniformLocation(program, 'uLow'),\n        uHigh: gl.getUniformLocation(program, 'uHigh'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      var source = new fabric.Color(this.color).getSource(),\n          distance = parseFloat(this.distance),\n          lowC = [\n            0 + source[0] / 255 - distance,\n            0 + source[1] / 255 - distance,\n            0 + source[2] / 255 - distance,\n            1\n          ],\n          highC = [\n            source[0] / 255 + distance,\n            source[1] / 255 + distance,\n            source[2] / 255 + distance,\n            1\n          ];\n      gl.uniform4fv(uniformLocations.uLow, lowC);\n      gl.uniform4fv(uniformLocations.uHigh, highC);\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function() {\n      return extend(this.callSuper('toObject'), {\n        color: this.color,\n        distance: this.distance\n      });\n    }\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.RemoveColor} Instance of fabric.Image.filters.RemoveWhite\n   */\n  fabric.Image.filters.RemoveColor.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  var matrices = {\n    Brownie: [\n      0.59970,0.34553,-0.27082,0,0.186,\n      -0.03770,0.86095,0.15059,0,-0.1449,\n      0.24113,-0.07441,0.44972,0,-0.02965,\n      0,0,0,1,0\n    ],\n    Vintage: [\n      0.62793,0.32021,-0.03965,0,0.03784,\n      0.02578,0.64411,0.03259,0,0.02926,\n      0.04660,-0.08512,0.52416,0,0.02023,\n      0,0,0,1,0\n    ],\n    Kodachrome: [\n      1.12855,-0.39673,-0.03992,0,0.24991,\n      -0.16404,1.08352,-0.05498,0,0.09698,\n      -0.16786,-0.56034,1.60148,0,0.13972,\n      0,0,0,1,0\n    ],\n    Technicolor: [\n      1.91252,-0.85453,-0.09155,0,0.04624,\n      -0.30878,1.76589,-0.10601,0,-0.27589,\n      -0.23110,-0.75018,1.84759,0,0.12137,\n      0,0,0,1,0\n    ],\n    Polaroid: [\n      1.438,-0.062,-0.062,0,0,\n      -0.122,1.378,-0.122,0,0,\n      -0.016,-0.016,1.483,0,0,\n      0,0,0,1,0\n    ],\n    Sepia: [\n      0.393, 0.769, 0.189, 0, 0,\n      0.349, 0.686, 0.168, 0, 0,\n      0.272, 0.534, 0.131, 0, 0,\n      0, 0, 0, 1, 0\n    ],\n    BlackWhite: [\n      1.5, 1.5, 1.5, 0, -1,\n      1.5, 1.5, 1.5, 0, -1,\n      1.5, 1.5, 1.5, 0, -1,\n      0, 0, 0, 1, 0,\n    ]\n  };\n\n  for (var key in matrices) {\n    filters[key] = createClass(filters.ColorMatrix, /** @lends fabric.Image.filters.Sepia.prototype */ {\n\n      /**\n       * Filter type\n       * @param {String} type\n       * @default\n       */\n      type: key,\n\n      /**\n       * Colormatrix for the effect\n       * array of 20 floats. Numbers in positions 4, 9, 14, 19 loose meaning\n       * outside the -1, 1 range.\n       * @param {Array} matrix array of 20 numbers.\n       * @default\n       */\n      matrix: matrices[key],\n\n      /**\n       * Lock the matrix export for this kind of static, parameter less filters.\n       */\n      mainParameter: false,\n      /**\n       * Lock the colormatrix on the color part, skipping alpha\n       */\n      colorsOnly: true,\n\n    });\n    fabric.Image.filters[key].fromObject = fabric.Image.filters.BaseFilter.fromObject;\n  }\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n  'use strict';\n\n  var fabric = global.fabric,\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Color Blend filter class\n   * @class fabric.Image.filter.BlendColor\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @example\n   * var filter = new fabric.Image.filters.BlendColor({\n   *  color: '#000',\n   *  mode: 'multiply'\n   * });\n   *\n   * var filter = new fabric.Image.filters.BlendImage({\n   *  image: fabricImageObject,\n   *  mode: 'multiply',\n   *  alpha: 0.5\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   */\n\n  filters.BlendColor = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Blend.prototype */ {\n    type: 'BlendColor',\n\n    /**\n     * Color to make the blend operation with. default to a reddish color since black or white\n     * gives always strong result.\n     **/\n    color: '#F95C63',\n\n    /**\n     * Blend mode for the filter: one of multiply, add, diff, screen, subtract,\n     * darken, lighten, overlay, exclusion, tint.\n     **/\n    mode: 'multiply',\n\n    /**\n     * alpha value. represent the strength of the blend color operation.\n     **/\n    alpha: 1,\n\n    /**\n     * Fragment source for the Multiply program\n     */\n    fragmentSource: {\n      multiply: 'gl_FragColor.rgb *= uColor.rgb;\\n',\n      screen: 'gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\\n',\n      add: 'gl_FragColor.rgb += uColor.rgb;\\n',\n      diff: 'gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\\n',\n      subtract: 'gl_FragColor.rgb -= uColor.rgb;\\n',\n      lighten: 'gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\\n',\n      darken: 'gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\\n',\n      exclusion: 'gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\\n',\n      overlay: 'if (uColor.r < 0.5) {\\n' +\n          'gl_FragColor.r *= 2.0 * uColor.r;\\n' +\n        '} else {\\n' +\n          'gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\\n' +\n        '}\\n' +\n        'if (uColor.g < 0.5) {\\n' +\n          'gl_FragColor.g *= 2.0 * uColor.g;\\n' +\n        '} else {\\n' +\n          'gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\\n' +\n        '}\\n' +\n        'if (uColor.b < 0.5) {\\n' +\n          'gl_FragColor.b *= 2.0 * uColor.b;\\n' +\n        '} else {\\n' +\n          'gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\\n' +\n        '}\\n',\n      tint: 'gl_FragColor.rgb *= (1.0 - uColor.a);\\n' +\n        'gl_FragColor.rgb += uColor.rgb;\\n',\n    },\n\n    /**\n     * build the fragment source for the filters, joining the common part with\n     * the specific one.\n     * @param {String} mode the mode of the filter, a key of this.fragmentSource\n     * @return {String} the source to be compiled\n     * @private\n     */\n    buildSource: function(mode) {\n      return 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform vec4 uColor;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'void main() {\\n' +\n          'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n          'gl_FragColor = color;\\n' +\n          'if (color.a > 0.0) {\\n' +\n            this.fragmentSource[mode] +\n          '}\\n' +\n        '}';\n    },\n\n    /**\n     * Retrieves the cached shader.\n     * @param {Object} options\n     * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n     * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n     */\n    retrieveShader: function(options) {\n      var cacheKey = this.type + '_' + this.mode, shaderSource;\n      if (!options.programCache.hasOwnProperty(cacheKey)) {\n        shaderSource = this.buildSource(this.mode);\n        options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n      }\n      return options.programCache[cacheKey];\n    },\n\n    /**\n     * Apply the Blend operation to a Uint8ClampedArray representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8ClampedArray to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          data = imageData.data, iLen = data.length,\n          tr, tg, tb,\n          r, g, b,\n          source, alpha1 = 1 - this.alpha;\n\n      source = new fabric.Color(this.color).getSource();\n      tr = source[0] * this.alpha;\n      tg = source[1] * this.alpha;\n      tb = source[2] * this.alpha;\n\n      for (var i = 0; i < iLen; i += 4) {\n\n        r = data[i];\n        g = data[i + 1];\n        b = data[i + 2];\n\n        switch (this.mode) {\n          case 'multiply':\n            data[i] = r * tr / 255;\n            data[i + 1] = g * tg / 255;\n            data[i + 2] = b * tb / 255;\n            break;\n          case 'screen':\n            data[i] = 255 - (255 - r) * (255 - tr) / 255;\n            data[i + 1] = 255 - (255 - g) * (255 - tg) / 255;\n            data[i + 2] = 255 - (255 - b) * (255 - tb) / 255;\n            break;\n          case 'add':\n            data[i] = r + tr;\n            data[i + 1] = g + tg;\n            data[i + 2] = b + tb;\n            break;\n          case 'diff':\n          case 'difference':\n            data[i] = Math.abs(r - tr);\n            data[i + 1] = Math.abs(g - tg);\n            data[i + 2] = Math.abs(b - tb);\n            break;\n          case 'subtract':\n            data[i] = r - tr;\n            data[i + 1] = g - tg;\n            data[i + 2] = b - tb;\n            break;\n          case 'darken':\n            data[i] = Math.min(r, tr);\n            data[i + 1] = Math.min(g, tg);\n            data[i + 2] = Math.min(b, tb);\n            break;\n          case 'lighten':\n            data[i] = Math.max(r, tr);\n            data[i + 1] = Math.max(g, tg);\n            data[i + 2] = Math.max(b, tb);\n            break;\n          case 'overlay':\n            data[i] = tr < 128 ? (2 * r * tr / 255) : (255 - 2 * (255 - r) * (255 - tr) / 255);\n            data[i + 1] = tg < 128 ? (2 * g * tg / 255) : (255 - 2 * (255 - g) * (255 - tg) / 255);\n            data[i + 2] = tb < 128 ? (2 * b * tb / 255) : (255 - 2 * (255 - b) * (255 - tb) / 255);\n            break;\n          case 'exclusion':\n            data[i] = tr + r - ((2 * tr * r) / 255);\n            data[i + 1] = tg + g - ((2 * tg * g) / 255);\n            data[i + 2] = tb + b - ((2 * tb * b) / 255);\n            break;\n          case 'tint':\n            data[i] = tr + r * alpha1;\n            data[i + 1] = tg + g * alpha1;\n            data[i + 2] = tb + b * alpha1;\n        }\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uColor: gl.getUniformLocation(program, 'uColor'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      var source = new fabric.Color(this.color).getSource();\n      source[0] = this.alpha * source[0] / 255;\n      source[1] = this.alpha * source[1] / 255;\n      source[2] = this.alpha * source[2] / 255;\n      source[3] = this.alpha;\n      gl.uniform4fv(uniformLocations.uColor, source);\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function() {\n      return {\n        type: this.type,\n        color: this.color,\n        mode: this.mode,\n        alpha: this.alpha\n      };\n    }\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.BlendColor} Instance of fabric.Image.filters.BlendColor\n   */\n  fabric.Image.filters.BlendColor.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n  'use strict';\n\n  var fabric = global.fabric,\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Image Blend filter class\n   * @class fabric.Image.filter.BlendImage\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @example\n   * var filter = new fabric.Image.filters.BlendColor({\n   *  color: '#000',\n   *  mode: 'multiply'\n   * });\n   *\n   * var filter = new fabric.Image.filters.BlendImage({\n   *  image: fabricImageObject,\n   *  mode: 'multiply',\n   *  alpha: 0.5\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   */\n\n  filters.BlendImage = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.BlendImage.prototype */ {\n    type: 'BlendImage',\n\n    /**\n     * Color to make the blend operation with. default to a reddish color since black or white\n     * gives always strong result.\n     **/\n    image: null,\n\n    /**\n     * Blend mode for the filter: one of multiply, add, diff, screen, subtract,\n     * darken, lighten, overlay, exclusion, tint.\n     **/\n    mode: 'multiply',\n\n    /**\n     * alpha value. represent the strength of the blend image operation.\n     * not implemented.\n     **/\n    alpha: 1,\n\n    vertexSource: 'attribute vec2 aPosition;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'varying vec2 vTexCoord2;\\n' +\n      'uniform mat3 uTransformMatrix;\\n' +\n      'void main() {\\n' +\n        'vTexCoord = aPosition;\\n' +\n        'vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\\n' +\n        'gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\\n' +\n      '}',\n\n    /**\n     * Fragment source for the Multiply program\n     */\n    fragmentSource: {\n      multiply: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform sampler2D uImage;\\n' +\n        'uniform vec4 uColor;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'varying vec2 vTexCoord2;\\n' +\n        'void main() {\\n' +\n          'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n          'vec4 color2 = texture2D(uImage, vTexCoord2);\\n' +\n          'color.rgba *= color2.rgba;\\n' +\n          'gl_FragColor = color;\\n' +\n        '}',\n      mask: 'precision highp float;\\n' +\n        'uniform sampler2D uTexture;\\n' +\n        'uniform sampler2D uImage;\\n' +\n        'uniform vec4 uColor;\\n' +\n        'varying vec2 vTexCoord;\\n' +\n        'varying vec2 vTexCoord2;\\n' +\n        'void main() {\\n' +\n          'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n          'vec4 color2 = texture2D(uImage, vTexCoord2);\\n' +\n          'color.a = color2.a;\\n' +\n          'gl_FragColor = color;\\n' +\n        '}',\n    },\n\n    /**\n     * Retrieves the cached shader.\n     * @param {Object} options\n     * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n     * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n     */\n    retrieveShader: function(options) {\n      var cacheKey = this.type + '_' + this.mode;\n      var shaderSource = this.fragmentSource[this.mode];\n      if (!options.programCache.hasOwnProperty(cacheKey)) {\n        options.programCache[cacheKey] = this.createProgram(options.context, shaderSource);\n      }\n      return options.programCache[cacheKey];\n    },\n\n    applyToWebGL: function(options) {\n      // load texture to blend.\n      var gl = options.context,\n          texture = this.createTexture(options.filterBackend, this.image);\n      this.bindAdditionalTexture(gl, texture, gl.TEXTURE1);\n      this.callSuper('applyToWebGL', options);\n      this.unbindAdditionalTexture(gl, gl.TEXTURE1);\n    },\n\n    createTexture: function(backend, image) {\n      return backend.getCachedTexture(image.cacheKey, image._element);\n    },\n\n    /**\n     * Calculate a transformMatrix to adapt the image to blend over\n     * @param {Object} options\n     * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n     * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n     */\n    calculateMatrix: function() {\n      var image = this.image,\n          width = image._element.width,\n          height = image._element.height;\n      return [\n        1 / image.scaleX, 0, 0,\n        0, 1 / image.scaleY, 0,\n        -image.left / width, -image.top / height, 1\n      ];\n    },\n\n    /**\n     * Apply the Blend operation to a Uint8ClampedArray representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8ClampedArray to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          resources = options.filterBackend.resources,\n          data = imageData.data, iLen = data.length,\n          width = imageData.width,\n          height = imageData.height,\n          tr, tg, tb, ta,\n          r, g, b, a,\n          canvas1, context, image = this.image, blendData;\n\n      if (!resources.blendImage) {\n        resources.blendImage = fabric.util.createCanvasElement();\n      }\n      canvas1 = resources.blendImage;\n      context = canvas1.getContext('2d');\n      if (canvas1.width !== width || canvas1.height !== height) {\n        canvas1.width = width;\n        canvas1.height = height;\n      }\n      else {\n        context.clearRect(0, 0, width, height);\n      }\n      context.setTransform(image.scaleX, 0, 0, image.scaleY, image.left, image.top);\n      context.drawImage(image._element, 0, 0, width, height);\n      blendData = context.getImageData(0, 0, width, height).data;\n      for (var i = 0; i < iLen; i += 4) {\n\n        r = data[i];\n        g = data[i + 1];\n        b = data[i + 2];\n        a = data[i + 3];\n\n        tr = blendData[i];\n        tg = blendData[i + 1];\n        tb = blendData[i + 2];\n        ta = blendData[i + 3];\n\n        switch (this.mode) {\n          case 'multiply':\n            data[i] = r * tr / 255;\n            data[i + 1] = g * tg / 255;\n            data[i + 2] = b * tb / 255;\n            data[i + 3] = a * ta / 255;\n            break;\n          case 'mask':\n            data[i + 3] = ta;\n            break;\n        }\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uTransformMatrix: gl.getUniformLocation(program, 'uTransformMatrix'),\n        uImage: gl.getUniformLocation(program, 'uImage'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      var matrix = this.calculateMatrix();\n      gl.uniform1i(uniformLocations.uImage, 1); // texture unit 1.\n      gl.uniformMatrix3fv(uniformLocations.uTransformMatrix, false, matrix);\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function() {\n      return {\n        type: this.type,\n        image: this.image && this.image.toObject(),\n        mode: this.mode,\n        alpha: this.alpha\n      };\n    }\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} callback to be invoked after filter creation\n   * @return {fabric.Image.filters.BlendImage} Instance of fabric.Image.filters.BlendImage\n   */\n  fabric.Image.filters.BlendImage.fromObject = function(object, callback) {\n    fabric.Image.fromObject(object.image, function(image) {\n      var options = fabric.util.object.clone(object);\n      options.image = image;\n      callback(new fabric.Image.filters.BlendImage(options));\n    });\n  };\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }), pow = Math.pow, floor = Math.floor,\n      sqrt = Math.sqrt, abs = Math.abs, round = Math.round, sin = Math.sin,\n      ceil = Math.ceil,\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Resize image filter class\n   * @class fabric.Image.filters.Resize\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Resize();\n   * object.filters.push(filter);\n   * object.applyFilters(canvas.renderAll.bind(canvas));\n   */\n  filters.Resize = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Resize.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Resize',\n\n    /**\n     * Resize type\n     * for webgl resizeType is just lanczos, for canvas2d can be:\n     * bilinear, hermite, sliceHack, lanczos.\n     * @param {String} resizeType\n     * @default\n     */\n    resizeType: 'hermite',\n\n    /**\n     * Scale factor for resizing, x axis\n     * @param {Number} scaleX\n     * @default\n     */\n    scaleX: 1,\n\n    /**\n     * Scale factor for resizing, y axis\n     * @param {Number} scaleY\n     * @default\n     */\n    scaleY: 1,\n\n    /**\n     * LanczosLobes parameter for lanczos filter, valid for resizeType lanczos\n     * @param {Number} lanczosLobes\n     * @default\n     */\n    lanczosLobes: 3,\n\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uDelta: gl.getUniformLocation(program, 'uDelta'),\n        uTaps: gl.getUniformLocation(program, 'uTaps'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform2fv(uniformLocations.uDelta, this.horizontal ? [1 / this.width, 0] : [0, 1 / this.height]);\n      gl.uniform1fv(uniformLocations.uTaps, this.taps);\n    },\n\n    /**\n     * Retrieves the cached shader.\n     * @param {Object} options\n     * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n     * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n     */\n    retrieveShader: function(options) {\n      var filterWindow = this.getFilterWindow(), cacheKey = this.type + '_' + filterWindow;\n      if (!options.programCache.hasOwnProperty(cacheKey)) {\n        var fragmentShader = this.generateShader(filterWindow);\n        options.programCache[cacheKey] = this.createProgram(options.context, fragmentShader);\n      }\n      return options.programCache[cacheKey];\n    },\n\n    getFilterWindow: function() {\n      var scale = this.tempScale;\n      return Math.ceil(this.lanczosLobes / scale);\n    },\n\n    getTaps: function() {\n      var lobeFunction = this.lanczosCreate(this.lanczosLobes), scale = this.tempScale,\n          filterWindow = this.getFilterWindow(), taps = new Array(filterWindow);\n      for (var i = 1; i <= filterWindow; i++) {\n        taps[i - 1] = lobeFunction(i * scale);\n      }\n      return taps;\n    },\n\n    /**\n     * Generate vertex and shader sources from the necessary steps numbers\n     * @param {Number} filterWindow\n     */\n    generateShader: function(filterWindow) {\n      var offsets = new Array(filterWindow),\n          fragmentShader = this.fragmentSourceTOP, filterWindow;\n\n      for (var i = 1; i <= filterWindow; i++) {\n        offsets[i - 1] = i + '.0 * uDelta';\n      }\n\n      fragmentShader += 'uniform float uTaps[' + filterWindow + '];\\n';\n      fragmentShader += 'void main() {\\n';\n      fragmentShader += '  vec4 color = texture2D(uTexture, vTexCoord);\\n';\n      fragmentShader += '  float sum = 1.0;\\n';\n\n      offsets.forEach(function(offset, i) {\n        fragmentShader += '  color += texture2D(uTexture, vTexCoord + ' + offset + ') * uTaps[' + i + '];\\n';\n        fragmentShader += '  color += texture2D(uTexture, vTexCoord - ' + offset + ') * uTaps[' + i + '];\\n';\n        fragmentShader += '  sum += 2.0 * uTaps[' + i + '];\\n';\n      });\n      fragmentShader += '  gl_FragColor = color / sum;\\n';\n      fragmentShader += '}';\n      return fragmentShader;\n    },\n\n    fragmentSourceTOP: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform vec2 uDelta;\\n' +\n      'varying vec2 vTexCoord;\\n',\n\n    /**\n     * Apply the resize filter to the image\n     * Determines whether to use WebGL or Canvas2D based on the options.webgl flag.\n     *\n     * @param {Object} options\n     * @param {Number} options.passes The number of filters remaining to be executed\n     * @param {Boolean} options.webgl Whether to use webgl to render the filter.\n     * @param {WebGLTexture} options.sourceTexture The texture setup as the source to be filtered.\n     * @param {WebGLTexture} options.targetTexture The texture where filtered output should be drawn.\n     * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n     * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n     */\n    applyTo: function(options) {\n      if (options.webgl) {\n        options.passes++;\n        this.width = options.sourceWidth;\n        this.horizontal = true;\n        this.dW = Math.round(this.width * this.scaleX);\n        this.dH = options.sourceHeight;\n        this.tempScale = this.dW / this.width;\n        this.taps = this.getTaps();\n        options.destinationWidth = this.dW;\n        this._setupFrameBuffer(options);\n        this.applyToWebGL(options);\n        this._swapTextures(options);\n        options.sourceWidth = options.destinationWidth;\n\n        this.height = options.sourceHeight;\n        this.horizontal = false;\n        this.dH = Math.round(this.height * this.scaleY);\n        this.tempScale = this.dH / this.height;\n        this.taps = this.getTaps();\n        options.destinationHeight = this.dH;\n        this._setupFrameBuffer(options);\n        this.applyToWebGL(options);\n        this._swapTextures(options);\n        options.sourceHeight = options.destinationHeight;\n      }\n      else {\n        this.applyTo2d(options);\n      }\n    },\n\n    isNeutralState: function() {\n      return this.scaleX === 1 && this.scaleY === 1;\n    },\n\n    lanczosCreate: function(lobes) {\n      return function(x) {\n        if (x >= lobes || x <= -lobes) {\n          return 0.0;\n        }\n        if (x < 1.19209290E-07 && x > -1.19209290E-07) {\n          return 1.0;\n        }\n        x *= Math.PI;\n        var xx = x / lobes;\n        return (sin(x) / x) * sin(xx) / xx;\n      };\n    },\n\n    /**\n     * Applies filter to canvas element\n     * @memberOf fabric.Image.filters.Resize.prototype\n     * @param {Object} canvasEl Canvas element to apply filter to\n     * @param {Number} scaleX\n     * @param {Number} scaleY\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData,\n          scaleX = this.scaleX,\n          scaleY = this.scaleY;\n\n      this.rcpScaleX = 1 / scaleX;\n      this.rcpScaleY = 1 / scaleY;\n\n      var oW = imageData.width, oH = imageData.height,\n          dW = round(oW * scaleX), dH = round(oH * scaleY),\n          newData;\n\n      if (this.resizeType === 'sliceHack') {\n        newData = this.sliceByTwo(options, oW, oH, dW, dH);\n      }\n      else if (this.resizeType === 'hermite') {\n        newData = this.hermiteFastResize(options, oW, oH, dW, dH);\n      }\n      else if (this.resizeType === 'bilinear') {\n        newData = this.bilinearFiltering(options, oW, oH, dW, dH);\n      }\n      else if (this.resizeType === 'lanczos') {\n        newData = this.lanczosResize(options, oW, oH, dW, dH);\n      }\n      options.imageData = newData;\n    },\n\n    /**\n     * Filter sliceByTwo\n     * @param {Object} canvasEl Canvas element to apply filter to\n     * @param {Number} oW Original Width\n     * @param {Number} oH Original Height\n     * @param {Number} dW Destination Width\n     * @param {Number} dH Destination Height\n     * @returns {ImageData}\n     */\n    sliceByTwo: function(options, oW, oH, dW, dH) {\n      var imageData = options.imageData,\n          mult = 0.5, doneW = false, doneH = false, stepW = oW * mult,\n          stepH = oH * mult, resources = fabric.filterBackend.resources,\n          tmpCanvas, ctx, sX = 0, sY = 0, dX = oW, dY = 0;\n      if (!resources.sliceByTwo) {\n        resources.sliceByTwo = document.createElement('canvas');\n      }\n      tmpCanvas = resources.sliceByTwo;\n      if (tmpCanvas.width < oW * 1.5 || tmpCanvas.height < oH) {\n        tmpCanvas.width = oW * 1.5;\n        tmpCanvas.height = oH;\n      }\n      ctx = tmpCanvas.getContext('2d');\n      ctx.clearRect(0, 0, oW * 1.5, oH);\n      ctx.putImageData(imageData, 0, 0);\n\n      dW = floor(dW);\n      dH = floor(dH);\n\n      while (!doneW || !doneH) {\n        oW = stepW;\n        oH = stepH;\n        if (dW < floor(stepW * mult)) {\n          stepW = floor(stepW * mult);\n        }\n        else {\n          stepW = dW;\n          doneW = true;\n        }\n        if (dH < floor(stepH * mult)) {\n          stepH = floor(stepH * mult);\n        }\n        else {\n          stepH = dH;\n          doneH = true;\n        }\n        ctx.drawImage(tmpCanvas, sX, sY, oW, oH, dX, dY, stepW, stepH);\n        sX = dX;\n        sY = dY;\n        dY += stepH;\n      }\n      return ctx.getImageData(sX, sY, dW, dH);\n    },\n\n    /**\n     * Filter lanczosResize\n     * @param {Object} canvasEl Canvas element to apply filter to\n     * @param {Number} oW Original Width\n     * @param {Number} oH Original Height\n     * @param {Number} dW Destination Width\n     * @param {Number} dH Destination Height\n     * @returns {ImageData}\n     */\n    lanczosResize: function(options, oW, oH, dW, dH) {\n\n      function process(u) {\n        var v, i, weight, idx, a, red, green,\n            blue, alpha, fX, fY;\n        center.x = (u + 0.5) * ratioX;\n        icenter.x = floor(center.x);\n        for (v = 0; v < dH; v++) {\n          center.y = (v + 0.5) * ratioY;\n          icenter.y = floor(center.y);\n          a = 0; red = 0; green = 0; blue = 0; alpha = 0;\n          for (i = icenter.x - range2X; i <= icenter.x + range2X; i++) {\n            if (i < 0 || i >= oW) {\n              continue;\n            }\n            fX = floor(1000 * abs(i - center.x));\n            if (!cacheLanc[fX]) {\n              cacheLanc[fX] = { };\n            }\n            for (var j = icenter.y - range2Y; j <= icenter.y + range2Y; j++) {\n              if (j < 0 || j >= oH) {\n                continue;\n              }\n              fY = floor(1000 * abs(j - center.y));\n              if (!cacheLanc[fX][fY]) {\n                cacheLanc[fX][fY] = lanczos(sqrt(pow(fX * rcpRatioX, 2) + pow(fY * rcpRatioY, 2)) / 1000);\n              }\n              weight = cacheLanc[fX][fY];\n              if (weight > 0) {\n                idx = (j * oW + i) * 4;\n                a += weight;\n                red += weight * srcData[idx];\n                green += weight * srcData[idx + 1];\n                blue += weight * srcData[idx + 2];\n                alpha += weight * srcData[idx + 3];\n              }\n            }\n          }\n          idx = (v * dW + u) * 4;\n          destData[idx] = red / a;\n          destData[idx + 1] = green / a;\n          destData[idx + 2] = blue / a;\n          destData[idx + 3] = alpha / a;\n        }\n\n        if (++u < dW) {\n          return process(u);\n        }\n        else {\n          return destImg;\n        }\n      }\n\n      var srcData = options.imageData.data,\n          destImg = options.ctx.createImageData(dW, dH),\n          destData = destImg.data,\n          lanczos = this.lanczosCreate(this.lanczosLobes),\n          ratioX = this.rcpScaleX, ratioY = this.rcpScaleY,\n          rcpRatioX = 2 / this.rcpScaleX, rcpRatioY = 2 / this.rcpScaleY,\n          range2X = ceil(ratioX * this.lanczosLobes / 2),\n          range2Y = ceil(ratioY * this.lanczosLobes / 2),\n          cacheLanc = { }, center = { }, icenter = { };\n\n      return process(0);\n    },\n\n    /**\n     * bilinearFiltering\n     * @param {Object} canvasEl Canvas element to apply filter to\n     * @param {Number} oW Original Width\n     * @param {Number} oH Original Height\n     * @param {Number} dW Destination Width\n     * @param {Number} dH Destination Height\n     * @returns {ImageData}\n     */\n    bilinearFiltering: function(options, oW, oH, dW, dH) {\n      var a, b, c, d, x, y, i, j, xDiff, yDiff, chnl,\n          color, offset = 0, origPix, ratioX = this.rcpScaleX,\n          ratioY = this.rcpScaleY,\n          w4 = 4 * (oW - 1), img = options.imageData,\n          pixels = img.data, destImage = options.ctx.createImageData(dW, dH),\n          destPixels = destImage.data;\n      for (i = 0; i < dH; i++) {\n        for (j = 0; j < dW; j++) {\n          x = floor(ratioX * j);\n          y = floor(ratioY * i);\n          xDiff = ratioX * j - x;\n          yDiff = ratioY * i - y;\n          origPix = 4 * (y * oW + x);\n\n          for (chnl = 0; chnl < 4; chnl++) {\n            a = pixels[origPix + chnl];\n            b = pixels[origPix + 4 + chnl];\n            c = pixels[origPix + w4 + chnl];\n            d = pixels[origPix + w4 + 4 + chnl];\n            color = a * (1 - xDiff) * (1 - yDiff) + b * xDiff * (1 - yDiff) +\n                    c * yDiff * (1 - xDiff) + d * xDiff * yDiff;\n            destPixels[offset++] = color;\n          }\n        }\n      }\n      return destImage;\n    },\n\n    /**\n     * hermiteFastResize\n     * @param {Object} canvasEl Canvas element to apply filter to\n     * @param {Number} oW Original Width\n     * @param {Number} oH Original Height\n     * @param {Number} dW Destination Width\n     * @param {Number} dH Destination Height\n     * @returns {ImageData}\n     */\n    hermiteFastResize: function(options, oW, oH, dW, dH) {\n      var ratioW = this.rcpScaleX, ratioH = this.rcpScaleY,\n          ratioWHalf = ceil(ratioW / 2),\n          ratioHHalf = ceil(ratioH / 2),\n          img = options.imageData, data = img.data,\n          img2 = options.ctx.createImageData(dW, dH), data2 = img2.data;\n      for (var j = 0; j < dH; j++) {\n        for (var i = 0; i < dW; i++) {\n          var x2 = (i + j * dW) * 4, weight = 0, weights = 0, weightsAlpha = 0,\n              gxR = 0, gxG = 0, gxB = 0, gxA = 0, centerY = (j + 0.5) * ratioH;\n          for (var yy = floor(j * ratioH); yy < (j + 1) * ratioH; yy++) {\n            var dy = abs(centerY - (yy + 0.5)) / ratioHHalf,\n                centerX = (i + 0.5) * ratioW, w0 = dy * dy;\n            for (var xx = floor(i * ratioW); xx < (i + 1) * ratioW; xx++) {\n              var dx = abs(centerX - (xx + 0.5)) / ratioWHalf,\n                  w = sqrt(w0 + dx * dx);\n              /* eslint-disable max-depth */\n              if (w > 1 && w < -1) {\n                continue;\n              }\n              //hermite filter\n              weight = 2 * w * w * w - 3 * w * w + 1;\n              if (weight > 0) {\n                dx = 4 * (xx + yy * oW);\n                //alpha\n                gxA += weight * data[dx + 3];\n                weightsAlpha += weight;\n                //colors\n                if (data[dx + 3] < 255) {\n                  weight = weight * data[dx + 3] / 250;\n                }\n                gxR += weight * data[dx];\n                gxG += weight * data[dx + 1];\n                gxB += weight * data[dx + 2];\n                weights += weight;\n              }\n              /* eslint-enable max-depth */\n            }\n          }\n          data2[x2] = gxR / weights;\n          data2[x2 + 1] = gxG / weights;\n          data2[x2 + 2] = gxB / weights;\n          data2[x2 + 3] = gxA / weightsAlpha;\n        }\n      }\n      return img2;\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function() {\n      return {\n        type: this.type,\n        scaleX: this.scaleX,\n        scaleY: this.scaleY,\n        resizeType: this.resizeType,\n        lanczosLobes: this.lanczosLobes\n      };\n    }\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Resize} Instance of fabric.Image.filters.Resize\n   */\n  fabric.Image.filters.Resize.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Contrast filter class\n   * @class fabric.Image.filters.Contrast\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Contrast#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Contrast({\n   *   contrast: 0.25\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.Contrast = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Contrast.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Contrast',\n\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform float uContrast;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'void main() {\\n' +\n        'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n        'float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\\n' +\n        'color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\\n' +\n        'gl_FragColor = color;\\n' +\n      '}',\n\n    /**\n     * contrast value, range from -1 to 1.\n     * @param {Number} contrast\n     * @default 0\n     */\n    contrast: 0,\n\n    mainParameter: 'contrast',\n\n    /**\n     * Constructor\n     * @memberOf fabric.Image.filters.Contrast.prototype\n     * @param {Object} [options] Options object\n     * @param {Number} [options.contrast=0] Value to contrast the image up (-1...1)\n     */\n\n    /**\n      * Apply the Contrast operation to a Uint8Array representing the pixels of an image.\n      *\n      * @param {Object} options\n      * @param {ImageData} options.imageData The Uint8Array to be filtered.\n      */\n    applyTo2d: function(options) {\n      if (this.contrast === 0) {\n        return;\n      }\n      var imageData = options.imageData, i, len,\n          data = imageData.data, len = data.length,\n          contrast = Math.floor(this.contrast * 255),\n          contrastF = 259 * (contrast + 255) / (255 * (259 - contrast));\n\n      for (i = 0; i < len; i += 4) {\n        data[i] = contrastF * (data[i] - 128) + 128;\n        data[i + 1] = contrastF * (data[i + 1] - 128) + 128;\n        data[i + 2] = contrastF * (data[i + 2] - 128) + 128;\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uContrast: gl.getUniformLocation(program, 'uContrast'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform1f(uniformLocations.uContrast, this.contrast);\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Contrast} Instance of fabric.Image.filters.Contrast\n   */\n  fabric.Image.filters.Contrast.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Saturate filter class\n   * @class fabric.Image.filters.Saturation\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Saturation#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Saturation({\n   *   saturation: 100\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.Saturation = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Saturation.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Saturation',\n\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform float uSaturation;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'void main() {\\n' +\n        'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n        'float rgMax = max(color.r, color.g);\\n' +\n        'float rgbMax = max(rgMax, color.b);\\n' +\n        'color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\\n' +\n        'color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\\n' +\n        'color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\\n' +\n        'gl_FragColor = color;\\n' +\n      '}',\n\n    saturation: 0,\n\n    mainParameter: 'saturation',\n\n    /**\n     * Constructor\n     * @memberOf fabric.Image.filters.Saturate.prototype\n     * @param {Object} [options] Options object\n     * @param {Number} [options.saturate=0] Value to saturate the image (-1...1)\n     */\n\n    /**\n     * Apply the Saturation operation to a Uint8ClampedArray representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8ClampedArray to be filtered.\n     */\n    applyTo2d: function(options) {\n      if (this.saturation === 0) {\n        return;\n      }\n      var imageData = options.imageData,\n          data = imageData.data, len = data.length,\n          adjust = -this.saturation, i, max;\n\n      for (i = 0; i < len; i += 4) {\n        max = Math.max(data[i], data[i + 1], data[i + 2]);\n        data[i] += max !== data[i] ? (max - data[i]) * adjust : 0;\n        data[i + 1] += max !== data[i + 1] ? (max - data[i + 1]) * adjust : 0;\n        data[i + 2] += max !== data[i + 2] ? (max - data[i + 2]) * adjust : 0;\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uSaturation: gl.getUniformLocation(program, 'uSaturation'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform1f(uniformLocations.uSaturation, -this.saturation);\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Saturation} Instance of fabric.Image.filters.Saturate\n   */\n  fabric.Image.filters.Saturation.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Blur filter class\n   * @class fabric.Image.filters.Blur\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Blur#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Blur({\n   *   blur: 0.5\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   * canvas.renderAll();\n   */\n  filters.Blur = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Blur.prototype */ {\n\n    type: 'Blur',\n\n    /*\n'gl_FragColor = vec4(0.0);',\n'gl_FragColor += texture2D(texture, vTexCoord + -7 * uDelta)*0.0044299121055113265;',\n'gl_FragColor += texture2D(texture, vTexCoord + -6 * uDelta)*0.00895781211794;',\n'gl_FragColor += texture2D(texture, vTexCoord + -5 * uDelta)*0.0215963866053;',\n'gl_FragColor += texture2D(texture, vTexCoord + -4 * uDelta)*0.0443683338718;',\n'gl_FragColor += texture2D(texture, vTexCoord + -3 * uDelta)*0.0776744219933;',\n'gl_FragColor += texture2D(texture, vTexCoord + -2 * uDelta)*0.115876621105;',\n'gl_FragColor += texture2D(texture, vTexCoord + -1 * uDelta)*0.147308056121;',\n'gl_FragColor += texture2D(texture, vTexCoord              )*0.159576912161;',\n'gl_FragColor += texture2D(texture, vTexCoord + 1 * uDelta)*0.147308056121;',\n'gl_FragColor += texture2D(texture, vTexCoord + 2 * uDelta)*0.115876621105;',\n'gl_FragColor += texture2D(texture, vTexCoord + 3 * uDelta)*0.0776744219933;',\n'gl_FragColor += texture2D(texture, vTexCoord + 4 * uDelta)*0.0443683338718;',\n'gl_FragColor += texture2D(texture, vTexCoord + 5 * uDelta)*0.0215963866053;',\n'gl_FragColor += texture2D(texture, vTexCoord + 6 * uDelta)*0.00895781211794;',\n'gl_FragColor += texture2D(texture, vTexCoord + 7 * uDelta)*0.0044299121055113265;',\n*/\n\n    /* eslint-disable max-len */\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform vec2 uDelta;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'const float nSamples = 15.0;\\n' +\n      'vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\\n' +\n      'float random(vec3 scale) {\\n' +\n        /* use the fragment position for a different seed per-pixel */\n        'return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\\n' +\n      '}\\n' +\n      'void main() {\\n' +\n        'vec4 color = vec4(0.0);\\n' +\n        'float total = 0.0;\\n' +\n        'float offset = random(v3offset);\\n' +\n        'for (float t = -nSamples; t <= nSamples; t++) {\\n' +\n          'float percent = (t + offset - 0.5) / nSamples;\\n' +\n          'float weight = 1.0 - abs(percent);\\n' +\n          'color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\\n' +\n          'total += weight;\\n' +\n        '}\\n' +\n        'gl_FragColor = color / total;\\n' +\n      '}',\n    /* eslint-enable max-len */\n\n    /**\n     * blur value, in percentage of image dimensions.\n     * specific to keep the image blur constant at different resolutions\n     * range between 0 and 1.\n     */\n    blur: 0,\n\n    mainParameter: 'blur',\n\n    applyTo: function(options) {\n      if (options.webgl) {\n        // this aspectRatio is used to give the same blur to vertical and horizontal\n        this.aspectRatio = options.sourceWidth / options.sourceHeight;\n        options.passes++;\n        this._setupFrameBuffer(options);\n        this.horizontal = true;\n        this.applyToWebGL(options);\n        this._swapTextures(options);\n        this._setupFrameBuffer(options);\n        this.horizontal = false;\n        this.applyToWebGL(options);\n        this._swapTextures(options);\n      }\n      else {\n        this.applyTo2d(options);\n      }\n    },\n\n    applyTo2d: function(options) {\n      // paint canvasEl with current image data.\n      //options.ctx.putImageData(options.imageData, 0, 0);\n      options.imageData = this.simpleBlur(options);\n    },\n\n    simpleBlur: function(options) {\n      var resources = options.filterBackend.resources, canvas1, canvas2,\n          width = options.imageData.width,\n          height = options.imageData.height;\n\n      if (!resources.blurLayer1) {\n        resources.blurLayer1 = fabric.util.createCanvasElement();\n        resources.blurLayer2 = fabric.util.createCanvasElement();\n      }\n      canvas1 = resources.blurLayer1;\n      canvas2 = resources.blurLayer2;\n      if (canvas1.width !== width || canvas1.height !== height) {\n        canvas2.width = canvas1.width = width;\n        canvas2.height = canvas1.height = height;\n      }\n      var ctx1 = canvas1.getContext('2d'),\n          ctx2 = canvas2.getContext('2d'),\n          nSamples = 15,\n          random, percent, j, i,\n          blur = this.blur * 0.06 * 0.5;\n\n      // load first canvas\n      ctx1.putImageData(options.imageData, 0, 0);\n      ctx2.clearRect(0, 0, width, height);\n\n      for (i = -nSamples; i <= nSamples; i++) {\n        random = (Math.random() - 0.5) / 4;\n        percent = i / nSamples;\n        j = blur * percent * width + random;\n        ctx2.globalAlpha = 1 - Math.abs(percent);\n        ctx2.drawImage(canvas1, j, random);\n        ctx1.drawImage(canvas2, 0, 0);\n        ctx2.globalAlpha = 1;\n        ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n      }\n      for (i = -nSamples; i <= nSamples; i++) {\n        random = (Math.random() - 0.5) / 4;\n        percent = i / nSamples;\n        j = blur * percent * height + random;\n        ctx2.globalAlpha = 1 - Math.abs(percent);\n        ctx2.drawImage(canvas1, random, j);\n        ctx1.drawImage(canvas2, 0, 0);\n        ctx2.globalAlpha = 1;\n        ctx2.clearRect(0, 0, canvas2.width, canvas2.height);\n      }\n      options.ctx.drawImage(canvas1, 0, 0);\n      var newImageData = options.ctx.getImageData(0, 0, canvas1.width, canvas1.height);\n      ctx1.globalAlpha = 1;\n      ctx1.clearRect(0, 0, canvas1.width, canvas1.height);\n      return newImageData;\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        delta: gl.getUniformLocation(program, 'uDelta'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      var delta = this.chooseRightDelta();\n      gl.uniform2fv(uniformLocations.delta, delta);\n    },\n\n    /**\n     * choose right value of image percentage to blur with\n     * @returns {Array} a numeric array with delta values\n     */\n    chooseRightDelta: function() {\n      var blurScale = 1, delta = [0, 0], blur;\n      if (this.horizontal) {\n        if (this.aspectRatio > 1) {\n          // image is wide, i want to shrink radius horizontal\n          blurScale = 1 / this.aspectRatio;\n        }\n      }\n      else {\n        if (this.aspectRatio < 1) {\n          // image is tall, i want to shrink radius vertical\n          blurScale = this.aspectRatio;\n        }\n      }\n      blur = blurScale * this.blur * 0.12;\n      if (this.horizontal) {\n        delta[0] = blur;\n      }\n      else {\n        delta[1] = blur;\n      }\n      return delta;\n    },\n  });\n\n  /**\n   * Deserialize a JSON definition of a BlurFilter into a concrete instance.\n   */\n  filters.Blur.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * Gamma filter class\n   * @class fabric.Image.filters.Gamma\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.Gamma#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.Gamma({\n   *   gamma: [1, 0.5, 2.1]\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.Gamma = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Gamma.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'Gamma',\n\n    fragmentSource: 'precision highp float;\\n' +\n      'uniform sampler2D uTexture;\\n' +\n      'uniform vec3 uGamma;\\n' +\n      'varying vec2 vTexCoord;\\n' +\n      'void main() {\\n' +\n        'vec4 color = texture2D(uTexture, vTexCoord);\\n' +\n        'vec3 correction = (1.0 / uGamma);\\n' +\n        'color.r = pow(color.r, correction.r);\\n' +\n        'color.g = pow(color.g, correction.g);\\n' +\n        'color.b = pow(color.b, correction.b);\\n' +\n        'gl_FragColor = color;\\n' +\n        'gl_FragColor.rgb *= color.a;\\n' +\n      '}',\n\n    /**\n     * Gamma array value, from 0.01 to 2.2.\n     * @param {Array} gamma\n     * @default\n     */\n    gamma: [1, 1, 1],\n\n    /**\n     * Describe the property that is the filter parameter\n     * @param {String} m\n     * @default\n     */\n    mainParameter: 'gamma',\n\n    /**\n     * Constructor\n     * @param {Object} [options] Options object\n     */\n    initialize: function(options) {\n      this.gamma = [1, 1, 1];\n      filters.BaseFilter.prototype.initialize.call(this, options);\n    },\n\n    /**\n     * Apply the Gamma operation to a Uint8Array representing the pixels of an image.\n     *\n     * @param {Object} options\n     * @param {ImageData} options.imageData The Uint8Array to be filtered.\n     */\n    applyTo2d: function(options) {\n      var imageData = options.imageData, data = imageData.data,\n          gamma = this.gamma, len = data.length,\n          rInv = 1 / gamma[0], gInv = 1 / gamma[1],\n          bInv = 1 / gamma[2], i;\n\n      if (!this.rVals) {\n        // eslint-disable-next-line\n        this.rVals = new Uint8Array(256);\n        // eslint-disable-next-line\n        this.gVals = new Uint8Array(256);\n        // eslint-disable-next-line\n        this.bVals = new Uint8Array(256);\n      }\n\n      // This is an optimization - pre-compute a look-up table for each color channel\n      // instead of performing these pow calls for each pixel in the image.\n      for (i = 0, len = 256; i < len; i++) {\n        this.rVals[i] = Math.pow(i / 255, rInv) * 255;\n        this.gVals[i] = Math.pow(i / 255, gInv) * 255;\n        this.bVals[i] = Math.pow(i / 255, bInv) * 255;\n      }\n      for (i = 0, len = data.length; i < len; i += 4) {\n        data[i] = this.rVals[data[i]];\n        data[i + 1] = this.gVals[data[i + 1]];\n        data[i + 2] = this.bVals[data[i + 2]];\n      }\n    },\n\n    /**\n     * Return WebGL uniform locations for this filter's shader.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {WebGLShaderProgram} program This filter's compiled shader program.\n     */\n    getUniformLocations: function(gl, program) {\n      return {\n        uGamma: gl.getUniformLocation(program, 'uGamma'),\n      };\n    },\n\n    /**\n     * Send data from this filter to its shader program's uniforms.\n     *\n     * @param {WebGLRenderingContext} gl The GL canvas context used to compile this filter's shader.\n     * @param {Object} uniformLocations A map of string uniform names to WebGLUniformLocation objects\n     */\n    sendUniformData: function(gl, uniformLocations) {\n      gl.uniform3fv(uniformLocations.uGamma, this.gamma);\n    },\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.Gamma} Instance of fabric.Image.filters.Gamma\n   */\n  fabric.Image.filters.Gamma.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * A container class that knows how to apply a sequence of filters to an input image.\n   */\n  filters.Composed = createClass(filters.BaseFilter, /** @lends fabric.Image.filters.Composed.prototype */ {\n\n    type: 'Composed',\n\n    /**\n     * A non sparse array of filters to apply\n     */\n    subFilters: [],\n\n    /**\n     * Constructor\n     * @param {Object} [options] Options object\n     */\n    initialize: function(options) {\n      this.callSuper('initialize', options);\n      // create a new array instead mutating the prototype with push\n      this.subFilters = this.subFilters.slice(0);\n    },\n\n    /**\n     * Apply this container's filters to the input image provided.\n     *\n     * @param {Object} options\n     * @param {Number} options.passes The number of filters remaining to be applied.\n     */\n    applyTo: function(options) {\n      options.passes += this.subFilters.length - 1;\n      this.subFilters.forEach(function(filter) {\n        filter.applyTo(options);\n      });\n    },\n\n    /**\n     * Serialize this filter into JSON.\n     *\n     * @returns {Object} A JSON representation of this filter.\n     */\n    toObject: function() {\n      return fabric.util.object.extend(this.callSuper('toObject'), {\n        subFilters: this.subFilters.map(function(filter) { return filter.toObject(); }),\n      });\n    },\n\n    isNeutralState: function() {\n      return !this.subFilters.some(function(filter) { return !filter.isNeutralState(); });\n    }\n  });\n\n  /**\n   * Deserialize a JSON definition of a ComposedFilter into a concrete instance.\n   */\n  fabric.Image.filters.Composed.fromObject = function(object, callback) {\n    var filters = object.subFilters || [],\n        subFilters = filters.map(function(filter) {\n          return new fabric.Image.filters[filter.type](filter);\n        }),\n        instance = new fabric.Image.filters.Composed({ subFilters: subFilters });\n    callback && callback(instance);\n    return instance;\n  };\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric  = global.fabric || (global.fabric = { }),\n      filters = fabric.Image.filters,\n      createClass = fabric.util.createClass;\n\n  /**\n   * HueRotation filter class\n   * @class fabric.Image.filters.HueRotation\n   * @memberOf fabric.Image.filters\n   * @extends fabric.Image.filters.BaseFilter\n   * @see {@link fabric.Image.filters.HueRotation#initialize} for constructor definition\n   * @see {@link http://fabricjs.com/image-filters|ImageFilters demo}\n   * @example\n   * var filter = new fabric.Image.filters.HueRotation({\n   *   rotation: -0.5\n   * });\n   * object.filters.push(filter);\n   * object.applyFilters();\n   */\n  filters.HueRotation = createClass(filters.ColorMatrix, /** @lends fabric.Image.filters.HueRotation.prototype */ {\n\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'HueRotation',\n\n    /**\n     * HueRotation value, from -1 to 1.\n     * the unit is radians\n     * @param {Number} myParameter\n     * @default\n     */\n    rotation: 0,\n\n    /**\n     * Describe the property that is the filter parameter\n     * @param {String} m\n     * @default\n     */\n    mainParameter: 'rotation',\n\n    calculateMatrix: function() {\n      var rad = this.rotation * Math.PI, cos = fabric.util.cos(rad), sin = fabric.util.sin(rad),\n          aThird = 1 / 3, aThirdSqtSin = Math.sqrt(aThird) * sin, OneMinusCos = 1 - cos;\n      this.matrix = [\n        1, 0, 0, 0, 0,\n        0, 1, 0, 0, 0,\n        0, 0, 1, 0, 0,\n        0, 0, 0, 1, 0\n      ];\n      this.matrix[0] = cos + OneMinusCos / 3;\n      this.matrix[1] = aThird * OneMinusCos - aThirdSqtSin;\n      this.matrix[2] = aThird * OneMinusCos + aThirdSqtSin;\n      this.matrix[5] = aThird * OneMinusCos + aThirdSqtSin;\n      this.matrix[6] = cos + aThird * OneMinusCos;\n      this.matrix[7] = aThird * OneMinusCos - aThirdSqtSin;\n      this.matrix[10] = aThird * OneMinusCos - aThirdSqtSin;\n      this.matrix[11] = aThird * OneMinusCos + aThirdSqtSin;\n      this.matrix[12] = cos + aThird * OneMinusCos;\n    },\n\n    /**\n     * HueRotation isNeutralState implementation\n     * Used only in image applyFilters to discard filters that will not have an effect\n     * on the image\n     * @param {Object} options\n     **/\n    isNeutralState: function(options) {\n      this.calculateMatrix();\n      return filters.BaseFilter.prototype.isNeutralState.call(this, options);\n    },\n\n    /**\n     * Apply this filter to the input image data provided.\n     *\n     * Determines whether to use WebGL or Canvas2D based on the options.webgl flag.\n     *\n     * @param {Object} options\n     * @param {Number} options.passes The number of filters remaining to be executed\n     * @param {Boolean} options.webgl Whether to use webgl to render the filter.\n     * @param {WebGLTexture} options.sourceTexture The texture setup as the source to be filtered.\n     * @param {WebGLTexture} options.targetTexture The texture where filtered output should be drawn.\n     * @param {WebGLRenderingContext} options.context The GL context used for rendering.\n     * @param {Object} options.programCache A map of compiled shader programs, keyed by filter type.\n     */\n    applyTo: function(options) {\n      this.calculateMatrix();\n      filters.BaseFilter.prototype.applyTo.call(this, options);\n    },\n\n  });\n\n  /**\n   * Returns filter instance from an object representation\n   * @static\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] to be invoked after filter creation\n   * @return {fabric.Image.filters.HueRotation} Instance of fabric.Image.filters.HueRotation\n   */\n  fabric.Image.filters.HueRotation.fromObject = fabric.Image.filters.BaseFilter.fromObject;\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = { }),\n      clone = fabric.util.object.clone;\n\n  if (fabric.Text) {\n    fabric.warn('fabric.Text is already defined');\n    return;\n  }\n\n  var additionalProps =\n    ('fontFamily fontWeight fontSize text underline overline linethrough' +\n    ' textAlign fontStyle lineHeight textBackgroundColor charSpacing styles path').split(' ');\n\n  /**\n   * Text class\n   * @class fabric.Text\n   * @extends fabric.Object\n   * @return {fabric.Text} thisArg\n   * @tutorial {@link http://fabricjs.com/fabric-intro-part-2#text}\n   * @see {@link fabric.Text#initialize} for constructor definition\n   */\n  fabric.Text = fabric.util.createClass(fabric.Object, /** @lends fabric.Text.prototype */ {\n\n    /**\n     * Properties which when set cause object to change dimensions\n     * @type Array\n     * @private\n     */\n    _dimensionAffectingProps: [\n      'fontSize',\n      'fontWeight',\n      'fontFamily',\n      'fontStyle',\n      'lineHeight',\n      'text',\n      'charSpacing',\n      'textAlign',\n      'styles',\n      'path'\n    ],\n\n    /**\n     * @private\n     */\n    _reNewline: /\\r?\\n/,\n\n    /**\n     * Use this regular expression to filter for whitespaces that is not a new line.\n     * Mostly used when text is 'justify' aligned.\n     * @private\n     */\n    _reSpacesAndTabs: /[ \\t\\r]/g,\n\n    /**\n     * Use this regular expression to filter for whitespace that is not a new line.\n     * Mostly used when text is 'justify' aligned.\n     * @private\n     */\n    _reSpaceAndTab: /[ \\t\\r]/,\n\n    /**\n     * Use this regular expression to filter consecutive groups of non spaces.\n     * Mostly used when text is 'justify' aligned.\n     * @private\n     */\n    _reWords: /\\S+/g,\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type:                 'text',\n\n    /**\n     * Font size (in pixels)\n     * @type Number\n     * @default\n     */\n    fontSize:             40,\n\n    /**\n     * Font weight (e.g. bold, normal, 400, 600, 800)\n     * @type {(Number|String)}\n     * @default\n     */\n    fontWeight:           'normal',\n\n    /**\n     * Font family\n     * @type String\n     * @default\n     */\n    fontFamily:           'Times New Roman',\n\n    /**\n     * Text decoration underline.\n     * @type Boolean\n     * @default\n     */\n    underline:       false,\n\n    /**\n     * Text decoration overline.\n     * @type Boolean\n     * @default\n     */\n    overline:       false,\n\n    /**\n     * Text decoration linethrough.\n     * @type Boolean\n     * @default\n     */\n    linethrough:       false,\n\n    /**\n     * Text alignment. Possible values: \"left\", \"center\", \"right\", \"justify\",\n     * \"justify-left\", \"justify-center\" or \"justify-right\".\n     * @type String\n     * @default\n     */\n    textAlign:            'left',\n\n    /**\n     * Font style . Possible values: \"\", \"normal\", \"italic\" or \"oblique\".\n     * @type String\n     * @default\n     */\n    fontStyle:            'normal',\n\n    /**\n     * Line height\n     * @type Number\n     * @default\n     */\n    lineHeight:           1.16,\n\n    /**\n     * Superscript schema object (minimum overlap)\n     * @type {Object}\n     * @default\n     */\n    superscript: {\n      size:      0.60, // fontSize factor\n      baseline: -0.35  // baseline-shift factor (upwards)\n    },\n\n    /**\n     * Subscript schema object (minimum overlap)\n     * @type {Object}\n     * @default\n     */\n    subscript: {\n      size:      0.60, // fontSize factor\n      baseline:  0.11  // baseline-shift factor (downwards)\n    },\n\n    /**\n     * Background color of text lines\n     * @type String\n     * @default\n     */\n    textBackgroundColor:  '',\n\n    /**\n     * List of properties to consider when checking if\n     * state of an object is changed ({@link fabric.Object#hasStateChanged})\n     * as well as for history (undo/redo) purposes\n     * @type Array\n     */\n    stateProperties: fabric.Object.prototype.stateProperties.concat(additionalProps),\n\n    /**\n     * List of properties to consider when checking if cache needs refresh\n     * @type Array\n     */\n    cacheProperties: fabric.Object.prototype.cacheProperties.concat(additionalProps),\n\n    /**\n     * When defined, an object is rendered via stroke and this property specifies its color.\n     * <b>Backwards incompatibility note:</b> This property was named \"strokeStyle\" until v1.1.6\n     * @type String\n     * @default\n     */\n    stroke:               null,\n\n    /**\n     * Shadow object representing shadow of this shape.\n     * <b>Backwards incompatibility note:</b> This property was named \"textShadow\" (String) until v1.2.11\n     * @type fabric.Shadow\n     * @default\n     */\n    shadow:               null,\n\n    /**\n     * @private\n     */\n    _fontSizeFraction: 0.222,\n\n    /**\n     * @private\n     */\n    offsets: {\n      underline: 0.10,\n      linethrough: -0.315,\n      overline: -0.88\n    },\n\n    /**\n     * Text Line proportion to font Size (in pixels)\n     * @type Number\n     * @default\n     */\n    _fontSizeMult:             1.13,\n\n    /**\n     * additional space between characters\n     * expressed in thousands of em unit\n     * @type Number\n     * @default\n     */\n    charSpacing:             0,\n\n    /**\n     * Object containing character styles - top-level properties -> line numbers,\n     * 2nd-level properties - character numbers\n     * @type Object\n     * @default\n     */\n    styles: null,\n\n    /**\n     * Reference to a context to measure text char or couple of chars\n     * the cacheContext of the canvas will be used or a freshly created one if the object is not on canvas\n     * once created it will be referenced on fabric._measuringContext to avoid creating a canvas for every\n     * text object created.\n     * @type {CanvasRenderingContext2D}\n     * @default\n     */\n    _measuringContext: null,\n\n    /**\n     * Baseline shift, styles only, keep at 0 for the main text object\n     * @type {Number}\n     * @default\n     */\n    deltaY: 0,\n\n    /**\n     * Array of properties that define a style unit (of 'styles').\n     * @type {Array}\n     * @default\n     */\n    _styleProperties: [\n      'stroke',\n      'strokeWidth',\n      'fill',\n      'fontFamily',\n      'fontSize',\n      'fontWeight',\n      'fontStyle',\n      'underline',\n      'overline',\n      'linethrough',\n      'deltaY',\n      'textBackgroundColor',\n    ],\n\n    /**\n     * contains characters bounding boxes\n     */\n    __charBounds: [],\n\n    /**\n     * use this size when measuring text. To avoid IE11 rounding errors\n     * @type {Number}\n     * @default\n     * @readonly\n     * @private\n     */\n    CACHE_FONT_SIZE: 400,\n\n    /**\n     * contains the min text width to avoid getting 0\n     * @type {Number}\n     * @default\n     */\n    MIN_TEXT_WIDTH: 2,\n\n    /**\n     * Constructor\n     * @param {String} text Text string\n     * @param {Object} [options] Options object\n     * @return {fabric.Text} thisArg\n     */\n    initialize: function(text, options) {\n      this.styles = options ? (options.styles || { }) : { };\n      this.text = text;\n      this.__skipDimension = true;\n      this.callSuper('initialize', options);\n      if (this.path) {\n        this.setPathInfo();\n      }\n      this.__skipDimension = false;\n      this.initDimensions();\n      this.setCoords();\n      this.setupState({ propertySet: '_dimensionAffectingProps' });\n    },\n\n    /**\n     * If text has a path, it will add the extra information needed\n     * for path and text calculations\n     * @return {fabric.Text} thisArg\n     */\n    setPathInfo: function() {\n      var path = this.path;\n      if (path) {\n        path.segmentsInfo = fabric.util.getPathSegmentsInfo(path.path);\n      }\n    },\n\n    /**\n     * Return a context for measurement of text string.\n     * if created it gets stored for reuse\n     * @param {String} text Text string\n     * @param {Object} [options] Options object\n     * @return {fabric.Text} thisArg\n     */\n    getMeasuringContext: function() {\n      // if we did not return we have to measure something.\n      if (!fabric._measuringContext) {\n        fabric._measuringContext = this.canvas && this.canvas.contextCache ||\n          fabric.util.createCanvasElement().getContext('2d');\n      }\n      return fabric._measuringContext;\n    },\n\n    /**\n     * @private\n     * Divides text into lines of text and lines of graphemes.\n     */\n    _splitText: function() {\n      var newLines = this._splitTextIntoLines(this.text);\n      this.textLines = newLines.lines;\n      this._textLines = newLines.graphemeLines;\n      this._unwrappedTextLines = newLines._unwrappedLines;\n      this._text = newLines.graphemeText;\n      return newLines;\n    },\n\n    /**\n     * Initialize or update text dimensions.\n     * Updates this.width and this.height with the proper values.\n     * Does not return dimensions.\n     */\n    initDimensions: function() {\n      if (this.__skipDimension) {\n        return;\n      }\n      this._splitText();\n      this._clearCache();\n      if (this.path) {\n        this.width = this.path.width;\n        this.height = this.path.height;\n      }\n      else {\n        this.width = this.calcTextWidth() || this.cursorWidth || this.MIN_TEXT_WIDTH;\n        this.height = this.calcTextHeight();\n      }\n      if (this.textAlign.indexOf('justify') !== -1) {\n        // once text is measured we need to make space fatter to make justified text.\n        this.enlargeSpaces();\n      }\n      this.saveState({ propertySet: '_dimensionAffectingProps' });\n    },\n\n    /**\n     * Enlarge space boxes and shift the others\n     */\n    enlargeSpaces: function() {\n      var diffSpace, currentLineWidth, numberOfSpaces, accumulatedSpace, line, charBound, spaces;\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\n        if (this.textAlign !== 'justify' && (i === len - 1 || this.isEndOfWrapping(i))) {\n          continue;\n        }\n        accumulatedSpace = 0;\n        line = this._textLines[i];\n        currentLineWidth = this.getLineWidth(i);\n        if (currentLineWidth < this.width && (spaces = this.textLines[i].match(this._reSpacesAndTabs))) {\n          numberOfSpaces = spaces.length;\n          diffSpace = (this.width - currentLineWidth) / numberOfSpaces;\n          for (var j = 0, jlen = line.length; j <= jlen; j++) {\n            charBound = this.__charBounds[i][j];\n            if (this._reSpaceAndTab.test(line[j])) {\n              charBound.width += diffSpace;\n              charBound.kernedWidth += diffSpace;\n              charBound.left += accumulatedSpace;\n              accumulatedSpace += diffSpace;\n            }\n            else {\n              charBound.left += accumulatedSpace;\n            }\n          }\n        }\n      }\n    },\n\n    /**\n     * Detect if the text line is ended with an hard break\n     * text and itext do not have wrapping, return false\n     * @return {Boolean}\n     */\n    isEndOfWrapping: function(lineIndex) {\n      return lineIndex === this._textLines.length - 1;\n    },\n\n    /**\n     * Detect if a line has a linebreak and so we need to account for it when moving\n     * and counting style.\n     * It return always for text and Itext.\n     * @return Number\n     */\n    missingNewlineOffset: function() {\n      return 1;\n    },\n\n    /**\n     * Returns string representation of an instance\n     * @return {String} String representation of text object\n     */\n    toString: function() {\n      return '#<fabric.Text (' + this.complexity() +\n        '): { \"text\": \"' + this.text + '\", \"fontFamily\": \"' + this.fontFamily + '\" }>';\n    },\n\n    /**\n     * Return the dimension and the zoom level needed to create a cache canvas\n     * big enough to host the object to be cached.\n     * @private\n     * @param {Object} dim.x width of object to be cached\n     * @param {Object} dim.y height of object to be cached\n     * @return {Object}.width width of canvas\n     * @return {Object}.height height of canvas\n     * @return {Object}.zoomX zoomX zoom value to unscale the canvas before drawing cache\n     * @return {Object}.zoomY zoomY zoom value to unscale the canvas before drawing cache\n     */\n    _getCacheCanvasDimensions: function() {\n      var dims = this.callSuper('_getCacheCanvasDimensions');\n      var fontSize = this.fontSize;\n      dims.width += fontSize * dims.zoomX;\n      dims.height += fontSize * dims.zoomY;\n      return dims;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n      this._setTextStyles(ctx);\n      this._renderTextLinesBackground(ctx);\n      this._renderTextDecoration(ctx, 'underline');\n      this._renderText(ctx);\n      this._renderTextDecoration(ctx, 'overline');\n      this._renderTextDecoration(ctx, 'linethrough');\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderText: function(ctx) {\n      if (this.paintFirst === 'stroke') {\n        this._renderTextStroke(ctx);\n        this._renderTextFill(ctx);\n      }\n      else {\n        this._renderTextFill(ctx);\n        this._renderTextStroke(ctx);\n      }\n    },\n\n    /**\n     * Set the font parameter of the context with the object properties or with charStyle\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {Object} [charStyle] object with font style properties\n     * @param {String} [charStyle.fontFamily] Font Family\n     * @param {Number} [charStyle.fontSize] Font size in pixels. ( without px suffix )\n     * @param {String} [charStyle.fontWeight] Font weight\n     * @param {String} [charStyle.fontStyle] Font style (italic|normal)\n     */\n    _setTextStyles: function(ctx, charStyle, forMeasuring) {\n      ctx.textBaseline = 'alphabetic';\n      ctx.font = this._getFontDeclaration(charStyle, forMeasuring);\n    },\n\n    /**\n     * calculate and return the text Width measuring each line.\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @return {Number} Maximum width of fabric.Text object\n     */\n    calcTextWidth: function() {\n      var maxWidth = this.getLineWidth(0);\n\n      for (var i = 1, len = this._textLines.length; i < len; i++) {\n        var currentLineWidth = this.getLineWidth(i);\n        if (currentLineWidth > maxWidth) {\n          maxWidth = currentLineWidth;\n        }\n      }\n      return maxWidth;\n    },\n\n    /**\n     * @private\n     * @param {String} method Method name (\"fillText\" or \"strokeText\")\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {String} line Text to render\n     * @param {Number} left Left position of text\n     * @param {Number} top Top position of text\n     * @param {Number} lineIndex Index of a line in a text\n     */\n    _renderTextLine: function(method, ctx, line, left, top, lineIndex) {\n      this._renderChars(method, ctx, line, left, top, lineIndex);\n    },\n\n    /**\n     * Renders the text background for lines, taking care of style\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderTextLinesBackground: function(ctx) {\n      if (!this.textBackgroundColor && !this.styleHas('textBackgroundColor')) {\n        return;\n      }\n      var heightOfLine,\n          lineLeftOffset, originalFill = ctx.fillStyle,\n          line, lastColor,\n          leftOffset = this._getLeftOffset(),\n          lineTopOffset = this._getTopOffset(),\n          boxStart = 0, boxWidth = 0, charBox, currentColor, path = this.path;\n\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\n        heightOfLine = this.getHeightOfLine(i);\n        if (!this.textBackgroundColor && !this.styleHas('textBackgroundColor', i)) {\n          lineTopOffset += heightOfLine;\n          continue;\n        }\n        line = this._textLines[i];\n        lineLeftOffset = this._getLineLeftOffset(i);\n        boxWidth = 0;\n        boxStart = 0;\n        lastColor = this.getValueOfPropertyAt(i, 0, 'textBackgroundColor');\n        for (var j = 0, jlen = line.length; j < jlen; j++) {\n          charBox = this.__charBounds[i][j];\n          currentColor = this.getValueOfPropertyAt(i, j, 'textBackgroundColor');\n          if (path) {\n            ctx.save();\n            ctx.translate(charBox.renderLeft, charBox.renderTop);\n            ctx.rotate(charBox.angle);\n            ctx.fillStyle = currentColor;\n            currentColor && ctx.fillRect(\n              -charBox.width / 2,\n              -heightOfLine / this.lineHeight * (1 - this._fontSizeFraction),\n              charBox.width,\n              heightOfLine / this.lineHeight\n            );\n            ctx.restore();\n          }\n          else if (currentColor !== lastColor) {\n            ctx.fillStyle = lastColor;\n            lastColor && ctx.fillRect(\n              leftOffset + lineLeftOffset + boxStart,\n              lineTopOffset,\n              boxWidth,\n              heightOfLine / this.lineHeight\n            );\n            boxStart = charBox.left;\n            boxWidth = charBox.width;\n            lastColor = currentColor;\n          }\n          else {\n            boxWidth += charBox.kernedWidth;\n          }\n        }\n        if (currentColor && !path) {\n          ctx.fillStyle = currentColor;\n          ctx.fillRect(\n            leftOffset + lineLeftOffset + boxStart,\n            lineTopOffset,\n            boxWidth,\n            heightOfLine / this.lineHeight\n          );\n        }\n        lineTopOffset += heightOfLine;\n      }\n      ctx.fillStyle = originalFill;\n      // if there is text background color no\n      // other shadows should be casted\n      this._removeShadow(ctx);\n    },\n\n    /**\n     * @private\n     * @param {Object} decl style declaration for cache\n     * @param {String} decl.fontFamily fontFamily\n     * @param {String} decl.fontStyle fontStyle\n     * @param {String} decl.fontWeight fontWeight\n     * @return {Object} reference to cache\n     */\n    getFontCache: function(decl) {\n      var fontFamily = decl.fontFamily.toLowerCase();\n      if (!fabric.charWidthsCache[fontFamily]) {\n        fabric.charWidthsCache[fontFamily] = { };\n      }\n      var cache = fabric.charWidthsCache[fontFamily],\n          cacheProp = decl.fontStyle.toLowerCase() + '_' + (decl.fontWeight + '').toLowerCase();\n      if (!cache[cacheProp]) {\n        cache[cacheProp] = { };\n      }\n      return cache[cacheProp];\n    },\n\n    /**\n     * measure and return the width of a single character.\n     * possibly overridden to accommodate different measure logic or\n     * to hook some external lib for character measurement\n     * @private\n     * @param {String} _char, char to be measured\n     * @param {Object} charStyle style of char to be measured\n     * @param {String} [previousChar] previous char\n     * @param {Object} [prevCharStyle] style of previous char\n     */\n    _measureChar: function(_char, charStyle, previousChar, prevCharStyle) {\n      // first i try to return from cache\n      var fontCache = this.getFontCache(charStyle), fontDeclaration = this._getFontDeclaration(charStyle),\n          previousFontDeclaration = this._getFontDeclaration(prevCharStyle), couple = previousChar + _char,\n          stylesAreEqual = fontDeclaration === previousFontDeclaration, width, coupleWidth, previousWidth,\n          fontMultiplier = charStyle.fontSize / this.CACHE_FONT_SIZE, kernedWidth;\n\n      if (previousChar && fontCache[previousChar] !== undefined) {\n        previousWidth = fontCache[previousChar];\n      }\n      if (fontCache[_char] !== undefined) {\n        kernedWidth = width = fontCache[_char];\n      }\n      if (stylesAreEqual && fontCache[couple] !== undefined) {\n        coupleWidth = fontCache[couple];\n        kernedWidth = coupleWidth - previousWidth;\n      }\n      if (width === undefined || previousWidth === undefined || coupleWidth === undefined) {\n        var ctx = this.getMeasuringContext();\n        // send a TRUE to specify measuring font size CACHE_FONT_SIZE\n        this._setTextStyles(ctx, charStyle, true);\n      }\n      if (width === undefined) {\n        kernedWidth = width = ctx.measureText(_char).width;\n        fontCache[_char] = width;\n      }\n      if (previousWidth === undefined && stylesAreEqual && previousChar) {\n        previousWidth = ctx.measureText(previousChar).width;\n        fontCache[previousChar] = previousWidth;\n      }\n      if (stylesAreEqual && coupleWidth === undefined) {\n        // we can measure the kerning couple and subtract the width of the previous character\n        coupleWidth = ctx.measureText(couple).width;\n        fontCache[couple] = coupleWidth;\n        kernedWidth = coupleWidth - previousWidth;\n      }\n      return { width: width * fontMultiplier, kernedWidth: kernedWidth * fontMultiplier };\n    },\n\n    /**\n     * Computes height of character at given position\n     * @param {Number} line the line index number\n     * @param {Number} _char the character index number\n     * @return {Number} fontSize of the character\n     */\n    getHeightOfChar: function(line, _char) {\n      return this.getValueOfPropertyAt(line, _char, 'fontSize');\n    },\n\n    /**\n     * measure a text line measuring all characters.\n     * @param {Number} lineIndex line number\n     * @return {Number} Line width\n     */\n    measureLine: function(lineIndex) {\n      var lineInfo = this._measureLine(lineIndex);\n      if (this.charSpacing !== 0) {\n        lineInfo.width -= this._getWidthOfCharSpacing();\n      }\n      if (lineInfo.width < 0) {\n        lineInfo.width = 0;\n      }\n      return lineInfo;\n    },\n\n    /**\n     * measure every grapheme of a line, populating __charBounds\n     * @param {Number} lineIndex\n     * @return {Object} object.width total width of characters\n     * @return {Object} object.widthOfSpaces length of chars that match this._reSpacesAndTabs\n     */\n    _measureLine: function(lineIndex) {\n      var width = 0, i, grapheme, line = this._textLines[lineIndex], prevGrapheme,\n          graphemeInfo, numOfSpaces = 0, lineBounds = new Array(line.length),\n          positionInPath = 0, startingPoint, totalPathLength, path = this.path;\n\n      this.__charBounds[lineIndex] = lineBounds;\n      if (path) {\n        startingPoint = fabric.util.getPointOnPath(path.path, 0, path.segmentsInfo);\n        totalPathLength = path.segmentsInfo[path.segmentsInfo.length - 1].length;\n        startingPoint.x += path.pathOffset.x;\n        startingPoint.y += path.pathOffset.y;\n      }\n      for (i = 0; i < line.length; i++) {\n        grapheme = line[i];\n        graphemeInfo = this._getGraphemeBox(grapheme, lineIndex, i, prevGrapheme);\n        if (path) {\n          if (positionInPath > totalPathLength) {\n            positionInPath %= totalPathLength;\n          }\n          // it would probably much fater to send all the grapheme position for a line\n          // and calculate path position/angle at once.\n          this._setGraphemeOnPath(positionInPath, graphemeInfo, startingPoint);\n        }\n        lineBounds[i] = graphemeInfo;\n        width += graphemeInfo.kernedWidth;\n        positionInPath += graphemeInfo.kernedWidth;\n        prevGrapheme = grapheme;\n      }\n      // this latest bound box represent the last character of the line\n      // to simplify cursor handling in interactive mode.\n      lineBounds[i] = {\n        left: graphemeInfo ? graphemeInfo.left + graphemeInfo.width : 0,\n        width: 0,\n        kernedWidth: 0,\n        height: this.fontSize\n      };\n      return { width: width, numOfSpaces: numOfSpaces };\n    },\n\n    /**\n     * Calculate the angle  and the left,top position of the char that follow a path.\n     * It appends it to graphemeInfo to be reused later at rendering\n     * @private\n     * @param {Number} positionInPath to be measured\n     * @param {Object} graphemeInfo current grapheme box information\n     * @param {Object} startingPoint position of the point\n     */\n    _setGraphemeOnPath: function(positionInPath, graphemeInfo, startingPoint) {\n      var centerPosition = positionInPath + graphemeInfo.kernedWidth / 2,\n          path = this.path;\n\n      // we are at currentPositionOnPath. we want to know what point on the path is.\n      var info = fabric.util.getPointOnPath(path.path, centerPosition, path.segmentsInfo);\n      graphemeInfo.renderLeft = info.x - startingPoint.x;\n      graphemeInfo.renderTop = info.y - startingPoint.y;\n      graphemeInfo.angle = info.angle;\n    },\n\n    /**\n     * Measure and return the info of a single grapheme.\n     * needs the the info of previous graphemes already filled\n     * @private\n     * @param {String} grapheme to be measured\n     * @param {Number} lineIndex index of the line where the char is\n     * @param {Number} charIndex position in the line\n     * @param {String} [prevGrapheme] character preceding the one to be measured\n     */\n    _getGraphemeBox: function(grapheme, lineIndex, charIndex, prevGrapheme, skipLeft) {\n      var style = this.getCompleteStyleDeclaration(lineIndex, charIndex),\n          prevStyle = prevGrapheme ? this.getCompleteStyleDeclaration(lineIndex, charIndex - 1) : { },\n          info = this._measureChar(grapheme, style, prevGrapheme, prevStyle),\n          kernedWidth = info.kernedWidth,\n          width = info.width, charSpacing;\n\n      if (this.charSpacing !== 0) {\n        charSpacing = this._getWidthOfCharSpacing();\n        width += charSpacing;\n        kernedWidth += charSpacing;\n      }\n\n      var box = {\n        width: width,\n        left: 0,\n        height: style.fontSize,\n        kernedWidth: kernedWidth,\n        deltaY: style.deltaY,\n      };\n      if (charIndex > 0 && !skipLeft) {\n        var previousBox = this.__charBounds[lineIndex][charIndex - 1];\n        box.left = previousBox.left + previousBox.width + info.kernedWidth - info.width;\n      }\n      return box;\n    },\n\n    /**\n     * Calculate height of line at 'lineIndex'\n     * @param {Number} lineIndex index of line to calculate\n     * @return {Number}\n     */\n    getHeightOfLine: function(lineIndex) {\n      if (this.__lineHeights[lineIndex]) {\n        return this.__lineHeights[lineIndex];\n      }\n\n      var line = this._textLines[lineIndex],\n          // char 0 is measured before the line cycle because it nneds to char\n          // emptylines\n          maxHeight = this.getHeightOfChar(lineIndex, 0);\n      for (var i = 1, len = line.length; i < len; i++) {\n        maxHeight = Math.max(this.getHeightOfChar(lineIndex, i), maxHeight);\n      }\n\n      return this.__lineHeights[lineIndex] = maxHeight * this.lineHeight * this._fontSizeMult;\n    },\n\n    /**\n     * Calculate text box height\n     */\n    calcTextHeight: function() {\n      var lineHeight, height = 0;\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\n        lineHeight = this.getHeightOfLine(i);\n        height += (i === len - 1 ? lineHeight / this.lineHeight : lineHeight);\n      }\n      return height;\n    },\n\n    /**\n     * @private\n     * @return {Number} Left offset\n     */\n    _getLeftOffset: function() {\n      return -this.width / 2;\n    },\n\n    /**\n     * @private\n     * @return {Number} Top offset\n     */\n    _getTopOffset: function() {\n      return -this.height / 2;\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {String} method Method name (\"fillText\" or \"strokeText\")\n     */\n    _renderTextCommon: function(ctx, method) {\n      ctx.save();\n      var lineHeights = 0, left = this._getLeftOffset(), top = this._getTopOffset();\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\n        var heightOfLine = this.getHeightOfLine(i),\n            maxHeight = heightOfLine / this.lineHeight,\n            leftOffset = this._getLineLeftOffset(i);\n        this._renderTextLine(\n          method,\n          ctx,\n          this._textLines[i],\n          left + leftOffset,\n          top + lineHeights + maxHeight,\n          i\n        );\n        lineHeights += heightOfLine;\n      }\n      ctx.restore();\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderTextFill: function(ctx) {\n      if (!this.fill && !this.styleHas('fill')) {\n        return;\n      }\n\n      this._renderTextCommon(ctx, 'fillText');\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderTextStroke: function(ctx) {\n      if ((!this.stroke || this.strokeWidth === 0) && this.isEmptyStyles()) {\n        return;\n      }\n\n      if (this.shadow && !this.shadow.affectStroke) {\n        this._removeShadow(ctx);\n      }\n\n      ctx.save();\n      this._setLineDash(ctx, this.strokeDashArray);\n      ctx.beginPath();\n      this._renderTextCommon(ctx, 'strokeText');\n      ctx.closePath();\n      ctx.restore();\n    },\n\n    /**\n     * @private\n     * @param {String} method fillText or strokeText.\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {Array} line Content of the line, splitted in an array by grapheme\n     * @param {Number} left\n     * @param {Number} top\n     * @param {Number} lineIndex\n     */\n    _renderChars: function(method, ctx, line, left, top, lineIndex) {\n      // set proper line offset\n      var lineHeight = this.getHeightOfLine(lineIndex),\n          isJustify = this.textAlign.indexOf('justify') !== -1,\n          actualStyle,\n          nextStyle,\n          charsToRender = '',\n          charBox,\n          boxWidth = 0,\n          timeToRender,\n          path = this.path,\n          shortCut = !isJustify && this.charSpacing === 0 && this.isEmptyStyles(lineIndex) && !path;\n\n      ctx.save();\n      top -= lineHeight * this._fontSizeFraction / this.lineHeight;\n      if (shortCut) {\n        // render all the line in one pass without checking\n        this._renderChar(method, ctx, lineIndex, 0, line.join(''), left, top, lineHeight);\n        ctx.restore();\n        return;\n      }\n      for (var i = 0, len = line.length - 1; i <= len; i++) {\n        timeToRender = i === len || this.charSpacing || path;\n        charsToRender += line[i];\n        charBox = this.__charBounds[lineIndex][i];\n        if (boxWidth === 0) {\n          left += charBox.kernedWidth - charBox.width;\n          boxWidth += charBox.width;\n        }\n        else {\n          boxWidth += charBox.kernedWidth;\n        }\n        if (isJustify && !timeToRender) {\n          if (this._reSpaceAndTab.test(line[i])) {\n            timeToRender = true;\n          }\n        }\n        if (!timeToRender) {\n          // if we have charSpacing, we render char by char\n          actualStyle = actualStyle || this.getCompleteStyleDeclaration(lineIndex, i);\n          nextStyle = this.getCompleteStyleDeclaration(lineIndex, i + 1);\n          timeToRender = this._hasStyleChanged(actualStyle, nextStyle);\n        }\n        if (timeToRender) {\n          if (path) {\n            ctx.save();\n            ctx.translate(charBox.renderLeft, charBox.renderTop);\n            ctx.rotate(charBox.angle);\n            this._renderChar(method, ctx, lineIndex, i, charsToRender, -boxWidth / 2, 0, lineHeight);\n            ctx.restore();\n          }\n          else {\n            this._renderChar(method, ctx, lineIndex, i, charsToRender, left, top, lineHeight);\n          }\n          charsToRender = '';\n          actualStyle = nextStyle;\n          left += boxWidth;\n          boxWidth = 0;\n        }\n      }\n      ctx.restore();\n    },\n\n    /**\n     * This function try to patch the missing gradientTransform on canvas gradients.\n     * transforming a context to transform the gradient, is going to transform the stroke too.\n     * we want to transform the gradient but not the stroke operation, so we create\n     * a transformed gradient on a pattern and then we use the pattern instead of the gradient.\n     * this method has drawbacks: is slow, is in low resolution, needs a patch for when the size\n     * is limited.\n     * @private\n     * @param {fabric.Gradient} filler a fabric gradient instance\n     * @return {CanvasPattern} a pattern to use as fill/stroke style\n     */\n    _applyPatternGradientTransformText: function(filler) {\n      var pCanvas = fabric.util.createCanvasElement(), pCtx,\n          // TODO: verify compatibility with strokeUniform\n          width = this.width + this.strokeWidth, height = this.height + this.strokeWidth;\n      pCanvas.width = width;\n      pCanvas.height = height;\n      pCtx = pCanvas.getContext('2d');\n      pCtx.beginPath(); pCtx.moveTo(0, 0); pCtx.lineTo(width, 0); pCtx.lineTo(width, height);\n      pCtx.lineTo(0, height); pCtx.closePath();\n      pCtx.translate(width / 2, height / 2);\n      pCtx.fillStyle = filler.toLive(pCtx);\n      this._applyPatternGradientTransform(pCtx, filler);\n      pCtx.fill();\n      return pCtx.createPattern(pCanvas, 'no-repeat');\n    },\n\n    handleFiller: function(ctx, property, filler) {\n      var offsetX, offsetY;\n      if (filler.toLive) {\n        if (filler.gradientUnits === 'percentage' || filler.gradientTrasnform || filler.patternTransform) {\n          // need to transform gradient in a pattern.\n          // this is a slow process. If you are hitting this codepath, and the object\n          // is not using caching, you should consider switching it on.\n          // we need a canvas as big as the current object caching canvas.\n          offsetX = -this.width / 2;\n          offsetY = -this.height / 2;\n          ctx.translate(offsetX, offsetY);\n          ctx[property] = this._applyPatternGradientTransformText(filler);\n          return { offsetX: offsetX, offsetY: offsetY };\n        }\n        else {\n          // is a simple gradient or pattern\n          ctx[property] = filler.toLive(ctx, this);\n          return this._applyPatternGradientTransform(ctx, filler);\n        }\n      }\n      else {\n        // is a color\n        ctx[property] = filler;\n      }\n      return { offsetX: 0, offsetY: 0 };\n    },\n\n    _setStrokeStyles: function(ctx, decl) {\n      ctx.lineWidth = decl.strokeWidth;\n      ctx.lineCap = this.strokeLineCap;\n      ctx.lineDashOffset = this.strokeDashOffset;\n      ctx.lineJoin = this.strokeLineJoin;\n      ctx.miterLimit = this.strokeMiterLimit;\n      return this.handleFiller(ctx, 'strokeStyle', decl.stroke);\n    },\n\n    _setFillStyles: function(ctx, decl) {\n      return this.handleFiller(ctx, 'fillStyle', decl.fill);\n    },\n\n    /**\n     * @private\n     * @param {String} method\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     * @param {Number} lineIndex\n     * @param {Number} charIndex\n     * @param {String} _char\n     * @param {Number} left Left coordinate\n     * @param {Number} top Top coordinate\n     * @param {Number} lineHeight Height of the line\n     */\n    _renderChar: function(method, ctx, lineIndex, charIndex, _char, left, top) {\n      var decl = this._getStyleDeclaration(lineIndex, charIndex),\n          fullDecl = this.getCompleteStyleDeclaration(lineIndex, charIndex),\n          shouldFill = method === 'fillText' && fullDecl.fill,\n          shouldStroke = method === 'strokeText' && fullDecl.stroke && fullDecl.strokeWidth,\n          fillOffsets, strokeOffsets;\n\n      if (!shouldStroke && !shouldFill) {\n        return;\n      }\n      ctx.save();\n\n      shouldFill && (fillOffsets = this._setFillStyles(ctx, fullDecl));\n      shouldStroke && (strokeOffsets = this._setStrokeStyles(ctx, fullDecl));\n\n      ctx.font = this._getFontDeclaration(fullDecl);\n\n\n      if (decl && decl.textBackgroundColor) {\n        this._removeShadow(ctx);\n      }\n      if (decl && decl.deltaY) {\n        top += decl.deltaY;\n      }\n      shouldFill && ctx.fillText(_char, left - fillOffsets.offsetX, top - fillOffsets.offsetY);\n      shouldStroke && ctx.strokeText(_char, left - strokeOffsets.offsetX, top - strokeOffsets.offsetY);\n      ctx.restore();\n    },\n\n    /**\n     * Turns the character into a 'superior figure' (i.e. 'superscript')\n     * @param {Number} start selection start\n     * @param {Number} end selection end\n     * @returns {fabric.Text} thisArg\n     * @chainable\n     */\n    setSuperscript: function(start, end) {\n      return this._setScript(start, end, this.superscript);\n    },\n\n    /**\n     * Turns the character into an 'inferior figure' (i.e. 'subscript')\n     * @param {Number} start selection start\n     * @param {Number} end selection end\n     * @returns {fabric.Text} thisArg\n     * @chainable\n     */\n    setSubscript: function(start, end) {\n      return this._setScript(start, end, this.subscript);\n    },\n\n    /**\n     * Applies 'schema' at given position\n     * @private\n     * @param {Number} start selection start\n     * @param {Number} end selection end\n     * @param {Number} schema\n     * @returns {fabric.Text} thisArg\n     * @chainable\n     */\n    _setScript: function(start, end, schema) {\n      var loc = this.get2DCursorLocation(start, true),\n          fontSize = this.getValueOfPropertyAt(loc.lineIndex, loc.charIndex, 'fontSize'),\n          dy = this.getValueOfPropertyAt(loc.lineIndex, loc.charIndex, 'deltaY'),\n          style = { fontSize: fontSize * schema.size, deltaY: dy + fontSize * schema.baseline };\n      this.setSelectionStyles(style, start, end);\n      return this;\n    },\n\n    /**\n     * @private\n     * @param {Object} prevStyle\n     * @param {Object} thisStyle\n     */\n    _hasStyleChanged: function(prevStyle, thisStyle) {\n      return prevStyle.fill !== thisStyle.fill ||\n              prevStyle.stroke !== thisStyle.stroke ||\n              prevStyle.strokeWidth !== thisStyle.strokeWidth ||\n              prevStyle.fontSize !== thisStyle.fontSize ||\n              prevStyle.fontFamily !== thisStyle.fontFamily ||\n              prevStyle.fontWeight !== thisStyle.fontWeight ||\n              prevStyle.fontStyle !== thisStyle.fontStyle ||\n              prevStyle.deltaY !== thisStyle.deltaY;\n    },\n\n    /**\n     * @private\n     * @param {Object} prevStyle\n     * @param {Object} thisStyle\n     */\n    _hasStyleChangedForSvg: function(prevStyle, thisStyle) {\n      return this._hasStyleChanged(prevStyle, thisStyle) ||\n        prevStyle.overline !== thisStyle.overline ||\n        prevStyle.underline !== thisStyle.underline ||\n        prevStyle.linethrough !== thisStyle.linethrough;\n    },\n\n    /**\n     * @private\n     * @param {Number} lineIndex index text line\n     * @return {Number} Line left offset\n     */\n    _getLineLeftOffset: function(lineIndex) {\n      var lineWidth = this.getLineWidth(lineIndex);\n      if (this.textAlign === 'center') {\n        return (this.width - lineWidth) / 2;\n      }\n      if (this.textAlign === 'right') {\n        return this.width - lineWidth;\n      }\n      if (this.textAlign === 'justify-center' && this.isEndOfWrapping(lineIndex)) {\n        return (this.width - lineWidth) / 2;\n      }\n      if (this.textAlign === 'justify-right' && this.isEndOfWrapping(lineIndex)) {\n        return this.width - lineWidth;\n      }\n      return 0;\n    },\n\n    /**\n     * @private\n     */\n    _clearCache: function() {\n      this.__lineWidths = [];\n      this.__lineHeights = [];\n      this.__charBounds = [];\n    },\n\n    /**\n     * @private\n     */\n    _shouldClearDimensionCache: function() {\n      var shouldClear = this._forceClearCache;\n      shouldClear || (shouldClear = this.hasStateChanged('_dimensionAffectingProps'));\n      if (shouldClear) {\n        this.dirty = true;\n        this._forceClearCache = false;\n      }\n      return shouldClear;\n    },\n\n    /**\n     * Measure a single line given its index. Used to calculate the initial\n     * text bounding box. The values are calculated and stored in __lineWidths cache.\n     * @private\n     * @param {Number} lineIndex line number\n     * @return {Number} Line width\n     */\n    getLineWidth: function(lineIndex) {\n      if (this.__lineWidths[lineIndex]) {\n        return this.__lineWidths[lineIndex];\n      }\n\n      var width, line = this._textLines[lineIndex], lineInfo;\n\n      if (line === '') {\n        width = 0;\n      }\n      else {\n        lineInfo = this.measureLine(lineIndex);\n        width = lineInfo.width;\n      }\n      this.__lineWidths[lineIndex] = width;\n      return width;\n    },\n\n    _getWidthOfCharSpacing: function() {\n      if (this.charSpacing !== 0) {\n        return this.fontSize * this.charSpacing / 1000;\n      }\n      return 0;\n    },\n\n    /**\n     * Retrieves the value of property at given character position\n     * @param {Number} lineIndex the line number\n     * @param {Number} charIndex the character number\n     * @param {String} property the property name\n     * @returns the value of 'property'\n     */\n    getValueOfPropertyAt: function(lineIndex, charIndex, property) {\n      var charStyle = this._getStyleDeclaration(lineIndex, charIndex);\n      if (charStyle && typeof charStyle[property] !== 'undefined') {\n        return charStyle[property];\n      }\n      return this[property];\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _renderTextDecoration: function(ctx, type) {\n      if (!this[type] && !this.styleHas(type)) {\n        return;\n      }\n      var heightOfLine, size, _size,\n          lineLeftOffset, dy, _dy,\n          line, lastDecoration,\n          leftOffset = this._getLeftOffset(),\n          topOffset = this._getTopOffset(), top,\n          boxStart, boxWidth, charBox, currentDecoration,\n          maxHeight, currentFill, lastFill, path = this.path,\n          charSpacing = this._getWidthOfCharSpacing();\n\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\n        heightOfLine = this.getHeightOfLine(i);\n        if (!this[type] && !this.styleHas(type, i)) {\n          topOffset += heightOfLine;\n          continue;\n        }\n        line = this._textLines[i];\n        maxHeight = heightOfLine / this.lineHeight;\n        lineLeftOffset = this._getLineLeftOffset(i);\n        boxStart = 0;\n        boxWidth = 0;\n        lastDecoration = this.getValueOfPropertyAt(i, 0, type);\n        lastFill = this.getValueOfPropertyAt(i, 0, 'fill');\n        top = topOffset + maxHeight * (1 - this._fontSizeFraction);\n        size = this.getHeightOfChar(i, 0);\n        dy = this.getValueOfPropertyAt(i, 0, 'deltaY');\n        for (var j = 0, jlen = line.length; j < jlen; j++) {\n          charBox = this.__charBounds[i][j];\n          currentDecoration = this.getValueOfPropertyAt(i, j, type);\n          currentFill = this.getValueOfPropertyAt(i, j, 'fill');\n          _size = this.getHeightOfChar(i, j);\n          _dy = this.getValueOfPropertyAt(i, j, 'deltaY');\n          if (path && currentDecoration && currentFill) {\n            ctx.save();\n            ctx.fillStyle = lastFill;\n            ctx.translate(charBox.renderLeft, charBox.renderTop);\n            ctx.rotate(charBox.angle);\n            ctx.fillRect(\n              -charBox.kernedWidth / 2,\n              this.offsets[type] * _size + _dy,\n              charBox.kernedWidth,\n              this.fontSize / 15\n            );\n            ctx.restore();\n          }\n          else if (\n            (currentDecoration !== lastDecoration || currentFill !== lastFill || _size !== size || _dy !== dy)\n            && boxWidth > 0\n          ) {\n            lastDecoration && lastFill &&\n              ctx.fillRect(\n                leftOffset + lineLeftOffset + boxStart,\n                top + this.offsets[type] * size + dy,\n                boxWidth,\n                this.fontSize / 15\n              );\n            boxStart = charBox.left;\n            boxWidth = charBox.width;\n            lastDecoration = currentDecoration;\n            lastFill = currentFill;\n            size = _size;\n            dy = _dy;\n          }\n          else {\n            boxWidth += charBox.kernedWidth;\n          }\n        }\n        ctx.fillStyle = currentFill;\n        currentDecoration && currentFill && ctx.fillRect(\n          leftOffset + lineLeftOffset + boxStart,\n          top + this.offsets[type] * size + dy,\n          boxWidth - charSpacing,\n          this.fontSize / 15\n        );\n        topOffset += heightOfLine;\n      }\n      // if there is text background color no\n      // other shadows should be casted\n      this._removeShadow(ctx);\n    },\n\n    /**\n     * return font declaration string for canvas context\n     * @param {Object} [styleObject] object\n     * @returns {String} font declaration formatted for canvas context.\n     */\n    _getFontDeclaration: function(styleObject, forMeasuring) {\n      var style = styleObject || this, family = this.fontFamily,\n          fontIsGeneric = fabric.Text.genericFonts.indexOf(family.toLowerCase()) > -1;\n      var fontFamily = family === undefined ||\n      family.indexOf('\\'') > -1 || family.indexOf(',') > -1 ||\n      family.indexOf('\"') > -1 || fontIsGeneric\n        ? style.fontFamily : '\"' + style.fontFamily + '\"';\n      return [\n        // node-canvas needs \"weight style\", while browsers need \"style weight\"\n        // verify if this can be fixed in JSDOM\n        (fabric.isLikelyNode ? style.fontWeight : style.fontStyle),\n        (fabric.isLikelyNode ? style.fontStyle : style.fontWeight),\n        forMeasuring ? this.CACHE_FONT_SIZE + 'px' : style.fontSize + 'px',\n        fontFamily\n      ].join(' ');\n    },\n\n    /**\n     * Renders text instance on a specified context\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    render: function(ctx) {\n      // do not render if object is not visible\n      if (!this.visible) {\n        return;\n      }\n      if (this.canvas && this.canvas.skipOffscreen && !this.group && !this.isOnScreen()) {\n        return;\n      }\n      if (this._shouldClearDimensionCache()) {\n        this.initDimensions();\n      }\n      this.callSuper('render', ctx);\n    },\n\n    /**\n     * Returns the text as an array of lines.\n     * @param {String} text text to split\n     * @returns {Array} Lines in the text\n     */\n    _splitTextIntoLines: function(text) {\n      var lines = text.split(this._reNewline),\n          newLines = new Array(lines.length),\n          newLine = ['\\n'],\n          newText = [];\n      for (var i = 0; i < lines.length; i++) {\n        newLines[i] = fabric.util.string.graphemeSplit(lines[i]);\n        newText = newText.concat(newLines[i], newLine);\n      }\n      newText.pop();\n      return { _unwrappedLines: newLines, lines: lines, graphemeText: newText, graphemeLines: newLines };\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} Object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      var additionalProperties = [\n        'text',\n        'fontSize',\n        'fontWeight',\n        'fontFamily',\n        'fontStyle',\n        'lineHeight',\n        'underline',\n        'overline',\n        'linethrough',\n        'textAlign',\n        'textBackgroundColor',\n        'charSpacing',\n      ].concat(propertiesToInclude);\n      var obj = this.callSuper('toObject', additionalProperties);\n      obj.styles = clone(this.styles, true);\n      return obj;\n    },\n\n    /**\n     * Sets property to a given value. When changing position/dimension -related properties (left, top, scale, angle, etc.) `set` does not update position of object's borders/controls. If you need to update those, call `setCoords()`.\n     * @param {String|Object} key Property name or object (if object, iterate over the object properties)\n     * @param {Object|Function} value Property value (if function, the value is passed into it and its return value is used as a new one)\n     * @return {fabric.Object} thisArg\n     * @chainable\n     */\n    set: function(key, value) {\n      this.callSuper('set', key, value);\n      var needsDims = false;\n      var isAddingPath = false;\n      if (typeof key === 'object') {\n        for (var _key in key) {\n          if (_key === 'path') {\n            this.setPathInfo();\n          }\n          needsDims = needsDims || this._dimensionAffectingProps.indexOf(_key) !== -1;\n          isAddingPath = isAddingPath || _key === 'path';\n        }\n      }\n      else {\n        needsDims = this._dimensionAffectingProps.indexOf(key) !== -1;\n        isAddingPath = key === 'path';\n      }\n      if (isAddingPath) {\n        this.setPathInfo();\n      }\n      if (needsDims) {\n        this.initDimensions();\n        this.setCoords();\n      }\n      return this;\n    },\n\n    /**\n     * Returns complexity of an instance\n     * @return {Number} complexity\n     */\n    complexity: function() {\n      return 1;\n    }\n  });\n\n  /* _FROM_SVG_START_ */\n  /**\n   * List of attribute names to account for when parsing SVG element (used by {@link fabric.Text.fromElement})\n   * @static\n   * @memberOf fabric.Text\n   * @see: http://www.w3.org/TR/SVG/text.html#TextElement\n   */\n  fabric.Text.ATTRIBUTE_NAMES = fabric.SHARED_ATTRIBUTES.concat(\n    'x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor'.split(' '));\n\n  /**\n   * Default SVG font size\n   * @static\n   * @memberOf fabric.Text\n   */\n  fabric.Text.DEFAULT_SVG_FONT_SIZE = 16;\n\n  /**\n   * Returns fabric.Text instance from an SVG element (<b>not yet implemented</b>)\n   * @static\n   * @memberOf fabric.Text\n   * @param {SVGElement} element Element to parse\n   * @param {Function} callback callback function invoked after parsing\n   * @param {Object} [options] Options object\n   */\n  fabric.Text.fromElement = function(element, callback, options) {\n    if (!element) {\n      return callback(null);\n    }\n\n    var parsedAttributes = fabric.parseAttributes(element, fabric.Text.ATTRIBUTE_NAMES),\n        parsedAnchor = parsedAttributes.textAnchor || 'left';\n    options = fabric.util.object.extend((options ? clone(options) : { }), parsedAttributes);\n\n    options.top = options.top || 0;\n    options.left = options.left || 0;\n    if (parsedAttributes.textDecoration) {\n      var textDecoration = parsedAttributes.textDecoration;\n      if (textDecoration.indexOf('underline') !== -1) {\n        options.underline = true;\n      }\n      if (textDecoration.indexOf('overline') !== -1) {\n        options.overline = true;\n      }\n      if (textDecoration.indexOf('line-through') !== -1) {\n        options.linethrough = true;\n      }\n      delete options.textDecoration;\n    }\n    if ('dx' in parsedAttributes) {\n      options.left += parsedAttributes.dx;\n    }\n    if ('dy' in parsedAttributes) {\n      options.top += parsedAttributes.dy;\n    }\n    if (!('fontSize' in options)) {\n      options.fontSize = fabric.Text.DEFAULT_SVG_FONT_SIZE;\n    }\n\n    var textContent = '';\n\n    // The XML is not properly parsed in IE9 so a workaround to get\n    // textContent is through firstChild.data. Another workaround would be\n    // to convert XML loaded from a file to be converted using DOMParser (same way loadSVGFromString() does)\n    if (!('textContent' in element)) {\n      if ('firstChild' in element && element.firstChild !== null) {\n        if ('data' in element.firstChild && element.firstChild.data !== null) {\n          textContent = element.firstChild.data;\n        }\n      }\n    }\n    else {\n      textContent = element.textContent;\n    }\n\n    textContent = textContent.replace(/^\\s+|\\s+$|\\n+/g, '').replace(/\\s+/g, ' ');\n    var originalStrokeWidth = options.strokeWidth;\n    options.strokeWidth = 0;\n\n    var text = new fabric.Text(textContent, options),\n        textHeightScaleFactor = text.getScaledHeight() / text.height,\n        lineHeightDiff = (text.height + text.strokeWidth) * text.lineHeight - text.height,\n        scaledDiff = lineHeightDiff * textHeightScaleFactor,\n        textHeight = text.getScaledHeight() + scaledDiff,\n        offX = 0;\n    /*\n      Adjust positioning:\n        x/y attributes in SVG correspond to the bottom-left corner of text bounding box\n        fabric output by default at top, left.\n    */\n    if (parsedAnchor === 'center') {\n      offX = text.getScaledWidth() / 2;\n    }\n    if (parsedAnchor === 'right') {\n      offX = text.getScaledWidth();\n    }\n    text.set({\n      left: text.left - offX,\n      top: text.top - (textHeight - text.fontSize * (0.07 + text._fontSizeFraction)) / text.lineHeight,\n      strokeWidth: typeof originalStrokeWidth !== 'undefined' ? originalStrokeWidth : 1,\n    });\n    callback(text);\n  };\n  /* _FROM_SVG_END_ */\n\n  /**\n   * Returns fabric.Text instance from an object representation\n   * @static\n   * @memberOf fabric.Text\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] Callback to invoke when an fabric.Text instance is created\n   */\n  fabric.Text.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Text', object, callback, 'text');\n  };\n\n  fabric.Text.genericFonts = ['sans-serif', 'serif', 'cursive', 'fantasy', 'monospace'];\n\n  fabric.util.createAccessors && fabric.util.createAccessors(fabric.Text);\n\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function() {\n  fabric.util.object.extend(fabric.Text.prototype, /** @lends fabric.Text.prototype */ {\n    /**\n     * Returns true if object has no styling or no styling in a line\n     * @param {Number} lineIndex , lineIndex is on wrapped lines.\n     * @return {Boolean}\n     */\n    isEmptyStyles: function(lineIndex) {\n      if (!this.styles) {\n        return true;\n      }\n      if (typeof lineIndex !== 'undefined' && !this.styles[lineIndex]) {\n        return true;\n      }\n      var obj = typeof lineIndex === 'undefined' ? this.styles : { line: this.styles[lineIndex] };\n      for (var p1 in obj) {\n        for (var p2 in obj[p1]) {\n          // eslint-disable-next-line no-unused-vars\n          for (var p3 in obj[p1][p2]) {\n            return false;\n          }\n        }\n      }\n      return true;\n    },\n\n    /**\n     * Returns true if object has a style property or has it ina specified line\n     * This function is used to detect if a text will use a particular property or not.\n     * @param {String} property to check for\n     * @param {Number} lineIndex to check the style on\n     * @return {Boolean}\n     */\n    styleHas: function(property, lineIndex) {\n      if (!this.styles || !property || property === '') {\n        return false;\n      }\n      if (typeof lineIndex !== 'undefined' && !this.styles[lineIndex]) {\n        return false;\n      }\n      var obj = typeof lineIndex === 'undefined' ? this.styles : { 0: this.styles[lineIndex] };\n      // eslint-disable-next-line\n      for (var p1 in obj) {\n        // eslint-disable-next-line\n        for (var p2 in obj[p1]) {\n          if (typeof obj[p1][p2][property] !== 'undefined') {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n\n    /**\n     * Check if characters in a text have a value for a property\n     * whose value matches the textbox's value for that property.  If so,\n     * the character-level property is deleted.  If the character\n     * has no other properties, then it is also deleted.  Finally,\n     * if the line containing that character has no other characters\n     * then it also is deleted.\n     *\n     * @param {string} property The property to compare between characters and text.\n     */\n    cleanStyle: function(property) {\n      if (!this.styles || !property || property === '') {\n        return false;\n      }\n      var obj = this.styles, stylesCount = 0, letterCount, stylePropertyValue,\n          allStyleObjectPropertiesMatch = true, graphemeCount = 0, styleObject;\n      // eslint-disable-next-line\n      for (var p1 in obj) {\n        letterCount = 0;\n        // eslint-disable-next-line\n        for (var p2 in obj[p1]) {\n          var styleObject = obj[p1][p2],\n              stylePropertyHasBeenSet = styleObject.hasOwnProperty(property);\n\n          stylesCount++;\n\n          if (stylePropertyHasBeenSet) {\n            if (!stylePropertyValue) {\n              stylePropertyValue = styleObject[property];\n            }\n            else if (styleObject[property] !== stylePropertyValue) {\n              allStyleObjectPropertiesMatch = false;\n            }\n\n            if (styleObject[property] === this[property]) {\n              delete styleObject[property];\n            }\n          }\n          else {\n            allStyleObjectPropertiesMatch = false;\n          }\n\n          if (Object.keys(styleObject).length !== 0) {\n            letterCount++;\n          }\n          else {\n            delete obj[p1][p2];\n          }\n        }\n\n        if (letterCount === 0) {\n          delete obj[p1];\n        }\n      }\n      // if every grapheme has the same style set then\n      // delete those styles and set it on the parent\n      for (var i = 0; i < this._textLines.length; i++) {\n        graphemeCount += this._textLines[i].length;\n      }\n      if (allStyleObjectPropertiesMatch && stylesCount === graphemeCount) {\n        this[property] = stylePropertyValue;\n        this.removeStyle(property);\n      }\n    },\n\n    /**\n     * Remove a style property or properties from all individual character styles\n     * in a text object.  Deletes the character style object if it contains no other style\n     * props.  Deletes a line style object if it contains no other character styles.\n     *\n     * @param {String} props The property to remove from character styles.\n     */\n    removeStyle: function(property) {\n      if (!this.styles || !property || property === '') {\n        return;\n      }\n      var obj = this.styles, line, lineNum, charNum;\n      for (lineNum in obj) {\n        line = obj[lineNum];\n        for (charNum in line) {\n          delete line[charNum][property];\n          if (Object.keys(line[charNum]).length === 0) {\n            delete line[charNum];\n          }\n        }\n        if (Object.keys(line).length === 0) {\n          delete obj[lineNum];\n        }\n      }\n    },\n\n    /**\n     * @private\n     */\n    _extendStyles: function(index, styles) {\n      var loc = this.get2DCursorLocation(index);\n\n      if (!this._getLineStyle(loc.lineIndex)) {\n        this._setLineStyle(loc.lineIndex);\n      }\n\n      if (!this._getStyleDeclaration(loc.lineIndex, loc.charIndex)) {\n        this._setStyleDeclaration(loc.lineIndex, loc.charIndex, {});\n      }\n\n      fabric.util.object.extend(this._getStyleDeclaration(loc.lineIndex, loc.charIndex), styles);\n    },\n\n    /**\n     * Returns 2d representation (lineIndex and charIndex) of cursor (or selection start)\n     * @param {Number} [selectionStart] Optional index. When not given, current selectionStart is used.\n     * @param {Boolean} [skipWrapping] consider the location for unwrapped lines. useful to manage styles.\n     */\n    get2DCursorLocation: function(selectionStart, skipWrapping) {\n      if (typeof selectionStart === 'undefined') {\n        selectionStart = this.selectionStart;\n      }\n      var lines = skipWrapping ? this._unwrappedTextLines : this._textLines,\n          len = lines.length;\n      for (var i = 0; i < len; i++) {\n        if (selectionStart <= lines[i].length) {\n          return {\n            lineIndex: i,\n            charIndex: selectionStart\n          };\n        }\n        selectionStart -= lines[i].length + this.missingNewlineOffset(i);\n      }\n      return {\n        lineIndex: i - 1,\n        charIndex: lines[i - 1].length < selectionStart ? lines[i - 1].length : selectionStart\n      };\n    },\n\n    /**\n     * Gets style of a current selection/cursor (at the start position)\n     * if startIndex or endIndex are not provided, selectionStart or selectionEnd will be used.\n     * @param {Number} [startIndex] Start index to get styles at\n     * @param {Number} [endIndex] End index to get styles at, if not specified selectionEnd or startIndex + 1\n     * @param {Boolean} [complete] get full style or not\n     * @return {Array} styles an array with one, zero or more Style objects\n     */\n    getSelectionStyles: function(startIndex, endIndex, complete) {\n      if (typeof startIndex === 'undefined') {\n        startIndex = this.selectionStart || 0;\n      }\n      if (typeof endIndex === 'undefined') {\n        endIndex = this.selectionEnd || startIndex;\n      }\n      var styles = [];\n      for (var i = startIndex; i < endIndex; i++) {\n        styles.push(this.getStyleAtPosition(i, complete));\n      }\n      return styles;\n    },\n\n    /**\n     * Gets style of a current selection/cursor position\n     * @param {Number} position  to get styles at\n     * @param {Boolean} [complete] full style if true\n     * @return {Object} style Style object at a specified index\n     * @private\n     */\n    getStyleAtPosition: function(position, complete) {\n      var loc = this.get2DCursorLocation(position),\n          style = complete ? this.getCompleteStyleDeclaration(loc.lineIndex, loc.charIndex) :\n            this._getStyleDeclaration(loc.lineIndex, loc.charIndex);\n      return style || {};\n    },\n\n    /**\n     * Sets style of a current selection, if no selection exist, do not set anything.\n     * @param {Object} [styles] Styles object\n     * @param {Number} [startIndex] Start index to get styles at\n     * @param {Number} [endIndex] End index to get styles at, if not specified selectionEnd or startIndex + 1\n     * @return {fabric.IText} thisArg\n     * @chainable\n     */\n    setSelectionStyles: function(styles, startIndex, endIndex) {\n      if (typeof startIndex === 'undefined') {\n        startIndex = this.selectionStart || 0;\n      }\n      if (typeof endIndex === 'undefined') {\n        endIndex = this.selectionEnd || startIndex;\n      }\n      for (var i = startIndex; i < endIndex; i++) {\n        this._extendStyles(i, styles);\n      }\n      /* not included in _extendStyles to avoid clearing cache more than once */\n      this._forceClearCache = true;\n      return this;\n    },\n\n    /**\n     * get the reference, not a clone, of the style object for a given character\n     * @param {Number} lineIndex\n     * @param {Number} charIndex\n     * @return {Object} style object\n     */\n    _getStyleDeclaration: function(lineIndex, charIndex) {\n      var lineStyle = this.styles && this.styles[lineIndex];\n      if (!lineStyle) {\n        return null;\n      }\n      return lineStyle[charIndex];\n    },\n\n    /**\n     * return a new object that contains all the style property for a character\n     * the object returned is newly created\n     * @param {Number} lineIndex of the line where the character is\n     * @param {Number} charIndex position of the character on the line\n     * @return {Object} style object\n     */\n    getCompleteStyleDeclaration: function(lineIndex, charIndex) {\n      var style = this._getStyleDeclaration(lineIndex, charIndex) || { },\n          styleObject = { }, prop;\n      for (var i = 0; i < this._styleProperties.length; i++) {\n        prop = this._styleProperties[i];\n        styleObject[prop] = typeof style[prop] === 'undefined' ? this[prop] : style[prop];\n      }\n      return styleObject;\n    },\n\n    /**\n     * @param {Number} lineIndex\n     * @param {Number} charIndex\n     * @param {Object} style\n     * @private\n     */\n    _setStyleDeclaration: function(lineIndex, charIndex, style) {\n      this.styles[lineIndex][charIndex] = style;\n    },\n\n    /**\n     *\n     * @param {Number} lineIndex\n     * @param {Number} charIndex\n     * @private\n     */\n    _deleteStyleDeclaration: function(lineIndex, charIndex) {\n      delete this.styles[lineIndex][charIndex];\n    },\n\n    /**\n     * @param {Number} lineIndex\n     * @return {Boolean} if the line exists or not\n     * @private\n     */\n    _getLineStyle: function(lineIndex) {\n      return !!this.styles[lineIndex];\n    },\n\n    /**\n     * Set the line style to an empty object so that is initialized\n     * @param {Number} lineIndex\n     * @private\n     */\n    _setLineStyle: function(lineIndex) {\n      this.styles[lineIndex] = {};\n    },\n\n    /**\n     * @param {Number} lineIndex\n     * @private\n     */\n    _deleteLineStyle: function(lineIndex) {\n      delete this.styles[lineIndex];\n    }\n  });\n})();\n\n\n(function() {\n\n  function parseDecoration(object) {\n    if (object.textDecoration) {\n      object.textDecoration.indexOf('underline') > -1 && (object.underline = true);\n      object.textDecoration.indexOf('line-through') > -1 && (object.linethrough = true);\n      object.textDecoration.indexOf('overline') > -1 && (object.overline = true);\n      delete object.textDecoration;\n    }\n  }\n\n  /**\n   * IText class (introduced in <b>v1.4</b>) Events are also fired with \"text:\"\n   * prefix when observing canvas.\n   * @class fabric.IText\n   * @extends fabric.Text\n   * @mixes fabric.Observable\n   *\n   * @fires changed\n   * @fires selection:changed\n   * @fires editing:entered\n   * @fires editing:exited\n   *\n   * @return {fabric.IText} thisArg\n   * @see {@link fabric.IText#initialize} for constructor definition\n   *\n   * <p>Supported key combinations:</p>\n   * <pre>\n   *   Move cursor:                    left, right, up, down\n   *   Select character:               shift + left, shift + right\n   *   Select text vertically:         shift + up, shift + down\n   *   Move cursor by word:            alt + left, alt + right\n   *   Select words:                   shift + alt + left, shift + alt + right\n   *   Move cursor to line start/end:  cmd + left, cmd + right or home, end\n   *   Select till start/end of line:  cmd + shift + left, cmd + shift + right or shift + home, shift + end\n   *   Jump to start/end of text:      cmd + up, cmd + down\n   *   Select till start/end of text:  cmd + shift + up, cmd + shift + down or shift + pgUp, shift + pgDown\n   *   Delete character:               backspace\n   *   Delete word:                    alt + backspace\n   *   Delete line:                    cmd + backspace\n   *   Forward delete:                 delete\n   *   Copy text:                      ctrl/cmd + c\n   *   Paste text:                     ctrl/cmd + v\n   *   Cut text:                       ctrl/cmd + x\n   *   Select entire text:             ctrl/cmd + a\n   *   Quit editing                    tab or esc\n   * </pre>\n   *\n   * <p>Supported mouse/touch combination</p>\n   * <pre>\n   *   Position cursor:                click/touch\n   *   Create selection:               click/touch & drag\n   *   Create selection:               click & shift + click\n   *   Select word:                    double click\n   *   Select line:                    triple click\n   * </pre>\n   */\n  fabric.IText = fabric.util.createClass(fabric.Text, fabric.Observable, /** @lends fabric.IText.prototype */ {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'i-text',\n\n    /**\n     * Index where text selection starts (or where cursor is when there is no selection)\n     * @type Number\n     * @default\n     */\n    selectionStart: 0,\n\n    /**\n     * Index where text selection ends\n     * @type Number\n     * @default\n     */\n    selectionEnd: 0,\n\n    /**\n     * Color of text selection\n     * @type String\n     * @default\n     */\n    selectionColor: 'rgba(17,119,255,0.3)',\n\n    /**\n     * Indicates whether text is in editing mode\n     * @type Boolean\n     * @default\n     */\n    isEditing: false,\n\n    /**\n     * Indicates whether a text can be edited\n     * @type Boolean\n     * @default\n     */\n    editable: true,\n\n    /**\n     * Border color of text object while it's in editing mode\n     * @type String\n     * @default\n     */\n    editingBorderColor: 'rgba(102,153,255,0.25)',\n\n    /**\n     * Width of cursor (in px)\n     * @type Number\n     * @default\n     */\n    cursorWidth: 2,\n\n    /**\n     * Color of text cursor color in editing mode.\n     * if not set (default) will take color from the text.\n     * if set to a color value that fabric can understand, it will\n     * be used instead of the color of the text at the current position.\n     * @type String\n     * @default\n     */\n    cursorColor: '',\n\n    /**\n     * Delay between cursor blink (in ms)\n     * @type Number\n     * @default\n     */\n    cursorDelay: 1000,\n\n    /**\n     * Duration of cursor fadein (in ms)\n     * @type Number\n     * @default\n     */\n    cursorDuration: 600,\n\n    /**\n     * Indicates whether internal text char widths can be cached\n     * @type Boolean\n     * @default\n     */\n    caching: true,\n\n    /**\n     * @private\n     */\n    _reSpace: /\\s|\\n/,\n\n    /**\n     * @private\n     */\n    _currentCursorOpacity: 0,\n\n    /**\n     * @private\n     */\n    _selectionDirection: null,\n\n    /**\n     * @private\n     */\n    _abortCursorAnimation: false,\n\n    /**\n     * @private\n     */\n    __widthOfSpace: [],\n\n    /**\n     * Helps determining when the text is in composition, so that the cursor\n     * rendering is altered.\n     */\n    inCompositionMode: false,\n\n    /**\n     * Constructor\n     * @param {String} text Text string\n     * @param {Object} [options] Options object\n     * @return {fabric.IText} thisArg\n     */\n    initialize: function(text, options) {\n      this.callSuper('initialize', text, options);\n      this.initBehavior();\n    },\n\n    /**\n     * Sets selection start (left boundary of a selection)\n     * @param {Number} index Index to set selection start to\n     */\n    setSelectionStart: function(index) {\n      index = Math.max(index, 0);\n      this._updateAndFire('selectionStart', index);\n    },\n\n    /**\n     * Sets selection end (right boundary of a selection)\n     * @param {Number} index Index to set selection end to\n     */\n    setSelectionEnd: function(index) {\n      index = Math.min(index, this.text.length);\n      this._updateAndFire('selectionEnd', index);\n    },\n\n    /**\n     * @private\n     * @param {String} property 'selectionStart' or 'selectionEnd'\n     * @param {Number} index new position of property\n     */\n    _updateAndFire: function(property, index) {\n      if (this[property] !== index) {\n        this._fireSelectionChanged();\n        this[property] = index;\n      }\n      this._updateTextarea();\n    },\n\n    /**\n     * Fires the even of selection changed\n     * @private\n     */\n    _fireSelectionChanged: function() {\n      this.fire('selection:changed');\n      this.canvas && this.canvas.fire('text:selection:changed', { target: this });\n    },\n\n    /**\n     * Initialize text dimensions. Render all text on given context\n     * or on a offscreen canvas to get the text width with measureText.\n     * Updates this.width and this.height with the proper values.\n     * Does not return dimensions.\n     * @private\n     */\n    initDimensions: function() {\n      this.isEditing && this.initDelayedCursor();\n      this.clearContextTop();\n      this.callSuper('initDimensions');\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    render: function(ctx) {\n      this.clearContextTop();\n      this.callSuper('render', ctx);\n      // clear the cursorOffsetCache, so we ensure to calculate once per renderCursor\n      // the correct position but not at every cursor animation.\n      this.cursorOffsetCache = { };\n      this.renderCursorOrSelection();\n    },\n\n    /**\n     * @private\n     * @param {CanvasRenderingContext2D} ctx Context to render on\n     */\n    _render: function(ctx) {\n      this.callSuper('_render', ctx);\n    },\n\n    /**\n     * Prepare and clean the contextTop\n     */\n    clearContextTop: function(skipRestore) {\n      if (!this.isEditing || !this.canvas || !this.canvas.contextTop) {\n        return;\n      }\n      var ctx = this.canvas.contextTop, v = this.canvas.viewportTransform;\n      ctx.save();\n      ctx.transform(v[0], v[1], v[2], v[3], v[4], v[5]);\n      this.transform(ctx);\n      this._clearTextArea(ctx);\n      skipRestore || ctx.restore();\n    },\n    /**\n     * Renders cursor or selection (depending on what exists)\n     * it does on the contextTop. If contextTop is not available, do nothing.\n     */\n    renderCursorOrSelection: function() {\n      if (!this.isEditing || !this.canvas || !this.canvas.contextTop) {\n        return;\n      }\n      var boundaries = this._getCursorBoundaries(),\n          ctx = this.canvas.contextTop;\n      this.clearContextTop(true);\n      if (this.selectionStart === this.selectionEnd) {\n        this.renderCursor(boundaries, ctx);\n      }\n      else {\n        this.renderSelection(boundaries, ctx);\n      }\n      ctx.restore();\n    },\n\n    _clearTextArea: function(ctx) {\n      // we add 4 pixel, to be sure to do not leave any pixel out\n      var width = this.width + 4, height = this.height + 4;\n      ctx.clearRect(-width / 2, -height / 2, width, height);\n    },\n\n    /**\n     * Returns cursor boundaries (left, top, leftOffset, topOffset)\n     * @private\n     * @param {Array} chars Array of characters\n     * @param {String} typeOfBoundaries\n     */\n    _getCursorBoundaries: function(position) {\n\n      // left/top are left/top of entire text box\n      // leftOffset/topOffset are offset from that left/top point of a text box\n\n      if (typeof position === 'undefined') {\n        position = this.selectionStart;\n      }\n\n      var left = this._getLeftOffset(),\n          top = this._getTopOffset(),\n          offsets = this._getCursorBoundariesOffsets(position);\n\n      return {\n        left: left,\n        top: top,\n        leftOffset: offsets.left,\n        topOffset: offsets.top\n      };\n    },\n\n    /**\n     * @private\n     */\n    _getCursorBoundariesOffsets: function(position) {\n      if (this.cursorOffsetCache && 'top' in this.cursorOffsetCache) {\n        return this.cursorOffsetCache;\n      }\n      var lineLeftOffset,\n          lineIndex,\n          charIndex,\n          topOffset = 0,\n          leftOffset = 0,\n          boundaries,\n          cursorPosition = this.get2DCursorLocation(position);\n      charIndex = cursorPosition.charIndex;\n      lineIndex = cursorPosition.lineIndex;\n      for (var i = 0; i < lineIndex; i++) {\n        topOffset += this.getHeightOfLine(i);\n      }\n      lineLeftOffset = this._getLineLeftOffset(lineIndex);\n      var bound = this.__charBounds[lineIndex][charIndex];\n      bound && (leftOffset = bound.left);\n      if (this.charSpacing !== 0 && charIndex === this._textLines[lineIndex].length) {\n        leftOffset -= this._getWidthOfCharSpacing();\n      }\n      boundaries = {\n        top: topOffset,\n        left: lineLeftOffset + (leftOffset > 0 ? leftOffset : 0),\n      };\n      this.cursorOffsetCache = boundaries;\n      return this.cursorOffsetCache;\n    },\n\n    /**\n     * Renders cursor\n     * @param {Object} boundaries\n     * @param {CanvasRenderingContext2D} ctx transformed context to draw on\n     */\n    renderCursor: function(boundaries, ctx) {\n      var cursorLocation = this.get2DCursorLocation(),\n          lineIndex = cursorLocation.lineIndex,\n          charIndex = cursorLocation.charIndex > 0 ? cursorLocation.charIndex - 1 : 0,\n          charHeight = this.getValueOfPropertyAt(lineIndex, charIndex, 'fontSize'),\n          multiplier = this.scaleX * this.canvas.getZoom(),\n          cursorWidth = this.cursorWidth / multiplier,\n          topOffset = boundaries.topOffset,\n          dy = this.getValueOfPropertyAt(lineIndex, charIndex, 'deltaY');\n\n      topOffset += (1 - this._fontSizeFraction) * this.getHeightOfLine(lineIndex) / this.lineHeight\n        - charHeight * (1 - this._fontSizeFraction);\n\n      if (this.inCompositionMode) {\n        this.renderSelection(boundaries, ctx);\n      }\n\n      ctx.fillStyle = this.cursorColor || this.getValueOfPropertyAt(lineIndex, charIndex, 'fill');\n      ctx.globalAlpha = this.__isMousedown ? 1 : this._currentCursorOpacity;\n      ctx.fillRect(\n        boundaries.left + boundaries.leftOffset - cursorWidth / 2,\n        topOffset + boundaries.top + dy,\n        cursorWidth,\n        charHeight);\n    },\n\n    /**\n     * Renders text selection\n     * @param {Object} boundaries Object with left/top/leftOffset/topOffset\n     * @param {CanvasRenderingContext2D} ctx transformed context to draw on\n     */\n    renderSelection: function(boundaries, ctx) {\n\n      var selectionStart = this.inCompositionMode ? this.hiddenTextarea.selectionStart : this.selectionStart,\n          selectionEnd = this.inCompositionMode ? this.hiddenTextarea.selectionEnd : this.selectionEnd,\n          isJustify = this.textAlign.indexOf('justify') !== -1,\n          start = this.get2DCursorLocation(selectionStart),\n          end = this.get2DCursorLocation(selectionEnd),\n          startLine = start.lineIndex,\n          endLine = end.lineIndex,\n          startChar = start.charIndex < 0 ? 0 : start.charIndex,\n          endChar = end.charIndex < 0 ? 0 : end.charIndex;\n\n      for (var i = startLine; i <= endLine; i++) {\n        var lineOffset = this._getLineLeftOffset(i) || 0,\n            lineHeight = this.getHeightOfLine(i),\n            realLineHeight = 0, boxStart = 0, boxEnd = 0;\n\n        if (i === startLine) {\n          boxStart = this.__charBounds[startLine][startChar].left;\n        }\n        if (i >= startLine && i < endLine) {\n          boxEnd = isJustify && !this.isEndOfWrapping(i) ? this.width : this.getLineWidth(i) || 5; // WTF is this 5?\n        }\n        else if (i === endLine) {\n          if (endChar === 0) {\n            boxEnd = this.__charBounds[endLine][endChar].left;\n          }\n          else {\n            var charSpacing = this._getWidthOfCharSpacing();\n            boxEnd = this.__charBounds[endLine][endChar - 1].left\n              + this.__charBounds[endLine][endChar - 1].width - charSpacing;\n          }\n        }\n        realLineHeight = lineHeight;\n        if (this.lineHeight < 1 || (i === endLine && this.lineHeight > 1)) {\n          lineHeight /= this.lineHeight;\n        }\n        if (this.inCompositionMode) {\n          ctx.fillStyle = this.compositionColor || 'black';\n          ctx.fillRect(\n            boundaries.left + lineOffset + boxStart,\n            boundaries.top + boundaries.topOffset + lineHeight,\n            boxEnd - boxStart,\n            1);\n        }\n        else {\n          ctx.fillStyle = this.selectionColor;\n          ctx.fillRect(\n            boundaries.left + lineOffset + boxStart,\n            boundaries.top + boundaries.topOffset,\n            boxEnd - boxStart,\n            lineHeight);\n        }\n\n\n        boundaries.topOffset += realLineHeight;\n      }\n    },\n\n    /**\n     * High level function to know the height of the cursor.\n     * the currentChar is the one that precedes the cursor\n     * Returns fontSize of char at the current cursor\n     * Unused from the library, is for the end user\n     * @return {Number} Character font size\n     */\n    getCurrentCharFontSize: function() {\n      var cp = this._getCurrentCharIndex();\n      return this.getValueOfPropertyAt(cp.l, cp.c, 'fontSize');\n    },\n\n    /**\n     * High level function to know the color of the cursor.\n     * the currentChar is the one that precedes the cursor\n     * Returns color (fill) of char at the current cursor\n     * Unused from the library, is for the end user\n     * @return {String} Character color (fill)\n     */\n    getCurrentCharColor: function() {\n      var cp = this._getCurrentCharIndex();\n      return this.getValueOfPropertyAt(cp.l, cp.c, 'fill');\n    },\n\n    /**\n     * Returns the cursor position for the getCurrent.. functions\n     * @private\n     */\n    _getCurrentCharIndex: function() {\n      var cursorPosition = this.get2DCursorLocation(this.selectionStart, true),\n          charIndex = cursorPosition.charIndex > 0 ? cursorPosition.charIndex - 1 : 0;\n      return { l: cursorPosition.lineIndex, c: charIndex };\n    }\n  });\n\n  /**\n   * Returns fabric.IText instance from an object representation\n   * @static\n   * @memberOf fabric.IText\n   * @param {Object} object Object to create an instance from\n   * @param {function} [callback] invoked with new instance as argument\n   */\n  fabric.IText.fromObject = function(object, callback) {\n    parseDecoration(object);\n    if (object.styles) {\n      for (var i in object.styles) {\n        for (var j in object.styles[i]) {\n          parseDecoration(object.styles[i][j]);\n        }\n      }\n    }\n    fabric.Object._fromObject('IText', object, callback, 'text');\n  };\n})();\n\n\n(function() {\n\n  var clone = fabric.util.object.clone;\n\n  fabric.util.object.extend(fabric.IText.prototype, /** @lends fabric.IText.prototype */ {\n\n    /**\n     * Initializes all the interactive behavior of IText\n     */\n    initBehavior: function() {\n      this.initAddedHandler();\n      this.initRemovedHandler();\n      this.initCursorSelectionHandlers();\n      this.initDoubleClickSimulation();\n      this.mouseMoveHandler = this.mouseMoveHandler.bind(this);\n    },\n\n    onDeselect: function() {\n      this.isEditing && this.exitEditing();\n      this.selected = false;\n    },\n\n    /**\n     * Initializes \"added\" event handler\n     */\n    initAddedHandler: function() {\n      var _this = this;\n      this.on('added', function() {\n        var canvas = _this.canvas;\n        if (canvas) {\n          if (!canvas._hasITextHandlers) {\n            canvas._hasITextHandlers = true;\n            _this._initCanvasHandlers(canvas);\n          }\n          canvas._iTextInstances = canvas._iTextInstances || [];\n          canvas._iTextInstances.push(_this);\n        }\n      });\n    },\n\n    initRemovedHandler: function() {\n      var _this = this;\n      this.on('removed', function() {\n        var canvas = _this.canvas;\n        if (canvas) {\n          canvas._iTextInstances = canvas._iTextInstances || [];\n          fabric.util.removeFromArray(canvas._iTextInstances, _this);\n          if (canvas._iTextInstances.length === 0) {\n            canvas._hasITextHandlers = false;\n            _this._removeCanvasHandlers(canvas);\n          }\n        }\n      });\n    },\n\n    /**\n     * register canvas event to manage exiting on other instances\n     * @private\n     */\n    _initCanvasHandlers: function(canvas) {\n      canvas._mouseUpITextHandler = function() {\n        if (canvas._iTextInstances) {\n          canvas._iTextInstances.forEach(function(obj) {\n            obj.__isMousedown = false;\n          });\n        }\n      };\n      canvas.on('mouse:up', canvas._mouseUpITextHandler);\n    },\n\n    /**\n     * remove canvas event to manage exiting on other instances\n     * @private\n     */\n    _removeCanvasHandlers: function(canvas) {\n      canvas.off('mouse:up', canvas._mouseUpITextHandler);\n    },\n\n    /**\n     * @private\n     */\n    _tick: function() {\n      this._currentTickState = this._animateCursor(this, 1, this.cursorDuration, '_onTickComplete');\n    },\n\n    /**\n     * @private\n     */\n    _animateCursor: function(obj, targetOpacity, duration, completeMethod) {\n\n      var tickState;\n\n      tickState = {\n        isAborted: false,\n        abort: function() {\n          this.isAborted = true;\n        },\n      };\n\n      obj.animate('_currentCursorOpacity', targetOpacity, {\n        duration: duration,\n        onComplete: function() {\n          if (!tickState.isAborted) {\n            obj[completeMethod]();\n          }\n        },\n        onChange: function() {\n          // we do not want to animate a selection, only cursor\n          if (obj.canvas && obj.selectionStart === obj.selectionEnd) {\n            obj.renderCursorOrSelection();\n          }\n        },\n        abort: function() {\n          return tickState.isAborted;\n        }\n      });\n      return tickState;\n    },\n\n    /**\n     * @private\n     */\n    _onTickComplete: function() {\n\n      var _this = this;\n\n      if (this._cursorTimeout1) {\n        clearTimeout(this._cursorTimeout1);\n      }\n      this._cursorTimeout1 = setTimeout(function() {\n        _this._currentTickCompleteState = _this._animateCursor(_this, 0, this.cursorDuration / 2, '_tick');\n      }, 100);\n    },\n\n    /**\n     * Initializes delayed cursor\n     */\n    initDelayedCursor: function(restart) {\n      var _this = this,\n          delay = restart ? 0 : this.cursorDelay;\n\n      this.abortCursorAnimation();\n      this._currentCursorOpacity = 1;\n      this._cursorTimeout2 = setTimeout(function() {\n        _this._tick();\n      }, delay);\n    },\n\n    /**\n     * Aborts cursor animation and clears all timeouts\n     */\n    abortCursorAnimation: function() {\n      var shouldClear = this._currentTickState || this._currentTickCompleteState,\n          canvas = this.canvas;\n      this._currentTickState && this._currentTickState.abort();\n      this._currentTickCompleteState && this._currentTickCompleteState.abort();\n\n      clearTimeout(this._cursorTimeout1);\n      clearTimeout(this._cursorTimeout2);\n\n      this._currentCursorOpacity = 0;\n      // to clear just itext area we need to transform the context\n      // it may not be worth it\n      if (shouldClear && canvas) {\n        canvas.clearContext(canvas.contextTop || canvas.contextContainer);\n      }\n\n    },\n\n    /**\n     * Selects entire text\n     * @return {fabric.IText} thisArg\n     * @chainable\n     */\n    selectAll: function() {\n      this.selectionStart = 0;\n      this.selectionEnd = this._text.length;\n      this._fireSelectionChanged();\n      this._updateTextarea();\n      return this;\n    },\n\n    /**\n     * Returns selected text\n     * @return {String}\n     */\n    getSelectedText: function() {\n      return this._text.slice(this.selectionStart, this.selectionEnd).join('');\n    },\n\n    /**\n     * Find new selection index representing start of current word according to current selection index\n     * @param {Number} startFrom Current selection index\n     * @return {Number} New selection index\n     */\n    findWordBoundaryLeft: function(startFrom) {\n      var offset = 0, index = startFrom - 1;\n\n      // remove space before cursor first\n      if (this._reSpace.test(this._text[index])) {\n        while (this._reSpace.test(this._text[index])) {\n          offset++;\n          index--;\n        }\n      }\n      while (/\\S/.test(this._text[index]) && index > -1) {\n        offset++;\n        index--;\n      }\n\n      return startFrom - offset;\n    },\n\n    /**\n     * Find new selection index representing end of current word according to current selection index\n     * @param {Number} startFrom Current selection index\n     * @return {Number} New selection index\n     */\n    findWordBoundaryRight: function(startFrom) {\n      var offset = 0, index = startFrom;\n\n      // remove space after cursor first\n      if (this._reSpace.test(this._text[index])) {\n        while (this._reSpace.test(this._text[index])) {\n          offset++;\n          index++;\n        }\n      }\n      while (/\\S/.test(this._text[index]) && index < this._text.length) {\n        offset++;\n        index++;\n      }\n\n      return startFrom + offset;\n    },\n\n    /**\n     * Find new selection index representing start of current line according to current selection index\n     * @param {Number} startFrom Current selection index\n     * @return {Number} New selection index\n     */\n    findLineBoundaryLeft: function(startFrom) {\n      var offset = 0, index = startFrom - 1;\n\n      while (!/\\n/.test(this._text[index]) && index > -1) {\n        offset++;\n        index--;\n      }\n\n      return startFrom - offset;\n    },\n\n    /**\n     * Find new selection index representing end of current line according to current selection index\n     * @param {Number} startFrom Current selection index\n     * @return {Number} New selection index\n     */\n    findLineBoundaryRight: function(startFrom) {\n      var offset = 0, index = startFrom;\n\n      while (!/\\n/.test(this._text[index]) && index < this._text.length) {\n        offset++;\n        index++;\n      }\n\n      return startFrom + offset;\n    },\n\n    /**\n     * Finds index corresponding to beginning or end of a word\n     * @param {Number} selectionStart Index of a character\n     * @param {Number} direction 1 or -1\n     * @return {Number} Index of the beginning or end of a word\n     */\n    searchWordBoundary: function(selectionStart, direction) {\n      var text = this._text,\n          index     = this._reSpace.test(text[selectionStart]) ? selectionStart - 1 : selectionStart,\n          _char     = text[index],\n          // wrong\n          reNonWord = fabric.reNonWord;\n\n      while (!reNonWord.test(_char) && index > 0 && index < text.length) {\n        index += direction;\n        _char = text[index];\n      }\n      if (reNonWord.test(_char)) {\n        index += direction === 1 ? 0 : 1;\n      }\n      return index;\n    },\n\n    /**\n     * Selects a word based on the index\n     * @param {Number} selectionStart Index of a character\n     */\n    selectWord: function(selectionStart) {\n      selectionStart = selectionStart || this.selectionStart;\n      var newSelectionStart = this.searchWordBoundary(selectionStart, -1), /* search backwards */\n          newSelectionEnd = this.searchWordBoundary(selectionStart, 1); /* search forward */\n\n      this.selectionStart = newSelectionStart;\n      this.selectionEnd = newSelectionEnd;\n      this._fireSelectionChanged();\n      this._updateTextarea();\n      this.renderCursorOrSelection();\n    },\n\n    /**\n     * Selects a line based on the index\n     * @param {Number} selectionStart Index of a character\n     * @return {fabric.IText} thisArg\n     * @chainable\n     */\n    selectLine: function(selectionStart) {\n      selectionStart = selectionStart || this.selectionStart;\n      var newSelectionStart = this.findLineBoundaryLeft(selectionStart),\n          newSelectionEnd = this.findLineBoundaryRight(selectionStart);\n\n      this.selectionStart = newSelectionStart;\n      this.selectionEnd = newSelectionEnd;\n      this._fireSelectionChanged();\n      this._updateTextarea();\n      return this;\n    },\n\n    /**\n     * Enters editing state\n     * @return {fabric.IText} thisArg\n     * @chainable\n     */\n    enterEditing: function(e) {\n      if (this.isEditing || !this.editable) {\n        return;\n      }\n\n      if (this.canvas) {\n        this.canvas.calcOffset();\n        this.exitEditingOnOthers(this.canvas);\n      }\n\n      this.isEditing = true;\n\n      this.initHiddenTextarea(e);\n      this.hiddenTextarea.focus();\n      this.hiddenTextarea.value = this.text;\n      this._updateTextarea();\n      this._saveEditingProps();\n      this._setEditingProps();\n      this._textBeforeEdit = this.text;\n\n      this._tick();\n      this.fire('editing:entered');\n      this._fireSelectionChanged();\n      if (!this.canvas) {\n        return this;\n      }\n      this.canvas.fire('text:editing:entered', { target: this });\n      this.initMouseMoveHandler();\n      this.canvas.requestRenderAll();\n      return this;\n    },\n\n    exitEditingOnOthers: function(canvas) {\n      if (canvas._iTextInstances) {\n        canvas._iTextInstances.forEach(function(obj) {\n          obj.selected = false;\n          if (obj.isEditing) {\n            obj.exitEditing();\n          }\n        });\n      }\n    },\n\n    /**\n     * Initializes \"mousemove\" event handler\n     */\n    initMouseMoveHandler: function() {\n      this.canvas.on('mouse:move', this.mouseMoveHandler);\n    },\n\n    /**\n     * @private\n     */\n    mouseMoveHandler: function(options) {\n      if (!this.__isMousedown || !this.isEditing) {\n        return;\n      }\n\n      var newSelectionStart = this.getSelectionStartFromPointer(options.e),\n          currentStart = this.selectionStart,\n          currentEnd = this.selectionEnd;\n      if (\n        (newSelectionStart !== this.__selectionStartOnMouseDown || currentStart === currentEnd)\n        &&\n        (currentStart === newSelectionStart || currentEnd === newSelectionStart)\n      ) {\n        return;\n      }\n      if (newSelectionStart > this.__selectionStartOnMouseDown) {\n        this.selectionStart = this.__selectionStartOnMouseDown;\n        this.selectionEnd = newSelectionStart;\n      }\n      else {\n        this.selectionStart = newSelectionStart;\n        this.selectionEnd = this.__selectionStartOnMouseDown;\n      }\n      if (this.selectionStart !== currentStart || this.selectionEnd !== currentEnd) {\n        this.restartCursorIfNeeded();\n        this._fireSelectionChanged();\n        this._updateTextarea();\n        this.renderCursorOrSelection();\n      }\n    },\n\n    /**\n     * @private\n     */\n    _setEditingProps: function() {\n      this.hoverCursor = 'text';\n\n      if (this.canvas) {\n        this.canvas.defaultCursor = this.canvas.moveCursor = 'text';\n      }\n\n      this.borderColor = this.editingBorderColor;\n      this.hasControls = this.selectable = false;\n      this.lockMovementX = this.lockMovementY = true;\n    },\n\n    /**\n     * convert from textarea to grapheme indexes\n     */\n    fromStringToGraphemeSelection: function(start, end, text) {\n      var smallerTextStart = text.slice(0, start),\n          graphemeStart = fabric.util.string.graphemeSplit(smallerTextStart).length;\n      if (start === end) {\n        return { selectionStart: graphemeStart, selectionEnd: graphemeStart };\n      }\n      var smallerTextEnd = text.slice(start, end),\n          graphemeEnd = fabric.util.string.graphemeSplit(smallerTextEnd).length;\n      return { selectionStart: graphemeStart, selectionEnd: graphemeStart + graphemeEnd };\n    },\n\n    /**\n     * convert from fabric to textarea values\n     */\n    fromGraphemeToStringSelection: function(start, end, _text) {\n      var smallerTextStart = _text.slice(0, start),\n          graphemeStart = smallerTextStart.join('').length;\n      if (start === end) {\n        return { selectionStart: graphemeStart, selectionEnd: graphemeStart };\n      }\n      var smallerTextEnd = _text.slice(start, end),\n          graphemeEnd = smallerTextEnd.join('').length;\n      return { selectionStart: graphemeStart, selectionEnd: graphemeStart + graphemeEnd };\n    },\n\n    /**\n     * @private\n     */\n    _updateTextarea: function() {\n      this.cursorOffsetCache = { };\n      if (!this.hiddenTextarea) {\n        return;\n      }\n      if (!this.inCompositionMode) {\n        var newSelection = this.fromGraphemeToStringSelection(this.selectionStart, this.selectionEnd, this._text);\n        this.hiddenTextarea.selectionStart = newSelection.selectionStart;\n        this.hiddenTextarea.selectionEnd = newSelection.selectionEnd;\n      }\n      this.updateTextareaPosition();\n    },\n\n    /**\n     * @private\n     */\n    updateFromTextArea: function() {\n      if (!this.hiddenTextarea) {\n        return;\n      }\n      this.cursorOffsetCache = { };\n      this.text = this.hiddenTextarea.value;\n      if (this._shouldClearDimensionCache()) {\n        this.initDimensions();\n        this.setCoords();\n      }\n      var newSelection = this.fromStringToGraphemeSelection(\n        this.hiddenTextarea.selectionStart, this.hiddenTextarea.selectionEnd, this.hiddenTextarea.value);\n      this.selectionEnd = this.selectionStart = newSelection.selectionEnd;\n      if (!this.inCompositionMode) {\n        this.selectionStart = newSelection.selectionStart;\n      }\n      this.updateTextareaPosition();\n    },\n\n    /**\n     * @private\n     */\n    updateTextareaPosition: function() {\n      if (this.selectionStart === this.selectionEnd) {\n        var style = this._calcTextareaPosition();\n        this.hiddenTextarea.style.left = style.left;\n        this.hiddenTextarea.style.top = style.top;\n      }\n    },\n\n    /**\n     * @private\n     * @return {Object} style contains style for hiddenTextarea\n     */\n    _calcTextareaPosition: function() {\n      if (!this.canvas) {\n        return { x: 1, y: 1 };\n      }\n      var desiredPosition = this.inCompositionMode ? this.compositionStart : this.selectionStart,\n          boundaries = this._getCursorBoundaries(desiredPosition),\n          cursorLocation = this.get2DCursorLocation(desiredPosition),\n          lineIndex = cursorLocation.lineIndex,\n          charIndex = cursorLocation.charIndex,\n          charHeight = this.getValueOfPropertyAt(lineIndex, charIndex, 'fontSize') * this.lineHeight,\n          leftOffset = boundaries.leftOffset,\n          m = this.calcTransformMatrix(),\n          p = {\n            x: boundaries.left + leftOffset,\n            y: boundaries.top + boundaries.topOffset + charHeight\n          },\n          retinaScaling = this.canvas.getRetinaScaling(),\n          upperCanvas = this.canvas.upperCanvasEl,\n          upperCanvasWidth = upperCanvas.width / retinaScaling,\n          upperCanvasHeight = upperCanvas.height / retinaScaling,\n          maxWidth = upperCanvasWidth - charHeight,\n          maxHeight = upperCanvasHeight - charHeight,\n          scaleX = upperCanvas.clientWidth / upperCanvasWidth,\n          scaleY = upperCanvas.clientHeight / upperCanvasHeight;\n\n      p = fabric.util.transformPoint(p, m);\n      p = fabric.util.transformPoint(p, this.canvas.viewportTransform);\n      p.x *= scaleX;\n      p.y *= scaleY;\n      if (p.x < 0) {\n        p.x = 0;\n      }\n      if (p.x > maxWidth) {\n        p.x = maxWidth;\n      }\n      if (p.y < 0) {\n        p.y = 0;\n      }\n      if (p.y > maxHeight) {\n        p.y = maxHeight;\n      }\n\n      // add canvas offset on document\n      p.x += this.canvas._offset.left;\n      p.y += this.canvas._offset.top;\n\n      return { left: p.x + 'px', top: p.y + 'px', fontSize: charHeight + 'px', charHeight: charHeight };\n    },\n\n    /**\n     * @private\n     */\n    _saveEditingProps: function() {\n      this._savedProps = {\n        hasControls: this.hasControls,\n        borderColor: this.borderColor,\n        lockMovementX: this.lockMovementX,\n        lockMovementY: this.lockMovementY,\n        hoverCursor: this.hoverCursor,\n        selectable: this.selectable,\n        defaultCursor: this.canvas && this.canvas.defaultCursor,\n        moveCursor: this.canvas && this.canvas.moveCursor\n      };\n    },\n\n    /**\n     * @private\n     */\n    _restoreEditingProps: function() {\n      if (!this._savedProps) {\n        return;\n      }\n\n      this.hoverCursor = this._savedProps.hoverCursor;\n      this.hasControls = this._savedProps.hasControls;\n      this.borderColor = this._savedProps.borderColor;\n      this.selectable = this._savedProps.selectable;\n      this.lockMovementX = this._savedProps.lockMovementX;\n      this.lockMovementY = this._savedProps.lockMovementY;\n\n      if (this.canvas) {\n        this.canvas.defaultCursor = this._savedProps.defaultCursor;\n        this.canvas.moveCursor = this._savedProps.moveCursor;\n      }\n    },\n\n    /**\n     * Exits from editing state\n     * @return {fabric.IText} thisArg\n     * @chainable\n     */\n    exitEditing: function() {\n      var isTextChanged = (this._textBeforeEdit !== this.text);\n      var hiddenTextarea = this.hiddenTextarea;\n      this.selected = false;\n      this.isEditing = false;\n\n      this.selectionEnd = this.selectionStart;\n\n      if (hiddenTextarea) {\n        hiddenTextarea.blur && hiddenTextarea.blur();\n        hiddenTextarea.parentNode && hiddenTextarea.parentNode.removeChild(hiddenTextarea);\n      }\n      this.hiddenTextarea = null;\n      this.abortCursorAnimation();\n      this._restoreEditingProps();\n      this._currentCursorOpacity = 0;\n      if (this._shouldClearDimensionCache()) {\n        this.initDimensions();\n        this.setCoords();\n      }\n      this.fire('editing:exited');\n      isTextChanged && this.fire('modified');\n      if (this.canvas) {\n        this.canvas.off('mouse:move', this.mouseMoveHandler);\n        this.canvas.fire('text:editing:exited', { target: this });\n        isTextChanged && this.canvas.fire('object:modified', { target: this });\n      }\n      return this;\n    },\n\n    /**\n     * @private\n     */\n    _removeExtraneousStyles: function() {\n      for (var prop in this.styles) {\n        if (!this._textLines[prop]) {\n          delete this.styles[prop];\n        }\n      }\n    },\n\n    /**\n     * remove and reflow a style block from start to end.\n     * @param {Number} start linear start position for removal (included in removal)\n     * @param {Number} end linear end position for removal ( excluded from removal )\n     */\n    removeStyleFromTo: function(start, end) {\n      var cursorStart = this.get2DCursorLocation(start, true),\n          cursorEnd = this.get2DCursorLocation(end, true),\n          lineStart = cursorStart.lineIndex,\n          charStart = cursorStart.charIndex,\n          lineEnd = cursorEnd.lineIndex,\n          charEnd = cursorEnd.charIndex,\n          i, styleObj;\n      if (lineStart !== lineEnd) {\n        // step1 remove the trailing of lineStart\n        if (this.styles[lineStart]) {\n          for (i = charStart; i < this._unwrappedTextLines[lineStart].length; i++) {\n            delete this.styles[lineStart][i];\n          }\n        }\n        // step2 move the trailing of lineEnd to lineStart if needed\n        if (this.styles[lineEnd]) {\n          for (i = charEnd; i < this._unwrappedTextLines[lineEnd].length; i++) {\n            styleObj = this.styles[lineEnd][i];\n            if (styleObj) {\n              this.styles[lineStart] || (this.styles[lineStart] = { });\n              this.styles[lineStart][charStart + i - charEnd] = styleObj;\n            }\n          }\n        }\n        // step3 detects lines will be completely removed.\n        for (i = lineStart + 1; i <= lineEnd; i++) {\n          delete this.styles[i];\n        }\n        // step4 shift remaining lines.\n        this.shiftLineStyles(lineEnd, lineStart - lineEnd);\n      }\n      else {\n        // remove and shift left on the same line\n        if (this.styles[lineStart]) {\n          styleObj = this.styles[lineStart];\n          var diff = charEnd - charStart, numericChar, _char;\n          for (i = charStart; i < charEnd; i++) {\n            delete styleObj[i];\n          }\n          for (_char in this.styles[lineStart]) {\n            numericChar = parseInt(_char, 10);\n            if (numericChar >= charEnd) {\n              styleObj[numericChar - diff] = styleObj[_char];\n              delete styleObj[_char];\n            }\n          }\n        }\n      }\n    },\n\n    /**\n     * Shifts line styles up or down\n     * @param {Number} lineIndex Index of a line\n     * @param {Number} offset Can any number?\n     */\n    shiftLineStyles: function(lineIndex, offset) {\n      // shift all line styles by offset upward or downward\n      // do not clone deep. we need new array, not new style objects\n      var clonedStyles = clone(this.styles);\n      for (var line in this.styles) {\n        var numericLine = parseInt(line, 10);\n        if (numericLine > lineIndex) {\n          this.styles[numericLine + offset] = clonedStyles[numericLine];\n          if (!clonedStyles[numericLine - offset]) {\n            delete this.styles[numericLine];\n          }\n        }\n      }\n    },\n\n    restartCursorIfNeeded: function() {\n      if (!this._currentTickState || this._currentTickState.isAborted\n        || !this._currentTickCompleteState || this._currentTickCompleteState.isAborted\n      ) {\n        this.initDelayedCursor();\n      }\n    },\n\n    /**\n     * Handle insertion of more consecutive style lines for when one or more\n     * newlines gets added to the text. Since current style needs to be shifted\n     * first we shift the current style of the number lines needed, then we add\n     * new lines from the last to the first.\n     * @param {Number} lineIndex Index of a line\n     * @param {Number} charIndex Index of a char\n     * @param {Number} qty number of lines to add\n     * @param {Array} copiedStyle Array of objects styles\n     */\n    insertNewlineStyleObject: function(lineIndex, charIndex, qty, copiedStyle) {\n      var currentCharStyle,\n          newLineStyles = {},\n          somethingAdded = false,\n          isEndOfLine = this._unwrappedTextLines[lineIndex].length === charIndex;\n\n      qty || (qty = 1);\n      this.shiftLineStyles(lineIndex, qty);\n      if (this.styles[lineIndex]) {\n        currentCharStyle = this.styles[lineIndex][charIndex === 0 ? charIndex : charIndex - 1];\n      }\n      // we clone styles of all chars\n      // after cursor onto the current line\n      for (var index in this.styles[lineIndex]) {\n        var numIndex = parseInt(index, 10);\n        if (numIndex >= charIndex) {\n          somethingAdded = true;\n          newLineStyles[numIndex - charIndex] = this.styles[lineIndex][index];\n          // remove lines from the previous line since they're on a new line now\n          if (!(isEndOfLine && charIndex === 0)) {\n            delete this.styles[lineIndex][index];\n          }\n        }\n      }\n      var styleCarriedOver = false;\n      if (somethingAdded && !isEndOfLine) {\n        // if is end of line, the extra style we copied\n        // is probably not something we want\n        this.styles[lineIndex + qty] = newLineStyles;\n        styleCarriedOver = true;\n      }\n      if (styleCarriedOver) {\n        // skip the last line of since we already prepared it.\n        qty--;\n      }\n      // for the all the lines or all the other lines\n      // we clone current char style onto the next (otherwise empty) line\n      while (qty > 0) {\n        if (copiedStyle && copiedStyle[qty - 1]) {\n          this.styles[lineIndex + qty] = { 0: clone(copiedStyle[qty - 1]) };\n        }\n        else if (currentCharStyle) {\n          this.styles[lineIndex + qty] = { 0: clone(currentCharStyle) };\n        }\n        else {\n          delete this.styles[lineIndex + qty];\n        }\n        qty--;\n      }\n      this._forceClearCache = true;\n    },\n\n    /**\n     * Inserts style object for a given line/char index\n     * @param {Number} lineIndex Index of a line\n     * @param {Number} charIndex Index of a char\n     * @param {Number} quantity number Style object to insert, if given\n     * @param {Array} copiedStyle array of style objects\n     */\n    insertCharStyleObject: function(lineIndex, charIndex, quantity, copiedStyle) {\n      if (!this.styles) {\n        this.styles = {};\n      }\n      var currentLineStyles       = this.styles[lineIndex],\n          currentLineStylesCloned = currentLineStyles ? clone(currentLineStyles) : {};\n\n      quantity || (quantity = 1);\n      // shift all char styles by quantity forward\n      // 0,1,2,3 -> (charIndex=2) -> 0,1,3,4 -> (insert 2) -> 0,1,2,3,4\n      for (var index in currentLineStylesCloned) {\n        var numericIndex = parseInt(index, 10);\n        if (numericIndex >= charIndex) {\n          currentLineStyles[numericIndex + quantity] = currentLineStylesCloned[numericIndex];\n          // only delete the style if there was nothing moved there\n          if (!currentLineStylesCloned[numericIndex - quantity]) {\n            delete currentLineStyles[numericIndex];\n          }\n        }\n      }\n      this._forceClearCache = true;\n      if (copiedStyle) {\n        while (quantity--) {\n          if (!Object.keys(copiedStyle[quantity]).length) {\n            continue;\n          }\n          if (!this.styles[lineIndex]) {\n            this.styles[lineIndex] = {};\n          }\n          this.styles[lineIndex][charIndex + quantity] = clone(copiedStyle[quantity]);\n        }\n        return;\n      }\n      if (!currentLineStyles) {\n        return;\n      }\n      var newStyle = currentLineStyles[charIndex ? charIndex - 1 : 1];\n      while (newStyle && quantity--) {\n        this.styles[lineIndex][charIndex + quantity] = clone(newStyle);\n      }\n    },\n\n    /**\n     * Inserts style object(s)\n     * @param {Array} insertedText Characters at the location where style is inserted\n     * @param {Number} start cursor index for inserting style\n     * @param {Array} [copiedStyle] array of style objects to insert.\n     */\n    insertNewStyleBlock: function(insertedText, start, copiedStyle) {\n      var cursorLoc = this.get2DCursorLocation(start, true),\n          addedLines = [0], linesLength = 0;\n      // get an array of how many char per lines are being added.\n      for (var i = 0; i < insertedText.length; i++) {\n        if (insertedText[i] === '\\n') {\n          linesLength++;\n          addedLines[linesLength] = 0;\n        }\n        else {\n          addedLines[linesLength]++;\n        }\n      }\n      // for the first line copy the style from the current char position.\n      if (addedLines[0] > 0) {\n        this.insertCharStyleObject(cursorLoc.lineIndex, cursorLoc.charIndex, addedLines[0], copiedStyle);\n        copiedStyle = copiedStyle && copiedStyle.slice(addedLines[0] + 1);\n      }\n      linesLength && this.insertNewlineStyleObject(\n        cursorLoc.lineIndex, cursorLoc.charIndex + addedLines[0], linesLength);\n      for (var i = 1; i < linesLength; i++) {\n        if (addedLines[i] > 0) {\n          this.insertCharStyleObject(cursorLoc.lineIndex + i, 0, addedLines[i], copiedStyle);\n        }\n        else if (copiedStyle) {\n          this.styles[cursorLoc.lineIndex + i][0] = copiedStyle[0];\n        }\n        copiedStyle = copiedStyle && copiedStyle.slice(addedLines[i] + 1);\n      }\n      // we use i outside the loop to get it like linesLength\n      if (addedLines[i] > 0) {\n        this.insertCharStyleObject(cursorLoc.lineIndex + i, 0, addedLines[i], copiedStyle);\n      }\n    },\n\n    /**\n     * Set the selectionStart and selectionEnd according to the new position of cursor\n     * mimic the key - mouse navigation when shift is pressed.\n     */\n    setSelectionStartEndWithShift: function(start, end, newSelection) {\n      if (newSelection <= start) {\n        if (end === start) {\n          this._selectionDirection = 'left';\n        }\n        else if (this._selectionDirection === 'right') {\n          this._selectionDirection = 'left';\n          this.selectionEnd = start;\n        }\n        this.selectionStart = newSelection;\n      }\n      else if (newSelection > start && newSelection < end) {\n        if (this._selectionDirection === 'right') {\n          this.selectionEnd = newSelection;\n        }\n        else {\n          this.selectionStart = newSelection;\n        }\n      }\n      else {\n        // newSelection is > selection start and end\n        if (end === start) {\n          this._selectionDirection = 'right';\n        }\n        else if (this._selectionDirection === 'left') {\n          this._selectionDirection = 'right';\n          this.selectionStart = end;\n        }\n        this.selectionEnd = newSelection;\n      }\n    },\n\n    setSelectionInBoundaries: function() {\n      var length = this.text.length;\n      if (this.selectionStart > length) {\n        this.selectionStart = length;\n      }\n      else if (this.selectionStart < 0) {\n        this.selectionStart = 0;\n      }\n      if (this.selectionEnd > length) {\n        this.selectionEnd = length;\n      }\n      else if (this.selectionEnd < 0) {\n        this.selectionEnd = 0;\n      }\n    }\n  });\n})();\n\n\nfabric.util.object.extend(fabric.IText.prototype, /** @lends fabric.IText.prototype */ {\n  /**\n   * Initializes \"dbclick\" event handler\n   */\n  initDoubleClickSimulation: function() {\n\n    // for double click\n    this.__lastClickTime = +new Date();\n\n    // for triple click\n    this.__lastLastClickTime = +new Date();\n\n    this.__lastPointer = { };\n\n    this.on('mousedown', this.onMouseDown);\n  },\n\n  /**\n   * Default event handler to simulate triple click\n   * @private\n   */\n  onMouseDown: function(options) {\n    if (!this.canvas) {\n      return;\n    }\n    this.__newClickTime = +new Date();\n    var newPointer = options.pointer;\n    if (this.isTripleClick(newPointer)) {\n      this.fire('tripleclick', options);\n      this._stopEvent(options.e);\n    }\n    this.__lastLastClickTime = this.__lastClickTime;\n    this.__lastClickTime = this.__newClickTime;\n    this.__lastPointer = newPointer;\n    this.__lastIsEditing = this.isEditing;\n    this.__lastSelected = this.selected;\n  },\n\n  isTripleClick: function(newPointer) {\n    return this.__newClickTime - this.__lastClickTime < 500 &&\n        this.__lastClickTime - this.__lastLastClickTime < 500 &&\n        this.__lastPointer.x === newPointer.x &&\n        this.__lastPointer.y === newPointer.y;\n  },\n\n  /**\n   * @private\n   */\n  _stopEvent: function(e) {\n    e.preventDefault && e.preventDefault();\n    e.stopPropagation && e.stopPropagation();\n  },\n\n  /**\n   * Initializes event handlers related to cursor or selection\n   */\n  initCursorSelectionHandlers: function() {\n    this.initMousedownHandler();\n    this.initMouseupHandler();\n    this.initClicks();\n  },\n\n  /**\n   * Default handler for double click, select a word\n   */\n  doubleClickHandler: function(options) {\n    if (!this.isEditing) {\n      return;\n    }\n    this.selectWord(this.getSelectionStartFromPointer(options.e));\n  },\n\n  /**\n   * Default handler for triple click, select a line\n   */\n  tripleClickHandler: function(options) {\n    if (!this.isEditing) {\n      return;\n    }\n    this.selectLine(this.getSelectionStartFromPointer(options.e));\n  },\n\n  /**\n   * Initializes double and triple click event handlers\n   */\n  initClicks: function() {\n    this.on('mousedblclick', this.doubleClickHandler);\n    this.on('tripleclick', this.tripleClickHandler);\n  },\n\n  /**\n   * Default event handler for the basic functionalities needed on _mouseDown\n   * can be overridden to do something different.\n   * Scope of this implementation is: find the click position, set selectionStart\n   * find selectionEnd, initialize the drawing of either cursor or selection area\n   * initializing a mousedDown on a text area will cancel fabricjs knowledge of\n   * current compositionMode. It will be set to false.\n   */\n  _mouseDownHandler: function(options) {\n    if (!this.canvas || !this.editable || (options.e.button && options.e.button !== 1)) {\n      return;\n    }\n\n    this.__isMousedown = true;\n\n    if (this.selected) {\n      this.inCompositionMode = false;\n      this.setCursorByClick(options.e);\n    }\n\n    if (this.isEditing) {\n      this.__selectionStartOnMouseDown = this.selectionStart;\n      if (this.selectionStart === this.selectionEnd) {\n        this.abortCursorAnimation();\n      }\n      this.renderCursorOrSelection();\n    }\n  },\n\n  /**\n   * Default event handler for the basic functionalities needed on mousedown:before\n   * can be overridden to do something different.\n   * Scope of this implementation is: verify the object is already selected when mousing down\n   */\n  _mouseDownHandlerBefore: function(options) {\n    if (!this.canvas || !this.editable || (options.e.button && options.e.button !== 1)) {\n      return;\n    }\n    // we want to avoid that an object that was selected and then becomes unselectable,\n    // may trigger editing mode in some way.\n    this.selected = this === this.canvas._activeObject;\n  },\n\n  /**\n   * Initializes \"mousedown\" event handler\n   */\n  initMousedownHandler: function() {\n    this.on('mousedown', this._mouseDownHandler);\n    this.on('mousedown:before', this._mouseDownHandlerBefore);\n  },\n\n  /**\n   * Initializes \"mouseup\" event handler\n   */\n  initMouseupHandler: function() {\n    this.on('mouseup', this.mouseUpHandler);\n  },\n\n  /**\n   * standard handler for mouse up, overridable\n   * @private\n   */\n  mouseUpHandler: function(options) {\n    this.__isMousedown = false;\n    if (!this.editable || this.group ||\n      (options.transform && options.transform.actionPerformed) ||\n      (options.e.button && options.e.button !== 1)) {\n      return;\n    }\n\n    if (this.canvas) {\n      var currentActive = this.canvas._activeObject;\n      if (currentActive && currentActive !== this) {\n        // avoid running this logic when there is an active object\n        // this because is possible with shift click and fast clicks,\n        // to rapidly deselect and reselect this object and trigger an enterEdit\n        return;\n      }\n    }\n\n    if (this.__lastSelected && !this.__corner) {\n      this.selected = false;\n      this.__lastSelected = false;\n      this.enterEditing(options.e);\n      if (this.selectionStart === this.selectionEnd) {\n        this.initDelayedCursor(true);\n      }\n      else {\n        this.renderCursorOrSelection();\n      }\n    }\n    else {\n      this.selected = true;\n    }\n  },\n\n  /**\n   * Changes cursor location in a text depending on passed pointer (x/y) object\n   * @param {Event} e Event object\n   */\n  setCursorByClick: function(e) {\n    var newSelection = this.getSelectionStartFromPointer(e),\n        start = this.selectionStart, end = this.selectionEnd;\n    if (e.shiftKey) {\n      this.setSelectionStartEndWithShift(start, end, newSelection);\n    }\n    else {\n      this.selectionStart = newSelection;\n      this.selectionEnd = newSelection;\n    }\n    if (this.isEditing) {\n      this._fireSelectionChanged();\n      this._updateTextarea();\n    }\n  },\n\n  /**\n   * Returns index of a character corresponding to where an object was clicked\n   * @param {Event} e Event object\n   * @return {Number} Index of a character\n   */\n  getSelectionStartFromPointer: function(e) {\n    var mouseOffset = this.getLocalPointer(e),\n        prevWidth = 0,\n        width = 0,\n        height = 0,\n        charIndex = 0,\n        lineIndex = 0,\n        lineLeftOffset,\n        line;\n\n    for (var i = 0, len = this._textLines.length; i < len; i++) {\n      if (height <= mouseOffset.y) {\n        height += this.getHeightOfLine(i) * this.scaleY;\n        lineIndex = i;\n        if (i > 0) {\n          charIndex += this._textLines[i - 1].length + this.missingNewlineOffset(i - 1);\n        }\n      }\n      else {\n        break;\n      }\n    }\n    lineLeftOffset = this._getLineLeftOffset(lineIndex);\n    width = lineLeftOffset * this.scaleX;\n    line = this._textLines[lineIndex];\n    for (var j = 0, jlen = line.length; j < jlen; j++) {\n      prevWidth = width;\n      // i removed something about flipX here, check.\n      width += this.__charBounds[lineIndex][j].kernedWidth * this.scaleX;\n      if (width <= mouseOffset.x) {\n        charIndex++;\n      }\n      else {\n        break;\n      }\n    }\n    return this._getNewSelectionStartFromOffset(mouseOffset, prevWidth, width, charIndex, jlen);\n  },\n\n  /**\n   * @private\n   */\n  _getNewSelectionStartFromOffset: function(mouseOffset, prevWidth, width, index, jlen) {\n    // we need Math.abs because when width is after the last char, the offset is given as 1, while is 0\n    var distanceBtwLastCharAndCursor = mouseOffset.x - prevWidth,\n        distanceBtwNextCharAndCursor = width - mouseOffset.x,\n        offset = distanceBtwNextCharAndCursor > distanceBtwLastCharAndCursor ||\n          distanceBtwNextCharAndCursor < 0 ? 0 : 1,\n        newSelectionStart = index + offset;\n    // if object is horizontally flipped, mirror cursor location from the end\n    if (this.flipX) {\n      newSelectionStart = jlen - newSelectionStart;\n    }\n\n    if (newSelectionStart > this._text.length) {\n      newSelectionStart = this._text.length;\n    }\n\n    return newSelectionStart;\n  }\n});\n\n\nfabric.util.object.extend(fabric.IText.prototype, /** @lends fabric.IText.prototype */ {\n\n  /**\n   * Initializes hidden textarea (needed to bring up keyboard in iOS)\n   */\n  initHiddenTextarea: function() {\n    this.hiddenTextarea = fabric.document.createElement('textarea');\n    this.hiddenTextarea.setAttribute('autocapitalize', 'off');\n    this.hiddenTextarea.setAttribute('autocorrect', 'off');\n    this.hiddenTextarea.setAttribute('autocomplete', 'off');\n    this.hiddenTextarea.setAttribute('spellcheck', 'false');\n    this.hiddenTextarea.setAttribute('data-fabric-hiddentextarea', '');\n    this.hiddenTextarea.setAttribute('wrap', 'off');\n    var style = this._calcTextareaPosition();\n    // line-height: 1px; was removed from the style to fix this:\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=870966\n    this.hiddenTextarea.style.cssText = 'position: absolute; top: ' + style.top +\n    '; left: ' + style.left + '; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px;' +\n    ' paddingｰtop: ' + style.fontSize + ';';\n    fabric.document.body.appendChild(this.hiddenTextarea);\n\n    fabric.util.addListener(this.hiddenTextarea, 'keydown', this.onKeyDown.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'keyup', this.onKeyUp.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'input', this.onInput.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'copy', this.copy.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'cut', this.copy.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'paste', this.paste.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'compositionstart', this.onCompositionStart.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'compositionupdate', this.onCompositionUpdate.bind(this));\n    fabric.util.addListener(this.hiddenTextarea, 'compositionend', this.onCompositionEnd.bind(this));\n\n    if (!this._clickHandlerInitialized && this.canvas) {\n      fabric.util.addListener(this.canvas.upperCanvasEl, 'click', this.onClick.bind(this));\n      this._clickHandlerInitialized = true;\n    }\n  },\n\n  /**\n   * For functionalities on keyDown\n   * Map a special key to a function of the instance/prototype\n   * If you need different behaviour for ESC or TAB or arrows, you have to change\n   * this map setting the name of a function that you build on the fabric.Itext or\n   * your prototype.\n   * the map change will affect all Instances unless you need for only some text Instances\n   * in that case you have to clone this object and assign your Instance.\n   * this.keysMap = fabric.util.object.clone(this.keysMap);\n   * The function must be in fabric.Itext.prototype.myFunction And will receive event as args[0]\n   */\n  keysMap: {\n    9:  'exitEditing',\n    27: 'exitEditing',\n    33: 'moveCursorUp',\n    34: 'moveCursorDown',\n    35: 'moveCursorRight',\n    36: 'moveCursorLeft',\n    37: 'moveCursorLeft',\n    38: 'moveCursorUp',\n    39: 'moveCursorRight',\n    40: 'moveCursorDown',\n  },\n\n  /**\n   * For functionalities on keyUp + ctrl || cmd\n   */\n  ctrlKeysMapUp: {\n    67: 'copy',\n    88: 'cut'\n  },\n\n  /**\n   * For functionalities on keyDown + ctrl || cmd\n   */\n  ctrlKeysMapDown: {\n    65: 'selectAll'\n  },\n\n  onClick: function() {\n    // No need to trigger click event here, focus is enough to have the keyboard appear on Android\n    this.hiddenTextarea && this.hiddenTextarea.focus();\n  },\n\n  /**\n   * Handles keydown event\n   * only used for arrows and combination of modifier keys.\n   * @param {Event} e Event object\n   */\n  onKeyDown: function(e) {\n    if (!this.isEditing) {\n      return;\n    }\n    if (e.keyCode in this.keysMap) {\n      this[this.keysMap[e.keyCode]](e);\n    }\n    else if ((e.keyCode in this.ctrlKeysMapDown) && (e.ctrlKey || e.metaKey)) {\n      this[this.ctrlKeysMapDown[e.keyCode]](e);\n    }\n    else {\n      return;\n    }\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    if (e.keyCode >= 33 && e.keyCode <= 40) {\n      // if i press an arrow key just update selection\n      this.inCompositionMode = false;\n      this.clearContextTop();\n      this.renderCursorOrSelection();\n    }\n    else {\n      this.canvas && this.canvas.requestRenderAll();\n    }\n  },\n\n  /**\n   * Handles keyup event\n   * We handle KeyUp because ie11 and edge have difficulties copy/pasting\n   * if a copy/cut event fired, keyup is dismissed\n   * @param {Event} e Event object\n   */\n  onKeyUp: function(e) {\n    if (!this.isEditing || this._copyDone || this.inCompositionMode) {\n      this._copyDone = false;\n      return;\n    }\n    if ((e.keyCode in this.ctrlKeysMapUp) && (e.ctrlKey || e.metaKey)) {\n      this[this.ctrlKeysMapUp[e.keyCode]](e);\n    }\n    else {\n      return;\n    }\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this.canvas && this.canvas.requestRenderAll();\n  },\n\n  /**\n   * Handles onInput event\n   * @param {Event} e Event object\n   */\n  onInput: function(e) {\n    var fromPaste = this.fromPaste;\n    this.fromPaste = false;\n    e && e.stopPropagation();\n    if (!this.isEditing) {\n      return;\n    }\n    // decisions about style changes.\n    var nextText = this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,\n        charCount = this._text.length,\n        nextCharCount = nextText.length,\n        removedText, insertedText,\n        charDiff = nextCharCount - charCount,\n        selectionStart = this.selectionStart, selectionEnd = this.selectionEnd,\n        selection = selectionStart !== selectionEnd,\n        copiedStyle, removeFrom, removeTo;\n    if (this.hiddenTextarea.value === '') {\n      this.styles = { };\n      this.updateFromTextArea();\n      this.fire('changed');\n      if (this.canvas) {\n        this.canvas.fire('text:changed', { target: this });\n        this.canvas.requestRenderAll();\n      }\n      return;\n    }\n\n    var textareaSelection = this.fromStringToGraphemeSelection(\n      this.hiddenTextarea.selectionStart,\n      this.hiddenTextarea.selectionEnd,\n      this.hiddenTextarea.value\n    );\n    var backDelete = selectionStart > textareaSelection.selectionStart;\n\n    if (selection) {\n      removedText = this._text.slice(selectionStart, selectionEnd);\n      charDiff += selectionEnd - selectionStart;\n    }\n    else if (nextCharCount < charCount) {\n      if (backDelete) {\n        removedText = this._text.slice(selectionEnd + charDiff, selectionEnd);\n      }\n      else {\n        removedText = this._text.slice(selectionStart, selectionStart - charDiff);\n      }\n    }\n    insertedText = nextText.slice(textareaSelection.selectionEnd - charDiff, textareaSelection.selectionEnd);\n    if (removedText && removedText.length) {\n      if (insertedText.length) {\n        // let's copy some style before deleting.\n        // we want to copy the style before the cursor OR the style at the cursor if selection\n        // is bigger than 0.\n        copiedStyle = this.getSelectionStyles(selectionStart, selectionStart + 1, false);\n        // now duplicate the style one for each inserted text.\n        copiedStyle = insertedText.map(function() {\n          // this return an array of references, but that is fine since we are\n          // copying the style later.\n          return copiedStyle[0];\n        });\n      }\n      if (selection) {\n        removeFrom = selectionStart;\n        removeTo = selectionEnd;\n      }\n      else if (backDelete) {\n        // detect differences between forwardDelete and backDelete\n        removeFrom = selectionEnd - removedText.length;\n        removeTo = selectionEnd;\n      }\n      else {\n        removeFrom = selectionEnd;\n        removeTo = selectionEnd + removedText.length;\n      }\n      this.removeStyleFromTo(removeFrom, removeTo);\n    }\n    if (insertedText.length) {\n      if (fromPaste && insertedText.join('') === fabric.copiedText && !fabric.disableStyleCopyPaste) {\n        copiedStyle = fabric.copiedTextStyle;\n      }\n      this.insertNewStyleBlock(insertedText, selectionStart, copiedStyle);\n    }\n    this.updateFromTextArea();\n    this.fire('changed');\n    if (this.canvas) {\n      this.canvas.fire('text:changed', { target: this });\n      this.canvas.requestRenderAll();\n    }\n  },\n  /**\n   * Composition start\n   */\n  onCompositionStart: function() {\n    this.inCompositionMode = true;\n  },\n\n  /**\n   * Composition end\n   */\n  onCompositionEnd: function() {\n    this.inCompositionMode = false;\n  },\n\n  // /**\n  //  * Composition update\n  //  */\n  onCompositionUpdate: function(e) {\n    this.compositionStart = e.target.selectionStart;\n    this.compositionEnd = e.target.selectionEnd;\n    this.updateTextareaPosition();\n  },\n\n  /**\n   * Copies selected text\n   * @param {Event} e Event object\n   */\n  copy: function() {\n    if (this.selectionStart === this.selectionEnd) {\n      //do not cut-copy if no selection\n      return;\n    }\n\n    fabric.copiedText = this.getSelectedText();\n    if (!fabric.disableStyleCopyPaste) {\n      fabric.copiedTextStyle = this.getSelectionStyles(this.selectionStart, this.selectionEnd, true);\n    }\n    else {\n      fabric.copiedTextStyle = null;\n    }\n    this._copyDone = true;\n  },\n\n  /**\n   * Pastes text\n   * @param {Event} e Event object\n   */\n  paste: function() {\n    this.fromPaste = true;\n  },\n\n  /**\n   * @private\n   * @param {Event} e Event object\n   * @return {Object} Clipboard data object\n   */\n  _getClipboardData: function(e) {\n    return (e && e.clipboardData) || fabric.window.clipboardData;\n  },\n\n  /**\n   * Finds the width in pixels before the cursor on the same line\n   * @private\n   * @param {Number} lineIndex\n   * @param {Number} charIndex\n   * @return {Number} widthBeforeCursor width before cursor\n   */\n  _getWidthBeforeCursor: function(lineIndex, charIndex) {\n    var widthBeforeCursor = this._getLineLeftOffset(lineIndex), bound;\n\n    if (charIndex > 0) {\n      bound = this.__charBounds[lineIndex][charIndex - 1];\n      widthBeforeCursor += bound.left + bound.width;\n    }\n    return widthBeforeCursor;\n  },\n\n  /**\n   * Gets start offset of a selection\n   * @param {Event} e Event object\n   * @param {Boolean} isRight\n   * @return {Number}\n   */\n  getDownCursorOffset: function(e, isRight) {\n    var selectionProp = this._getSelectionForOffset(e, isRight),\n        cursorLocation = this.get2DCursorLocation(selectionProp),\n        lineIndex = cursorLocation.lineIndex;\n    // if on last line, down cursor goes to end of line\n    if (lineIndex === this._textLines.length - 1 || e.metaKey || e.keyCode === 34) {\n      // move to the end of a text\n      return this._text.length - selectionProp;\n    }\n    var charIndex = cursorLocation.charIndex,\n        widthBeforeCursor = this._getWidthBeforeCursor(lineIndex, charIndex),\n        indexOnOtherLine = this._getIndexOnLine(lineIndex + 1, widthBeforeCursor),\n        textAfterCursor = this._textLines[lineIndex].slice(charIndex);\n    return textAfterCursor.length + indexOnOtherLine + 1 + this.missingNewlineOffset(lineIndex);\n  },\n\n  /**\n   * private\n   * Helps finding if the offset should be counted from Start or End\n   * @param {Event} e Event object\n   * @param {Boolean} isRight\n   * @return {Number}\n   */\n  _getSelectionForOffset: function(e, isRight) {\n    if (e.shiftKey && this.selectionStart !== this.selectionEnd && isRight) {\n      return this.selectionEnd;\n    }\n    else {\n      return this.selectionStart;\n    }\n  },\n\n  /**\n   * @param {Event} e Event object\n   * @param {Boolean} isRight\n   * @return {Number}\n   */\n  getUpCursorOffset: function(e, isRight) {\n    var selectionProp = this._getSelectionForOffset(e, isRight),\n        cursorLocation = this.get2DCursorLocation(selectionProp),\n        lineIndex = cursorLocation.lineIndex;\n    if (lineIndex === 0 || e.metaKey || e.keyCode === 33) {\n      // if on first line, up cursor goes to start of line\n      return -selectionProp;\n    }\n    var charIndex = cursorLocation.charIndex,\n        widthBeforeCursor = this._getWidthBeforeCursor(lineIndex, charIndex),\n        indexOnOtherLine = this._getIndexOnLine(lineIndex - 1, widthBeforeCursor),\n        textBeforeCursor = this._textLines[lineIndex].slice(0, charIndex),\n        missingNewlineOffset = this.missingNewlineOffset(lineIndex - 1);\n    // return a negative offset\n    return -this._textLines[lineIndex - 1].length\n     + indexOnOtherLine - textBeforeCursor.length + (1 - missingNewlineOffset);\n  },\n\n  /**\n   * for a given width it founds the matching character.\n   * @private\n   */\n  _getIndexOnLine: function(lineIndex, width) {\n\n    var line = this._textLines[lineIndex],\n        lineLeftOffset = this._getLineLeftOffset(lineIndex),\n        widthOfCharsOnLine = lineLeftOffset,\n        indexOnLine = 0, charWidth, foundMatch;\n\n    for (var j = 0, jlen = line.length; j < jlen; j++) {\n      charWidth = this.__charBounds[lineIndex][j].width;\n      widthOfCharsOnLine += charWidth;\n      if (widthOfCharsOnLine > width) {\n        foundMatch = true;\n        var leftEdge = widthOfCharsOnLine - charWidth,\n            rightEdge = widthOfCharsOnLine,\n            offsetFromLeftEdge = Math.abs(leftEdge - width),\n            offsetFromRightEdge = Math.abs(rightEdge - width);\n\n        indexOnLine = offsetFromRightEdge < offsetFromLeftEdge ? j : (j - 1);\n        break;\n      }\n    }\n\n    // reached end\n    if (!foundMatch) {\n      indexOnLine = line.length - 1;\n    }\n\n    return indexOnLine;\n  },\n\n\n  /**\n   * Moves cursor down\n   * @param {Event} e Event object\n   */\n  moveCursorDown: function(e) {\n    if (this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length) {\n      return;\n    }\n    this._moveCursorUpOrDown('Down', e);\n  },\n\n  /**\n   * Moves cursor up\n   * @param {Event} e Event object\n   */\n  moveCursorUp: function(e) {\n    if (this.selectionStart === 0 && this.selectionEnd === 0) {\n      return;\n    }\n    this._moveCursorUpOrDown('Up', e);\n  },\n\n  /**\n   * Moves cursor up or down, fires the events\n   * @param {String} direction 'Up' or 'Down'\n   * @param {Event} e Event object\n   */\n  _moveCursorUpOrDown: function(direction, e) {\n    // getUpCursorOffset\n    // getDownCursorOffset\n    var action = 'get' + direction + 'CursorOffset',\n        offset = this[action](e, this._selectionDirection === 'right');\n    if (e.shiftKey) {\n      this.moveCursorWithShift(offset);\n    }\n    else {\n      this.moveCursorWithoutShift(offset);\n    }\n    if (offset !== 0) {\n      this.setSelectionInBoundaries();\n      this.abortCursorAnimation();\n      this._currentCursorOpacity = 1;\n      this.initDelayedCursor();\n      this._fireSelectionChanged();\n      this._updateTextarea();\n    }\n  },\n\n  /**\n   * Moves cursor with shift\n   * @param {Number} offset\n   */\n  moveCursorWithShift: function(offset) {\n    var newSelection = this._selectionDirection === 'left'\n      ? this.selectionStart + offset\n      : this.selectionEnd + offset;\n    this.setSelectionStartEndWithShift(this.selectionStart, this.selectionEnd, newSelection);\n    return offset !== 0;\n  },\n\n  /**\n   * Moves cursor up without shift\n   * @param {Number} offset\n   */\n  moveCursorWithoutShift: function(offset) {\n    if (offset < 0) {\n      this.selectionStart += offset;\n      this.selectionEnd = this.selectionStart;\n    }\n    else {\n      this.selectionEnd += offset;\n      this.selectionStart = this.selectionEnd;\n    }\n    return offset !== 0;\n  },\n\n  /**\n   * Moves cursor left\n   * @param {Event} e Event object\n   */\n  moveCursorLeft: function(e) {\n    if (this.selectionStart === 0 && this.selectionEnd === 0) {\n      return;\n    }\n    this._moveCursorLeftOrRight('Left', e);\n  },\n\n  /**\n   * @private\n   * @return {Boolean} true if a change happened\n   */\n  _move: function(e, prop, direction) {\n    var newValue;\n    if (e.altKey) {\n      newValue = this['findWordBoundary' + direction](this[prop]);\n    }\n    else if (e.metaKey || e.keyCode === 35 ||  e.keyCode === 36 ) {\n      newValue = this['findLineBoundary' + direction](this[prop]);\n    }\n    else {\n      this[prop] += direction === 'Left' ? -1 : 1;\n      return true;\n    }\n    if (typeof newValue !== undefined && this[prop] !== newValue) {\n      this[prop] = newValue;\n      return true;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _moveLeft: function(e, prop) {\n    return this._move(e, prop, 'Left');\n  },\n\n  /**\n   * @private\n   */\n  _moveRight: function(e, prop) {\n    return this._move(e, prop, 'Right');\n  },\n\n  /**\n   * Moves cursor left without keeping selection\n   * @param {Event} e\n   */\n  moveCursorLeftWithoutShift: function(e) {\n    var change = true;\n    this._selectionDirection = 'left';\n\n    // only move cursor when there is no selection,\n    // otherwise we discard it, and leave cursor on same place\n    if (this.selectionEnd === this.selectionStart && this.selectionStart !== 0) {\n      change = this._moveLeft(e, 'selectionStart');\n\n    }\n    this.selectionEnd = this.selectionStart;\n    return change;\n  },\n\n  /**\n   * Moves cursor left while keeping selection\n   * @param {Event} e\n   */\n  moveCursorLeftWithShift: function(e) {\n    if (this._selectionDirection === 'right' && this.selectionStart !== this.selectionEnd) {\n      return this._moveLeft(e, 'selectionEnd');\n    }\n    else if (this.selectionStart !== 0){\n      this._selectionDirection = 'left';\n      return this._moveLeft(e, 'selectionStart');\n    }\n  },\n\n  /**\n   * Moves cursor right\n   * @param {Event} e Event object\n   */\n  moveCursorRight: function(e) {\n    if (this.selectionStart >= this._text.length && this.selectionEnd >= this._text.length) {\n      return;\n    }\n    this._moveCursorLeftOrRight('Right', e);\n  },\n\n  /**\n   * Moves cursor right or Left, fires event\n   * @param {String} direction 'Left', 'Right'\n   * @param {Event} e Event object\n   */\n  _moveCursorLeftOrRight: function(direction, e) {\n    var actionName = 'moveCursor' + direction + 'With';\n    this._currentCursorOpacity = 1;\n\n    if (e.shiftKey) {\n      actionName += 'Shift';\n    }\n    else {\n      actionName += 'outShift';\n    }\n    if (this[actionName](e)) {\n      this.abortCursorAnimation();\n      this.initDelayedCursor();\n      this._fireSelectionChanged();\n      this._updateTextarea();\n    }\n  },\n\n  /**\n   * Moves cursor right while keeping selection\n   * @param {Event} e\n   */\n  moveCursorRightWithShift: function(e) {\n    if (this._selectionDirection === 'left' && this.selectionStart !== this.selectionEnd) {\n      return this._moveRight(e, 'selectionStart');\n    }\n    else if (this.selectionEnd !== this._text.length) {\n      this._selectionDirection = 'right';\n      return this._moveRight(e, 'selectionEnd');\n    }\n  },\n\n  /**\n   * Moves cursor right without keeping selection\n   * @param {Event} e Event object\n   */\n  moveCursorRightWithoutShift: function(e) {\n    var changed = true;\n    this._selectionDirection = 'right';\n\n    if (this.selectionStart === this.selectionEnd) {\n      changed = this._moveRight(e, 'selectionStart');\n      this.selectionEnd = this.selectionStart;\n    }\n    else {\n      this.selectionStart = this.selectionEnd;\n    }\n    return changed;\n  },\n\n  /**\n   * Removes characters from start/end\n   * start/end ar per grapheme position in _text array.\n   *\n   * @param {Number} start\n   * @param {Number} end default to start + 1\n   */\n  removeChars: function(start, end) {\n    if (typeof end === 'undefined') {\n      end = start + 1;\n    }\n    this.removeStyleFromTo(start, end);\n    this._text.splice(start, end - start);\n    this.text = this._text.join('');\n    this.set('dirty', true);\n    if (this._shouldClearDimensionCache()) {\n      this.initDimensions();\n      this.setCoords();\n    }\n    this._removeExtraneousStyles();\n  },\n\n  /**\n   * insert characters at start position, before start position.\n   * start  equal 1 it means the text get inserted between actual grapheme 0 and 1\n   * if style array is provided, it must be as the same length of text in graphemes\n   * if end is provided and is bigger than start, old text is replaced.\n   * start/end ar per grapheme position in _text array.\n   *\n   * @param {String} text text to insert\n   * @param {Array} style array of style objects\n   * @param {Number} start\n   * @param {Number} end default to start + 1\n   */\n  insertChars: function(text, style, start, end) {\n    if (typeof end === 'undefined') {\n      end = start;\n    }\n    if (end > start) {\n      this.removeStyleFromTo(start, end);\n    }\n    var graphemes = fabric.util.string.graphemeSplit(text);\n    this.insertNewStyleBlock(graphemes, start, style);\n    this._text = [].concat(this._text.slice(0, start), graphemes, this._text.slice(end));\n    this.text = this._text.join('');\n    this.set('dirty', true);\n    if (this._shouldClearDimensionCache()) {\n      this.initDimensions();\n      this.setCoords();\n    }\n    this._removeExtraneousStyles();\n  },\n\n});\n\n\n/* _TO_SVG_START_ */\n(function() {\n  var toFixed = fabric.util.toFixed,\n      multipleSpacesRegex = /  +/g;\n\n  fabric.util.object.extend(fabric.Text.prototype, /** @lends fabric.Text.prototype */ {\n\n    /**\n     * Returns SVG representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    _toSVG: function() {\n      var offsets = this._getSVGLeftTopOffsets(),\n          textAndBg = this._getSVGTextAndBg(offsets.textTop, offsets.textLeft);\n      return this._wrapSVGTextAndBg(textAndBg);\n    },\n\n    /**\n     * Returns svg representation of an instance\n     * @param {Function} [reviver] Method for further parsing of svg representation.\n     * @return {String} svg representation of an instance\n     */\n    toSVG: function(reviver) {\n      return this._createBaseSVGMarkup(\n        this._toSVG(),\n        { reviver: reviver, noStyle: true, withShadow: true }\n      );\n    },\n\n    /**\n     * @private\n     */\n    _getSVGLeftTopOffsets: function() {\n      return {\n        textLeft: -this.width / 2,\n        textTop: -this.height / 2,\n        lineTop: this.getHeightOfLine(0)\n      };\n    },\n\n    /**\n     * @private\n     */\n    _wrapSVGTextAndBg: function(textAndBg) {\n      var noShadow = true,\n          textDecoration = this.getSvgTextDecoration(this);\n      return [\n        textAndBg.textBgRects.join(''),\n        '\\t\\t<text xml:space=\"preserve\" ',\n        (this.fontFamily ? 'font-family=\"' + this.fontFamily.replace(/\"/g, '\\'') + '\" ' : ''),\n        (this.fontSize ? 'font-size=\"' + this.fontSize + '\" ' : ''),\n        (this.fontStyle ? 'font-style=\"' + this.fontStyle + '\" ' : ''),\n        (this.fontWeight ? 'font-weight=\"' + this.fontWeight + '\" ' : ''),\n        (textDecoration ? 'text-decoration=\"' + textDecoration + '\" ' : ''),\n        'style=\"', this.getSvgStyles(noShadow), '\"', this.addPaintOrder(), ' >',\n        textAndBg.textSpans.join(''),\n        '</text>\\n'\n      ];\n    },\n\n    /**\n     * @private\n     * @param {Number} textTopOffset Text top offset\n     * @param {Number} textLeftOffset Text left offset\n     * @return {Object}\n     */\n    _getSVGTextAndBg: function(textTopOffset, textLeftOffset) {\n      var textSpans = [],\n          textBgRects = [],\n          height = textTopOffset, lineOffset;\n      // bounding-box background\n      this._setSVGBg(textBgRects);\n\n      // text and text-background\n      for (var i = 0, len = this._textLines.length; i < len; i++) {\n        lineOffset = this._getLineLeftOffset(i);\n        if (this.textBackgroundColor || this.styleHas('textBackgroundColor', i)) {\n          this._setSVGTextLineBg(textBgRects, i, textLeftOffset + lineOffset, height);\n        }\n        this._setSVGTextLineText(textSpans, i, textLeftOffset + lineOffset, height);\n        height += this.getHeightOfLine(i);\n      }\n\n      return {\n        textSpans: textSpans,\n        textBgRects: textBgRects\n      };\n    },\n\n    /**\n     * @private\n     */\n    _createTextCharSpan: function(_char, styleDecl, left, top) {\n      var shouldUseWhitespace = _char !== _char.trim() || _char.match(multipleSpacesRegex),\n          styleProps = this.getSvgSpanStyles(styleDecl, shouldUseWhitespace),\n          fillStyles = styleProps ? 'style=\"' + styleProps + '\"' : '',\n          dy = styleDecl.deltaY, dySpan = '',\n          NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n      if (dy) {\n        dySpan = ' dy=\"' + toFixed(dy, NUM_FRACTION_DIGITS) + '\" ';\n      }\n      return [\n        '<tspan x=\"', toFixed(left, NUM_FRACTION_DIGITS), '\" y=\"',\n        toFixed(top, NUM_FRACTION_DIGITS), '\" ', dySpan,\n        fillStyles, '>',\n        fabric.util.string.escapeXml(_char),\n        '</tspan>'\n      ].join('');\n    },\n\n    _setSVGTextLineText: function(textSpans, lineIndex, textLeftOffset, textTopOffset) {\n      // set proper line offset\n      var lineHeight = this.getHeightOfLine(lineIndex),\n          isJustify = this.textAlign.indexOf('justify') !== -1,\n          actualStyle,\n          nextStyle,\n          charsToRender = '',\n          charBox, style,\n          boxWidth = 0,\n          line = this._textLines[lineIndex],\n          timeToRender;\n\n      textTopOffset += lineHeight * (1 - this._fontSizeFraction) / this.lineHeight;\n      for (var i = 0, len = line.length - 1; i <= len; i++) {\n        timeToRender = i === len || this.charSpacing;\n        charsToRender += line[i];\n        charBox = this.__charBounds[lineIndex][i];\n        if (boxWidth === 0) {\n          textLeftOffset += charBox.kernedWidth - charBox.width;\n          boxWidth += charBox.width;\n        }\n        else {\n          boxWidth += charBox.kernedWidth;\n        }\n        if (isJustify && !timeToRender) {\n          if (this._reSpaceAndTab.test(line[i])) {\n            timeToRender = true;\n          }\n        }\n        if (!timeToRender) {\n          // if we have charSpacing, we render char by char\n          actualStyle = actualStyle || this.getCompleteStyleDeclaration(lineIndex, i);\n          nextStyle = this.getCompleteStyleDeclaration(lineIndex, i + 1);\n          timeToRender = this._hasStyleChangedForSvg(actualStyle, nextStyle);\n        }\n        if (timeToRender) {\n          style = this._getStyleDeclaration(lineIndex, i) || { };\n          textSpans.push(this._createTextCharSpan(charsToRender, style, textLeftOffset, textTopOffset));\n          charsToRender = '';\n          actualStyle = nextStyle;\n          textLeftOffset += boxWidth;\n          boxWidth = 0;\n        }\n      }\n    },\n\n    _pushTextBgRect: function(textBgRects, color, left, top, width, height) {\n      var NUM_FRACTION_DIGITS = fabric.Object.NUM_FRACTION_DIGITS;\n      textBgRects.push(\n        '\\t\\t<rect ',\n        this._getFillAttributes(color),\n        ' x=\"',\n        toFixed(left, NUM_FRACTION_DIGITS),\n        '\" y=\"',\n        toFixed(top, NUM_FRACTION_DIGITS),\n        '\" width=\"',\n        toFixed(width, NUM_FRACTION_DIGITS),\n        '\" height=\"',\n        toFixed(height, NUM_FRACTION_DIGITS),\n        '\"></rect>\\n');\n    },\n\n    _setSVGTextLineBg: function(textBgRects, i, leftOffset, textTopOffset) {\n      var line = this._textLines[i],\n          heightOfLine = this.getHeightOfLine(i) / this.lineHeight,\n          boxWidth = 0,\n          boxStart = 0,\n          charBox, currentColor,\n          lastColor = this.getValueOfPropertyAt(i, 0, 'textBackgroundColor');\n      for (var j = 0, jlen = line.length; j < jlen; j++) {\n        charBox = this.__charBounds[i][j];\n        currentColor = this.getValueOfPropertyAt(i, j, 'textBackgroundColor');\n        if (currentColor !== lastColor) {\n          lastColor && this._pushTextBgRect(textBgRects, lastColor, leftOffset + boxStart,\n            textTopOffset, boxWidth, heightOfLine);\n          boxStart = charBox.left;\n          boxWidth = charBox.width;\n          lastColor = currentColor;\n        }\n        else {\n          boxWidth += charBox.kernedWidth;\n        }\n      }\n      currentColor && this._pushTextBgRect(textBgRects, currentColor, leftOffset + boxStart,\n        textTopOffset, boxWidth, heightOfLine);\n    },\n\n    /**\n     * Adobe Illustrator (at least CS5) is unable to render rgba()-based fill values\n     * we work around it by \"moving\" alpha channel into opacity attribute and setting fill's alpha to 1\n     *\n     * @private\n     * @param {*} value\n     * @return {String}\n     */\n    _getFillAttributes: function(value) {\n      var fillColor = (value && typeof value === 'string') ? new fabric.Color(value) : '';\n      if (!fillColor || !fillColor.getSource() || fillColor.getAlpha() === 1) {\n        return 'fill=\"' + value + '\"';\n      }\n      return 'opacity=\"' + fillColor.getAlpha() + '\" fill=\"' + fillColor.setAlpha(1).toRgb() + '\"';\n    },\n\n    /**\n     * @private\n     */\n    _getSVGLineTopOffset: function(lineIndex) {\n      var lineTopOffset = 0, lastHeight = 0;\n      for (var j = 0; j < lineIndex; j++) {\n        lineTopOffset += this.getHeightOfLine(j);\n      }\n      lastHeight = this.getHeightOfLine(j);\n      return {\n        lineTop: lineTopOffset,\n        offset: (this._fontSizeMult - this._fontSizeFraction) * lastHeight / (this.lineHeight * this._fontSizeMult)\n      };\n    },\n\n    /**\n     * Returns styles-string for svg-export\n     * @param {Boolean} skipShadow a boolean to skip shadow filter output\n     * @return {String}\n     */\n    getSvgStyles: function(skipShadow) {\n      var svgStyle = fabric.Object.prototype.getSvgStyles.call(this, skipShadow);\n      return svgStyle + ' white-space: pre;';\n    },\n  });\n})();\n/* _TO_SVG_END_ */\n\n\n(function(global) {\n\n  'use strict';\n\n  var fabric = global.fabric || (global.fabric = {});\n\n  /**\n   * Textbox class, based on IText, allows the user to resize the text rectangle\n   * and wraps lines automatically. Textboxes have their Y scaling locked, the\n   * user can only change width. Height is adjusted automatically based on the\n   * wrapping of lines.\n   * @class fabric.Textbox\n   * @extends fabric.IText\n   * @mixes fabric.Observable\n   * @return {fabric.Textbox} thisArg\n   * @see {@link fabric.Textbox#initialize} for constructor definition\n   */\n  fabric.Textbox = fabric.util.createClass(fabric.IText, fabric.Observable, {\n\n    /**\n     * Type of an object\n     * @type String\n     * @default\n     */\n    type: 'textbox',\n\n    /**\n     * Minimum width of textbox, in pixels.\n     * @type Number\n     * @default\n     */\n    minWidth: 20,\n\n    /**\n     * Minimum calculated width of a textbox, in pixels.\n     * fixed to 2 so that an empty textbox cannot go to 0\n     * and is still selectable without text.\n     * @type Number\n     * @default\n     */\n    dynamicMinWidth: 2,\n\n    /**\n     * Cached array of text wrapping.\n     * @type Array\n     */\n    __cachedLines: null,\n\n    /**\n     * Override standard Object class values\n     */\n    lockScalingFlip: true,\n\n    /**\n     * Override standard Object class values\n     * Textbox needs this on false\n     */\n    noScaleCache: false,\n\n    /**\n     * Properties which when set cause object to change dimensions\n     * @type Object\n     * @private\n     */\n    _dimensionAffectingProps: fabric.Text.prototype._dimensionAffectingProps.concat('width'),\n\n    /**\n     * Use this regular expression to split strings in breakable lines\n     * @private\n     */\n    _wordJoiners: /[ \\t\\r]/,\n\n    /**\n     * Use this boolean property in order to split strings that have no white space concept.\n     * this is a cheap way to help with chinese/japanese\n     * @type Boolean\n     * @since 2.6.0\n     */\n    splitByGrapheme: false,\n\n    /**\n     * Unlike superclass's version of this function, Textbox does not update\n     * its width.\n     * @private\n     * @override\n     */\n    initDimensions: function() {\n      if (this.__skipDimension) {\n        return;\n      }\n      this.isEditing && this.initDelayedCursor();\n      this.clearContextTop();\n      this._clearCache();\n      // clear dynamicMinWidth as it will be different after we re-wrap line\n      this.dynamicMinWidth = 0;\n      // wrap lines\n      this._styleMap = this._generateStyleMap(this._splitText());\n      // if after wrapping, the width is smaller than dynamicMinWidth, change the width and re-wrap\n      if (this.dynamicMinWidth > this.width) {\n        this._set('width', this.dynamicMinWidth);\n      }\n      if (this.textAlign.indexOf('justify') !== -1) {\n        // once text is measured we need to make space fatter to make justified text.\n        this.enlargeSpaces();\n      }\n      // clear cache and re-calculate height\n      this.height = this.calcTextHeight();\n      this.saveState({ propertySet: '_dimensionAffectingProps' });\n    },\n\n    /**\n     * Generate an object that translates the style object so that it is\n     * broken up by visual lines (new lines and automatic wrapping).\n     * The original text styles object is broken up by actual lines (new lines only),\n     * which is only sufficient for Text / IText\n     * @private\n     */\n    _generateStyleMap: function(textInfo) {\n      var realLineCount     = 0,\n          realLineCharCount = 0,\n          charCount         = 0,\n          map               = {};\n\n      for (var i = 0; i < textInfo.graphemeLines.length; i++) {\n        if (textInfo.graphemeText[charCount] === '\\n' && i > 0) {\n          realLineCharCount = 0;\n          charCount++;\n          realLineCount++;\n        }\n        else if (!this.splitByGrapheme && this._reSpaceAndTab.test(textInfo.graphemeText[charCount]) && i > 0) {\n          // this case deals with space's that are removed from end of lines when wrapping\n          realLineCharCount++;\n          charCount++;\n        }\n\n        map[i] = { line: realLineCount, offset: realLineCharCount };\n\n        charCount += textInfo.graphemeLines[i].length;\n        realLineCharCount += textInfo.graphemeLines[i].length;\n      }\n\n      return map;\n    },\n\n    /**\n     * Returns true if object has a style property or has it on a specified line\n     * @param {Number} lineIndex\n     * @return {Boolean}\n     */\n    styleHas: function(property, lineIndex) {\n      if (this._styleMap && !this.isWrapping) {\n        var map = this._styleMap[lineIndex];\n        if (map) {\n          lineIndex = map.line;\n        }\n      }\n      return fabric.Text.prototype.styleHas.call(this, property, lineIndex);\n    },\n\n    /**\n     * Returns true if object has no styling or no styling in a line\n     * @param {Number} lineIndex , lineIndex is on wrapped lines.\n     * @return {Boolean}\n     */\n    isEmptyStyles: function(lineIndex) {\n      if (!this.styles) {\n        return true;\n      }\n      var offset = 0, nextLineIndex = lineIndex + 1, nextOffset, obj, shouldLimit = false,\n          map = this._styleMap[lineIndex], mapNextLine = this._styleMap[lineIndex + 1];\n      if (map) {\n        lineIndex = map.line;\n        offset = map.offset;\n      }\n      if (mapNextLine) {\n        nextLineIndex = mapNextLine.line;\n        shouldLimit = nextLineIndex === lineIndex;\n        nextOffset = mapNextLine.offset;\n      }\n      obj = typeof lineIndex === 'undefined' ? this.styles : { line: this.styles[lineIndex] };\n      for (var p1 in obj) {\n        for (var p2 in obj[p1]) {\n          if (p2 >= offset && (!shouldLimit || p2 < nextOffset)) {\n            // eslint-disable-next-line no-unused-vars\n            for (var p3 in obj[p1][p2]) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    },\n\n    /**\n     * @param {Number} lineIndex\n     * @param {Number} charIndex\n     * @private\n     */\n    _getStyleDeclaration: function(lineIndex, charIndex) {\n      if (this._styleMap && !this.isWrapping) {\n        var map = this._styleMap[lineIndex];\n        if (!map) {\n          return null;\n        }\n        lineIndex = map.line;\n        charIndex = map.offset + charIndex;\n      }\n      return this.callSuper('_getStyleDeclaration', lineIndex, charIndex);\n    },\n\n    /**\n     * @param {Number} lineIndex\n     * @param {Number} charIndex\n     * @param {Object} style\n     * @private\n     */\n    _setStyleDeclaration: function(lineIndex, charIndex, style) {\n      var map = this._styleMap[lineIndex];\n      lineIndex = map.line;\n      charIndex = map.offset + charIndex;\n\n      this.styles[lineIndex][charIndex] = style;\n    },\n\n    /**\n     * @param {Number} lineIndex\n     * @param {Number} charIndex\n     * @private\n     */\n    _deleteStyleDeclaration: function(lineIndex, charIndex) {\n      var map = this._styleMap[lineIndex];\n      lineIndex = map.line;\n      charIndex = map.offset + charIndex;\n      delete this.styles[lineIndex][charIndex];\n    },\n\n    /**\n     * probably broken need a fix\n     * Returns the real style line that correspond to the wrapped lineIndex line\n     * Used just to verify if the line does exist or not.\n     * @param {Number} lineIndex\n     * @returns {Boolean} if the line exists or not\n     * @private\n     */\n    _getLineStyle: function(lineIndex) {\n      var map = this._styleMap[lineIndex];\n      return !!this.styles[map.line];\n    },\n\n    /**\n     * Set the line style to an empty object so that is initialized\n     * @param {Number} lineIndex\n     * @param {Object} style\n     * @private\n     */\n    _setLineStyle: function(lineIndex) {\n      var map = this._styleMap[lineIndex];\n      this.styles[map.line] = {};\n    },\n\n    /**\n     * Wraps text using the 'width' property of Textbox. First this function\n     * splits text on newlines, so we preserve newlines entered by the user.\n     * Then it wraps each line using the width of the Textbox by calling\n     * _wrapLine().\n     * @param {Array} lines The string array of text that is split into lines\n     * @param {Number} desiredWidth width you want to wrap to\n     * @returns {Array} Array of lines\n     */\n    _wrapText: function(lines, desiredWidth) {\n      var wrapped = [], i;\n      this.isWrapping = true;\n      for (i = 0; i < lines.length; i++) {\n        wrapped = wrapped.concat(this._wrapLine(lines[i], i, desiredWidth));\n      }\n      this.isWrapping = false;\n      return wrapped;\n    },\n\n    /**\n     * Helper function to measure a string of text, given its lineIndex and charIndex offset\n     * it gets called when charBounds are not available yet.\n     * @param {CanvasRenderingContext2D} ctx\n     * @param {String} text\n     * @param {number} lineIndex\n     * @param {number} charOffset\n     * @returns {number}\n     * @private\n     */\n    _measureWord: function(word, lineIndex, charOffset) {\n      var width = 0, prevGrapheme, skipLeft = true;\n      charOffset = charOffset || 0;\n      for (var i = 0, len = word.length; i < len; i++) {\n        var box = this._getGraphemeBox(word[i], lineIndex, i + charOffset, prevGrapheme, skipLeft);\n        width += box.kernedWidth;\n        prevGrapheme = word[i];\n      }\n      return width;\n    },\n\n    /**\n     * Wraps a line of text using the width of the Textbox and a context.\n     * @param {Array} line The grapheme array that represent the line\n     * @param {Number} lineIndex\n     * @param {Number} desiredWidth width you want to wrap the line to\n     * @param {Number} reservedSpace space to remove from wrapping for custom functionalities\n     * @returns {Array} Array of line(s) into which the given text is wrapped\n     * to.\n     */\n    _wrapLine: function(_line, lineIndex, desiredWidth, reservedSpace) {\n      var lineWidth = 0,\n          splitByGrapheme = this.splitByGrapheme,\n          graphemeLines = [],\n          line = [],\n          // spaces in different languages?\n          words = splitByGrapheme ? fabric.util.string.graphemeSplit(_line) : _line.split(this._wordJoiners),\n          word = '',\n          offset = 0,\n          infix = splitByGrapheme ? '' : ' ',\n          wordWidth = 0,\n          infixWidth = 0,\n          largestWordWidth = 0,\n          lineJustStarted = true,\n          additionalSpace = this._getWidthOfCharSpacing(),\n          reservedSpace = reservedSpace || 0;\n      // fix a difference between split and graphemeSplit\n      if (words.length === 0) {\n        words.push([]);\n      }\n      desiredWidth -= reservedSpace;\n      for (var i = 0; i < words.length; i++) {\n        // if using splitByGrapheme words are already in graphemes.\n        word = splitByGrapheme ? words[i] : fabric.util.string.graphemeSplit(words[i]);\n        wordWidth = this._measureWord(word, lineIndex, offset);\n        offset += word.length;\n\n        lineWidth += infixWidth + wordWidth - additionalSpace;\n        if (lineWidth > desiredWidth && !lineJustStarted) {\n          graphemeLines.push(line);\n          line = [];\n          lineWidth = wordWidth;\n          lineJustStarted = true;\n        }\n        else {\n          lineWidth += additionalSpace;\n        }\n\n        if (!lineJustStarted && !splitByGrapheme) {\n          line.push(infix);\n        }\n        line = line.concat(word);\n\n        infixWidth = splitByGrapheme ? 0 : this._measureWord([infix], lineIndex, offset);\n        offset++;\n        lineJustStarted = false;\n        // keep track of largest word\n        if (wordWidth > largestWordWidth) {\n          largestWordWidth = wordWidth;\n        }\n      }\n\n      i && graphemeLines.push(line);\n\n      if (largestWordWidth + reservedSpace > this.dynamicMinWidth) {\n        this.dynamicMinWidth = largestWordWidth - additionalSpace + reservedSpace;\n      }\n      return graphemeLines;\n    },\n\n    /**\n     * Detect if the text line is ended with an hard break\n     * text and itext do not have wrapping, return false\n     * @param {Number} lineIndex text to split\n     * @return {Boolean}\n     */\n    isEndOfWrapping: function(lineIndex) {\n      if (!this._styleMap[lineIndex + 1]) {\n        // is last line, return true;\n        return true;\n      }\n      if (this._styleMap[lineIndex + 1].line !== this._styleMap[lineIndex].line) {\n        // this is last line before a line break, return true;\n        return true;\n      }\n      return false;\n    },\n\n    /**\n     * Detect if a line has a linebreak and so we need to account for it when moving\n     * and counting style.\n     * @return Number\n     */\n    missingNewlineOffset: function(lineIndex) {\n      if (this.splitByGrapheme) {\n        return this.isEndOfWrapping(lineIndex) ? 1 : 0;\n      }\n      return 1;\n    },\n\n    /**\n    * Gets lines of text to render in the Textbox. This function calculates\n    * text wrapping on the fly every time it is called.\n    * @param {String} text text to split\n    * @returns {Array} Array of lines in the Textbox.\n    * @override\n    */\n    _splitTextIntoLines: function(text) {\n      var newText = fabric.Text.prototype._splitTextIntoLines.call(this, text),\n          graphemeLines = this._wrapText(newText.lines, this.width),\n          lines = new Array(graphemeLines.length);\n      for (var i = 0; i < graphemeLines.length; i++) {\n        lines[i] = graphemeLines[i].join('');\n      }\n      newText.lines = lines;\n      newText.graphemeLines = graphemeLines;\n      return newText;\n    },\n\n    getMinWidth: function() {\n      return Math.max(this.minWidth, this.dynamicMinWidth);\n    },\n\n    _removeExtraneousStyles: function() {\n      var linesToKeep = {};\n      for (var prop in this._styleMap) {\n        if (this._textLines[prop]) {\n          linesToKeep[this._styleMap[prop].line] = 1;\n        }\n      }\n      for (var prop in this.styles) {\n        if (!linesToKeep[prop]) {\n          delete this.styles[prop];\n        }\n      }\n    },\n\n    /**\n     * Returns object representation of an instance\n     * @method toObject\n     * @param {Array} [propertiesToInclude] Any properties that you might want to additionally include in the output\n     * @return {Object} object representation of an instance\n     */\n    toObject: function(propertiesToInclude) {\n      return this.callSuper('toObject', ['minWidth', 'splitByGrapheme'].concat(propertiesToInclude));\n    }\n  });\n\n  /**\n   * Returns fabric.Textbox instance from an object representation\n   * @static\n   * @memberOf fabric.Textbox\n   * @param {Object} object Object to create an instance from\n   * @param {Function} [callback] Callback to invoke when an fabric.Textbox instance is created\n   */\n  fabric.Textbox.fromObject = function(object, callback) {\n    return fabric.Object._fromObject('Textbox', object, callback, 'text');\n  };\n})(typeof exports !== 'undefined' ? exports : this);\n\n\n(function() {\n\n  var controlsUtils = fabric.controlsUtils,\n      scaleSkewStyleHandler = controlsUtils.scaleSkewCursorStyleHandler,\n      scaleStyleHandler = controlsUtils.scaleCursorStyleHandler,\n      scalingEqually = controlsUtils.scalingEqually,\n      scalingYOrSkewingX = controlsUtils.scalingYOrSkewingX,\n      scalingXOrSkewingY = controlsUtils.scalingXOrSkewingY,\n      scaleOrSkewActionName = controlsUtils.scaleOrSkewActionName,\n      objectControls = fabric.Object.prototype.controls;\n\n  objectControls.ml = new fabric.Control({\n    x: -0.5,\n    y: 0,\n    cursorStyleHandler: scaleSkewStyleHandler,\n    actionHandler: scalingXOrSkewingY,\n    getActionName: scaleOrSkewActionName,\n  });\n\n  objectControls.mr = new fabric.Control({\n    x: 0.5,\n    y: 0,\n    cursorStyleHandler: scaleSkewStyleHandler,\n    actionHandler: scalingXOrSkewingY,\n    getActionName: scaleOrSkewActionName,\n  });\n\n  objectControls.mb = new fabric.Control({\n    x: 0,\n    y: 0.5,\n    cursorStyleHandler: scaleSkewStyleHandler,\n    actionHandler: scalingYOrSkewingX,\n    getActionName: scaleOrSkewActionName,\n  });\n\n  objectControls.mt = new fabric.Control({\n    x: 0,\n    y: -0.5,\n    cursorStyleHandler: scaleSkewStyleHandler,\n    actionHandler: scalingYOrSkewingX,\n    getActionName: scaleOrSkewActionName,\n  });\n\n  objectControls.tl = new fabric.Control({\n    x: -0.5,\n    y: -0.5,\n    cursorStyleHandler: scaleStyleHandler,\n    actionHandler: scalingEqually\n  });\n\n  objectControls.tr = new fabric.Control({\n    x: 0.5,\n    y: -0.5,\n    cursorStyleHandler: scaleStyleHandler,\n    actionHandler: scalingEqually\n  });\n\n  objectControls.bl = new fabric.Control({\n    x: -0.5,\n    y: 0.5,\n    cursorStyleHandler: scaleStyleHandler,\n    actionHandler: scalingEqually\n  });\n\n  objectControls.br = new fabric.Control({\n    x: 0.5,\n    y: 0.5,\n    cursorStyleHandler: scaleStyleHandler,\n    actionHandler: scalingEqually\n  });\n\n  objectControls.mtr = new fabric.Control({\n    x: 0,\n    y: -0.5,\n    actionHandler: controlsUtils.rotationWithSnapping,\n    cursorStyleHandler: controlsUtils.rotationStyleHandler,\n    offsetY: -40,\n    withConnection: true,\n    actionName: 'rotate',\n  });\n\n  if (fabric.Textbox) {\n    // this is breaking the prototype inheritance, no time / ideas to fix it.\n    // is important to document that if you want to have all objects to have a\n    // specific custom control, you have to add it to Object prototype and to Textbox\n    // prototype. The controls are shared as references. So changes to control `tr`\n    // can still apply to all objects if needed.\n    var textBoxControls = fabric.Textbox.prototype.controls = { };\n\n    textBoxControls.mtr = objectControls.mtr;\n    textBoxControls.tr = objectControls.tr;\n    textBoxControls.br = objectControls.br;\n    textBoxControls.tl = objectControls.tl;\n    textBoxControls.bl = objectControls.bl;\n    textBoxControls.mt = objectControls.mt;\n    textBoxControls.mb = objectControls.mb;\n\n    textBoxControls.mr = new fabric.Control({\n      x: 0.5,\n      y: 0,\n      actionHandler: controlsUtils.changeWidth,\n      cursorStyleHandler: scaleSkewStyleHandler,\n      actionName: 'resizing',\n    });\n\n    textBoxControls.ml = new fabric.Control({\n      x: -0.5,\n      y: 0,\n      actionHandler: controlsUtils.changeWidth,\n      cursorStyleHandler: scaleSkewStyleHandler,\n      actionName: 'resizing',\n    });\n  }\n})();\n\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , EventSourceReceiver = require('./receiver/eventsource')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , EventSourceDriver = require('eventsource')\n  ;\n\nfunction EventSourceTransport(transUrl) {\n  if (!EventSourceTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n\n  AjaxBasedTransport.call(this, transUrl, '/eventsource', EventSourceReceiver, XHRCorsObject);\n}\n\ninherits(EventSourceTransport, AjaxBasedTransport);\n\nEventSourceTransport.enabled = function() {\n  return !!EventSourceDriver;\n};\n\nEventSourceTransport.transportName = 'eventsource';\nEventSourceTransport.roundTrips = 2;\n\nmodule.exports = EventSourceTransport;\n","// Utilities\nimport { consoleWarn } from './console'\nimport { chunk, padEnd } from './helpers'\nimport { toXYZ } from './color/transformSRGB'\n\n// Types\nimport { VuetifyThemeVariant } from 'types/services/theme'\n\nexport type ColorInt = number\nexport type XYZ = [number, number, number]\nexport type LAB = [number, number, number]\nexport type HSV = { h: number, s: number, v: number }\nexport type HSVA = HSV & { a: number }\nexport type RGB = { r: number, g: number, b: number }\nexport type RGBA = RGB & { a: number }\nexport type HSL = { h: number, s: number, l: number }\nexport type HSLA = HSL & { a: number }\nexport type Hex = string\nexport type Hexa = string\nexport type Color = string | number | {}\n\nexport function isCssColor (color?: string | false): boolean {\n  return !!color && !!color.match(/^(#|var\\(--|(rgb|hsl)a?\\()/)\n}\n\nexport function colorToInt (color: Color): ColorInt {\n  let rgb\n\n  if (typeof color === 'number') {\n    rgb = color\n  } else if (typeof color === 'string') {\n    let c = color[0] === '#' ? color.substring(1) : color\n    if (c.length === 3) {\n      c = c.split('').map(char => char + char).join('')\n    }\n    if (c.length !== 6) {\n      consoleWarn(`'${color}' is not a valid rgb color`)\n    }\n    rgb = parseInt(c, 16)\n  } else {\n    throw new TypeError(`Colors can only be numbers or strings, recieved ${color == null ? color : color.constructor.name} instead`)\n  }\n\n  if (rgb < 0) {\n    consoleWarn(`Colors cannot be negative: '${color}'`)\n    rgb = 0\n  } else if (rgb > 0xffffff || isNaN(rgb)) {\n    consoleWarn(`'${color}' is not a valid rgb color`)\n    rgb = 0xffffff\n  }\n\n  return rgb\n}\n\nexport function classToHex (\n  color: string,\n  colors: Record<string, Record<string, string>>,\n  currentTheme: Partial<VuetifyThemeVariant>,\n): string {\n  const [colorName, colorModifier] = color\n    .toString().trim().replace('-', '').split(' ', 2) as (string | undefined)[]\n\n  let hexColor = ''\n  if (colorName && colorName in colors) {\n    if (colorModifier && colorModifier in colors[colorName]) {\n      hexColor = colors[colorName][colorModifier]\n    } else if ('base' in colors[colorName]) {\n      hexColor = colors[colorName].base\n    }\n  } else if (colorName && colorName in currentTheme) {\n    hexColor = currentTheme[colorName] as string\n  }\n\n  return hexColor\n}\n\nexport function intToHex (color: ColorInt): string {\n  let hexColor: string = color.toString(16)\n\n  if (hexColor.length < 6) hexColor = '0'.repeat(6 - hexColor.length) + hexColor\n\n  return '#' + hexColor\n}\n\nexport function colorToHex (color: Color): string {\n  return intToHex(colorToInt(color))\n}\n\n/**\n * Converts HSVA to RGBA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV\n *\n * @param color HSVA color as an array [0-360, 0-1, 0-1, 0-1]\n */\nexport function HSVAtoRGBA (hsva: HSVA): RGBA {\n  const { h, s, v, a } = hsva\n  const f = (n: number) => {\n    const k = (n + (h / 60)) % 6\n    return v - v * s * Math.max(Math.min(k, 4 - k, 1), 0)\n  }\n\n  const rgb = [f(5), f(3), f(1)].map(v => Math.round(v * 255))\n\n  return { r: rgb[0], g: rgb[1], b: rgb[2], a }\n}\n\n/**\n * Converts RGBA to HSVA. Based on formula from https://en.wikipedia.org/wiki/HSL_and_HSV\n *\n * @param color RGBA color as an array [0-255, 0-255, 0-255, 0-1]\n */\nexport function RGBAtoHSVA (rgba: RGBA): HSVA {\n  if (!rgba) return { h: 0, s: 1, v: 1, a: 1 }\n\n  const r = rgba.r / 255\n  const g = rgba.g / 255\n  const b = rgba.b / 255\n  const max = Math.max(r, g, b)\n  const min = Math.min(r, g, b)\n\n  let h = 0\n\n  if (max !== min) {\n    if (max === r) {\n      h = 60 * (0 + ((g - b) / (max - min)))\n    } else if (max === g) {\n      h = 60 * (2 + ((b - r) / (max - min)))\n    } else if (max === b) {\n      h = 60 * (4 + ((r - g) / (max - min)))\n    }\n  }\n\n  if (h < 0) h = h + 360\n\n  const s = max === 0 ? 0 : (max - min) / max\n  const hsv = [h, s, max]\n\n  return { h: hsv[0], s: hsv[1], v: hsv[2], a: rgba.a }\n}\n\nexport function HSVAtoHSLA (hsva: HSVA): HSLA {\n  const { h, s, v, a } = hsva\n\n  const l = v - (v * s / 2)\n\n  const sprime = l === 1 || l === 0 ? 0 : (v - l) / Math.min(l, 1 - l)\n\n  return { h, s: sprime, l, a }\n}\n\nexport function HSLAtoHSVA (hsl: HSLA): HSVA {\n  const { h, s, l, a } = hsl\n\n  const v = l + s * Math.min(l, 1 - l)\n\n  const sprime = v === 0 ? 0 : 2 - (2 * l / v)\n\n  return { h, s: sprime, v, a }\n}\n\nexport function RGBAtoCSS (rgba: RGBA): string {\n  return `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`\n}\n\nexport function RGBtoCSS (rgba: RGBA): string {\n  return RGBAtoCSS({ ...rgba, a: 1 })\n}\n\nexport function RGBAtoHex (rgba: RGBA): Hex {\n  const toHex = (v: number) => {\n    const h = Math.round(v).toString(16)\n    return ('00'.substr(0, 2 - h.length) + h).toUpperCase()\n  }\n\n  return `#${[\n    toHex(rgba.r),\n    toHex(rgba.g),\n    toHex(rgba.b),\n    toHex(Math.round(rgba.a * 255)),\n  ].join('')}`\n}\n\nexport function HexToRGBA (hex: Hex): RGBA {\n  const rgba = chunk(hex.slice(1), 2).map((c: string) => parseInt(c, 16))\n\n  return {\n    r: rgba[0],\n    g: rgba[1],\n    b: rgba[2],\n    a: Math.round((rgba[3] / 255) * 100) / 100,\n  }\n}\n\nexport function HexToHSVA (hex: Hex): HSVA {\n  const rgb = HexToRGBA(hex)\n  return RGBAtoHSVA(rgb)\n}\n\nexport function HSVAtoHex (hsva: HSVA): Hex {\n  return RGBAtoHex(HSVAtoRGBA(hsva))\n}\n\nexport function parseHex (hex: string): Hex {\n  if (hex.startsWith('#')) {\n    hex = hex.slice(1)\n  }\n\n  hex = hex.replace(/([^0-9a-f])/gi, 'F')\n\n  if (hex.length === 3 || hex.length === 4) {\n    hex = hex.split('').map(x => x + x).join('')\n  }\n\n  if (hex.length === 6) {\n    hex = padEnd(hex, 8, 'F')\n  } else {\n    hex = padEnd(padEnd(hex, 6), 8, 'F')\n  }\n\n  return `#${hex}`.toUpperCase().substr(0, 9)\n}\n\nexport function parseGradient (\n  gradient: string,\n  colors: Record<string, Record<string, string>>,\n  currentTheme: Partial<VuetifyThemeVariant>,\n) {\n  return gradient.replace(/([a-z]+(\\s[a-z]+-[1-5])?)(?=$|,)/gi, x => {\n    return classToHex(x, colors, currentTheme) || x\n  }).replace(/(rgba\\()#[0-9a-f]+(?=,)/gi, x => {\n    return 'rgba(' + Object.values(HexToRGBA(parseHex(x.replace(/rgba\\(/, '')))).slice(0, 3).join(',')\n  })\n}\n\nexport function RGBtoInt (rgba: RGBA): ColorInt {\n  return (rgba.r << 16) + (rgba.g << 8) + rgba.b\n}\n\n/**\n * Returns the contrast ratio (1-21) between two colors.\n *\n * @param c1 First color\n * @param c2 Second color\n */\nexport function contrastRatio (c1: RGBA, c2: RGBA): number {\n  const [, y1] = toXYZ(RGBtoInt(c1))\n  const [, y2] = toXYZ(RGBtoInt(c2))\n\n  return (Math.max(y1, y2) + 0.05) / (Math.min(y1, y2) + 0.05)\n}\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , utils = require('./utils/event')\n  , IframeTransport = require('./transport/iframe')\n  , InfoReceiverIframe = require('./info-iframe-receiver')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-iframe');\n}\n\nfunction InfoIframe(baseUrl, url) {\n  var self = this;\n  EventEmitter.call(this);\n\n  var go = function() {\n    var ifr = self.ifr = new IframeTransport(InfoReceiverIframe.transportName, url, baseUrl);\n\n    ifr.once('message', function(msg) {\n      if (msg) {\n        var d;\n        try {\n          d = JSON3.parse(msg);\n        } catch (e) {\n          debug('bad json', msg);\n          self.emit('finish');\n          self.close();\n          return;\n        }\n\n        var info = d[0], rtt = d[1];\n        self.emit('finish', info, rtt);\n      }\n      self.close();\n    });\n\n    ifr.once('close', function() {\n      self.emit('finish');\n      self.close();\n    });\n  };\n\n  // TODO this seems the same as the 'needBody' from transports\n  if (!global.document.body) {\n    utils.attachEvent('load', go);\n  } else {\n    go();\n  }\n}\n\ninherits(InfoIframe, EventEmitter);\n\nInfoIframe.enabled = function() {\n  return IframeTransport.enabled();\n};\n\nInfoIframe.prototype.close = function() {\n  if (this.ifr) {\n    this.ifr.close();\n  }\n  this.removeAllListeners();\n  this.ifr = null;\n};\n\nmodule.exports = InfoIframe;\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","import Vue, { WatchHandler } from 'vue'\n\n/**\n * This mixin provides `attrs$` and `listeners$` to work around\n * vue bug https://github.com/vuejs/vue/issues/10115\n */\n\nfunction makeWatcher (property: string): ThisType<Vue> & WatchHandler<any> {\n  return function (this: Vue, val, oldVal) {\n    for (const attr in oldVal) {\n      if (!Object.prototype.hasOwnProperty.call(val, attr)) {\n        this.$delete(this.$data[property], attr)\n      }\n    }\n    for (const attr in val) {\n      this.$set(this.$data[property], attr, val[attr])\n    }\n  }\n}\n\nexport default Vue.extend({\n  data: () => ({\n    attrs$: {} as Dictionary<string>,\n    listeners$: {} as Dictionary<Function | Function[]>,\n  }),\n\n  created () {\n    // Work around unwanted re-renders: https://github.com/vuejs/vue/issues/10115\n    // Make sure to use `attrs$` instead of `$attrs` (confusing right?)\n    this.$watch('$attrs', makeWatcher('attrs$'), { immediate: true })\n    this.$watch('$listeners', makeWatcher('listeners$'), { immediate: true })\n  },\n})\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","/**\n * Supported STOMP versions\n *\n * Part of `@stomp/stompjs`.\n */\nexport class Versions {\n    /**\n     * Takes an array of string of versions, typical elements '1.0', '1.1', or '1.2'\n     *\n     * You will an instance if this class if you want to override supported versions to be declared during\n     * STOMP handshake.\n     */\n    constructor(versions) {\n        this.versions = versions;\n    }\n    /**\n     * Used as part of CONNECT STOMP Frame\n     */\n    supportedVersions() {\n        return this.versions.join(',');\n    }\n    /**\n     * Used while creating a WebSocket\n     */\n    protocolVersions() {\n        return this.versions.map(x => `v${x.replace('.', '')}.stomp`);\n    }\n}\n/**\n * Indicates protocol version 1.0\n */\nVersions.V1_0 = '1.0';\n/**\n * Indicates protocol version 1.1\n */\nVersions.V1_1 = '1.1';\n/**\n * Indicates protocol version 1.2\n */\nVersions.V1_2 = '1.2';\n/**\n * @internal\n */\nVersions.default = new Versions([\n    Versions.V1_0,\n    Versions.V1_1,\n    Versions.V1_2,\n]);\n//# sourceMappingURL=versions.js.map","/**\n * Some byte values, used as per STOMP specifications.\n *\n * Part of `@stomp/stompjs`.\n *\n * @internal\n */\nexport const BYTE = {\n    // LINEFEED byte (octet 10)\n    LF: '\\x0A',\n    // NULL byte (octet 0)\n    NULL: '\\x00',\n};\n//# sourceMappingURL=byte.js.map","import { BYTE } from './byte';\n/**\n * Frame class represents a STOMP frame.\n *\n * @internal\n */\nexport class FrameImpl {\n    /**\n     * Frame constructor. `command`, `headers` and `body` are available as properties.\n     *\n     * @internal\n     */\n    constructor(params) {\n        const { command, headers, body, binaryBody, escapeHeaderValues, skipContentLengthHeader, } = params;\n        this.command = command;\n        this.headers = Object.assign({}, headers || {});\n        if (binaryBody) {\n            this._binaryBody = binaryBody;\n            this.isBinaryBody = true;\n        }\n        else {\n            this._body = body || '';\n            this.isBinaryBody = false;\n        }\n        this.escapeHeaderValues = escapeHeaderValues || false;\n        this.skipContentLengthHeader = skipContentLengthHeader || false;\n    }\n    /**\n     * body of the frame\n     */\n    get body() {\n        if (!this._body && this.isBinaryBody) {\n            this._body = new TextDecoder().decode(this._binaryBody);\n        }\n        return this._body;\n    }\n    /**\n     * body as Uint8Array\n     */\n    get binaryBody() {\n        if (!this._binaryBody && !this.isBinaryBody) {\n            this._binaryBody = new TextEncoder().encode(this._body);\n        }\n        return this._binaryBody;\n    }\n    /**\n     * deserialize a STOMP Frame from raw data.\n     *\n     * @internal\n     */\n    static fromRawFrame(rawFrame, escapeHeaderValues) {\n        const headers = {};\n        const trim = (str) => str.replace(/^\\s+|\\s+$/g, '');\n        // In case of repeated headers, as per standards, first value need to be used\n        for (const header of rawFrame.headers.reverse()) {\n            const idx = header.indexOf(':');\n            const key = trim(header[0]);\n            let value = trim(header[1]);\n            if (escapeHeaderValues &&\n                rawFrame.command !== 'CONNECT' &&\n                rawFrame.command !== 'CONNECTED') {\n                value = FrameImpl.hdrValueUnEscape(value);\n            }\n            headers[key] = value;\n        }\n        return new FrameImpl({\n            command: rawFrame.command,\n            headers,\n            binaryBody: rawFrame.binaryBody,\n            escapeHeaderValues,\n        });\n    }\n    /**\n     * @internal\n     */\n    toString() {\n        return this.serializeCmdAndHeaders();\n    }\n    /**\n     * serialize this Frame in a format suitable to be passed to WebSocket.\n     * If the body is string the output will be string.\n     * If the body is binary (i.e. of type Unit8Array) it will be serialized to ArrayBuffer.\n     *\n     * @internal\n     */\n    serialize() {\n        const cmdAndHeaders = this.serializeCmdAndHeaders();\n        if (this.isBinaryBody) {\n            return FrameImpl.toUnit8Array(cmdAndHeaders, this._binaryBody).buffer;\n        }\n        else {\n            return cmdAndHeaders + this._body + BYTE.NULL;\n        }\n    }\n    serializeCmdAndHeaders() {\n        const lines = [this.command];\n        if (this.skipContentLengthHeader) {\n            delete this.headers['content-length'];\n        }\n        for (const name of Object.keys(this.headers || {})) {\n            const value = this.headers[name];\n            if (this.escapeHeaderValues &&\n                this.command !== 'CONNECT' &&\n                this.command !== 'CONNECTED') {\n                lines.push(`${name}:${FrameImpl.hdrValueEscape(`${value}`)}`);\n            }\n            else {\n                lines.push(`${name}:${value}`);\n            }\n        }\n        if (this.isBinaryBody ||\n            (!this.isBodyEmpty() && !this.skipContentLengthHeader)) {\n            lines.push(`content-length:${this.bodyLength()}`);\n        }\n        return lines.join(BYTE.LF) + BYTE.LF + BYTE.LF;\n    }\n    isBodyEmpty() {\n        return this.bodyLength() === 0;\n    }\n    bodyLength() {\n        const binaryBody = this.binaryBody;\n        return binaryBody ? binaryBody.length : 0;\n    }\n    /**\n     * Compute the size of a UTF-8 string by counting its number of bytes\n     * (and not the number of characters composing the string)\n     */\n    static sizeOfUTF8(s) {\n        return s ? new TextEncoder().encode(s).length : 0;\n    }\n    static toUnit8Array(cmdAndHeaders, binaryBody) {\n        const uint8CmdAndHeaders = new TextEncoder().encode(cmdAndHeaders);\n        const nullTerminator = new Uint8Array([0]);\n        const uint8Frame = new Uint8Array(uint8CmdAndHeaders.length + binaryBody.length + nullTerminator.length);\n        uint8Frame.set(uint8CmdAndHeaders);\n        uint8Frame.set(binaryBody, uint8CmdAndHeaders.length);\n        uint8Frame.set(nullTerminator, uint8CmdAndHeaders.length + binaryBody.length);\n        return uint8Frame;\n    }\n    /**\n     * Serialize a STOMP frame as per STOMP standards, suitable to be sent to the STOMP broker.\n     *\n     * @internal\n     */\n    static marshall(params) {\n        const frame = new FrameImpl(params);\n        return frame.serialize();\n    }\n    /**\n     *  Escape header values\n     */\n    static hdrValueEscape(str) {\n        return str\n            .replace(/\\\\/g, '\\\\\\\\')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/:/g, '\\\\c');\n    }\n    /**\n     * UnEscape header values\n     */\n    static hdrValueUnEscape(str) {\n        return str\n            .replace(/\\\\r/g, '\\r')\n            .replace(/\\\\n/g, '\\n')\n            .replace(/\\\\c/g, ':')\n            .replace(/\\\\\\\\/g, '\\\\');\n    }\n}\n//# sourceMappingURL=frame-impl.js.map","/**\n * @internal\n */\nconst NULL = 0;\n/**\n * @internal\n */\nconst LF = 10;\n/**\n * @internal\n */\nconst CR = 13;\n/**\n * @internal\n */\nconst COLON = 58;\n/**\n * This is an evented, rec descent parser.\n * A stream of Octets can be passed and whenever it recognizes\n * a complete Frame or an incoming ping it will invoke the registered callbacks.\n *\n * All incoming Octets are fed into _onByte function.\n * Depending on current state the _onByte function keeps changing.\n * Depending on the state it keeps accumulating into _token and _results.\n * State is indicated by current value of _onByte, all states are named as _collect.\n *\n * STOMP standards https://stomp.github.io/stomp-specification-1.2.html\n * imply that all lengths are considered in bytes (instead of string lengths).\n * So, before actual parsing, if the incoming data is String it is converted to Octets.\n * This allows faithful implementation of the protocol and allows NULL Octets to be present in the body.\n *\n * There is no peek function on the incoming data.\n * When a state change occurs based on an Octet without consuming the Octet,\n * the Octet, after state change, is fed again (_reinjectByte).\n * This became possible as the state change can be determined by inspecting just one Octet.\n *\n * There are two modes to collect the body, if content-length header is there then it by counting Octets\n * otherwise it is determined by NULL terminator.\n *\n * Following the standards, the command and headers are converted to Strings\n * and the body is returned as Octets.\n * Headers are returned as an array and not as Hash - to allow multiple occurrence of an header.\n *\n * This parser does not use Regular Expressions as that can only operate on Strings.\n *\n * It handles if multiple STOMP frames are given as one chunk, a frame is split into multiple chunks, or\n * any combination there of. The parser remembers its state (any partial frame) and continues when a new chunk\n * is pushed.\n *\n * Typically the higher level function will convert headers to Hash, handle unescaping of header values\n * (which is protocol version specific), and convert body to text.\n *\n * Check the parser.spec.js to understand cases that this parser is supposed to handle.\n *\n * Part of `@stomp/stompjs`.\n *\n * @internal\n */\nexport class Parser {\n    constructor(onFrame, onIncomingPing) {\n        this.onFrame = onFrame;\n        this.onIncomingPing = onIncomingPing;\n        this._encoder = new TextEncoder();\n        this._decoder = new TextDecoder();\n        this._token = [];\n        this._initState();\n    }\n    parseChunk(segment, appendMissingNULLonIncoming = false) {\n        let chunk;\n        if (segment instanceof ArrayBuffer) {\n            chunk = new Uint8Array(segment);\n        }\n        else {\n            chunk = this._encoder.encode(segment);\n        }\n        // See https://github.com/stomp-js/stompjs/issues/89\n        // Remove when underlying issue is fixed.\n        //\n        // Send a NULL byte, if the last byte of a Text frame was not NULL.F\n        if (appendMissingNULLonIncoming && chunk[chunk.length - 1] !== 0) {\n            const chunkWithNull = new Uint8Array(chunk.length + 1);\n            chunkWithNull.set(chunk, 0);\n            chunkWithNull[chunk.length] = 0;\n            chunk = chunkWithNull;\n        }\n        // tslint:disable-next-line:prefer-for-of\n        for (let i = 0; i < chunk.length; i++) {\n            const byte = chunk[i];\n            this._onByte(byte);\n        }\n    }\n    // The following implements a simple Rec Descent Parser.\n    // The grammar is simple and just one byte tells what should be the next state\n    _collectFrame(byte) {\n        if (byte === NULL) {\n            // Ignore\n            return;\n        }\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            // Incoming Ping\n            this.onIncomingPing();\n            return;\n        }\n        this._onByte = this._collectCommand;\n        this._reinjectByte(byte);\n    }\n    _collectCommand(byte) {\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            this._results.command = this._consumeTokenAsUTF8();\n            this._onByte = this._collectHeaders;\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _collectHeaders(byte) {\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            this._setupCollectBody();\n            return;\n        }\n        this._onByte = this._collectHeaderKey;\n        this._reinjectByte(byte);\n    }\n    _reinjectByte(byte) {\n        this._onByte(byte);\n    }\n    _collectHeaderKey(byte) {\n        if (byte === COLON) {\n            this._headerKey = this._consumeTokenAsUTF8();\n            this._onByte = this._collectHeaderValue;\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _collectHeaderValue(byte) {\n        if (byte === CR) {\n            // Ignore CR\n            return;\n        }\n        if (byte === LF) {\n            this._results.headers.push([this._headerKey, this._consumeTokenAsUTF8()]);\n            this._headerKey = undefined;\n            this._onByte = this._collectHeaders;\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _setupCollectBody() {\n        const contentLengthHeader = this._results.headers.filter((header) => {\n            return header[0] === 'content-length';\n        })[0];\n        if (contentLengthHeader) {\n            this._bodyBytesRemaining = parseInt(contentLengthHeader[1], 10);\n            this._onByte = this._collectBodyFixedSize;\n        }\n        else {\n            this._onByte = this._collectBodyNullTerminated;\n        }\n    }\n    _collectBodyNullTerminated(byte) {\n        if (byte === NULL) {\n            this._retrievedBody();\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _collectBodyFixedSize(byte) {\n        // It is post decrement, so that we discard the trailing NULL octet\n        if (this._bodyBytesRemaining-- === 0) {\n            this._retrievedBody();\n            return;\n        }\n        this._consumeByte(byte);\n    }\n    _retrievedBody() {\n        this._results.binaryBody = this._consumeTokenAsRaw();\n        this.onFrame(this._results);\n        this._initState();\n    }\n    // Rec Descent Parser helpers\n    _consumeByte(byte) {\n        this._token.push(byte);\n    }\n    _consumeTokenAsUTF8() {\n        return this._decoder.decode(this._consumeTokenAsRaw());\n    }\n    _consumeTokenAsRaw() {\n        const rawResult = new Uint8Array(this._token);\n        this._token = [];\n        return rawResult;\n    }\n    _initState() {\n        this._results = {\n            command: undefined,\n            headers: [],\n            binaryBody: undefined,\n        };\n        this._token = [];\n        this._headerKey = undefined;\n        this._onByte = this._collectFrame;\n    }\n}\n//# sourceMappingURL=parser.js.map","/**\n * Possible states for the IStompSocket\n */\nexport var StompSocketState;\n(function (StompSocketState) {\n    StompSocketState[StompSocketState[\"CONNECTING\"] = 0] = \"CONNECTING\";\n    StompSocketState[StompSocketState[\"OPEN\"] = 1] = \"OPEN\";\n    StompSocketState[StompSocketState[\"CLOSING\"] = 2] = \"CLOSING\";\n    StompSocketState[StompSocketState[\"CLOSED\"] = 3] = \"CLOSED\";\n})(StompSocketState || (StompSocketState = {}));\n/**\n * Possible activation state\n */\nexport var ActivationState;\n(function (ActivationState) {\n    ActivationState[ActivationState[\"ACTIVE\"] = 0] = \"ACTIVE\";\n    ActivationState[ActivationState[\"DEACTIVATING\"] = 1] = \"DEACTIVATING\";\n    ActivationState[ActivationState[\"INACTIVE\"] = 2] = \"INACTIVE\";\n})(ActivationState || (ActivationState = {}));\n//# sourceMappingURL=types.js.map","/**\n * @internal\n */\nexport function augmentWebsocket(webSocket, debug) {\n    webSocket.terminate = function () {\n        const noOp = () => { };\n        // set all callbacks to no op\n        this.onerror = noOp;\n        this.onmessage = noOp;\n        this.onopen = noOp;\n        const ts = new Date();\n        const origOnClose = this.onclose;\n        // Track delay in actual closure of the socket\n        this.onclose = closeEvent => {\n            const delay = new Date().getTime() - ts.getTime();\n            debug(`Discarded socket closed after ${delay}ms, with code/reason: ${closeEvent.code}/${closeEvent.reason}`);\n        };\n        this.close();\n        origOnClose.call(this, {\n            code: 4001,\n            reason: 'Heartbeat failure, discarding the socket',\n            wasClean: false,\n        });\n    };\n}\n//# sourceMappingURL=augment-websocket.js.map","import { BYTE } from './byte';\nimport { FrameImpl } from './frame-impl';\nimport { Parser } from './parser';\nimport { StompSocketState, } from './types';\nimport { Versions } from './versions';\nimport { augmentWebsocket } from './augment-websocket';\n/**\n * The STOMP protocol handler\n *\n * Part of `@stomp/stompjs`.\n *\n * @internal\n */\nexport class StompHandler {\n    constructor(_client, _webSocket, config = {}) {\n        this._client = _client;\n        this._webSocket = _webSocket;\n        this._serverFrameHandlers = {\n            // [CONNECTED Frame](http://stomp.github.com/stomp-specification-1.2.html#CONNECTED_Frame)\n            CONNECTED: frame => {\n                this.debug(`connected to server ${frame.headers.server}`);\n                this._connected = true;\n                this._connectedVersion = frame.headers.version;\n                // STOMP version 1.2 needs header values to be escaped\n                if (this._connectedVersion === Versions.V1_2) {\n                    this._escapeHeaderValues = true;\n                }\n                this._setupHeartbeat(frame.headers);\n                this.onConnect(frame);\n            },\n            // [MESSAGE Frame](http://stomp.github.com/stomp-specification-1.2.html#MESSAGE)\n            MESSAGE: frame => {\n                // the callback is registered when the client calls\n                // `subscribe()`.\n                // If there is no registered subscription for the received message,\n                // the default `onUnhandledMessage` callback is used that the client can set.\n                // This is useful for subscriptions that are automatically created\n                // on the browser side (e.g. [RabbitMQ's temporary\n                // queues](http://www.rabbitmq.com/stomp.html)).\n                const subscription = frame.headers.subscription;\n                const onReceive = this._subscriptions[subscription] || this.onUnhandledMessage;\n                // bless the frame to be a Message\n                const message = frame;\n                const client = this;\n                const messageId = this._connectedVersion === Versions.V1_2\n                    ? message.headers.ack\n                    : message.headers['message-id'];\n                // add `ack()` and `nack()` methods directly to the returned frame\n                // so that a simple call to `message.ack()` can acknowledge the message.\n                message.ack = (headers = {}) => {\n                    return client.ack(messageId, subscription, headers);\n                };\n                message.nack = (headers = {}) => {\n                    return client.nack(messageId, subscription, headers);\n                };\n                onReceive(message);\n            },\n            // [RECEIPT Frame](http://stomp.github.com/stomp-specification-1.2.html#RECEIPT)\n            RECEIPT: frame => {\n                const callback = this._receiptWatchers[frame.headers['receipt-id']];\n                if (callback) {\n                    callback(frame);\n                    // Server will acknowledge only once, remove the callback\n                    delete this._receiptWatchers[frame.headers['receipt-id']];\n                }\n                else {\n                    this.onUnhandledReceipt(frame);\n                }\n            },\n            // [ERROR Frame](http://stomp.github.com/stomp-specification-1.2.html#ERROR)\n            ERROR: frame => {\n                this.onStompError(frame);\n            },\n        };\n        // used to index subscribers\n        this._counter = 0;\n        // subscription callbacks indexed by subscriber's ID\n        this._subscriptions = {};\n        // receipt-watchers indexed by receipts-ids\n        this._receiptWatchers = {};\n        this._partialData = '';\n        this._escapeHeaderValues = false;\n        this._lastServerActivityTS = Date.now();\n        this.configure(config);\n    }\n    get connectedVersion() {\n        return this._connectedVersion;\n    }\n    get connected() {\n        return this._connected;\n    }\n    configure(conf) {\n        // bulk assign all properties to this\n        Object.assign(this, conf);\n    }\n    start() {\n        const parser = new Parser(\n        // On Frame\n        rawFrame => {\n            const frame = FrameImpl.fromRawFrame(rawFrame, this._escapeHeaderValues);\n            // if this.logRawCommunication is set, the rawChunk is logged at this._webSocket.onmessage\n            if (!this.logRawCommunication) {\n                this.debug(`<<< ${frame}`);\n            }\n            const serverFrameHandler = this._serverFrameHandlers[frame.command] || this.onUnhandledFrame;\n            serverFrameHandler(frame);\n        }, \n        // On Incoming Ping\n        () => {\n            this.debug('<<< PONG');\n        });\n        this._webSocket.onmessage = (evt) => {\n            this.debug('Received data');\n            this._lastServerActivityTS = Date.now();\n            if (this.logRawCommunication) {\n                const rawChunkAsString = evt.data instanceof ArrayBuffer\n                    ? new TextDecoder().decode(evt.data)\n                    : evt.data;\n                this.debug(`<<< ${rawChunkAsString}`);\n            }\n            parser.parseChunk(evt.data, this.appendMissingNULLonIncoming);\n        };\n        this._onclose = (closeEvent) => {\n            this.debug(`Connection closed to ${this._client.brokerURL}`);\n            this._cleanUp();\n            this.onWebSocketClose(closeEvent);\n        };\n        this._webSocket.onclose = this._onclose;\n        this._webSocket.onerror = (errorEvent) => {\n            this.onWebSocketError(errorEvent);\n        };\n        this._webSocket.onopen = () => {\n            // Clone before updating\n            const connectHeaders = Object.assign({}, this.connectHeaders);\n            this.debug('Web Socket Opened...');\n            connectHeaders['accept-version'] = this.stompVersions.supportedVersions();\n            connectHeaders['heart-beat'] = [\n                this.heartbeatOutgoing,\n                this.heartbeatIncoming,\n            ].join(',');\n            this._transmit({ command: 'CONNECT', headers: connectHeaders });\n        };\n    }\n    _setupHeartbeat(headers) {\n        if (headers.version !== Versions.V1_1 &&\n            headers.version !== Versions.V1_2) {\n            return;\n        }\n        // It is valid for the server to not send this header\n        // https://stomp.github.io/stomp-specification-1.2.html#Heart-beating\n        if (!headers['heart-beat']) {\n            return;\n        }\n        // heart-beat header received from the server looks like:\n        //\n        //     heart-beat: sx, sy\n        const [serverOutgoing, serverIncoming] = headers['heart-beat']\n            .split(',')\n            .map((v) => parseInt(v, 10));\n        if (this.heartbeatOutgoing !== 0 && serverIncoming !== 0) {\n            const ttl = Math.max(this.heartbeatOutgoing, serverIncoming);\n            this.debug(`send PING every ${ttl}ms`);\n            this._pinger = setInterval(() => {\n                if (this._webSocket.readyState === StompSocketState.OPEN) {\n                    this._webSocket.send(BYTE.LF);\n                    this.debug('>>> PING');\n                }\n            }, ttl);\n        }\n        if (this.heartbeatIncoming !== 0 && serverOutgoing !== 0) {\n            const ttl = Math.max(this.heartbeatIncoming, serverOutgoing);\n            this.debug(`check PONG every ${ttl}ms`);\n            this._ponger = setInterval(() => {\n                const delta = Date.now() - this._lastServerActivityTS;\n                // We wait twice the TTL to be flexible on window's setInterval calls\n                if (delta > ttl * 2) {\n                    this.debug(`did not receive server activity for the last ${delta}ms`);\n                    this._closeOrDiscardWebsocket();\n                }\n            }, ttl);\n        }\n    }\n    _closeOrDiscardWebsocket() {\n        if (this.discardWebsocketOnCommFailure) {\n            this.debug(\"Discarding websocket, the underlying socket may linger for a while\");\n            this._discardWebsocket();\n        }\n        else {\n            this.debug(\"Issuing close on the websocket\");\n            this._closeWebsocket();\n        }\n    }\n    forceDisconnect() {\n        if (this._webSocket) {\n            if (this._webSocket.readyState === StompSocketState.CONNECTING ||\n                this._webSocket.readyState === StompSocketState.OPEN) {\n                this._closeOrDiscardWebsocket();\n            }\n        }\n    }\n    _closeWebsocket() {\n        this._webSocket.onmessage = () => { }; // ignore messages\n        this._webSocket.close();\n    }\n    _discardWebsocket() {\n        if (!this._webSocket.terminate) {\n            augmentWebsocket(this._webSocket, (msg) => this.debug(msg));\n        }\n        this._webSocket.terminate();\n    }\n    _transmit(params) {\n        const { command, headers, body, binaryBody, skipContentLengthHeader, } = params;\n        const frame = new FrameImpl({\n            command,\n            headers,\n            body,\n            binaryBody,\n            escapeHeaderValues: this._escapeHeaderValues,\n            skipContentLengthHeader,\n        });\n        let rawChunk = frame.serialize();\n        if (this.logRawCommunication) {\n            this.debug(`>>> ${rawChunk}`);\n        }\n        else {\n            this.debug(`>>> ${frame}`);\n        }\n        if (this.forceBinaryWSFrames && typeof rawChunk === 'string') {\n            rawChunk = new TextEncoder().encode(rawChunk);\n        }\n        if (typeof rawChunk !== 'string' || !this.splitLargeFrames) {\n            this._webSocket.send(rawChunk);\n        }\n        else {\n            let out = rawChunk;\n            while (out.length > 0) {\n                const chunk = out.substring(0, this.maxWebSocketChunkSize);\n                out = out.substring(this.maxWebSocketChunkSize);\n                this._webSocket.send(chunk);\n                this.debug(`chunk sent = ${chunk.length}, remaining = ${out.length}`);\n            }\n        }\n    }\n    dispose() {\n        if (this.connected) {\n            try {\n                // clone before updating\n                const disconnectHeaders = Object.assign({}, this.disconnectHeaders);\n                if (!disconnectHeaders.receipt) {\n                    disconnectHeaders.receipt = `close-${this._counter++}`;\n                }\n                this.watchForReceipt(disconnectHeaders.receipt, frame => {\n                    this._closeWebsocket();\n                    this._cleanUp();\n                    this.onDisconnect(frame);\n                });\n                this._transmit({ command: 'DISCONNECT', headers: disconnectHeaders });\n            }\n            catch (error) {\n                this.debug(`Ignoring error during disconnect ${error}`);\n            }\n        }\n        else {\n            if (this._webSocket.readyState === StompSocketState.CONNECTING ||\n                this._webSocket.readyState === StompSocketState.OPEN) {\n                this._closeWebsocket();\n            }\n        }\n    }\n    _cleanUp() {\n        this._connected = false;\n        if (this._pinger) {\n            clearInterval(this._pinger);\n        }\n        if (this._ponger) {\n            clearInterval(this._ponger);\n        }\n    }\n    publish(params) {\n        const { destination, headers, body, binaryBody, skipContentLengthHeader, } = params;\n        const hdrs = Object.assign({ destination }, headers);\n        this._transmit({\n            command: 'SEND',\n            headers: hdrs,\n            body,\n            binaryBody,\n            skipContentLengthHeader,\n        });\n    }\n    watchForReceipt(receiptId, callback) {\n        this._receiptWatchers[receiptId] = callback;\n    }\n    subscribe(destination, callback, headers = {}) {\n        headers = Object.assign({}, headers);\n        if (!headers.id) {\n            headers.id = `sub-${this._counter++}`;\n        }\n        headers.destination = destination;\n        this._subscriptions[headers.id] = callback;\n        this._transmit({ command: 'SUBSCRIBE', headers });\n        const client = this;\n        return {\n            id: headers.id,\n            unsubscribe(hdrs) {\n                return client.unsubscribe(headers.id, hdrs);\n            },\n        };\n    }\n    unsubscribe(id, headers = {}) {\n        headers = Object.assign({}, headers);\n        delete this._subscriptions[id];\n        headers.id = id;\n        this._transmit({ command: 'UNSUBSCRIBE', headers });\n    }\n    begin(transactionId) {\n        const txId = transactionId || `tx-${this._counter++}`;\n        this._transmit({\n            command: 'BEGIN',\n            headers: {\n                transaction: txId,\n            },\n        });\n        const client = this;\n        return {\n            id: txId,\n            commit() {\n                client.commit(txId);\n            },\n            abort() {\n                client.abort(txId);\n            },\n        };\n    }\n    commit(transactionId) {\n        this._transmit({\n            command: 'COMMIT',\n            headers: {\n                transaction: transactionId,\n            },\n        });\n    }\n    abort(transactionId) {\n        this._transmit({\n            command: 'ABORT',\n            headers: {\n                transaction: transactionId,\n            },\n        });\n    }\n    ack(messageId, subscriptionId, headers = {}) {\n        headers = Object.assign({}, headers);\n        if (this._connectedVersion === Versions.V1_2) {\n            headers.id = messageId;\n        }\n        else {\n            headers['message-id'] = messageId;\n        }\n        headers.subscription = subscriptionId;\n        this._transmit({ command: 'ACK', headers });\n    }\n    nack(messageId, subscriptionId, headers = {}) {\n        headers = Object.assign({}, headers);\n        if (this._connectedVersion === Versions.V1_2) {\n            headers.id = messageId;\n        }\n        else {\n            headers['message-id'] = messageId;\n        }\n        headers.subscription = subscriptionId;\n        return this._transmit({ command: 'NACK', headers });\n    }\n}\n//# sourceMappingURL=stomp-handler.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { StompHandler } from './stomp-handler';\nimport { ActivationState, StompSocketState, } from './types';\nimport { Versions } from './versions';\n/**\n * STOMP Client Class.\n *\n * Part of `@stomp/stompjs`.\n */\nexport class Client {\n    /**\n     * Create an instance.\n     */\n    constructor(conf = {}) {\n        /**\n         * STOMP versions to attempt during STOMP handshake. By default versions `1.0`, `1.1`, and `1.2` are attempted.\n         *\n         * Example:\n         * ```javascript\n         *        // Try only versions 1.0 and 1.1\n         *        client.stompVersions = new Versions(['1.0', '1.1'])\n         * ```\n         */\n        this.stompVersions = Versions.default;\n        /**\n         * Will retry if Stomp connection is not established in specified milliseconds.\n         * Default 10,000ms, set to 0 to wait for ever.\n         */\n        this.connectionTimeout = 10000;\n        /**\n         *  automatically reconnect with delay in milliseconds, set to 0 to disable.\n         */\n        this.reconnectDelay = 5000;\n        /**\n         * Incoming heartbeat interval in milliseconds. Set to 0 to disable.\n         */\n        this.heartbeatIncoming = 10000;\n        /**\n         * Outgoing heartbeat interval in milliseconds. Set to 0 to disable.\n         */\n        this.heartbeatOutgoing = 10000;\n        /**\n         * This switches on a non standard behavior while sending WebSocket packets.\n         * It splits larger (text) packets into chunks of [maxWebSocketChunkSize]{@link Client#maxWebSocketChunkSize}.\n         * Only Java Spring brokers seems to use this mode.\n         *\n         * WebSockets, by itself, split large (text) packets,\n         * so it is not needed with a truly compliant STOMP/WebSocket broker.\n         * Actually setting it for such broker will cause large messages to fail.\n         *\n         * `false` by default.\n         *\n         * Binary frames are never split.\n         */\n        this.splitLargeFrames = false;\n        /**\n         * See [splitLargeFrames]{@link Client#splitLargeFrames}.\n         * This has no effect if [splitLargeFrames]{@link Client#splitLargeFrames} is `false`.\n         */\n        this.maxWebSocketChunkSize = 8 * 1024;\n        /**\n         * Usually the\n         * [type of WebSocket frame]{@link https://developer.mozilla.org/en-US/docs/Web/API/WebSocket/send#Parameters}\n         * is automatically decided by type of the payload.\n         * Default is `false`, which should work with all compliant brokers.\n         *\n         * Set this flag to force binary frames.\n         */\n        this.forceBinaryWSFrames = false;\n        /**\n         * A bug in ReactNative chops a string on occurrence of a NULL.\n         * See issue [https://github.com/stomp-js/stompjs/issues/89]{@link https://github.com/stomp-js/stompjs/issues/89}.\n         * This makes incoming WebSocket messages invalid STOMP packets.\n         * Setting this flag attempts to reverse the damage by appending a NULL.\n         * If the broker splits a large message into multiple WebSocket messages,\n         * this flag will cause data loss and abnormal termination of connection.\n         *\n         * This is not an ideal solution, but a stop gap until the underlying issue is fixed at ReactNative library.\n         */\n        this.appendMissingNULLonIncoming = false;\n        /**\n         * Activation state.\n         *\n         * It will usually be ACTIVE or INACTIVE.\n         * When deactivating it may go from ACTIVE to INACTIVE without entering DEACTIVATING.\n         */\n        this.state = ActivationState.INACTIVE;\n        // Dummy callbacks\n        const noOp = () => { };\n        this.debug = noOp;\n        this.beforeConnect = noOp;\n        this.onConnect = noOp;\n        this.onDisconnect = noOp;\n        this.onUnhandledMessage = noOp;\n        this.onUnhandledReceipt = noOp;\n        this.onUnhandledFrame = noOp;\n        this.onStompError = noOp;\n        this.onWebSocketClose = noOp;\n        this.onWebSocketError = noOp;\n        this.logRawCommunication = false;\n        this.onChangeState = noOp;\n        // These parameters would typically get proper values before connect is called\n        this.connectHeaders = {};\n        this._disconnectHeaders = {};\n        // Apply configuration\n        this.configure(conf);\n    }\n    /**\n     * Underlying WebSocket instance, READONLY.\n     */\n    get webSocket() {\n        return this._stompHandler ? this._stompHandler._webSocket : undefined;\n    }\n    /**\n     * Disconnection headers.\n     */\n    get disconnectHeaders() {\n        return this._disconnectHeaders;\n    }\n    set disconnectHeaders(value) {\n        this._disconnectHeaders = value;\n        if (this._stompHandler) {\n            this._stompHandler.disconnectHeaders = this._disconnectHeaders;\n        }\n    }\n    /**\n     * `true` if there is a active connection with STOMP Broker\n     */\n    get connected() {\n        return !!this._stompHandler && this._stompHandler.connected;\n    }\n    /**\n     * version of STOMP protocol negotiated with the server, READONLY\n     */\n    get connectedVersion() {\n        return this._stompHandler ? this._stompHandler.connectedVersion : undefined;\n    }\n    /**\n     * if the client is active (connected or going to reconnect)\n     */\n    get active() {\n        return this.state === ActivationState.ACTIVE;\n    }\n    _changeState(state) {\n        this.state = state;\n        this.onChangeState(state);\n    }\n    /**\n     * Update configuration.\n     */\n    configure(conf) {\n        // bulk assign all properties to this\n        Object.assign(this, conf);\n    }\n    /**\n     * Initiate the connection with the broker.\n     * If the connection breaks, as per [Client#reconnectDelay]{@link Client#reconnectDelay},\n     * it will keep trying to reconnect.\n     *\n     * Call [Client#deactivate]{@link Client#deactivate} to disconnect and stop reconnection attempts.\n     */\n    activate() {\n        if (this.state === ActivationState.DEACTIVATING) {\n            this.debug('Still DEACTIVATING, please await call to deactivate before trying to re-activate');\n            throw new Error('Still DEACTIVATING, can not activate now');\n        }\n        if (this.active) {\n            this.debug('Already ACTIVE, ignoring request to activate');\n            return;\n        }\n        this._changeState(ActivationState.ACTIVE);\n        this._connect();\n    }\n    _connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.connected) {\n                this.debug('STOMP: already connected, nothing to do');\n                return;\n            }\n            yield this.beforeConnect();\n            if (!this.active) {\n                this.debug('Client has been marked inactive, will not attempt to connect');\n                return;\n            }\n            // setup connection watcher\n            if (this.connectionTimeout > 0) {\n                this._connectionWatcher = setTimeout(() => {\n                    // Connection not established, close the underlying socket\n                    // a reconnection will be attempted\n                    this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`);\n                    this.forceDisconnect();\n                }, this.connectionTimeout);\n            }\n            this.debug('Opening Web Socket...');\n            // Get the actual WebSocket (or a similar object)\n            const webSocket = this._createWebSocket();\n            this._stompHandler = new StompHandler(this, webSocket, {\n                debug: this.debug,\n                stompVersions: this.stompVersions,\n                connectHeaders: this.connectHeaders,\n                disconnectHeaders: this._disconnectHeaders,\n                heartbeatIncoming: this.heartbeatIncoming,\n                heartbeatOutgoing: this.heartbeatOutgoing,\n                splitLargeFrames: this.splitLargeFrames,\n                maxWebSocketChunkSize: this.maxWebSocketChunkSize,\n                forceBinaryWSFrames: this.forceBinaryWSFrames,\n                logRawCommunication: this.logRawCommunication,\n                appendMissingNULLonIncoming: this.appendMissingNULLonIncoming,\n                discardWebsocketOnCommFailure: this.discardWebsocketOnCommFailure,\n                onConnect: frame => {\n                    // Successfully connected, stop the connection watcher\n                    if (this._connectionWatcher) {\n                        clearTimeout(this._connectionWatcher);\n                        this._connectionWatcher = undefined;\n                    }\n                    if (!this.active) {\n                        this.debug('STOMP got connected while deactivate was issued, will disconnect now');\n                        this._disposeStompHandler();\n                        return;\n                    }\n                    this.onConnect(frame);\n                },\n                onDisconnect: frame => {\n                    this.onDisconnect(frame);\n                },\n                onStompError: frame => {\n                    this.onStompError(frame);\n                },\n                onWebSocketClose: evt => {\n                    this._stompHandler = undefined; // a new one will be created in case of a reconnect\n                    if (this.state === ActivationState.DEACTIVATING) {\n                        // Mark deactivation complete\n                        this._resolveSocketClose();\n                        this._resolveSocketClose = undefined;\n                        this._changeState(ActivationState.INACTIVE);\n                    }\n                    this.onWebSocketClose(evt);\n                    // The callback is called before attempting to reconnect, this would allow the client\n                    // to be `deactivated` in the callback.\n                    if (this.active) {\n                        this._schedule_reconnect();\n                    }\n                },\n                onWebSocketError: evt => {\n                    this.onWebSocketError(evt);\n                },\n                onUnhandledMessage: message => {\n                    this.onUnhandledMessage(message);\n                },\n                onUnhandledReceipt: frame => {\n                    this.onUnhandledReceipt(frame);\n                },\n                onUnhandledFrame: frame => {\n                    this.onUnhandledFrame(frame);\n                },\n            });\n            this._stompHandler.start();\n        });\n    }\n    _createWebSocket() {\n        let webSocket;\n        if (this.webSocketFactory) {\n            webSocket = this.webSocketFactory();\n        }\n        else {\n            webSocket = new WebSocket(this.brokerURL, this.stompVersions.protocolVersions());\n        }\n        webSocket.binaryType = 'arraybuffer';\n        return webSocket;\n    }\n    _schedule_reconnect() {\n        if (this.reconnectDelay > 0) {\n            this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`);\n            this._reconnector = setTimeout(() => {\n                this._connect();\n            }, this.reconnectDelay);\n        }\n    }\n    /**\n     * Disconnect if connected and stop auto reconnect loop.\n     * Appropriate callbacks will be invoked if underlying STOMP connection was connected.\n     *\n     * This call is async, it will resolve immediately if there is no underlying active websocket,\n     * otherwise, it will resolve after underlying websocket is properly disposed.\n     *\n     * To reactivate you can call [Client#activate]{@link Client#activate}.\n     */\n    deactivate() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let retPromise;\n            if (this.state !== ActivationState.ACTIVE) {\n                this.debug(`Already ${ActivationState[this.state]}, ignoring call to deactivate`);\n                return Promise.resolve();\n            }\n            this._changeState(ActivationState.DEACTIVATING);\n            // Clear if a reconnection was scheduled\n            if (this._reconnector) {\n                clearTimeout(this._reconnector);\n            }\n            if (this._stompHandler &&\n                this.webSocket.readyState !== StompSocketState.CLOSED) {\n                // we need to wait for underlying websocket to close\n                retPromise = new Promise((resolve, reject) => {\n                    this._resolveSocketClose = resolve;\n                });\n            }\n            else {\n                // indicate that auto reconnect loop should terminate\n                this._changeState(ActivationState.INACTIVE);\n                return Promise.resolve();\n            }\n            this._disposeStompHandler();\n            return retPromise;\n        });\n    }\n    /**\n     * Force disconnect if there is an active connection by directly closing the underlying WebSocket.\n     * This is different than a normal disconnect where a DISCONNECT sequence is carried out with the broker.\n     * After forcing disconnect, automatic reconnect will be attempted.\n     * To stop further reconnects call [Client#deactivate]{@link Client#deactivate} as well.\n     */\n    forceDisconnect() {\n        if (this._stompHandler) {\n            this._stompHandler.forceDisconnect();\n        }\n    }\n    _disposeStompHandler() {\n        // Dispose STOMP Handler\n        if (this._stompHandler) {\n            this._stompHandler.dispose();\n            this._stompHandler = null;\n        }\n    }\n    /**\n     * Send a message to a named destination. Refer to your STOMP broker documentation for types\n     * and naming of destinations.\n     *\n     * STOMP protocol specifies and suggests some headers and also allows broker specific headers.\n     *\n     * `body` must be String.\n     * You will need to covert the payload to string in case it is not string (e.g. JSON).\n     *\n     * To send a binary message body use binaryBody parameter. It should be a\n     * [Uint8Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array).\n     * Sometimes brokers may not support binary frames out of the box.\n     * Please check your broker documentation.\n     *\n     * `content-length` header is automatically added to the STOMP Frame sent to the broker.\n     * Set `skipContentLengthHeader` to indicate that `content-length` header should not be added.\n     * For binary messages `content-length` header is always added.\n     *\n     * Caution: The broker will, most likely, report an error and disconnect if message body has NULL octet(s)\n     * and `content-length` header is missing.\n     *\n     * ```javascript\n     *        client.publish({destination: \"/queue/test\", headers: {priority: 9}, body: \"Hello, STOMP\"});\n     *\n     *        // Only destination is mandatory parameter\n     *        client.publish({destination: \"/queue/test\", body: \"Hello, STOMP\"});\n     *\n     *        // Skip content-length header in the frame to the broker\n     *        client.publish({\"/queue/test\", body: \"Hello, STOMP\", skipContentLengthHeader: true});\n     *\n     *        var binaryData = generateBinaryData(); // This need to be of type Uint8Array\n     *        // setting content-type header is not mandatory, however a good practice\n     *        client.publish({destination: '/topic/special', binaryBody: binaryData,\n     *                         headers: {'content-type': 'application/octet-stream'}});\n     * ```\n     */\n    publish(params) {\n        this._stompHandler.publish(params);\n    }\n    /**\n     * STOMP brokers may carry out operation asynchronously and allow requesting for acknowledgement.\n     * To request an acknowledgement, a `receipt` header needs to be sent with the actual request.\n     * The value (say receipt-id) for this header needs to be unique for each use. Typically a sequence, a UUID, a\n     * random number or a combination may be used.\n     *\n     * A complaint broker will send a RECEIPT frame when an operation has actually been completed.\n     * The operation needs to be matched based in the value of the receipt-id.\n     *\n     * This method allow watching for a receipt and invoke the callback\n     * when corresponding receipt has been received.\n     *\n     * The actual {@link FrameImpl} will be passed as parameter to the callback.\n     *\n     * Example:\n     * ```javascript\n     *        // Subscribing with acknowledgement\n     *        let receiptId = randomText();\n     *\n     *        client.watchForReceipt(receiptId, function() {\n     *          // Will be called after server acknowledges\n     *        });\n     *\n     *        client.subscribe(TEST.destination, onMessage, {receipt: receiptId});\n     *\n     *\n     *        // Publishing with acknowledgement\n     *        receiptId = randomText();\n     *\n     *        client.watchForReceipt(receiptId, function() {\n     *          // Will be called after server acknowledges\n     *        });\n     *        client.publish({destination: TEST.destination, headers: {receipt: receiptId}, body: msg});\n     * ```\n     */\n    watchForReceipt(receiptId, callback) {\n        this._stompHandler.watchForReceipt(receiptId, callback);\n    }\n    /**\n     * Subscribe to a STOMP Broker location. The callback will be invoked for each received message with\n     * the {@link IMessage} as argument.\n     *\n     * Note: The library will generate an unique ID if there is none provided in the headers.\n     *       To use your own ID, pass it using the headers argument.\n     *\n     * ```javascript\n     *        callback = function(message) {\n     *        // called when the client receives a STOMP message from the server\n     *          if (message.body) {\n     *            alert(\"got message with body \" + message.body)\n     *          } else {\n     *            alert(\"got empty message\");\n     *          }\n     *        });\n     *\n     *        var subscription = client.subscribe(\"/queue/test\", callback);\n     *\n     *        // Explicit subscription id\n     *        var mySubId = 'my-subscription-id-001';\n     *        var subscription = client.subscribe(destination, callback, { id: mySubId });\n     * ```\n     */\n    subscribe(destination, callback, headers = {}) {\n        return this._stompHandler.subscribe(destination, callback, headers);\n    }\n    /**\n     * It is preferable to unsubscribe from a subscription by calling\n     * `unsubscribe()` directly on {@link StompSubscription} returned by `client.subscribe()`:\n     *\n     * ```javascript\n     *        var subscription = client.subscribe(destination, onmessage);\n     *        // ...\n     *        subscription.unsubscribe();\n     * ```\n     *\n     * See: http://stomp.github.com/stomp-specification-1.2.html#UNSUBSCRIBE UNSUBSCRIBE Frame\n     */\n    unsubscribe(id, headers = {}) {\n        this._stompHandler.unsubscribe(id, headers);\n    }\n    /**\n     * Start a transaction, the returned {@link ITransaction} has methods - [commit]{@link ITransaction#commit}\n     * and [abort]{@link ITransaction#abort}.\n     *\n     * `transactionId` is optional, if not passed the library will generate it internally.\n     */\n    begin(transactionId) {\n        return this._stompHandler.begin(transactionId);\n    }\n    /**\n     * Commit a transaction.\n     *\n     * It is preferable to commit a transaction by calling [commit]{@link ITransaction#commit} directly on\n     * {@link ITransaction} returned by [client.begin]{@link Client#begin}.\n     *\n     * ```javascript\n     *        var tx = client.begin(txId);\n     *        //...\n     *        tx.commit();\n     * ```\n     */\n    commit(transactionId) {\n        this._stompHandler.commit(transactionId);\n    }\n    /**\n     * Abort a transaction.\n     * It is preferable to abort a transaction by calling [abort]{@link ITransaction#abort} directly on\n     * {@link ITransaction} returned by [client.begin]{@link Client#begin}.\n     *\n     * ```javascript\n     *        var tx = client.begin(txId);\n     *        //...\n     *        tx.abort();\n     * ```\n     */\n    abort(transactionId) {\n        this._stompHandler.abort(transactionId);\n    }\n    /**\n     * ACK a message. It is preferable to acknowledge a message by calling [ack]{@link IMessage#ack} directly\n     * on the {@link IMessage} handled by a subscription callback:\n     *\n     * ```javascript\n     *        var callback = function (message) {\n     *          // process the message\n     *          // acknowledge it\n     *          message.ack();\n     *        };\n     *        client.subscribe(destination, callback, {'ack': 'client'});\n     * ```\n     */\n    ack(messageId, subscriptionId, headers = {}) {\n        this._stompHandler.ack(messageId, subscriptionId, headers);\n    }\n    /**\n     * NACK a message. It is preferable to acknowledge a message by calling [nack]{@link IMessage#nack} directly\n     * on the {@link IMessage} handled by a subscription callback:\n     *\n     * ```javascript\n     *        var callback = function (message) {\n     *          // process the message\n     *          // an error occurs, nack it\n     *          message.nack();\n     *        };\n     *        client.subscribe(destination, callback, {'ack': 'client'});\n     * ```\n     */\n    nack(messageId, subscriptionId, headers = {}) {\n        this._stompHandler.nack(messageId, subscriptionId, headers);\n    }\n}\n//# sourceMappingURL=client.js.map","/**\n * Part of `@stomp/stompjs`.\n *\n * @internal\n */\nexport class HeartbeatInfo {\n    constructor(client) {\n        this.client = client;\n    }\n    get outgoing() {\n        return this.client.heartbeatOutgoing;\n    }\n    set outgoing(value) {\n        this.client.heartbeatOutgoing = value;\n    }\n    get incoming() {\n        return this.client.heartbeatIncoming;\n    }\n    set incoming(value) {\n        this.client.heartbeatIncoming = value;\n    }\n}\n//# sourceMappingURL=heartbeat-info.js.map","import { Client } from '../client';\nimport { HeartbeatInfo } from './heartbeat-info';\n/**\n * Available for backward compatibility, please shift to using {@link Client}.\n *\n * **Deprecated**\n *\n * Part of `@stomp/stompjs`.\n *\n * To upgrade, please follow the [Upgrade Guide](../additional-documentation/upgrading.html)\n */\nexport class CompatClient extends Client {\n    /**\n     * Available for backward compatibility, please shift to using {@link Client}\n     * and [Client#webSocketFactory]{@link Client#webSocketFactory}.\n     *\n     * **Deprecated**\n     *\n     * @internal\n     */\n    constructor(webSocketFactory) {\n        super();\n        /**\n         * It is no op now. No longer needed. Large packets work out of the box.\n         */\n        this.maxWebSocketFrameSize = 16 * 1024;\n        this._heartbeatInfo = new HeartbeatInfo(this);\n        this.reconnect_delay = 0;\n        this.webSocketFactory = webSocketFactory;\n        // Default from previous version\n        this.debug = (...message) => {\n            console.log(...message);\n        };\n    }\n    _parseConnect(...args) {\n        let closeEventCallback;\n        let connectCallback;\n        let errorCallback;\n        let headers = {};\n        if (args.length < 2) {\n            throw new Error('Connect requires at least 2 arguments');\n        }\n        if (typeof args[1] === 'function') {\n            [headers, connectCallback, errorCallback, closeEventCallback] = args;\n        }\n        else {\n            switch (args.length) {\n                case 6:\n                    [\n                        headers.login,\n                        headers.passcode,\n                        connectCallback,\n                        errorCallback,\n                        closeEventCallback,\n                        headers.host,\n                    ] = args;\n                    break;\n                default:\n                    [\n                        headers.login,\n                        headers.passcode,\n                        connectCallback,\n                        errorCallback,\n                        closeEventCallback,\n                    ] = args;\n            }\n        }\n        return [headers, connectCallback, errorCallback, closeEventCallback];\n    }\n    /**\n     * Available for backward compatibility, please shift to using [Client#activate]{@link Client#activate}.\n     *\n     * **Deprecated**\n     *\n     * The `connect` method accepts different number of arguments and types. See the Overloads list. Use the\n     * version with headers to pass your broker specific options.\n     *\n     * overloads:\n     * - connect(headers, connectCallback)\n     * - connect(headers, connectCallback, errorCallback)\n     * - connect(login, passcode, connectCallback)\n     * - connect(login, passcode, connectCallback, errorCallback)\n     * - connect(login, passcode, connectCallback, errorCallback, closeEventCallback)\n     * - connect(login, passcode, connectCallback, errorCallback, closeEventCallback, host)\n     *\n     * params:\n     * - headers, see [Client#connectHeaders]{@link Client#connectHeaders}\n     * - connectCallback, see [Client#onConnect]{@link Client#onConnect}\n     * - errorCallback, see [Client#onStompError]{@link Client#onStompError}\n     * - closeEventCallback, see [Client#onWebSocketClose]{@link Client#onWebSocketClose}\n     * - login [String], see [Client#connectHeaders](../classes/Client.html#connectHeaders)\n     * - passcode [String], [Client#connectHeaders](../classes/Client.html#connectHeaders)\n     * - host [String], see [Client#connectHeaders](../classes/Client.html#connectHeaders)\n     *\n     * To upgrade, please follow the [Upgrade Guide](../additional-documentation/upgrading.html)\n     */\n    connect(...args) {\n        const out = this._parseConnect(...args);\n        if (out[0]) {\n            this.connectHeaders = out[0];\n        }\n        if (out[1]) {\n            this.onConnect = out[1];\n        }\n        if (out[2]) {\n            this.onStompError = out[2];\n        }\n        if (out[3]) {\n            this.onWebSocketClose = out[3];\n        }\n        super.activate();\n    }\n    /**\n     * Available for backward compatibility, please shift to using [Client#deactivate]{@link Client#deactivate}.\n     *\n     * **Deprecated**\n     *\n     * See:\n     * [Client#onDisconnect]{@link Client#onDisconnect}, and\n     * [Client#disconnectHeaders]{@link Client#disconnectHeaders}\n     *\n     * To upgrade, please follow the [Upgrade Guide](../additional-documentation/upgrading.html)\n     */\n    disconnect(disconnectCallback, headers = {}) {\n        if (disconnectCallback) {\n            this.onDisconnect = disconnectCallback;\n        }\n        this.disconnectHeaders = headers;\n        super.deactivate();\n    }\n    /**\n     * Available for backward compatibility, use [Client#publish]{@link Client#publish}.\n     *\n     * Send a message to a named destination. Refer to your STOMP broker documentation for types\n     * and naming of destinations. The headers will, typically, be available to the subscriber.\n     * However, there may be special purpose headers corresponding to your STOMP broker.\n     *\n     *  **Deprecated**, use [Client#publish]{@link Client#publish}\n     *\n     * Note: Body must be String. You will need to covert the payload to string in case it is not string (e.g. JSON)\n     *\n     * ```javascript\n     *        client.send(\"/queue/test\", {priority: 9}, \"Hello, STOMP\");\n     *\n     *        // If you want to send a message with a body, you must also pass the headers argument.\n     *        client.send(\"/queue/test\", {}, \"Hello, STOMP\");\n     * ```\n     *\n     * To upgrade, please follow the [Upgrade Guide](../additional-documentation/upgrading.html)\n     */\n    send(destination, headers = {}, body = '') {\n        headers = Object.assign({}, headers);\n        const skipContentLengthHeader = headers['content-length'] === false;\n        if (skipContentLengthHeader) {\n            delete headers['content-length'];\n        }\n        this.publish({\n            destination,\n            headers: headers,\n            body,\n            skipContentLengthHeader,\n        });\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#reconnectDelay]{@link Client#reconnectDelay}.\n     *\n     * **Deprecated**\n     */\n    set reconnect_delay(value) {\n        this.reconnectDelay = value;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#webSocket]{@link Client#webSocket}.\n     *\n     * **Deprecated**\n     */\n    get ws() {\n        return this.webSocket;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#connectedVersion]{@link Client#connectedVersion}.\n     *\n     * **Deprecated**\n     */\n    get version() {\n        return this.connectedVersion;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#onUnhandledMessage]{@link Client#onUnhandledMessage}.\n     *\n     * **Deprecated**\n     */\n    get onreceive() {\n        return this.onUnhandledMessage;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#onUnhandledMessage]{@link Client#onUnhandledMessage}.\n     *\n     * **Deprecated**\n     */\n    set onreceive(value) {\n        this.onUnhandledMessage = value;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#onUnhandledReceipt]{@link Client#onUnhandledReceipt}.\n     * Prefer using [Client#watchForReceipt]{@link Client#watchForReceipt}.\n     *\n     * **Deprecated**\n     */\n    get onreceipt() {\n        return this.onUnhandledReceipt;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#onUnhandledReceipt]{@link Client#onUnhandledReceipt}.\n     *\n     * **Deprecated**\n     */\n    set onreceipt(value) {\n        this.onUnhandledReceipt = value;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#heartbeatIncoming]{@link Client#heartbeatIncoming}\n     * [Client#heartbeatOutgoing]{@link Client#heartbeatOutgoing}.\n     *\n     * **Deprecated**\n     */\n    get heartbeat() {\n        return this._heartbeatInfo;\n    }\n    /**\n     * Available for backward compatibility, renamed to [Client#heartbeatIncoming]{@link Client#heartbeatIncoming}\n     * [Client#heartbeatOutgoing]{@link Client#heartbeatOutgoing}.\n     *\n     * **Deprecated**\n     */\n    set heartbeat(value) {\n        this.heartbeatIncoming = value.incoming;\n        this.heartbeatOutgoing = value.outgoing;\n    }\n}\n//# sourceMappingURL=compat-client.js.map","import { Versions } from '../versions';\nimport { CompatClient } from './compat-client';\n/**\n * STOMP Class, acts like a factory to create {@link Client}.\n *\n * Part of `@stomp/stompjs`.\n *\n * **Deprecated**\n *\n * It will be removed in next major version. Please switch to {@link Client}.\n */\nexport class Stomp {\n    /**\n     * This method creates a WebSocket client that is connected to\n     * the STOMP server located at the url.\n     *\n     * ```javascript\n     *        var url = \"ws://localhost:61614/stomp\";\n     *        var client = Stomp.client(url);\n     * ```\n     *\n     * **Deprecated**\n     *\n     * It will be removed in next major version. Please switch to {@link Client}\n     * using [Client#brokerURL]{@link Client#brokerURL}.\n     */\n    static client(url, protocols) {\n        // This is a hack to allow another implementation than the standard\n        // HTML5 WebSocket class.\n        //\n        // It is possible to use another class by calling\n        //\n        //     Stomp.WebSocketClass = MozWebSocket\n        //\n        // *prior* to call `Stomp.client()`.\n        //\n        // This hack is deprecated and `Stomp.over()` method should be used\n        // instead.\n        // See remarks on the function Stomp.over\n        if (protocols == null) {\n            protocols = Versions.default.protocolVersions();\n        }\n        const wsFn = () => {\n            const klass = Stomp.WebSocketClass || WebSocket;\n            return new klass(url, protocols);\n        };\n        return new CompatClient(wsFn);\n    }\n    /**\n     * This method is an alternative to [Stomp#client]{@link Stomp#client} to let the user\n     * specify the WebSocket to use (either a standard HTML5 WebSocket or\n     * a similar object).\n     *\n     * In order to support reconnection, the function Client._connect should be callable more than once.\n     * While reconnecting\n     * a new instance of underlying transport (TCP Socket, WebSocket or SockJS) will be needed. So, this function\n     * alternatively allows passing a function that should return a new instance of the underlying socket.\n     *\n     * ```javascript\n     *        var client = Stomp.over(function(){\n     *          return new WebSocket('ws://localhost:15674/ws')\n     *        });\n     * ```\n     *\n     * **Deprecated**\n     *\n     * It will be removed in next major version. Please switch to {@link Client}\n     * using [Client#webSocketFactory]{@link Client#webSocketFactory}.\n     */\n    static over(ws) {\n        let wsFn;\n        if (typeof ws === 'function') {\n            wsFn = ws;\n        }\n        else {\n            console.warn('Stomp.over did not receive a factory, auto reconnect will not work. ' +\n                'Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over');\n            wsFn = () => ws;\n        }\n        return new CompatClient(wsFn);\n    }\n}\n/**\n * In case you need to use a non standard class for WebSocket.\n *\n * For example when using within NodeJS environment:\n *\n * ```javascript\n *        StompJs = require('../../esm5/');\n *        Stomp = StompJs.Stomp;\n *        Stomp.WebSocketClass = require('websocket').w3cwebsocket;\n * ```\n *\n * **Deprecated**\n *\n *\n * It will be removed in next major version. Please switch to {@link Client}\n * using [Client#webSocketFactory]{@link Client#webSocketFactory}.\n */\n// tslint:disable-next-line:variable-name\nStomp.WebSocketClass = null;\n//# sourceMappingURL=stomp.js.map","import Vue from 'vue'\nimport { VNode, VNodeDirective } from 'vue/types'\nimport { VuetifyIcon } from 'vuetify/types/services/icons'\nimport { DataTableCompareFunction, SelectItemKey, ItemGroup } from 'vuetify/types'\n\nexport function createSimpleFunctional (\n  c: string,\n  el = 'div',\n  name?: string\n) {\n  return Vue.extend({\n    name: name || c.replace(/__/g, '-'),\n\n    functional: true,\n\n    render (h, { data, children }): VNode {\n      data.staticClass = (`${c} ${data.staticClass || ''}`).trim()\n\n      return h(el, data, children)\n    },\n  })\n}\n\nexport type BindingConfig = Pick<VNodeDirective, 'arg' | 'modifiers' | 'value'>\nexport function directiveConfig (binding: BindingConfig, defaults = {}): VNodeDirective {\n  return {\n    ...defaults,\n    ...binding.modifiers,\n    value: binding.arg,\n    ...(binding.value || {}),\n  }\n}\n\nexport function addOnceEventListener (\n  el: EventTarget,\n  eventName: string,\n  cb: (event: Event) => void,\n  options: boolean | AddEventListenerOptions = false\n): void {\n  var once = (event: Event) => {\n    cb(event)\n    el.removeEventListener(eventName, once, options)\n  }\n\n  el.addEventListener(eventName, once, options)\n}\n\nlet passiveSupported = false\ntry {\n  if (typeof window !== 'undefined') {\n    const testListenerOpts = Object.defineProperty({}, 'passive', {\n      get: () => {\n        passiveSupported = true\n      },\n    })\n\n    window.addEventListener('testListener', testListenerOpts, testListenerOpts)\n    window.removeEventListener('testListener', testListenerOpts, testListenerOpts)\n  }\n} catch (e) { console.warn(e) }\nexport { passiveSupported }\n\nexport function addPassiveEventListener (\n  el: EventTarget,\n  event: string,\n  cb: EventHandlerNonNull | (() => void),\n  options: {}\n): void {\n  el.addEventListener(event, cb, passiveSupported ? options : false)\n}\n\nexport function getNestedValue (obj: any, path: (string | number)[], fallback?: any): any {\n  const last = path.length - 1\n\n  if (last < 0) return obj === undefined ? fallback : obj\n\n  for (let i = 0; i < last; i++) {\n    if (obj == null) {\n      return fallback\n    }\n    obj = obj[path[i]]\n  }\n\n  if (obj == null) return fallback\n\n  return obj[path[last]] === undefined ? fallback : obj[path[last]]\n}\n\nexport function deepEqual (a: any, b: any): boolean {\n  if (a === b) return true\n\n  if (\n    a instanceof Date &&\n    b instanceof Date &&\n    a.getTime() !== b.getTime()\n  ) {\n    // If the values are Date, compare them as timestamps\n    return false\n  }\n\n  if (a !== Object(a) || b !== Object(b)) {\n    // If the values aren't objects, they were already checked for equality\n    return false\n  }\n\n  const props = Object.keys(a)\n\n  if (props.length !== Object.keys(b).length) {\n    // Different number of props, don't bother to check\n    return false\n  }\n\n  return props.every(p => deepEqual(a[p], b[p]))\n}\n\nexport function getObjectValueByPath (obj: any, path: string, fallback?: any): any {\n  // credit: http://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key#comment55278413_6491621\n  if (obj == null || !path || typeof path !== 'string') return fallback\n  if (obj[path] !== undefined) return obj[path]\n  path = path.replace(/\\[(\\w+)\\]/g, '.$1') // convert indexes to properties\n  path = path.replace(/^\\./, '') // strip a leading dot\n  return getNestedValue(obj, path.split('.'), fallback)\n}\n\nexport function getPropertyFromItem (\n  item: object,\n  property: SelectItemKey,\n  fallback?: any\n): any {\n  if (property == null) return item === undefined ? fallback : item\n\n  if (item !== Object(item)) return fallback === undefined ? item : fallback\n\n  if (typeof property === 'string') return getObjectValueByPath(item, property, fallback)\n\n  if (Array.isArray(property)) return getNestedValue(item, property, fallback)\n\n  if (typeof property !== 'function') return fallback\n\n  const value = property(item, fallback)\n\n  return typeof value === 'undefined' ? fallback : value\n}\n\nexport function createRange (length: number): number[] {\n  return Array.from({ length }, (v, k) => k)\n}\n\nexport function getZIndex (el?: Element | null): number {\n  if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\n\n  const index = +window.getComputedStyle(el).getPropertyValue('z-index')\n\n  if (!index) return getZIndex(el.parentNode as Element)\n  return index\n}\n\nconst tagsToReplace = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n} as any\n\nexport function escapeHTML (str: string): string {\n  return str.replace(/[&<>]/g, tag => tagsToReplace[tag] || tag)\n}\n\nexport function filterObjectOnKeys<T, K extends keyof T> (obj: T, keys: K[]): { [N in K]: T[N] } {\n  const filtered = {} as { [N in K]: T[N] }\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i]\n    if (typeof obj[key] !== 'undefined') {\n      filtered[key] = obj[key]\n    }\n  }\n\n  return filtered\n}\n\nexport function convertToUnit (str: string | number | null | undefined, unit = 'px'): string | undefined {\n  if (str == null || str === '') {\n    return undefined\n  } else if (isNaN(+str!)) {\n    return String(str)\n  } else {\n    return `${Number(str)}${unit}`\n  }\n}\n\nexport function kebabCase (str: string): string {\n  return (str || '').replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase()\n}\n\nexport function isObject (obj: any): obj is object {\n  return obj !== null && typeof obj === 'object'\n}\n\n// KeyboardEvent.keyCode aliases\nexport const keyCodes = Object.freeze({\n  enter: 13,\n  tab: 9,\n  delete: 46,\n  esc: 27,\n  space: 32,\n  up: 38,\n  down: 40,\n  left: 37,\n  right: 39,\n  end: 35,\n  home: 36,\n  del: 46,\n  backspace: 8,\n  insert: 45,\n  pageup: 33,\n  pagedown: 34,\n})\n\n/**\n * This remaps internal names like '$cancel' or '$vuetify.icons.cancel'\n * to the current name or component for that icon.\n */\nexport function remapInternalIcon (vm: Vue, iconName: string): VuetifyIcon {\n  // Look for custom component in the configuration\n  const component = vm.$vuetify.icons.component\n\n  // Look for overrides\n  if (iconName.startsWith('$')) {\n    // Get the target icon name\n    const iconPath = `$vuetify.icons.values.${iconName.split('$').pop()!.split('.').pop()}`\n\n    // Now look up icon indirection name,\n    // e.g. '$vuetify.icons.values.cancel'\n    const override = getObjectValueByPath(vm, iconPath, iconName)\n\n    if (typeof override === 'string') iconName = override\n    else return override\n  }\n\n  if (component == null) {\n    return iconName\n  }\n\n  return {\n    component,\n    props: {\n      icon: iconName,\n    },\n  }\n}\n\nexport function keys<O> (o: O) {\n  return Object.keys(o) as (keyof O)[]\n}\n\n/**\n * Camelize a hyphen-delimited string.\n */\nconst camelizeRE = /-(\\w)/g\nexport const camelize = (str: string): string => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : '')\n}\n\n/**\n * Returns the set difference of B and A, i.e. the set of elements in B but not in A\n */\nexport function arrayDiff (a: any[], b: any[]): any[] {\n  const diff: any[] = []\n  for (let i = 0; i < b.length; i++) {\n    if (a.indexOf(b[i]) < 0) diff.push(b[i])\n  }\n  return diff\n}\n\n/**\n * Makes the first character of a string uppercase\n */\nexport function upperFirst (str: string): string {\n  return str.charAt(0).toUpperCase() + str.slice(1)\n}\n\nexport function groupItems<T extends any = any> (\n  items: T[],\n  groupBy: string[],\n  groupDesc: boolean[]\n): ItemGroup<T>[] {\n  const key = groupBy[0]\n  const groups: ItemGroup<T>[] = []\n  let current\n  for (var i = 0; i < items.length; i++) {\n    const item = items[i]\n    const val = getObjectValueByPath(item, key, null)\n    if (current !== val) {\n      current = val\n      groups.push({\n        name: val ?? '',\n        items: [],\n      })\n    }\n    groups[groups.length - 1].items.push(item)\n  }\n  return groups\n}\n\nexport function wrapInArray<T> (v: T | T[] | null | undefined): T[] { return v != null ? Array.isArray(v) ? v : [v] : [] }\n\nexport function sortItems<T extends any = any> (\n  items: T[],\n  sortBy: string[],\n  sortDesc: boolean[],\n  locale: string,\n  customSorters?: Record<string, DataTableCompareFunction<T>>\n): T[] {\n  if (sortBy === null || !sortBy.length) return items\n  const stringCollator = new Intl.Collator(locale, { sensitivity: 'accent', usage: 'sort' })\n\n  return items.sort((a, b) => {\n    for (let i = 0; i < sortBy.length; i++) {\n      const sortKey = sortBy[i]\n\n      let sortA = getObjectValueByPath(a, sortKey)\n      let sortB = getObjectValueByPath(b, sortKey)\n\n      if (sortDesc[i]) {\n        [sortA, sortB] = [sortB, sortA]\n      }\n\n      if (customSorters && customSorters[sortKey]) {\n        const customResult = customSorters[sortKey](sortA, sortB)\n\n        if (!customResult) continue\n\n        return customResult\n      }\n\n      // Check if both cannot be evaluated\n      if (sortA === null && sortB === null) {\n        continue\n      }\n\n      [sortA, sortB] = [sortA, sortB].map(s => (s || '').toString().toLocaleLowerCase())\n\n      if (sortA !== sortB) {\n        if (!isNaN(sortA) && !isNaN(sortB)) return Number(sortA) - Number(sortB)\n        return stringCollator.compare(sortA, sortB)\n      }\n    }\n\n    return 0\n  })\n}\n\nexport function defaultFilter (value: any, search: string | null, item: any) {\n  return value != null &&\n    search != null &&\n    typeof value !== 'boolean' &&\n    value.toString().toLocaleLowerCase().indexOf(search.toLocaleLowerCase()) !== -1\n}\n\nexport function searchItems<T extends any = any> (items: T[], search: string): T[] {\n  if (!search) return items\n  search = search.toString().toLowerCase()\n  if (search.trim() === '') return items\n\n  return items.filter((item: any) => Object.keys(item).some(key => defaultFilter(getObjectValueByPath(item, key), search, item)))\n}\n\n/**\n * Returns:\n *  - 'normal' for old style slots - `<template slot=\"default\">`\n *  - 'scoped' for old style scoped slots (`<template slot=\"default\" slot-scope=\"data\">`) or bound v-slot (`#default=\"data\"`)\n *  - 'v-slot' for unbound v-slot (`#default`) - only if the third param is true, otherwise counts as scoped\n */\nexport function getSlotType<T extends boolean = false> (vm: Vue, name: string, split?: T): (T extends true ? 'v-slot' : never) | 'normal' | 'scoped' | void {\n  if (vm.$slots[name] && vm.$scopedSlots[name] && (vm.$scopedSlots[name] as any).name) {\n    return split ? 'v-slot' as any : 'scoped'\n  }\n  if (vm.$slots[name]) return 'normal'\n  if (vm.$scopedSlots[name]) return 'scoped'\n}\n\nexport function debounce (fn: Function, delay: number) {\n  let timeoutId = 0 as any\n  return (...args: any[]) => {\n    clearTimeout(timeoutId)\n    timeoutId = setTimeout(() => fn(...args), delay)\n  }\n}\n\nexport function throttle<T extends (...args: any[]) => any> (fn: T, limit: number) {\n  let throttling = false\n  return (...args: Parameters<T>): void | ReturnType<T> => {\n    if (!throttling) {\n      throttling = true\n      setTimeout(() => throttling = false, limit)\n      return fn(...args)\n    }\n  }\n}\n\nexport function getPrefixedScopedSlots (prefix: string, scopedSlots: any) {\n  return Object.keys(scopedSlots).filter(k => k.startsWith(prefix)).reduce((obj: any, k: string) => {\n    obj[k.replace(prefix, '')] = scopedSlots[k]\n    return obj\n  }, {})\n}\n\nexport function getSlot (vm: Vue, name = 'default', data?: object | (() => object), optional = false) {\n  if (vm.$scopedSlots[name]) {\n    return vm.$scopedSlots[name]!(data instanceof Function ? data() : data)\n  } else if (vm.$slots[name] && (!data || optional)) {\n    return vm.$slots[name]\n  }\n  return undefined\n}\n\nexport function clamp (value: number, min = 0, max = 1) {\n  return Math.max(min, Math.min(max, value))\n}\n\nexport function padEnd (str: string, length: number, char = '0') {\n  return str + char.repeat(Math.max(0, length - str.length))\n}\n\nexport function chunk (str: string, size = 1) {\n  const chunked: string[] = []\n  let index = 0\n  while (index < str.length) {\n    chunked.push(str.substr(index, size))\n    index += size\n  }\n  return chunked\n}\n\nexport function humanReadableFileSize (bytes: number, binary = false): string {\n  const base = binary ? 1024 : 1000\n  if (bytes < base) {\n    return `${bytes} B`\n  }\n\n  const prefix = binary ? ['Ki', 'Mi', 'Gi'] : ['k', 'M', 'G']\n  let unit = -1\n  while (Math.abs(bytes) >= base && unit < prefix.length - 1) {\n    bytes /= base\n    ++unit\n  }\n  return `${bytes.toFixed(1)} ${prefix[unit]}B`\n}\n\nexport function camelizeObjectKeys (obj: Record<string, any> | null | undefined) {\n  if (!obj) return {}\n\n  return Object.keys(obj).reduce((o: any, key: string) => {\n    o[camelize(key)] = obj[key]\n    return o\n  }, {})\n}\n\nexport function mergeDeep (\n  source: Dictionary<any> = {},\n  target: Dictionary<any> = {}\n) {\n  for (const key in target) {\n    const sourceProperty = source[key]\n    const targetProperty = target[key]\n\n    // Only continue deep merging if\n    // both properties are objects\n    if (\n      isObject(sourceProperty) &&\n      isObject(targetProperty)\n    ) {\n      source[key] = mergeDeep(sourceProperty, targetProperty)\n\n      continue\n    }\n\n    source[key] = targetProperty\n  }\n\n  return source\n}\n\nexport function fillArray<T> (length: number, obj: T) {\n  return Array(length).fill(obj)\n}\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\n\nvar JSON3 = require('json3');\n\n// Some extra characters that Chrome gets wrong, and substitutes with\n// something else on the wire.\n// eslint-disable-next-line no-control-regex, no-misleading-character-class\nvar extraEscapable = /[\\x00-\\x1f\\ud800-\\udfff\\ufffe\\uffff\\u0300-\\u0333\\u033d-\\u0346\\u034a-\\u034c\\u0350-\\u0352\\u0357-\\u0358\\u035c-\\u0362\\u0374\\u037e\\u0387\\u0591-\\u05af\\u05c4\\u0610-\\u0617\\u0653-\\u0654\\u0657-\\u065b\\u065d-\\u065e\\u06df-\\u06e2\\u06eb-\\u06ec\\u0730\\u0732-\\u0733\\u0735-\\u0736\\u073a\\u073d\\u073f-\\u0741\\u0743\\u0745\\u0747\\u07eb-\\u07f1\\u0951\\u0958-\\u095f\\u09dc-\\u09dd\\u09df\\u0a33\\u0a36\\u0a59-\\u0a5b\\u0a5e\\u0b5c-\\u0b5d\\u0e38-\\u0e39\\u0f43\\u0f4d\\u0f52\\u0f57\\u0f5c\\u0f69\\u0f72-\\u0f76\\u0f78\\u0f80-\\u0f83\\u0f93\\u0f9d\\u0fa2\\u0fa7\\u0fac\\u0fb9\\u1939-\\u193a\\u1a17\\u1b6b\\u1cda-\\u1cdb\\u1dc0-\\u1dcf\\u1dfc\\u1dfe\\u1f71\\u1f73\\u1f75\\u1f77\\u1f79\\u1f7b\\u1f7d\\u1fbb\\u1fbe\\u1fc9\\u1fcb\\u1fd3\\u1fdb\\u1fe3\\u1feb\\u1fee-\\u1fef\\u1ff9\\u1ffb\\u1ffd\\u2000-\\u2001\\u20d0-\\u20d1\\u20d4-\\u20d7\\u20e7-\\u20e9\\u2126\\u212a-\\u212b\\u2329-\\u232a\\u2adc\\u302b-\\u302c\\uaab2-\\uaab3\\uf900-\\ufa0d\\ufa10\\ufa12\\ufa15-\\ufa1e\\ufa20\\ufa22\\ufa25-\\ufa26\\ufa2a-\\ufa2d\\ufa30-\\ufa6d\\ufa70-\\ufad9\\ufb1d\\ufb1f\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufb4e\\ufff0-\\uffff]/g\n  , extraLookup;\n\n// This may be quite slow, so let's delay until user actually uses bad\n// characters.\nvar unrollLookup = function(escapable) {\n  var i;\n  var unrolled = {};\n  var c = [];\n  for (i = 0; i < 65536; i++) {\n    c.push( String.fromCharCode(i) );\n  }\n  escapable.lastIndex = 0;\n  c.join('').replace(escapable, function(a) {\n    unrolled[ a ] = '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n    return '';\n  });\n  escapable.lastIndex = 0;\n  return unrolled;\n};\n\n// Quote string, also taking care of unicode characters that browsers\n// often break. Especially, take care of unicode surrogates:\n// http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Surrogates\nmodule.exports = {\n  quote: function(string) {\n    var quoted = JSON3.stringify(string);\n\n    // In most cases this should be very fast and good enough.\n    extraEscapable.lastIndex = 0;\n    if (!extraEscapable.test(quoted)) {\n      return quoted;\n    }\n\n    if (!extraLookup) {\n      extraLookup = unrollLookup(extraEscapable);\n    }\n\n    return quoted.replace(extraEscapable, function(a) {\n      return extraLookup[a];\n    });\n  }\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","import Vue from 'vue'\n\nexport default Vue.extend({\n  name: 'elevatable',\n\n  props: {\n    elevation: [Number, String],\n  },\n\n  computed: {\n    computedElevation (): string | number | undefined {\n      return this.elevation\n    },\n    elevationClasses (): Record<string, boolean> {\n      const elevation = this.computedElevation\n\n      if (elevation == null) return {}\n      if (isNaN(parseInt(elevation))) return {}\n      return { [`elevation-${this.elevation}`]: true }\n    },\n  },\n})\n","// Styles\nimport './VSheet.sass'\n\n// Mixins\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport Colorable from '../../mixins/colorable'\nimport Elevatable from '../../mixins/elevatable'\nimport Measurable from '../../mixins/measurable'\nimport Roundable from '../../mixins/roundable'\nimport Themeable from '../../mixins/themeable'\n\n// Helpers\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  Colorable,\n  Elevatable,\n  Measurable,\n  Roundable,\n  Themeable\n).extend({\n  name: 'v-sheet',\n\n  props: {\n    outlined: Boolean,\n    shaped: Boolean,\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-sheet': true,\n        'v-sheet--outlined': this.outlined,\n        'v-sheet--shaped': this.shaped,\n        ...this.themeClasses,\n        ...this.elevationClasses,\n        ...this.roundedClasses,\n      }\n    },\n    styles (): object {\n      return this.measurableStyles\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      class: this.classes,\n      style: this.styles,\n      on: this.listeners$,\n    }\n\n    return h(\n      this.tag,\n      this.setBackgroundColor(this.color, data),\n      this.$slots.default\n    )\n  },\n})\n","// Styles\nimport './VList.sass'\nimport VListGroup from './VListGroup'\n\n// Components\nimport VSheet from '../VSheet/VSheet'\n\n// Types\nimport { VNode } from 'vue'\n\ntype VListGroupInstance = InstanceType<typeof VListGroup>\n\ninterface options extends InstanceType<typeof VSheet> {\n  isInMenu: boolean\n  isInNav: boolean\n}\n\n/* @vue/component */\nexport default VSheet.extend<options>().extend({\n  name: 'v-list',\n\n  provide (): object {\n    return {\n      isInList: true,\n      list: this,\n    }\n  },\n\n  inject: {\n    isInMenu: {\n      default: false,\n    },\n    isInNav: {\n      default: false,\n    },\n  },\n\n  props: {\n    dense: Boolean,\n    disabled: Boolean,\n    expand: Boolean,\n    flat: Boolean,\n    nav: Boolean,\n    rounded: Boolean,\n    subheader: Boolean,\n    threeLine: Boolean,\n    twoLine: Boolean,\n  },\n\n  data: () => ({\n    groups: [] as VListGroupInstance[],\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        ...VSheet.options.computed.classes.call(this),\n        'v-list--dense': this.dense,\n        'v-list--disabled': this.disabled,\n        'v-list--flat': this.flat,\n        'v-list--nav': this.nav,\n        'v-list--rounded': this.rounded,\n        'v-list--subheader': this.subheader,\n        'v-list--two-line': this.twoLine,\n        'v-list--three-line': this.threeLine,\n      }\n    },\n  },\n\n  methods: {\n    register (content: VListGroupInstance) {\n      this.groups.push(content)\n    },\n    unregister (content: VListGroupInstance) {\n      const index = this.groups.findIndex(g => g._uid === content._uid)\n\n      if (index > -1) this.groups.splice(index, 1)\n    },\n    listClick (uid: number) {\n      if (this.expand) return\n\n      for (const group of this.groups) {\n        group.toggle(uid)\n      }\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-list',\n      class: this.classes,\n      style: this.styles,\n      attrs: {\n        role: this.isInNav || this.isInMenu ? undefined : 'list',\n        ...this.attrs$,\n      },\n    }\n\n    return h(this.tag, this.setBackgroundColor(this.color, data), [this.$slots.default])\n  },\n})\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , JSON3 = require('json3')\n  , objectUtils = require('./utils/object')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-ajax');\n}\n\nfunction InfoAjax(url, AjaxObject) {\n  EventEmitter.call(this);\n\n  var self = this;\n  var t0 = +new Date();\n  this.xo = new AjaxObject('GET', url);\n\n  this.xo.once('finish', function(status, text) {\n    var info, rtt;\n    if (status === 200) {\n      rtt = (+new Date()) - t0;\n      if (text) {\n        try {\n          info = JSON3.parse(text);\n        } catch (e) {\n          debug('bad json', text);\n        }\n      }\n\n      if (!objectUtils.isObject(info)) {\n        info = {};\n      }\n    }\n    self.emit('finish', info, rtt);\n    self.removeAllListeners();\n  });\n}\n\ninherits(InfoAjax, EventEmitter);\n\nInfoAjax.prototype.close = function() {\n  this.removeAllListeners();\n  this.xo.close();\n};\n\nmodule.exports = InfoAjax;\n","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeEndsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","import { ColorInt, XYZ } from '../colorUtils'\nimport { clamp } from '../../util/helpers'\n\n// For converting XYZ to sRGB\nconst srgbForwardMatrix = [\n  [3.2406, -1.5372, -0.4986],\n  [-0.9689, 1.8758, 0.0415],\n  [0.0557, -0.2040, 1.0570],\n]\n\n// Forward gamma adjust\nconst srgbForwardTransform = (C: number): number => (\n  C <= 0.0031308\n    ? C * 12.92\n    : 1.055 * C ** (1 / 2.4) - 0.055\n)\n\n// For converting sRGB to XYZ\nconst srgbReverseMatrix = [\n  [0.4124, 0.3576, 0.1805],\n  [0.2126, 0.7152, 0.0722],\n  [0.0193, 0.1192, 0.9505],\n]\n\n// Reverse gamma adjust\nconst srgbReverseTransform = (C: number): number => (\n  C <= 0.04045\n    ? C / 12.92\n    : ((C + 0.055) / 1.055) ** 2.4\n)\n\nexport function fromXYZ (xyz: XYZ): ColorInt {\n  const rgb = Array(3)\n  const transform = srgbForwardTransform\n  const matrix = srgbForwardMatrix\n\n  // Matrix transform, then gamma adjustment\n  for (let i = 0; i < 3; ++i) {\n    rgb[i] = Math.round(clamp(transform(\n      matrix[i][0] * xyz[0] +\n      matrix[i][1] * xyz[1] +\n      matrix[i][2] * xyz[2]\n    )) * 255)\n  }\n\n  // Rescale back to [0, 255]\n  return (rgb[0] << 16) + (rgb[1] << 8) + (rgb[2] << 0)\n}\n\nexport function toXYZ (rgb: ColorInt): XYZ {\n  const xyz: XYZ = [0, 0, 0]\n  const transform = srgbReverseTransform\n  const matrix = srgbReverseMatrix\n\n  // Rescale from [0, 255] to [0, 1] then adjust sRGB gamma to linear RGB\n  const r = transform((rgb >> 16 & 0xff) / 255)\n  const g = transform((rgb >> 8 & 0xff) / 255)\n  const b = transform((rgb >> 0 & 0xff) / 255)\n\n  // Matrix color space transform\n  for (let i = 0; i < 3; ++i) {\n    xyz[i] = matrix[i][0] * r + matrix[i][1] * g + matrix[i][2] * b\n  }\n\n  return xyz\n}\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","/*! JSON v3.3.2 | https://bestiejs.github.io/json3 | Copyright 2012-2015, Kit Cambridge, Benjamin Tan | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root.Object());\n    exports || (exports = root.Object());\n\n    // Native constructor aliases.\n    var Number = context.Number || root.Number,\n        String = context.String || root.String,\n        Object = context.Object || root.Object,\n        Date = context.Date || root.Date,\n        SyntaxError = context.SyntaxError || root.SyntaxError,\n        TypeError = context.TypeError || root.TypeError,\n        Math = context.Math || root.Math,\n        nativeJSON = context.JSON || root.JSON;\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty = objectProto.hasOwnProperty,\n        undefined;\n\n    // Internal: Contains `try...catch` logic used by other functions.\n    // This prevents other functions from being deoptimized.\n    function attempt(func, errorFunc) {\n      try {\n        func();\n      } catch (exception) {\n        if (errorFunc) {\n          errorFunc();\n        }\n      }\n    }\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    attempt(function () {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    });\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] != null) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"date-serialization\") && has(\"json-parse\");\n      } else if (name == \"date-serialization\") {\n        // Indicates whether `Date`s can be serialized accurately by `JSON.stringify`.\n        isSupported = has(\"json-stringify\") && isExtended;\n        if (isSupported) {\n          var stringify = exports.stringify;\n          attempt(function () {\n            isSupported =\n              // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n              // serialize extended years.\n              stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n              // The milliseconds are optional in ES 5, but required in 5.1.\n              stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n              // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n              // four-digit years instead of six-digit years. Credits: @Yaffle.\n              stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n              // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n              // values less than 1000. Credits: @Yaffle.\n              stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n          });\n        }\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\";\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            attempt(function () {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undefined &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undefined) === undefined &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undefined &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undefined]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undefined, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\";\n            }, function () {\n              stringifySupported = false;\n            });\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse, parseSupported;\n          if (typeof parse == \"function\") {\n            attempt(function () {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  attempt(function () {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  });\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    });\n                  }\n                  if (parseSupported) {\n                    attempt(function () {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    });\n                  }\n                }\n              }\n            }, function () {\n              parseSupported = false;\n            });\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n    has[\"bug-string-char-index\"] = has[\"date-serialization\"] = has[\"json\"] = has[\"json-stringify\"] = has[\"json-parse\"] = null;\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      var forOwn = function (object, callback) {\n        var size = 0, Properties, dontEnums, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        dontEnums = new Properties();\n        for (property in dontEnums) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(dontEnums, property)) {\n            size++;\n          }\n        }\n        Properties = dontEnums = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          dontEnums = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = dontEnums.length; property = dontEnums[--length];) {\n              if (hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forOwn = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forOwn(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\") && !has(\"date-serialization\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Serializes a date object.\n        var serializeDate = function (value) {\n          var getData, year, month, date, time, hours, minutes, seconds, milliseconds;\n          // Define additional utility methods if the `Date` methods are buggy.\n          if (!isExtended) {\n            var floor = Math.floor;\n            // A mapping between the months of the year and the number of days between\n            // January 1st and the first of the respective month.\n            var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n            // Internal: Calculates the number of days between the Unix epoch and the\n            // first day of the given month.\n            var getDay = function (year, month) {\n              return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n            };\n            getData = function (value) {\n              // Manually compute the year, month, date, hours, minutes,\n              // seconds, and milliseconds if the `getUTC*` methods are\n              // buggy. Adapted from @Yaffle's `date-shim` project.\n              date = floor(value / 864e5);\n              for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n              for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n              date = 1 + date - getDay(year, month);\n              // The `time` value specifies the time within the day (see ES\n              // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n              // to compute `A modulo B`, as the `%` operator does not\n              // correspond to the `modulo` operation for negative numbers.\n              time = (value % 864e5 + 864e5) % 864e5;\n              // The hours, minutes, seconds, and milliseconds are obtained by\n              // decomposing the time within the day. See section 15.9.1.10.\n              hours = floor(time / 36e5) % 24;\n              minutes = floor(time / 6e4) % 60;\n              seconds = floor(time / 1e3) % 60;\n              milliseconds = time % 1e3;\n            };\n          } else {\n            getData = function (value) {\n              year = value.getUTCFullYear();\n              month = value.getUTCMonth();\n              date = value.getUTCDate();\n              hours = value.getUTCHours();\n              minutes = value.getUTCMinutes();\n              seconds = value.getUTCSeconds();\n              milliseconds = value.getUTCMilliseconds();\n            };\n          }\n          serializeDate = function (value) {\n            if (value > -1 / 0 && value < 1 / 0) {\n              // Dates are serialized according to the `Date#toJSON` method\n              // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n              // for the ISO 8601 date time string format.\n              getData(value);\n              // Serialize extended years correctly.\n              value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n              \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n              // Months, dates, hours, minutes, and seconds should have two\n              // digits; milliseconds should have three.\n              \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n              // Milliseconds are optional in ES 5.0, but required in 5.1.\n              \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              year = month = date = hours = minutes = seconds = milliseconds = null;\n            } else {\n              value = null;\n            }\n            return value;\n          };\n          return serializeDate(value);\n        };\n\n        // For environments with `JSON.stringify` but buggy date serialization,\n        // we override the native `Date#toJSON` implementation with a\n        // spec-compliant one.\n        if (has(\"json-stringify\") && !has(\"date-serialization\")) {\n          // Internal: the `Date#toJSON` implementation used to override the native one.\n          function dateToJSON (key) {\n            return serializeDate(this);\n          }\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          var nativeStringify = exports.stringify;\n          exports.stringify = function (source, filter, width) {\n            var nativeToJSON = Date.prototype.toJSON;\n            Date.prototype.toJSON = dateToJSON;\n            var result = nativeStringify(source, filter, width);\n            Date.prototype.toJSON = nativeToJSON;\n            return result;\n          }\n        } else {\n          // Internal: Double-quotes a string `value`, replacing all ASCII control\n          // characters (characters with code unit values between 0 and 31) with\n          // their escaped equivalents. This is an implementation of the\n          // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n          var unicodePrefix = \"\\\\u00\";\n          var escapeChar = function (character) {\n            var charCode = character.charCodeAt(0), escaped = Escapes[charCode];\n            if (escaped) {\n              return escaped;\n            }\n            return unicodePrefix + toPaddedString(2, charCode.toString(16));\n          };\n          var reEscape = /[\\x00-\\x1f\\x22\\x5c]/g;\n          var quote = function (value) {\n            reEscape.lastIndex = 0;\n            return '\"' +\n              (\n                reEscape.test(value)\n                  ? value.replace(reEscape, escapeChar)\n                  : value\n              ) +\n              '\"';\n          };\n\n          // Internal: Recursively serializes an object. Implements the\n          // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n          var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n            var value, type, className, results, element, index, length, prefix, result;\n            attempt(function () {\n              // Necessary for host object support.\n              value = object[property];\n            });\n            if (typeof value == \"object\" && value) {\n              if (value.getUTCFullYear && getClass.call(value) == dateClass && value.toJSON === Date.prototype.toJSON) {\n                value = serializeDate(value);\n              } else if (typeof value.toJSON == \"function\") {\n                value = value.toJSON(property);\n              }\n            }\n            if (callback) {\n              // If a replacement function was provided, call it to obtain the value\n              // for serialization.\n              value = callback.call(object, property, value);\n            }\n            // Exit early if value is `undefined` or `null`.\n            if (value == undefined) {\n              return value === undefined ? value : \"null\";\n            }\n            type = typeof value;\n            // Only call `getClass` if the value is an object.\n            if (type == \"object\") {\n              className = getClass.call(value);\n            }\n            switch (className || type) {\n              case \"boolean\":\n              case booleanClass:\n                // Booleans are represented literally.\n                return \"\" + value;\n              case \"number\":\n              case numberClass:\n                // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n                // `\"null\"`.\n                return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n              case \"string\":\n              case stringClass:\n                // Strings are double-quoted and escaped.\n                return quote(\"\" + value);\n            }\n            // Recursively serialize objects and arrays.\n            if (typeof value == \"object\") {\n              // Check for cyclic structures. This is a linear search; performance\n              // is inversely proportional to the number of unique nested objects.\n              for (length = stack.length; length--;) {\n                if (stack[length] === value) {\n                  // Cyclic structures cannot be serialized by `JSON.stringify`.\n                  throw TypeError();\n                }\n              }\n              // Add the object to the stack of traversed objects.\n              stack.push(value);\n              results = [];\n              // Save the current indentation level and indent one additional level.\n              prefix = indentation;\n              indentation += whitespace;\n              if (className == arrayClass) {\n                // Recursively serialize array elements.\n                for (index = 0, length = value.length; index < length; index++) {\n                  element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                  results.push(element === undefined ? \"null\" : element);\n                }\n                result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n              } else {\n                // Recursively serialize object members. Members are selected from\n                // either a user-specified list of property names, or the object\n                // itself.\n                forOwn(properties || value, function (property) {\n                  var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                  if (element !== undefined) {\n                    // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                    // is not the empty string, let `member` {quote(property) + \":\"}\n                    // be the concatenation of `member` and the `space` character.\"\n                    // The \"`space` character\" refers to the literal space\n                    // character, not the `space` {width} argument provided to\n                    // `JSON.stringify`.\n                    results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                  }\n                });\n                result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n              }\n              // Remove the object from the traversed object stack.\n              stack.pop();\n              return result;\n            }\n          };\n\n          // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n          exports.stringify = function (source, filter, width) {\n            var whitespace, callback, properties, className;\n            if (objectTypes[typeof filter] && filter) {\n              className = getClass.call(filter);\n              if (className == functionClass) {\n                callback = filter;\n              } else if (className == arrayClass) {\n                // Convert the property names array into a makeshift set.\n                properties = {};\n                for (var index = 0, length = filter.length, value; index < length;) {\n                  value = filter[index++];\n                  className = getClass.call(value);\n                  if (className == \"[object String]\" || className == \"[object Number]\") {\n                    properties[value] = 1;\n                  }\n                }\n              }\n            }\n            if (width) {\n              className = getClass.call(width);\n              if (className == numberClass) {\n                // Convert the `width` to an integer and create a string containing\n                // `width` number of space characters.\n                if ((width -= width % 1) > 0) {\n                  if (width > 10) {\n                    width = 10;\n                  }\n                  for (whitespace = \"\"; whitespace.length < width;) {\n                    whitespace += \" \";\n                  }\n                }\n              } else if (className == stringClass) {\n                whitespace = width.length <= 10 ? width : width.slice(0, 10);\n              }\n            }\n            // Opera <= 7.54u2 discards the values associated with empty string keys\n            // (`\"\"`) only if they are used directly within an object member list\n            // (e.g., `!(\"\" in { \"\": 1})`).\n            return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n          };\n        }\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length; position++) {\n                      charCode = source.charCodeAt(position);\n                      if (charCode < 48 || charCode > 57) {\n                        break;\n                      }\n                    }\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                var temp = source.slice(Index, Index + 4);\n                if (temp == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (temp == \"fals\" && source.charCodeAt(Index + 4 ) == 101) {\n                  Index += 5;\n                  return false;\n                } else if (temp == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;;) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;;) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                } else {\n                  hasMembers = true;\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undefined) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forOwn` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(getClass, forOwn, value, length, callback);\n              }\n            } else {\n              forOwn(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports.runInContext = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root.JSON3,\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root.JSON3 = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root.JSON3 = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","'use strict';\n\n/* Simplified implementation of DOM2 EventTarget.\n *   http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget\n */\n\nfunction EventTarget() {\n  this._listeners = {};\n}\n\nEventTarget.prototype.addEventListener = function(eventType, listener) {\n  if (!(eventType in this._listeners)) {\n    this._listeners[eventType] = [];\n  }\n  var arr = this._listeners[eventType];\n  // #4\n  if (arr.indexOf(listener) === -1) {\n    // Make a copy so as not to interfere with a current dispatchEvent.\n    arr = arr.concat([listener]);\n  }\n  this._listeners[eventType] = arr;\n};\n\nEventTarget.prototype.removeEventListener = function(eventType, listener) {\n  var arr = this._listeners[eventType];\n  if (!arr) {\n    return;\n  }\n  var idx = arr.indexOf(listener);\n  if (idx !== -1) {\n    if (arr.length > 1) {\n      // Make a copy so as not to interfere with a current dispatchEvent.\n      this._listeners[eventType] = arr.slice(0, idx).concat(arr.slice(idx + 1));\n    } else {\n      delete this._listeners[eventType];\n    }\n    return;\n  }\n};\n\nEventTarget.prototype.dispatchEvent = function() {\n  var event = arguments[0];\n  var t = event.type;\n  // equivalent of Array.prototype.slice.call(arguments, 0);\n  var args = arguments.length === 1 ? [event] : Array.apply(null, arguments);\n  // TODO: This doesn't match the real behavior; per spec, onfoo get\n  // their place in line from the /first/ time they're set from\n  // non-null. Although WebKit bumps it to the end every time it's\n  // set.\n  if (this['on' + t]) {\n    this['on' + t].apply(this, args);\n  }\n  if (t in this._listeners) {\n    // Grab a reference to the listeners list. removeEventListener may alter the list.\n    var listeners = this._listeners[t];\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n};\n\nmodule.exports = EventTarget;\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.es/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\n\nfunction Event(eventType) {\n  this.type = eventType;\n}\n\nEvent.prototype.initEvent = function(eventType, canBubble, cancelable) {\n  this.type = eventType;\n  this.bubbles = canBubble;\n  this.cancelable = cancelable;\n  this.timeStamp = +new Date();\n  return this;\n};\n\nEvent.prototype.stopPropagation = function() {};\nEvent.prototype.preventDefault = function() {};\n\nEvent.CAPTURING_PHASE = 1;\nEvent.AT_TARGET = 2;\nEvent.BUBBLING_PHASE = 3;\n\nmodule.exports = Event;\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar nativeDefineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? nativeDefineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return nativeDefineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , undef;\n\n/**\n * Decode a URI encoded string.\n *\n * @param {String} input The URI encoded string.\n * @returns {String|Null} The decoded string.\n * @api private\n */\nfunction decode(input) {\n  try {\n    return decodeURIComponent(input.replace(/\\+/g, ' '));\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Attempts to encode a given input.\n *\n * @param {String} input The string that needs to be encoded.\n * @returns {String|Null} The encoded string.\n * @api private\n */\nfunction encode(input) {\n  try {\n    return encodeURIComponent(input);\n  } catch (e) {\n    return null;\n  }\n}\n\n/**\n * Simple query string parser.\n *\n * @param {String} query The query string that needs to be parsed.\n * @returns {Object}\n * @api public\n */\nfunction querystring(query) {\n  var parser = /([^=?#&]+)=?([^&]*)/g\n    , result = {}\n    , part;\n\n  while (part = parser.exec(query)) {\n    var key = decode(part[1])\n      , value = decode(part[2]);\n\n    //\n    // Prevent overriding of existing properties. This ensures that build-in\n    // methods like `toString` or __proto__ are not overriden by malicious\n    // querystrings.\n    //\n    // In the case if failed decoding, we want to omit the key/value pairs\n    // from the result.\n    //\n    if (key === null || value === null || key in result) continue;\n    result[key] = value;\n  }\n\n  return result;\n}\n\n/**\n * Transform a query string to an object.\n *\n * @param {Object} obj Object that should be transformed.\n * @param {String} prefix Optional prefix.\n * @returns {String}\n * @api public\n */\nfunction querystringify(obj, prefix) {\n  prefix = prefix || '';\n\n  var pairs = []\n    , value\n    , key;\n\n  //\n  // Optionally prefix with a '?' if needed\n  //\n  if ('string' !== typeof prefix) prefix = '?';\n\n  for (key in obj) {\n    if (has.call(obj, key)) {\n      value = obj[key];\n\n      //\n      // Edge cases where we actually want to encode the value to an empty\n      // string instead of the stringified value.\n      //\n      if (!value && (value === null || value === undef || isNaN(value))) {\n        value = '';\n      }\n\n      key = encode(key);\n      value = encode(value);\n\n      //\n      // If we failed to encode the strings, we should bail out as we don't\n      // want to add invalid strings to the query.\n      //\n      if (key === null || value === null) continue;\n      pairs.push(key +'='+ value);\n    }\n  }\n\n  return pairs.length ? prefix + pairs.join('&') : '';\n}\n\n//\n// Expose the module.\n//\nexports.stringify = querystringify;\nexports.parse = querystring;\n","import VIcon from './VIcon'\n\nexport { VIcon }\nexport default VIcon\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , eventUtils = require('../../utils/event')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:xdr');\n}\n\n// References:\n//   http://ajaxian.com/archives/100-line-ajax-wrapper\n//   http://msdn.microsoft.com/en-us/library/cc288060(v=VS.85).aspx\n\nfunction XDRObject(method, url, payload) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self._start(method, url, payload);\n  }, 0);\n}\n\ninherits(XDRObject, EventEmitter);\n\nXDRObject.prototype._start = function(method, url, payload) {\n  debug('_start');\n  var self = this;\n  var xdr = new global.XDomainRequest();\n  // IE caches even POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  xdr.onerror = function() {\n    debug('onerror');\n    self._error();\n  };\n  xdr.ontimeout = function() {\n    debug('ontimeout');\n    self._error();\n  };\n  xdr.onprogress = function() {\n    debug('progress', xdr.responseText);\n    self.emit('chunk', 200, xdr.responseText);\n  };\n  xdr.onload = function() {\n    debug('load');\n    self.emit('finish', 200, xdr.responseText);\n    self._cleanup(false);\n  };\n  this.xdr = xdr;\n  this.unloadRef = eventUtils.unloadAdd(function() {\n    self._cleanup(true);\n  });\n  try {\n    // Fails with AccessDenied if port number is bogus\n    this.xdr.open(method, url);\n    if (this.timeout) {\n      this.xdr.timeout = this.timeout;\n    }\n    this.xdr.send(payload);\n  } catch (x) {\n    this._error();\n  }\n};\n\nXDRObject.prototype._error = function() {\n  this.emit('finish', 0, '');\n  this._cleanup(false);\n};\n\nXDRObject.prototype._cleanup = function(abort) {\n  debug('cleanup', abort);\n  if (!this.xdr) {\n    return;\n  }\n  this.removeAllListeners();\n  eventUtils.unloadDel(this.unloadRef);\n\n  this.xdr.ontimeout = this.xdr.onerror = this.xdr.onprogress = this.xdr.onload = null;\n  if (abort) {\n    try {\n      this.xdr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xdr = null;\n};\n\nXDRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\n// IE 8/9 if the request target uses the same scheme - #79\nXDRObject.enabled = !!(global.XDomainRequest && browser.hasDomain());\n\nmodule.exports = XDRObject;\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","'use strict';\n\n// Few cool transports do work only for same-origin. In order to make\n// them work cross-domain we shall use iframe, served from the\n// remote domain. New browsers have capabilities to communicate with\n// cross domain iframe using postMessage(). In IE it was implemented\n// from IE 8+, but of course, IE got some details wrong:\n//    http://msdn.microsoft.com/en-us/library/cc197015(v=VS.85).aspx\n//    http://stevesouders.com/misc/test-postmessage.php\n\nvar inherits = require('inherits')\n  , JSON3 = require('json3')\n  , EventEmitter = require('events').EventEmitter\n  , version = require('../version')\n  , urlUtils = require('../utils/url')\n  , iframeUtils = require('../utils/iframe')\n  , eventUtils = require('../utils/event')\n  , random = require('../utils/random')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:transport:iframe');\n}\n\nfunction IframeTransport(transport, transUrl, baseUrl) {\n  if (!IframeTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  EventEmitter.call(this);\n\n  var self = this;\n  this.origin = urlUtils.getOrigin(baseUrl);\n  this.baseUrl = baseUrl;\n  this.transUrl = transUrl;\n  this.transport = transport;\n  this.windowId = random.string(8);\n\n  var iframeUrl = urlUtils.addPath(baseUrl, '/iframe.html') + '#' + this.windowId;\n  debug(transport, transUrl, iframeUrl);\n\n  this.iframeObj = iframeUtils.createIframe(iframeUrl, function(r) {\n    debug('err callback');\n    self.emit('close', 1006, 'Unable to load an iframe (' + r + ')');\n    self.close();\n  });\n\n  this.onmessageCallback = this._message.bind(this);\n  eventUtils.attachEvent('message', this.onmessageCallback);\n}\n\ninherits(IframeTransport, EventEmitter);\n\nIframeTransport.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  if (this.iframeObj) {\n    eventUtils.detachEvent('message', this.onmessageCallback);\n    try {\n      // When the iframe is not loaded, IE raises an exception\n      // on 'contentWindow'.\n      this.postMessage('c');\n    } catch (x) {\n      // intentionally empty\n    }\n    this.iframeObj.cleanup();\n    this.iframeObj = null;\n    this.onmessageCallback = this.iframeObj = null;\n  }\n};\n\nIframeTransport.prototype._message = function(e) {\n  debug('message', e.data);\n  if (!urlUtils.isOriginEqual(e.origin, this.origin)) {\n    debug('not same origin', e.origin, this.origin);\n    return;\n  }\n\n  var iframeMessage;\n  try {\n    iframeMessage = JSON3.parse(e.data);\n  } catch (ignored) {\n    debug('bad json', e.data);\n    return;\n  }\n\n  if (iframeMessage.windowId !== this.windowId) {\n    debug('mismatched window id', iframeMessage.windowId, this.windowId);\n    return;\n  }\n\n  switch (iframeMessage.type) {\n  case 's':\n    this.iframeObj.loaded();\n    // window global dependency\n    this.postMessage('s', JSON3.stringify([\n      version\n    , this.transport\n    , this.transUrl\n    , this.baseUrl\n    ]));\n    break;\n  case 't':\n    this.emit('message', iframeMessage.data);\n    break;\n  case 'c':\n    var cdata;\n    try {\n      cdata = JSON3.parse(iframeMessage.data);\n    } catch (ignored) {\n      debug('bad json', iframeMessage.data);\n      return;\n    }\n    this.emit('close', cdata[0], cdata[1]);\n    this.close();\n    break;\n  }\n};\n\nIframeTransport.prototype.postMessage = function(type, data) {\n  debug('postMessage', type, data);\n  this.iframeObj.post(JSON3.stringify({\n    windowId: this.windowId\n  , type: type\n  , data: data || ''\n  }), this.origin);\n};\n\nIframeTransport.prototype.send = function(message) {\n  debug('send', message);\n  this.postMessage('m', message);\n};\n\nIframeTransport.enabled = function() {\n  return iframeUtils.iframeEnabled;\n};\n\nIframeTransport.transportName = 'iframe';\nIframeTransport.roundTrips = 2;\n\nmodule.exports = IframeTransport;\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\n\nvar urlUtils = require('./utils/url')\n  , eventUtils = require('./utils/event')\n  , JSON3 = require('json3')\n  , FacadeJS = require('./facade')\n  , InfoIframeReceiver = require('./info-iframe-receiver')\n  , iframeUtils = require('./utils/iframe')\n  , loc = require('./location')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:iframe-bootstrap');\n}\n\nmodule.exports = function(SockJS, availableTransports) {\n  var transportMap = {};\n  availableTransports.forEach(function(at) {\n    if (at.facadeTransport) {\n      transportMap[at.facadeTransport.transportName] = at.facadeTransport;\n    }\n  });\n\n  // hard-coded for the info iframe\n  // TODO see if we can make this more dynamic\n  transportMap[InfoIframeReceiver.transportName] = InfoIframeReceiver;\n  var parentOrigin;\n\n  /* eslint-disable camelcase */\n  SockJS.bootstrap_iframe = function() {\n    /* eslint-enable camelcase */\n    var facade;\n    iframeUtils.currentWindowId = loc.hash.slice(1);\n    var onMessage = function(e) {\n      if (e.source !== parent) {\n        return;\n      }\n      if (typeof parentOrigin === 'undefined') {\n        parentOrigin = e.origin;\n      }\n      if (e.origin !== parentOrigin) {\n        return;\n      }\n\n      var iframeMessage;\n      try {\n        iframeMessage = JSON3.parse(e.data);\n      } catch (ignored) {\n        debug('bad json', e.data);\n        return;\n      }\n\n      if (iframeMessage.windowId !== iframeUtils.currentWindowId) {\n        return;\n      }\n      switch (iframeMessage.type) {\n      case 's':\n        var p;\n        try {\n          p = JSON3.parse(iframeMessage.data);\n        } catch (ignored) {\n          debug('bad json', iframeMessage.data);\n          break;\n        }\n        var version = p[0];\n        var transport = p[1];\n        var transUrl = p[2];\n        var baseUrl = p[3];\n        debug(version, transport, transUrl, baseUrl);\n        // change this to semver logic\n        if (version !== SockJS.version) {\n          throw new Error('Incompatible SockJS! Main site uses:' +\n                    ' \"' + version + '\", the iframe:' +\n                    ' \"' + SockJS.version + '\".');\n        }\n\n        if (!urlUtils.isOriginEqual(transUrl, loc.href) ||\n            !urlUtils.isOriginEqual(baseUrl, loc.href)) {\n          throw new Error('Can\\'t connect to different domain from within an ' +\n                    'iframe. (' + loc.href + ', ' + transUrl + ', ' + baseUrl + ')');\n        }\n        facade = new FacadeJS(new transportMap[transport](transUrl, baseUrl));\n        break;\n      case 'm':\n        facade._send(iframeMessage.data);\n        break;\n      case 'c':\n        if (facade) {\n          facade._close();\n        }\n        facade = null;\n        break;\n      }\n    };\n\n    eventUtils.attachEvent('message', onMessage);\n\n    // Start\n    iframeUtils.postMessage('s');\n  };\n};\n","'use strict';\n\nmodule.exports = global.location || {\n  origin: 'http://localhost:80'\n, protocol: 'http:'\n, host: 'localhost'\n, port: 80\n, href: 'http://localhost/'\n, hash: ''\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","import Vue from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'roundable',\n\n  props: {\n    rounded: [Boolean, String],\n    tile: Boolean,\n  },\n\n  computed: {\n    roundedClasses (): Record<string, boolean> {\n      const composite = []\n      const rounded = typeof this.rounded === 'string'\n        ? String(this.rounded)\n        : this.rounded === true\n\n      if (this.tile) {\n        composite.push('rounded-0')\n      } else if (typeof rounded === 'string') {\n        const values = rounded.split(' ')\n\n        for (const value of values) {\n          composite.push(`rounded-${value}`)\n        }\n      } else if (rounded) {\n        composite.push('rounded')\n      }\n\n      return composite.length > 0 ? {\n        [composite.join(' ')]: true,\n      } : {}\n    },\n  },\n})\n","'use strict';\nvar isArray = require('../internals/is-array');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\n\n// `FlattenIntoArray` abstract operation\n// https://tc39.github.io/proposal-flatMap/#sec-FlattenIntoArray\nvar flattenIntoArray = function (target, original, source, sourceLen, start, depth, mapper, thisArg) {\n  var targetIndex = start;\n  var sourceIndex = 0;\n  var mapFn = mapper ? bind(mapper, thisArg, 3) : false;\n  var element;\n\n  while (sourceIndex < sourceLen) {\n    if (sourceIndex in source) {\n      element = mapFn ? mapFn(source[sourceIndex], sourceIndex, original) : source[sourceIndex];\n\n      if (depth > 0 && isArray(element)) {\n        targetIndex = flattenIntoArray(target, original, element, toLength(element.length), targetIndex, depth - 1) - 1;\n      } else {\n        if (targetIndex >= 0x1FFFFFFFFFFFFF) throw TypeError('Exceed the acceptable array length');\n        target[targetIndex] = element;\n      }\n\n      targetIndex++;\n    }\n    sourceIndex++;\n  }\n  return targetIndex;\n};\n\nmodule.exports = flattenIntoArray;\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar $ = require('../internals/export');\nvar $every = require('../internals/array-iteration').every;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('every');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('every');\n\n// `Array.prototype.every` method\n// https://tc39.es/ecma262/#sec-array.prototype.every\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  every: function every(callbackfn /* , thisArg */) {\n    return $every(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar fails = require('../internals/fails');\nvar getBuiltIn = require('../internals/get-built-in');\nvar speciesConstructor = require('../internals/species-constructor');\nvar promiseResolve = require('../internals/promise-resolve');\nvar redefine = require('../internals/redefine');\n\n// Safari bug https://bugs.webkit.org/show_bug.cgi?id=200829\nvar NON_GENERIC = !!NativePromise && fails(function () {\n  NativePromise.prototype['finally'].call({ then: function () { /* empty */ } }, function () { /* empty */ });\n});\n\n// `Promise.prototype.finally` method\n// https://tc39.es/ecma262/#sec-promise.prototype.finally\n$({ target: 'Promise', proto: true, real: true, forced: NON_GENERIC }, {\n  'finally': function (onFinally) {\n    var C = speciesConstructor(this, getBuiltIn('Promise'));\n    var isFunction = typeof onFinally == 'function';\n    return this.then(\n      isFunction ? function (x) {\n        return promiseResolve(C, onFinally()).then(function () { return x; });\n      } : onFinally,\n      isFunction ? function (e) {\n        return promiseResolve(C, onFinally()).then(function () { throw e; });\n      } : onFinally\n    );\n  }\n});\n\n// patch native Promise.prototype for native async functions\nif (!IS_PURE && typeof NativePromise == 'function' && !NativePromise.prototype['finally']) {\n  redefine(NativePromise.prototype, 'finally', getBuiltIn('Promise').prototype['finally']);\n}\n","import Vue from 'vue'\nimport { VNodeData } from 'vue/types/vnode'\nimport { consoleError } from '../../util/console'\nimport { isCssColor } from '../../util/colorUtils'\n\nexport default Vue.extend({\n  name: 'colorable',\n\n  props: {\n    color: String,\n  },\n\n  methods: {\n    setBackgroundColor (color?: string | false, data: VNodeData = {}): VNodeData {\n      if (typeof data.style === 'string') {\n        // istanbul ignore next\n        consoleError('style must be an object', this)\n        // istanbul ignore next\n        return data\n      }\n      if (typeof data.class === 'string') {\n        // istanbul ignore next\n        consoleError('class must be an object', this)\n        // istanbul ignore next\n        return data\n      }\n      if (isCssColor(color)) {\n        data.style = {\n          ...data.style as object,\n          'background-color': `${color}`,\n          'border-color': `${color}`,\n        }\n      } else if (color) {\n        data.class = {\n          ...data.class,\n          [color]: true,\n        }\n      }\n\n      return data\n    },\n\n    setTextColor (color?: string | false, data: VNodeData = {}): VNodeData {\n      if (typeof data.style === 'string') {\n        // istanbul ignore next\n        consoleError('style must be an object', this)\n        // istanbul ignore next\n        return data\n      }\n      if (typeof data.class === 'string') {\n        // istanbul ignore next\n        consoleError('class must be an object', this)\n        // istanbul ignore next\n        return data\n      }\n      if (isCssColor(color)) {\n        data.style = {\n          ...data.style as object,\n          color: `${color}`,\n          'caret-color': `${color}`,\n        }\n      } else if (color) {\n        const [colorName, colorModifier] = color.toString().trim().split(' ', 2) as (string | undefined)[]\n        data.class = {\n          ...data.class,\n          [colorName + '--text']: true,\n        }\n        if (colorModifier) {\n          data.class['text--' + colorModifier] = true\n        }\n      }\n      return data\n    },\n  },\n})\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventTarget = require('./eventtarget')\n  ;\n\nfunction EventEmitter() {\n  EventTarget.call(this);\n}\n\ninherits(EventEmitter, EventTarget);\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  if (type) {\n    delete this._listeners[type];\n  } else {\n    this._listeners = {};\n  }\n};\n\nEventEmitter.prototype.once = function(type, listener) {\n  var self = this\n    , fired = false;\n\n  function g() {\n    self.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  this.on(type, g);\n};\n\nEventEmitter.prototype.emit = function() {\n  var type = arguments[0];\n  var listeners = this._listeners[type];\n  if (!listeners) {\n    return;\n  }\n  // equivalent of Array.prototype.slice.call(arguments, 1);\n  var l = arguments.length;\n  var args = new Array(l - 1);\n  for (var ai = 1; ai < l; ai++) {\n    args[ai - 1] = arguments[ai];\n  }\n  for (var i = 0; i < listeners.length; i++) {\n    listeners[i].apply(this, args);\n  }\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener = EventTarget.prototype.addEventListener;\nEventEmitter.prototype.removeListener = EventTarget.prototype.removeEventListener;\n\nmodule.exports.EventEmitter = EventEmitter;\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\n// According to:\n//   http://stackoverflow.com/questions/1641507/detect-browser-support-for-cross-domain-xmlhttprequests\n//   http://hacks.mozilla.org/2009/07/cross-site-xmlhttprequest-with-cors/\n\nfunction XdrStreamingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr_streaming', XhrReceiver, XDRObject);\n}\n\ninherits(XdrStreamingTransport, AjaxBasedTransport);\n\nXdrStreamingTransport.enabled = function(info) {\n  if (info.cookie_needed || info.nullOrigin) {\n    return false;\n  }\n  return XDRObject.enabled && info.sameScheme;\n};\n\nXdrStreamingTransport.transportName = 'xdr-streaming';\nXdrStreamingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrStreamingTransport;\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name)) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) WellKnownSymbolsStore[name] = Symbol[name];\n    else WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n  } return WellKnownSymbolsStore[name];\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","import unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nexport default function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function F() {};\n\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , urlUtils = require('./utils/url')\n  , XDR = require('./transport/sender/xdr')\n  , XHRCors = require('./transport/sender/xhr-cors')\n  , XHRLocal = require('./transport/sender/xhr-local')\n  , XHRFake = require('./transport/sender/xhr-fake')\n  , InfoIframe = require('./info-iframe')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:info-receiver');\n}\n\nfunction InfoReceiver(baseUrl, urlInfo) {\n  debug(baseUrl);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function() {\n    self.doXhr(baseUrl, urlInfo);\n  }, 0);\n}\n\ninherits(InfoReceiver, EventEmitter);\n\n// TODO this is currently ignoring the list of available transports and the whitelist\n\nInfoReceiver._getReceiver = function(baseUrl, url, urlInfo) {\n  // determine method of CORS support (if needed)\n  if (urlInfo.sameOrigin) {\n    return new InfoAjax(url, XHRLocal);\n  }\n  if (XHRCors.enabled) {\n    return new InfoAjax(url, XHRCors);\n  }\n  if (XDR.enabled && urlInfo.sameScheme) {\n    return new InfoAjax(url, XDR);\n  }\n  if (InfoIframe.enabled()) {\n    return new InfoIframe(baseUrl, url);\n  }\n  return new InfoAjax(url, XHRFake);\n};\n\nInfoReceiver.prototype.doXhr = function(baseUrl, urlInfo) {\n  var self = this\n    , url = urlUtils.addPath(baseUrl, '/info')\n    ;\n  debug('doXhr', url);\n\n  this.xo = InfoReceiver._getReceiver(baseUrl, url, urlInfo);\n\n  this.timeoutRef = setTimeout(function() {\n    debug('timeout');\n    self._cleanup(false);\n    self.emit('finish');\n  }, InfoReceiver.timeout);\n\n  this.xo.once('finish', function(info, rtt) {\n    debug('finish', info, rtt);\n    self._cleanup(true);\n    self.emit('finish', info, rtt);\n  });\n};\n\nInfoReceiver.prototype._cleanup = function(wasClean) {\n  debug('_cleanup');\n  clearTimeout(this.timeoutRef);\n  this.timeoutRef = null;\n  if (!wasClean && this.xo) {\n    this.xo.close();\n  }\n  this.xo = null;\n};\n\nInfoReceiver.prototype.close = function() {\n  debug('close');\n  this.removeAllListeners();\n  this._cleanup(false);\n};\n\nInfoReceiver.timeout = 8000;\n\nmodule.exports = InfoReceiver;\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","'use strict';\n\nvar JSON3 = require('json3')\n  , iframeUtils = require('./utils/iframe')\n  ;\n\nfunction FacadeJS(transport) {\n  this._transport = transport;\n  transport.on('message', this._transportMessage.bind(this));\n  transport.on('close', this._transportClose.bind(this));\n}\n\nFacadeJS.prototype._transportClose = function(code, reason) {\n  iframeUtils.postMessage('c', JSON3.stringify([code, reason]));\n};\nFacadeJS.prototype._transportMessage = function(frame) {\n  iframeUtils.postMessage('t', frame);\n};\nFacadeJS.prototype._send = function(data) {\n  this._transport.send(data);\n};\nFacadeJS.prototype._close = function() {\n  this._transport.close();\n  this._transport.removeAllListeners();\n};\n\nmodule.exports = FacadeJS;\n","'use strict';\n\nvar random = require('../../utils/random')\n  , urlUtils = require('../../utils/url')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender:jsonp');\n}\n\nvar form, area;\n\nfunction createIframe(id) {\n  debug('createIframe', id);\n  try {\n    // ie6 dynamic iframes with target=\"\" support (thanks Chris Lambacher)\n    return global.document.createElement('<iframe name=\"' + id + '\">');\n  } catch (x) {\n    var iframe = global.document.createElement('iframe');\n    iframe.name = id;\n    return iframe;\n  }\n}\n\nfunction createForm() {\n  debug('createForm');\n  form = global.document.createElement('form');\n  form.style.display = 'none';\n  form.style.position = 'absolute';\n  form.method = 'POST';\n  form.enctype = 'application/x-www-form-urlencoded';\n  form.acceptCharset = 'UTF-8';\n\n  area = global.document.createElement('textarea');\n  area.name = 'd';\n  form.appendChild(area);\n\n  global.document.body.appendChild(form);\n}\n\nmodule.exports = function(url, payload, callback) {\n  debug(url, payload);\n  if (!form) {\n    createForm();\n  }\n  var id = 'a' + random.string(8);\n  form.target = id;\n  form.action = urlUtils.addQuery(urlUtils.addPath(url, '/jsonp_send'), 'i=' + id);\n\n  var iframe = createIframe(id);\n  iframe.id = id;\n  iframe.style.display = 'none';\n  form.appendChild(iframe);\n\n  try {\n    area.value = payload;\n  } catch (e) {\n    // seriously broken browsers get here\n  }\n  form.submit();\n\n  var completed = function(err) {\n    debug('completed', id, err);\n    if (!iframe.onerror) {\n      return;\n    }\n    iframe.onreadystatechange = iframe.onerror = iframe.onload = null;\n    // Opera mini doesn't like if we GC iframe\n    // immediately, thus this timeout.\n    setTimeout(function() {\n      debug('cleaning up', id);\n      iframe.parentNode.removeChild(iframe);\n      iframe = null;\n    }, 500);\n    area.value = '';\n    // It is not possible to detect if the iframe succeeded or\n    // failed to submit our form.\n    callback(err);\n  };\n  iframe.onerror = function() {\n    debug('onerror', id);\n    completed();\n  };\n  iframe.onload = function() {\n    debug('onload', id);\n    completed();\n  };\n  iframe.onreadystatechange = function(e) {\n    debug('onreadystatechange', id, iframe.readyState, e);\n    if (iframe.readyState === 'complete') {\n      completed();\n    }\n  };\n  return function() {\n    debug('aborted', id);\n    completed(new Error('Aborted'));\n  };\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","'use strict';\n\nvar random = require('./random');\n\nvar onUnload = {}\n  , afterUnload = false\n    // detect google chrome packaged apps because they don't allow the 'unload' event\n  , isChromePackagedApp = global.chrome && global.chrome.app && global.chrome.app.runtime\n  ;\n\nmodule.exports = {\n  attachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.addEventListener(event, listener, false);\n    } else if (global.document && global.attachEvent) {\n      // IE quirks.\n      // According to: http://stevesouders.com/misc/test-postmessage.php\n      // the message gets delivered only to 'document', not 'window'.\n      global.document.attachEvent('on' + event, listener);\n      // I get 'window' for ie8.\n      global.attachEvent('on' + event, listener);\n    }\n  }\n\n, detachEvent: function(event, listener) {\n    if (typeof global.addEventListener !== 'undefined') {\n      global.removeEventListener(event, listener, false);\n    } else if (global.document && global.detachEvent) {\n      global.document.detachEvent('on' + event, listener);\n      global.detachEvent('on' + event, listener);\n    }\n  }\n\n, unloadAdd: function(listener) {\n    if (isChromePackagedApp) {\n      return null;\n    }\n\n    var ref = random.string(8);\n    onUnload[ref] = listener;\n    if (afterUnload) {\n      setTimeout(this.triggerUnloadCallbacks, 0);\n    }\n    return ref;\n  }\n\n, unloadDel: function(ref) {\n    if (ref in onUnload) {\n      delete onUnload[ref];\n    }\n  }\n\n, triggerUnloadCallbacks: function() {\n    for (var ref in onUnload) {\n      onUnload[ref]();\n      delete onUnload[ref];\n    }\n  }\n};\n\nvar unloadTriggered = function() {\n  if (afterUnload) {\n    return;\n  }\n  afterUnload = true;\n  module.exports.triggerUnloadCallbacks();\n};\n\n// 'unload' alone is not reliable in opera within an iframe, but we\n// can't use `beforeunload` as IE fires it on javascript: links.\nif (!isChromePackagedApp) {\n  module.exports.attachEvent('unload', unloadTriggered);\n}\n","module.exports = false;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , JSON3 = require('json3')\n  , XHRLocalObject = require('./transport/sender/xhr-local')\n  , InfoAjax = require('./info-ajax')\n  ;\n\nfunction InfoReceiverIframe(transUrl) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.ir = new InfoAjax(transUrl, XHRLocalObject);\n  this.ir.once('finish', function(info, rtt) {\n    self.ir = null;\n    self.emit('message', JSON3.stringify([info, rtt]));\n  });\n}\n\ninherits(InfoReceiverIframe, EventEmitter);\n\nInfoReceiverIframe.transportName = 'iframe-info-receiver';\n\nInfoReceiverIframe.prototype.close = function() {\n  if (this.ir) {\n    this.ir.close();\n    this.ir = null;\n  }\n  this.removeAllListeners();\n};\n\nmodule.exports = InfoReceiverIframe;\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND_INDEX);\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.es/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.small` method\n// https://tc39.es/ecma262/#sec-string.prototype.small\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('small') }, {\n  small: function small() {\n    return createHTML(this, 'small', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","module.exports = global.EventSource;\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","'use strict';\n\nvar transportList = require('./transport-list');\n\nmodule.exports = require('./main')(transportList);\n\n// TODO can't get rid of this until all servers do\nif ('_sockjs_onload' in global) {\n  setTimeout(global._sockjs_onload, 1);\n}\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\n\nif (global.crypto && global.crypto.getRandomValues) {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Uint8Array(length);\n    global.crypto.getRandomValues(bytes);\n    return bytes;\n  };\n} else {\n  module.exports.randomBytes = function(length) {\n    var bytes = new Array(length);\n    for (var i = 0; i < length; i++) {\n      bytes[i] = Math.floor(Math.random() * 256);\n    }\n    return bytes;\n  };\n}\n","module.exports = {};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","import Vue from 'vue'\n\n/**\n * SSRBootable\n *\n * @mixin\n *\n * Used in layout components (drawer, toolbar, content)\n * to avoid an entry animation when using SSR\n */\nexport default Vue.extend({\n  name: 'ssr-bootable',\n\n  data: () => ({\n    isBooted: false,\n  }),\n\n  mounted () {\n    // Use setAttribute instead of dataset\n    // because dataset does not work well\n    // with unit tests\n    window.requestAnimationFrame(() => {\n      this.$el.setAttribute('data-booted', 'true')\n      this.isBooted = true\n    })\n  },\n})\n","'use strict';\nvar nativePropertyIsEnumerable = {}.propertyIsEnumerable;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !nativePropertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : nativePropertyIsEnumerable;\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","var anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\n\nmodule.exports = {\n  isObject: function(obj) {\n    var type = typeof obj;\n    return type === 'function' || type === 'object' && !!obj;\n  }\n\n, extend: function(obj) {\n    if (!this.isObject(obj)) {\n      return obj;\n    }\n    var source, prop;\n    for (var i = 1, length = arguments.length; i < length; i++) {\n      source = arguments[i];\n      for (prop in source) {\n        if (Object.prototype.hasOwnProperty.call(source, prop)) {\n          obj[prop] = source[prop];\n        }\n      }\n    }\n    return obj;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  , utils = require('../../utils/event')\n  , urlUtils = require('../../utils/url')\n  , XHR = global.XMLHttpRequest\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:browser:xhr');\n}\n\nfunction AbstractXHRObject(method, url, payload, opts) {\n  debug(method, url);\n  var self = this;\n  EventEmitter.call(this);\n\n  setTimeout(function () {\n    self._start(method, url, payload, opts);\n  }, 0);\n}\n\ninherits(AbstractXHRObject, EventEmitter);\n\nAbstractXHRObject.prototype._start = function(method, url, payload, opts) {\n  var self = this;\n\n  try {\n    this.xhr = new XHR();\n  } catch (x) {\n    // intentionally empty\n  }\n\n  if (!this.xhr) {\n    debug('no xhr');\n    this.emit('finish', 0, 'no xhr support');\n    this._cleanup();\n    return;\n  }\n\n  // several browsers cache POSTs\n  url = urlUtils.addQuery(url, 't=' + (+new Date()));\n\n  // Explorer tends to keep connection open, even after the\n  // tab gets closed: http://bugs.jquery.com/ticket/5280\n  this.unloadRef = utils.unloadAdd(function() {\n    debug('unload cleanup');\n    self._cleanup(true);\n  });\n  try {\n    this.xhr.open(method, url, true);\n    if (this.timeout && 'timeout' in this.xhr) {\n      this.xhr.timeout = this.timeout;\n      this.xhr.ontimeout = function() {\n        debug('xhr timeout');\n        self.emit('finish', 0, '');\n        self._cleanup(false);\n      };\n    }\n  } catch (e) {\n    debug('exception', e);\n    // IE raises an exception on wrong port.\n    this.emit('finish', 0, '');\n    this._cleanup(false);\n    return;\n  }\n\n  if ((!opts || !opts.noCredentials) && AbstractXHRObject.supportsCORS) {\n    debug('withCredentials');\n    // Mozilla docs says https://developer.mozilla.org/en/XMLHttpRequest :\n    // \"This never affects same-site requests.\"\n\n    this.xhr.withCredentials = true;\n  }\n  if (opts && opts.headers) {\n    for (var key in opts.headers) {\n      this.xhr.setRequestHeader(key, opts.headers[key]);\n    }\n  }\n\n  this.xhr.onreadystatechange = function() {\n    if (self.xhr) {\n      var x = self.xhr;\n      var text, status;\n      debug('readyState', x.readyState);\n      switch (x.readyState) {\n      case 3:\n        // IE doesn't like peeking into responseText or status\n        // on Microsoft.XMLHTTP and readystate=3\n        try {\n          status = x.status;\n          text = x.responseText;\n        } catch (e) {\n          // intentionally empty\n        }\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n\n        // IE does return readystate == 3 for 404 answers.\n        if (status === 200 && text && text.length > 0) {\n          debug('chunk');\n          self.emit('chunk', status, text);\n        }\n        break;\n      case 4:\n        status = x.status;\n        debug('status', status);\n        // IE returns 1223 for 204: http://bugs.jquery.com/ticket/1450\n        if (status === 1223) {\n          status = 204;\n        }\n        // IE returns this for a bad port\n        // http://msdn.microsoft.com/en-us/library/windows/desktop/aa383770(v=vs.85).aspx\n        if (status === 12005 || status === 12029) {\n          status = 0;\n        }\n\n        debug('finish', status, x.responseText);\n        self.emit('finish', status, x.responseText);\n        self._cleanup(false);\n        break;\n      }\n    }\n  };\n\n  try {\n    self.xhr.send(payload);\n  } catch (e) {\n    self.emit('finish', 0, '');\n    self._cleanup(false);\n  }\n};\n\nAbstractXHRObject.prototype._cleanup = function(abort) {\n  debug('cleanup');\n  if (!this.xhr) {\n    return;\n  }\n  this.removeAllListeners();\n  utils.unloadDel(this.unloadRef);\n\n  // IE needs this field to be a function\n  this.xhr.onreadystatechange = function() {};\n  if (this.xhr.ontimeout) {\n    this.xhr.ontimeout = null;\n  }\n\n  if (abort) {\n    try {\n      this.xhr.abort();\n    } catch (x) {\n      // intentionally empty\n    }\n  }\n  this.unloadRef = this.xhr = null;\n};\n\nAbstractXHRObject.prototype.close = function() {\n  debug('close');\n  this._cleanup(true);\n};\n\nAbstractXHRObject.enabled = !!XHR;\n// override XMLHttpRequest for IE6/7\n// obfuscate to avoid firewalls\nvar axo = ['Active'].concat('Object').join('X');\nif (!AbstractXHRObject.enabled && (axo in global)) {\n  debug('overriding xmlhttprequest');\n  XHR = function() {\n    try {\n      return new global[axo]('Microsoft.XMLHTTP');\n    } catch (e) {\n      return null;\n    }\n  };\n  AbstractXHRObject.enabled = !!new XHR();\n}\n\nvar cors = false;\ntry {\n  cors = 'withCredentials' in new XHR();\n} catch (ignored) {\n  // intentionally empty\n}\n\nAbstractXHRObject.supportsCORS = cors;\n\nmodule.exports = AbstractXHRObject;\n","import Vuetify from '../framework'\n\nfunction createMessage (message: string, vm?: any, parent?: any): string | void {\n  if (Vuetify.config.silent) return\n\n  if (parent) {\n    vm = {\n      _isVue: true,\n      $parent: parent,\n      $options: vm,\n    }\n  }\n\n  if (vm) {\n    // Only show each message once per instance\n    vm.$_alreadyWarned = vm.$_alreadyWarned || []\n    if (vm.$_alreadyWarned.includes(message)) return\n    vm.$_alreadyWarned.push(message)\n  }\n\n  return `[Vuetify] ${message}` + (\n    vm ? generateComponentTrace(vm) : ''\n  )\n}\n\nexport function consoleInfo (message: string, vm?: any, parent?: any): void {\n  const newMessage = createMessage(message, vm, parent)\n  newMessage != null && console.info(newMessage)\n}\n\nexport function consoleWarn (message: string, vm?: any, parent?: any): void {\n  const newMessage = createMessage(message, vm, parent)\n  newMessage != null && console.warn(newMessage)\n}\n\nexport function consoleError (message: string, vm?: any, parent?: any): void {\n  const newMessage = createMessage(message, vm, parent)\n  newMessage != null && console.error(newMessage)\n}\n\nexport function deprecate (original: string, replacement: string, vm?: any, parent?: any) {\n  consoleWarn(`[UPGRADE] '${original}' is deprecated, use '${replacement}' instead.`, vm, parent)\n}\nexport function breaking (original: string, replacement: string, vm?: any, parent?: any) {\n  consoleError(`[BREAKING] '${original}' has been removed, use '${replacement}' instead. For more information, see the upgrade guide https://github.com/vuetifyjs/vuetify/releases/tag/v2.0.0#user-content-upgrade-guide`, vm, parent)\n}\nexport function removed (original: string, vm?: any, parent?: any) {\n  consoleWarn(`[REMOVED] '${original}' has been removed. You can safely omit it.`, vm, parent)\n}\n\n/**\n * Shamelessly stolen from vuejs/vue/blob/dev/src/core/util/debug.js\n */\n\nconst classifyRE = /(?:^|[-_])(\\w)/g\nconst classify = (str: string) => str\n  .replace(classifyRE, c => c.toUpperCase())\n  .replace(/[-_]/g, '')\n\nfunction formatComponentName (vm: any, includeFile?: boolean): string {\n  if (vm.$root === vm) {\n    return '<Root>'\n  }\n  const options = typeof vm === 'function' && vm.cid != null\n    ? vm.options\n    : vm._isVue\n      ? vm.$options || vm.constructor.options\n      : vm || {}\n  let name = options.name || options._componentTag\n  const file = options.__file\n  if (!name && file) {\n    const match = file.match(/([^/\\\\]+)\\.vue$/)\n    name = match && match[1]\n  }\n\n  return (\n    (name ? `<${classify(name)}>` : `<Anonymous>`) +\n    (file && includeFile !== false ? ` at ${file}` : '')\n  )\n}\n\nfunction generateComponentTrace (vm: any): string {\n  if (vm._isVue && vm.$parent) {\n    const tree: any[] = []\n    let currentRecursiveSequence = 0\n    while (vm) {\n      if (tree.length > 0) {\n        const last: any = tree[tree.length - 1]\n        if (last.constructor === vm.constructor) {\n          currentRecursiveSequence++\n          vm = vm.$parent\n          continue\n        } else if (currentRecursiveSequence > 0) {\n          tree[tree.length - 1] = [last, currentRecursiveSequence]\n          currentRecursiveSequence = 0\n        }\n      }\n      tree.push(vm)\n      vm = vm.$parent\n    }\n    return '\\n\\nfound in\\n\\n' + tree\n      .map((vm, i) => `${\n        i === 0 ? '---> ' : ' '.repeat(5 + i * 2)\n      }${\n        Array.isArray(vm)\n          ? `${formatComponentName(vm[0])}... (${vm[1]} recursive calls)`\n          : formatComponentName(vm)\n      }`)\n      .join('\\n')\n  } else {\n    return `\\n\\n(found in ${formatComponentName(vm)})`\n  }\n}\n","/**\n * @copyright 2017 Alex Regan\n * @license MIT\n * @see https://github.com/alexsasharegan/vue-functional-data-merge\n */\n/* eslint-disable max-statements */\nimport { VNodeData } from 'vue'\nimport { camelize, wrapInArray } from './helpers'\n\nconst pattern = {\n  styleList: /;(?![^(]*\\))/g,\n  styleProp: /:(.*)/,\n} as const\n\nfunction parseStyle (style: string) {\n  const styleMap: Dictionary<any> = {}\n\n  for (const s of style.split(pattern.styleList)) {\n    let [key, val] = s.split(pattern.styleProp)\n    key = key.trim()\n    if (!key) {\n      continue\n    }\n    // May be undefined if the `key: value` pair is incomplete.\n    if (typeof val === 'string') {\n      val = val.trim()\n    }\n    styleMap[camelize(key)] = val\n  }\n\n  return styleMap\n}\n\n/**\n * Intelligently merges data for createElement.\n * Merges arguments left to right, preferring the right argument.\n * Returns new VNodeData object.\n */\nexport default function mergeData (...vNodeData: VNodeData[]): VNodeData\nexport default function mergeData (): VNodeData {\n  const mergeTarget: VNodeData & Dictionary<any> = {}\n  let i: number = arguments.length\n  let prop: string\n\n  // Allow for variadic argument length.\n  while (i--) {\n    // Iterate through the data properties and execute merge strategies\n    // Object.keys eliminates need for hasOwnProperty call\n    for (prop of Object.keys(arguments[i])) {\n      switch (prop) {\n        // Array merge strategy (array concatenation)\n        case 'class':\n        case 'directives':\n          if (arguments[i][prop]) {\n            mergeTarget[prop] = mergeClasses(mergeTarget[prop], arguments[i][prop])\n          }\n          break\n        case 'style':\n          if (arguments[i][prop]) {\n            mergeTarget[prop] = mergeStyles(mergeTarget[prop], arguments[i][prop])\n          }\n          break\n        // Space delimited string concatenation strategy\n        case 'staticClass':\n          if (!arguments[i][prop]) {\n            break\n          }\n          if (mergeTarget[prop] === undefined) {\n            mergeTarget[prop] = ''\n          }\n          if (mergeTarget[prop]) {\n            // Not an empty string, so concatenate\n            mergeTarget[prop] += ' '\n          }\n          mergeTarget[prop] += arguments[i][prop].trim()\n          break\n        // Object, the properties of which to merge via array merge strategy (array concatenation).\n        // Callback merge strategy merges callbacks to the beginning of the array,\n        // so that the last defined callback will be invoked first.\n        // This is done since to mimic how Object.assign merging\n        // uses the last given value to assign.\n        case 'on':\n        case 'nativeOn':\n          if (arguments[i][prop]) {\n            mergeTarget[prop] = mergeListeners(mergeTarget[prop], arguments[i][prop])\n          }\n          break\n        // Object merge strategy\n        case 'attrs':\n        case 'props':\n        case 'domProps':\n        case 'scopedSlots':\n        case 'staticStyle':\n        case 'hook':\n        case 'transition':\n          if (!arguments[i][prop]) {\n            break\n          }\n          if (!mergeTarget[prop]) {\n            mergeTarget[prop] = {}\n          }\n          mergeTarget[prop] = { ...arguments[i][prop], ...mergeTarget[prop] }\n          break\n        // Reassignment strategy (no merge)\n        default: // slot, key, ref, tag, show, keepAlive\n          if (!mergeTarget[prop]) {\n            mergeTarget[prop] = arguments[i][prop]\n          }\n      }\n    }\n  }\n\n  return mergeTarget\n}\n\nexport function mergeStyles (\n  target: undefined | string | object[] | object,\n  source: undefined | string | object[] | object\n) {\n  if (!target) return source\n  if (!source) return target\n\n  target = wrapInArray(typeof target === 'string' ? parseStyle(target) : target)\n\n  return (target as object[]).concat(typeof source === 'string' ? parseStyle(source) : source)\n}\n\nexport function mergeClasses (target: any, source: any) {\n  if (!source) return target\n  if (!target) return source\n\n  return target ? wrapInArray(target).concat(source) : source\n}\n\nexport function mergeListeners (...args: [\n  { [key: string]: Function | Function[] } | undefined,\n  { [key: string]: Function | Function[] } | undefined\n]) {\n  if (!args[0]) return args[1]\n  if (!args[1]) return args[0]\n\n  const dest: { [key: string]: Function | Function[] } = {}\n\n  for (let i = 2; i--;) {\n    const arg = args[i]\n    for (const event in arg) {\n      if (!arg[event]) continue\n\n      if (dest[event]) {\n        // Merge current listeners before (because we are iterating backwards).\n        // Note that neither \"target\" or \"source\" must be altered.\n        dest[event] = ([] as Function[]).concat(arg[event], dest[event])\n      } else {\n        // Straight assign.\n        dest[event] = arg[event]\n      }\n    }\n  }\n\n  return dest\n}\n","import Vue, { VNodeData, PropType } from 'vue'\n\n// Directives\nimport Ripple, { RippleOptions } from '../../directives/ripple'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\n\nexport default Vue.extend({\n  name: 'routable',\n\n  directives: {\n    Ripple,\n  },\n\n  props: {\n    activeClass: String,\n    append: Boolean,\n    disabled: Boolean,\n    exact: {\n      type: Boolean as PropType<boolean | undefined>,\n      default: undefined,\n    },\n    exactActiveClass: String,\n    link: Boolean,\n    href: [String, Object],\n    to: [String, Object],\n    nuxt: Boolean,\n    replace: Boolean,\n    ripple: {\n      type: [Boolean, Object],\n      default: null,\n    },\n    tag: String,\n    target: String,\n  },\n\n  data: () => ({\n    isActive: false,\n    proxyClass: '',\n  }),\n\n  computed: {\n    classes (): object {\n      const classes: Record<string, boolean> = {}\n\n      if (this.to) return classes\n\n      if (this.activeClass) classes[this.activeClass] = this.isActive\n      if (this.proxyClass) classes[this.proxyClass] = this.isActive\n\n      return classes\n    },\n    computedRipple (): RippleOptions | boolean {\n      return this.ripple ?? (!this.disabled && this.isClickable)\n    },\n    isClickable (): boolean {\n      if (this.disabled) return false\n\n      return Boolean(\n        this.isLink ||\n        this.$listeners.click ||\n        this.$listeners['!click'] ||\n        this.$attrs.tabindex\n      )\n    },\n    isLink (): boolean {\n      return this.to || this.href || this.link\n    },\n    styles: () => ({}),\n  },\n\n  watch: {\n    $route: 'onRouteChange',\n  },\n\n  methods: {\n    click (e: MouseEvent): void {\n      this.$emit('click', e)\n    },\n    generateRouteLink () {\n      let exact = this.exact\n      let tag\n\n      const data: VNodeData = {\n        attrs: {\n          tabindex: 'tabindex' in this.$attrs ? this.$attrs.tabindex : undefined,\n        },\n        class: this.classes,\n        style: this.styles,\n        props: {},\n        directives: [{\n          name: 'ripple',\n          value: this.computedRipple,\n        }],\n        [this.to ? 'nativeOn' : 'on']: {\n          ...this.$listeners,\n          click: this.click,\n        },\n        ref: 'link',\n      }\n\n      if (typeof this.exact === 'undefined') {\n        exact = this.to === '/' ||\n          (this.to === Object(this.to) && this.to.path === '/')\n      }\n\n      if (this.to) {\n        // Add a special activeClass hook\n        // for component level styles\n        let activeClass = this.activeClass\n        let exactActiveClass = this.exactActiveClass || activeClass\n\n        if (this.proxyClass) {\n          activeClass = `${activeClass} ${this.proxyClass}`.trim()\n          exactActiveClass = `${exactActiveClass} ${this.proxyClass}`.trim()\n        }\n\n        tag = this.nuxt ? 'nuxt-link' : 'router-link'\n        Object.assign(data.props, {\n          to: this.to,\n          exact,\n          activeClass,\n          exactActiveClass,\n          append: this.append,\n          replace: this.replace,\n        })\n      } else {\n        tag = (this.href && 'a') || this.tag || 'div'\n\n        if (tag === 'a' && this.href) data.attrs!.href = this.href\n      }\n\n      if (this.target) data.attrs!.target = this.target\n\n      return { tag, data }\n    },\n    onRouteChange () {\n      if (!this.to || !this.$refs.link || !this.$route) return\n      const activeClass = `${this.activeClass} ${this.proxyClass || ''}`.trim()\n\n      const path = `_vnode.data.class.${activeClass}`\n\n      this.$nextTick(() => {\n        /* istanbul ignore else */\n        if (getObjectValueByPath(this.$refs.link, path)) {\n          this.toggle()\n        }\n      })\n    },\n    toggle: () => { /* noop */ },\n  },\n})\n","// Mixins\nimport { Registrable, inject as RegistrableInject } from '../registrable'\n\n// Utilities\nimport { ExtractVue } from '../../util/mixins'\nimport { VueConstructor } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\nexport type Groupable<T extends string, C extends VueConstructor | null = null> = VueConstructor<ExtractVue<Registrable<T, C>> & {\n  activeClass: string\n  isActive: boolean\n  disabled: boolean\n  groupClasses: object\n  toggle (): void\n}>\n\nexport function factory<T extends string, C extends VueConstructor | null = null> (\n  namespace: T,\n  child?: string,\n  parent?: string\n): Groupable<T, C> {\n  return RegistrableInject<T, C>(namespace, child, parent).extend({\n    name: 'groupable',\n\n    props: {\n      activeClass: {\n        type: String,\n        default (): string | undefined {\n          if (!this[namespace]) return undefined\n\n          return this[namespace].activeClass\n        },\n      } as any as PropValidator<string>,\n      disabled: Boolean,\n    },\n\n    data () {\n      return {\n        isActive: false,\n      }\n    },\n\n    computed: {\n      groupClasses (): object {\n        if (!this.activeClass) return {}\n\n        return {\n          [this.activeClass]: this.isActive,\n        }\n      },\n    },\n\n    created () {\n      this[namespace] && (this[namespace] as any).register(this)\n    },\n\n    beforeDestroy () {\n      this[namespace] && (this[namespace] as any).unregister(this)\n    },\n\n    methods: {\n      toggle () {\n        this.$emit('change')\n      },\n    },\n  })\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-redeclare */\nconst Groupable = factory('itemGroup')\n\nexport default Groupable\n","// Styles\nimport './VListItem.sass'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Routable from '../../mixins/routable'\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport Themeable from '../../mixins/themeable'\nimport { factory as ToggleableFactory } from '../../mixins/toggleable'\n\n// Directives\nimport Ripple from '../../directives/ripple'\n\n// Utilities\nimport { keyCodes } from './../../util/helpers'\nimport { ExtractVue } from './../../util/mixins'\nimport { removed } from '../../util/console'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode } from 'vue'\nimport { PropType, PropValidator } from 'vue/types/options'\n\nconst baseMixins = mixins(\n  Colorable,\n  Routable,\n  Themeable,\n  GroupableFactory('listItemGroup'),\n  ToggleableFactory('inputValue')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  isInGroup: boolean\n  isInList: boolean\n  isInMenu: boolean\n  isInNav: boolean\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-list-item',\n\n  directives: {\n    Ripple,\n  },\n\n  inject: {\n    isInGroup: {\n      default: false,\n    },\n    isInList: {\n      default: false,\n    },\n    isInMenu: {\n      default: false,\n    },\n    isInNav: {\n      default: false,\n    },\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    activeClass: {\n      type: String,\n      default (): string | undefined {\n        if (!this.listItemGroup) return ''\n\n        return this.listItemGroup.activeClass\n      },\n    } as any as PropValidator<string>,\n    dense: Boolean,\n    inactive: Boolean,\n    link: Boolean,\n    selectable: {\n      type: Boolean,\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n    threeLine: Boolean,\n    twoLine: Boolean,\n    value: null as any as PropType<any>,\n  },\n\n  data: () => ({\n    proxyClass: 'v-list-item--active',\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-list-item': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-list-item--dense': this.dense,\n        'v-list-item--disabled': this.disabled,\n        'v-list-item--link': this.isClickable && !this.inactive,\n        'v-list-item--selectable': this.selectable,\n        'v-list-item--three-line': this.threeLine,\n        'v-list-item--two-line': this.twoLine,\n        ...this.themeClasses,\n      }\n    },\n    isClickable (): boolean {\n      return Boolean(\n        Routable.options.computed.isClickable.call(this) ||\n        this.listItemGroup\n      )\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('avatar')) {\n      removed('avatar', this)\n    }\n  },\n\n  methods: {\n    click (e: MouseEvent | KeyboardEvent) {\n      if (e.detail) this.$el.blur()\n\n      this.$emit('click', e)\n\n      this.to || this.toggle()\n    },\n    genAttrs () {\n      const attrs: Record<string, any> = {\n        'aria-disabled': this.disabled ? true : undefined,\n        tabindex: this.isClickable && !this.disabled ? 0 : -1,\n        ...this.$attrs,\n      }\n\n      if (this.$attrs.hasOwnProperty('role')) {\n        // do nothing, role already provided\n      } else if (this.isInNav) {\n        // do nothing, role is inherit\n      } else if (this.isInGroup) {\n        attrs.role = 'listitem'\n        attrs['aria-selected'] = String(this.isActive)\n      } else if (this.isInMenu) {\n        attrs.role = this.isClickable ? 'menuitem' : undefined\n        attrs.id = attrs.id || `list-item-${this._uid}`\n      } else if (this.isInList) {\n        attrs.role = 'listitem'\n      }\n\n      return attrs\n    },\n  },\n\n  render (h): VNode {\n    let { tag, data } = this.generateRouteLink()\n\n    data.attrs = {\n      ...data.attrs,\n      ...this.genAttrs(),\n    }\n    data[this.to ? 'nativeOn' : 'on'] = {\n      ...data[this.to ? 'nativeOn' : 'on'],\n      keydown: (e: KeyboardEvent) => {\n        /* istanbul ignore else */\n        if (e.keyCode === keyCodes.enter) this.click(e)\n\n        this.$emit('keydown', e)\n      },\n    }\n\n    if (this.inactive) tag = 'div'\n    if (this.inactive && this.to) {\n      data.on = data.nativeOn\n      delete data.nativeOn\n    }\n\n    const children = this.$scopedSlots.default\n      ? this.$scopedSlots.default({\n        active: this.isActive,\n        toggle: this.toggle,\n      })\n      : this.$slots.default\n\n    return h(tag, this.setTextColor(this.color, data), children)\n  },\n})\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line no-undef\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func\n  (function () { return this; })() || Function('return this')();\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","import { VNodeDirective } from 'vue/types/vnode'\n\ninterface ResizeVNodeDirective extends VNodeDirective {\n  value?: () => void\n  options?: boolean | AddEventListenerOptions\n}\n\nfunction inserted (el: HTMLElement, binding: ResizeVNodeDirective) {\n  const callback = binding.value!\n  const options = binding.options || { passive: true }\n\n  window.addEventListener('resize', callback, options)\n  el._onResize = {\n    callback,\n    options,\n  }\n\n  if (!binding.modifiers || !binding.modifiers.quiet) {\n    callback()\n  }\n}\n\nfunction unbind (el: HTMLElement) {\n  if (!el._onResize) return\n\n  const { callback, options } = el._onResize\n  window.removeEventListener('resize', callback, options)\n  delete el._onResize\n}\n\nexport const Resize = {\n  inserted,\n  unbind,\n}\n\nexport default Resize\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.es/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar inherits = require('inherits')\n  , XhrDriver = require('../driver/xhr')\n  ;\n\nfunction XHRCorsObject(method, url, payload, opts) {\n  XhrDriver.call(this, method, url, payload, opts);\n}\n\ninherits(XHRCorsObject, XhrDriver);\n\nXHRCorsObject.enabled = XhrDriver.enabled && XhrDriver.supportsCORS;\n\nmodule.exports = XHRCorsObject;\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XhrReceiver = require('./receiver/xhr')\n  , XHRCorsObject = require('./sender/xhr-cors')\n  , XHRLocalObject = require('./sender/xhr-local')\n  ;\n\nfunction XhrPollingTransport(transUrl) {\n  if (!XHRLocalObject.enabled && !XHRCorsObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XHRCorsObject);\n}\n\ninherits(XhrPollingTransport, AjaxBasedTransport);\n\nXhrPollingTransport.enabled = function(info) {\n  if (info.nullOrigin) {\n    return false;\n  }\n\n  if (XHRLocalObject.enabled && info.sameOrigin) {\n    return true;\n  }\n  return XHRCorsObject.enabled;\n};\n\nXhrPollingTransport.transportName = 'xhr-polling';\nXhrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XhrPollingTransport;\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , Event = require('./event')\n  ;\n\nfunction CloseEvent() {\n  Event.call(this);\n  this.initEvent('close', false, false);\n  this.wasClean = false;\n  this.code = 0;\n  this.reason = '';\n}\n\ninherits(CloseEvent, Event);\n\nmodule.exports = CloseEvent;\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\n\nvar inherits = require('inherits')\n  , AjaxBasedTransport = require('./lib/ajax-based')\n  , XdrStreamingTransport = require('./xdr-streaming')\n  , XhrReceiver = require('./receiver/xhr')\n  , XDRObject = require('./sender/xdr')\n  ;\n\nfunction XdrPollingTransport(transUrl) {\n  if (!XDRObject.enabled) {\n    throw new Error('Transport created when disabled');\n  }\n  AjaxBasedTransport.call(this, transUrl, '/xhr', XhrReceiver, XDRObject);\n}\n\ninherits(XdrPollingTransport, AjaxBasedTransport);\n\nXdrPollingTransport.enabled = XdrStreamingTransport.enabled;\nXdrPollingTransport.transportName = 'xdr-polling';\nXdrPollingTransport.roundTrips = 2; // preflight, ajax\n\nmodule.exports = XdrPollingTransport;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar PromiseConstructor = NativePromise;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar $fetch = getBuiltIn('fetch');\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  if (!GLOBAL_CORE_JS_PROMISE) {\n    // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n    // We can't detect it synchronously, so just check versions\n    if (V8_VERSION === 66) return true;\n    // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    if (!IS_NODE && !NATIVE_REJECTION_EVENT) return true;\n  }\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructor.prototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = PromiseConstructor.resolve(1);\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  return !(promise.then(function () { /* empty */ }) instanceof FakePromise);\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructor.prototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function') {\n    nativeThen = NativePromise.prototype.then;\n\n    // wrap native Promise#then for native async functions\n    redefine(NativePromise.prototype, 'then', function then(onFulfilled, onRejected) {\n      var that = this;\n      return new PromiseConstructor(function (resolve, reject) {\n        nativeThen.call(that, resolve, reject);\n      }).then(onFulfilled, onRejected);\n    // https://github.com/zloirock/core-js/issues/640\n    }, { unsafe: true });\n\n    // wrap fetch result\n    if (typeof $fetch == 'function') $({ global: true, enumerable: true, forced: true }, {\n      // eslint-disable-next-line no-unused-vars\n      fetch: function fetch(input /* , init */) {\n        return promiseResolve(PromiseConstructor, $fetch.apply(global, arguments));\n      }\n    });\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:buffered-sender');\n}\n\nfunction BufferedSender(url, sender) {\n  debug(url);\n  EventEmitter.call(this);\n  this.sendBuffer = [];\n  this.sender = sender;\n  this.url = url;\n}\n\ninherits(BufferedSender, EventEmitter);\n\nBufferedSender.prototype.send = function(message) {\n  debug('send', message);\n  this.sendBuffer.push(message);\n  if (!this.sendStop) {\n    this.sendSchedule();\n  }\n};\n\n// For polling transports in a situation when in the message callback,\n// new message is being send. If the sending connection was started\n// before receiving one, it is possible to saturate the network and\n// timeout due to the lack of receiving socket. To avoid that we delay\n// sending messages by some small time, in order to let receiving\n// connection be started beforehand. This is only a halfmeasure and\n// does not fix the big problem, but it does make the tests go more\n// stable on slow networks.\nBufferedSender.prototype.sendScheduleWait = function() {\n  debug('sendScheduleWait');\n  var self = this;\n  var tref;\n  this.sendStop = function() {\n    debug('sendStop');\n    self.sendStop = null;\n    clearTimeout(tref);\n  };\n  tref = setTimeout(function() {\n    debug('timeout');\n    self.sendStop = null;\n    self.sendSchedule();\n  }, 25);\n};\n\nBufferedSender.prototype.sendSchedule = function() {\n  debug('sendSchedule', this.sendBuffer.length);\n  var self = this;\n  if (this.sendBuffer.length > 0) {\n    var payload = '[' + this.sendBuffer.join(',') + ']';\n    this.sendStop = this.sender(this.url, payload, function(err) {\n      self.sendStop = null;\n      if (err) {\n        debug('error', err);\n        self.emit('close', err.code || 1006, 'Sending error: ' + err);\n        self.close();\n      } else {\n        self.sendScheduleWait();\n      }\n    });\n    this.sendBuffer = [];\n  }\n};\n\nBufferedSender.prototype._cleanup = function() {\n  debug('_cleanup');\n  this.removeAllListeners();\n};\n\nBufferedSender.prototype.close = function() {\n  debug('close');\n  this._cleanup();\n  if (this.sendStop) {\n    this.sendStop();\n    this.sendStop = null;\n  }\n};\n\nmodule.exports = BufferedSender;\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// 25.4.1.5 NewPromiseCapability(C)\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","'use strict';\n\nvar eventUtils = require('./event')\n  , JSON3 = require('json3')\n  , browser = require('./browser')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:utils:iframe');\n}\n\nmodule.exports = {\n  WPrefix: '_jp'\n, currentWindowId: null\n\n, polluteGlobalNamespace: function() {\n    if (!(module.exports.WPrefix in global)) {\n      global[module.exports.WPrefix] = {};\n    }\n  }\n\n, postMessage: function(type, data) {\n    if (global.parent !== global) {\n      global.parent.postMessage(JSON3.stringify({\n        windowId: module.exports.currentWindowId\n      , type: type\n      , data: data || ''\n      }), '*');\n    } else {\n      debug('Cannot postMessage, no parent window.', type, data);\n    }\n  }\n\n, createIframe: function(iframeUrl, errorCallback) {\n    var iframe = global.document.createElement('iframe');\n    var tref, unloadRef;\n    var unattach = function() {\n      debug('unattach');\n      clearTimeout(tref);\n      // Explorer had problems with that.\n      try {\n        iframe.onload = null;\n      } catch (x) {\n        // intentionally empty\n      }\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      debug('cleanup');\n      if (iframe) {\n        unattach();\n        // This timeout makes chrome fire onbeforeunload event\n        // within iframe. Without the timeout it goes straight to\n        // onunload.\n        setTimeout(function() {\n          if (iframe) {\n            iframe.parentNode.removeChild(iframe);\n          }\n          iframe = null;\n        }, 0);\n        eventUtils.unloadDel(unloadRef);\n      }\n    };\n    var onerror = function(err) {\n      debug('onerror', err);\n      if (iframe) {\n        cleanup();\n        errorCallback(err);\n      }\n    };\n    var post = function(msg, origin) {\n      debug('post', msg, origin);\n      setTimeout(function() {\n        try {\n          // When the iframe is not loaded, IE raises an exception\n          // on 'contentWindow'.\n          if (iframe && iframe.contentWindow) {\n            iframe.contentWindow.postMessage(msg, origin);\n          }\n        } catch (x) {\n          // intentionally empty\n        }\n      }, 0);\n    };\n\n    iframe.src = iframeUrl;\n    iframe.style.display = 'none';\n    iframe.style.position = 'absolute';\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    iframe.onload = function() {\n      debug('onload');\n      // `onload` is triggered before scripts on the iframe are\n      // executed. Give it few seconds to actually load stuff.\n      clearTimeout(tref);\n      tref = setTimeout(function() {\n        onerror('onload timeout');\n      }, 2000);\n    };\n    global.document.body.appendChild(iframe);\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n\n/* eslint no-undef: \"off\", new-cap: \"off\" */\n, createHtmlfile: function(iframeUrl, errorCallback) {\n    var axo = ['Active'].concat('Object').join('X');\n    var doc = new global[axo]('htmlfile');\n    var tref, unloadRef;\n    var iframe;\n    var unattach = function() {\n      clearTimeout(tref);\n      iframe.onerror = null;\n    };\n    var cleanup = function() {\n      if (doc) {\n        unattach();\n        eventUtils.unloadDel(unloadRef);\n        iframe.parentNode.removeChild(iframe);\n        iframe = doc = null;\n        CollectGarbage();\n      }\n    };\n    var onerror = function(r) {\n      debug('onerror', r);\n      if (doc) {\n        cleanup();\n        errorCallback(r);\n      }\n    };\n    var post = function(msg, origin) {\n      try {\n        // When the iframe is not loaded, IE raises an exception\n        // on 'contentWindow'.\n        setTimeout(function() {\n          if (iframe && iframe.contentWindow) {\n              iframe.contentWindow.postMessage(msg, origin);\n          }\n        }, 0);\n      } catch (x) {\n        // intentionally empty\n      }\n    };\n\n    doc.open();\n    doc.write('<html><s' + 'cript>' +\n              'document.domain=\"' + global.document.domain + '\";' +\n              '</s' + 'cript></html>');\n    doc.close();\n    doc.parentWindow[module.exports.WPrefix] = global[module.exports.WPrefix];\n    var c = doc.createElement('div');\n    doc.body.appendChild(c);\n    iframe = doc.createElement('iframe');\n    c.appendChild(iframe);\n    iframe.src = iframeUrl;\n    iframe.onerror = function() {\n      onerror('onerror');\n    };\n    tref = setTimeout(function() {\n      onerror('timeout');\n    }, 15000);\n    unloadRef = eventUtils.unloadAdd(cleanup);\n    return {\n      post: post\n    , cleanup: cleanup\n    , loaded: unattach\n    };\n  }\n};\n\nmodule.exports.iframeEnabled = false;\nif (global.document) {\n  // postMessage misbehaves in konqueror 4.6.5 - the messages are delivered with\n  // huge delay, or not at all.\n  module.exports.iframeEnabled = (typeof global.postMessage === 'function' ||\n    typeof global.postMessage === 'object') && (!browser.isKonqueror());\n}\n","import Vue, { VueConstructor } from 'vue'\n\nexport type Toggleable<T extends string = 'value'> = VueConstructor<Vue & { isActive: boolean } & Record<T, any>>\n\nexport function factory<T extends string = 'value'> (prop?: T, event?: string): Toggleable<T>\nexport function factory (prop = 'value', event = 'input') {\n  return Vue.extend({\n    name: 'toggleable',\n\n    model: { prop, event },\n\n    props: {\n      [prop]: { required: false },\n    },\n\n    data () {\n      return {\n        isActive: !!this[prop],\n      }\n    },\n\n    watch: {\n      [prop] (val) {\n        this.isActive = !!val\n      },\n      isActive (val) {\n        !!val !== this[prop] && this.$emit(event, val)\n      },\n    },\n  })\n}\n\n/* eslint-disable-next-line @typescript-eslint/no-redeclare */\nconst Toggleable = factory()\n\nexport default Toggleable\n","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import OurVue, { VueConstructor } from 'vue'\nimport { VuetifyUseOptions } from 'vuetify/types'\nimport { consoleError } from './util/console'\n\nexport function install (Vue: VueConstructor, args: VuetifyUseOptions = {}) {\n  if ((install as any).installed) return\n  (install as any).installed = true\n\n  if (OurVue !== Vue) {\n    consoleError(`Multiple instances of Vue detected\nSee https://github.com/vuetifyjs/vuetify/issues/4068\n\nIf you're seeing \"$attrs is readonly\", it's caused by this`)\n  }\n\n  const components = args.components || {}\n  const directives = args.directives || {}\n\n  for (const name in directives) {\n    const directive = directives[name]\n\n    Vue.directive(name, directive)\n  }\n\n  (function registerComponents (components: any) {\n    if (components) {\n      for (const key in components) {\n        const component = components[key]\n        if (component && !registerComponents(component.$_vuetify_subcomponents)) {\n          Vue.component(key, component as typeof Vue)\n        }\n      }\n      return true\n    }\n    return false\n  })(components)\n\n  // Used to avoid multiple mixins being setup\n  // when in dev mode and hot module reload\n  // https://github.com/vuejs/vue/issues/5089#issuecomment-284260111\n  if (Vue.$_vuetify_installed) return\n  Vue.$_vuetify_installed = true\n\n  Vue.mixin({\n    beforeCreate () {\n      const options = this.$options as any\n\n      if (options.vuetify) {\n        options.vuetify.init(this, this.$ssrContext)\n        this.$vuetify = Vue.observable(options.vuetify.framework)\n      } else {\n        this.$vuetify = (options.parent && options.parent.$vuetify) || this\n      }\n    },\n    beforeMount () {\n      // @ts-ignore\n      if (this.$options.vuetify && this.$el && this.$el.hasAttribute('data-server-rendered')) {\n        // @ts-ignore\n        this.$vuetify.isHydrating = true\n        // @ts-ignore\n        this.$vuetify.breakpoint.update(true)\n      }\n    },\n    mounted () {\n      // @ts-ignore\n      if (this.$options.vuetify && this.$vuetify.isHydrating) {\n        // @ts-ignore\n        this.$vuetify.isHydrating = false\n        // @ts-ignore\n        this.$vuetify.breakpoint.update()\n      }\n    },\n  })\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default {\n  badge: 'Badge',\n  close: 'Close',\n  dataIterator: {\n    noResultsText: 'No matching records found',\n    loadingText: 'Loading items...',\n  },\n  dataTable: {\n    itemsPerPageText: 'Rows per page:',\n    ariaLabel: {\n      sortDescending: 'Sorted descending.',\n      sortAscending: 'Sorted ascending.',\n      sortNone: 'Not sorted.',\n      activateNone: 'Activate to remove sorting.',\n      activateDescending: 'Activate to sort descending.',\n      activateAscending: 'Activate to sort ascending.',\n    },\n    sortBy: 'Sort by',\n  },\n  dataFooter: {\n    itemsPerPageText: 'Items per page:',\n    itemsPerPageAll: 'All',\n    nextPage: 'Next page',\n    prevPage: 'Previous page',\n    firstPage: 'First page',\n    lastPage: 'Last page',\n    pageText: '{0}-{1} of {2}',\n  },\n  datePicker: {\n    itemsSelected: '{0} selected',\n    nextMonthAriaLabel: 'Next month',\n    nextYearAriaLabel: 'Next year',\n    prevMonthAriaLabel: 'Previous month',\n    prevYearAriaLabel: 'Previous year',\n  },\n  noDataText: 'No data available',\n  carousel: {\n    prev: 'Previous visual',\n    next: 'Next visual',\n    ariaLabel: {\n      delimiter: 'Carousel slide {0} of {1}',\n    },\n  },\n  calendar: {\n    moreEvents: '{0} more',\n  },\n  fileInput: {\n    counter: '{0} files',\n    counterSize: '{0} files ({1} in total)',\n  },\n  timePicker: {\n    am: 'AM',\n    pm: 'PM',\n  },\n  pagination: {\n    ariaLabel: {\n      wrapper: 'Pagination Navigation',\n      next: 'Next page',\n      previous: 'Previous page',\n      page: 'Goto Page {0}',\n      currentPage: 'Current Page, Page {0}',\n    },\n  },\n  rating: {\n    ariaLabel: {\n      icon: 'Rating {0} of {1}',\n    },\n  },\n}\n","// Styles\nimport '../../styles/main.sass'\n\n// Locale\nimport { en } from '../../locale'\n\n// Icons\n// TODO: Enable for v3\n// import mdi from '../../services/icons/presets/mdi'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\n\nexport const preset: VuetifyPreset = {\n  breakpoint: {\n    // TODO: update to MD2 spec in v3 - 1280\n    mobileBreakpoint: 1264,\n    scrollBarWidth: 16,\n    thresholds: {\n      xs: 600,\n      sm: 960,\n      md: 1280,\n      lg: 1920,\n    },\n  },\n  icons: {\n    // TODO: remove v3\n    iconfont: 'mdi',\n    values: {},\n  },\n  lang: {\n    current: 'en',\n    locales: { en },\n    // Default translator exists in lang service\n    t: undefined as any,\n  },\n  rtl: false,\n  theme: {\n    dark: false,\n    default: 'light',\n    disable: false,\n    options: {\n      cspNonce: undefined,\n      customProperties: undefined,\n      minifyTheme: undefined,\n      themeCache: undefined,\n      variations: true,\n    },\n    themes: {\n      light: {\n        primary: '#1976D2',\n        secondary: '#424242',\n        accent: '#82B1FF',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n      dark: {\n        primary: '#2196F3',\n        secondary: '#424242',\n        accent: '#FF4081',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n    },\n  },\n}\n","// Contracts\nimport { VuetifyServiceContract } from 'vuetify/types/services/index'\n\n// Types\nimport Vue from 'vue'\n\nexport class Service implements VuetifyServiceContract {\n  framework = {}\n\n  init (root: Vue, ssrContext?: object) {}\n}\n","// Preset\nimport { preset as Preset } from '../../presets/default'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\nimport { mergeDeep } from '../../util/helpers'\n\n// Types\nimport Vuetify from 'vuetify/types'\nimport { Service } from '../service'\nimport {\n  UserVuetifyPreset,\n  VuetifyPreset,\n} from 'vuetify/types/services/presets'\n\nexport class Presets extends Service {\n  static property: 'presets' = 'presets'\n\n  constructor (\n    parentPreset: Partial<UserVuetifyPreset>,\n    parent: Vuetify,\n  ) {\n    super()\n\n    // The default preset\n    const defaultPreset = mergeDeep({}, Preset)\n    // The user provided preset\n    const { userPreset } = parent\n    // The user provided global preset\n    const {\n      preset: globalPreset = {},\n      ...preset\n    } = userPreset\n\n    if (globalPreset.preset != null) {\n      consoleWarn('Global presets do not support the **preset** option, it can be safely omitted')\n    }\n\n    parent.preset = mergeDeep(\n      mergeDeep(defaultPreset, globalPreset),\n      preset\n    ) as VuetifyPreset\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Types\nimport { TargetPropValues, TargetProp, Application as IApplication } from 'vuetify/types/services/application'\n\nexport class Application extends Service implements IApplication {\n  static property: 'application' = 'application'\n\n  bar = 0\n\n  top = 0\n\n  left = 0\n\n  insetFooter = 0\n\n  right = 0\n\n  bottom = 0\n\n  footer = 0\n\n  application: Dictionary<TargetPropValues> = {\n    bar: {},\n    top: {},\n    left: {},\n    insetFooter: {},\n    right: {},\n    bottom: {},\n    footer: {},\n  }\n\n  register (\n    uid: number,\n    location: TargetProp,\n    size: number\n  ) {\n    this.application[location] = { [uid]: size }\n\n    this.update(location)\n  }\n\n  unregister (uid: number, location: TargetProp) {\n    if (this.application[location][uid] == null) return\n\n    delete this.application[location][uid]\n    this.update(location)\n  }\n\n  update (location: TargetProp) {\n    this[location] = Object.values(this.application[location])\n      .reduce((acc: number, cur: number): number => (acc + cur), 0)\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport { Breakpoint as IBreakpoint } from 'vuetify/types/services/breakpoint'\n\nexport class Breakpoint extends Service implements IBreakpoint {\n  public static property: 'breakpoint' = 'breakpoint'\n\n  // Public\n  public xs = false\n\n  public sm = false\n\n  public md = false\n\n  public lg = false\n\n  public xl = false\n\n  public xsOnly = false\n\n  public smOnly = false\n\n  public smAndDown = false\n\n  public smAndUp = false\n\n  public mdOnly = false\n\n  public mdAndDown = false\n\n  public mdAndUp = false\n\n  public lgOnly = false\n\n  public lgAndDown = false\n\n  public lgAndUp = false\n\n  public xlOnly = false\n\n  // Value is xs to match v2.x functionality\n  public name: IBreakpoint['name'] = 'xs'\n\n  public height = 0\n\n  public width = 0\n\n  // TODO: Add functionality to detect this dynamically in v3\n  // Value is true to match v2.x functionality\n  public mobile = true\n\n  public mobileBreakpoint: IBreakpoint['mobileBreakpoint']\n\n  public thresholds: IBreakpoint['thresholds']\n\n  public scrollBarWidth: IBreakpoint['scrollBarWidth']\n\n  private resizeTimeout = 0\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      mobileBreakpoint,\n      scrollBarWidth,\n      thresholds,\n    } = preset[Breakpoint.property]\n\n    this.mobileBreakpoint = mobileBreakpoint\n    this.scrollBarWidth = scrollBarWidth\n    this.thresholds = thresholds\n  }\n\n  public init () {\n    this.update()\n\n    /* istanbul ignore if */\n    if (typeof window === 'undefined') return\n\n    window.addEventListener(\n      'resize',\n      this.onResize.bind(this),\n      { passive: true }\n    )\n  }\n\n  /* eslint-disable-next-line max-statements */\n  public update (ssr = false) {\n    const height = ssr ? 0 : this.getClientHeight()\n    const width = ssr ? 0 : this.getClientWidth()\n\n    const xs = width < this.thresholds.xs\n    const sm = width < this.thresholds.sm && !xs\n    const md = width < (this.thresholds.md - this.scrollBarWidth) && !(sm || xs)\n    const lg = width < (this.thresholds.lg - this.scrollBarWidth) && !(md || sm || xs)\n    const xl = width >= (this.thresholds.lg - this.scrollBarWidth)\n\n    this.height = height\n    this.width = width\n\n    this.xs = xs\n    this.sm = sm\n    this.md = md\n    this.lg = lg\n    this.xl = xl\n\n    this.xsOnly = xs\n    this.smOnly = sm\n    this.smAndDown = (xs || sm) && !(md || lg || xl)\n    this.smAndUp = !xs && (sm || md || lg || xl)\n    this.mdOnly = md\n    this.mdAndDown = (xs || sm || md) && !(lg || xl)\n    this.mdAndUp = !(xs || sm) && (md || lg || xl)\n    this.lgOnly = lg\n    this.lgAndDown = (xs || sm || md || lg) && !xl\n    this.lgAndUp = !(xs || sm || md) && (lg || xl)\n    this.xlOnly = xl\n\n    switch (true) {\n      case (xs):\n        this.name = 'xs'\n        break\n      case (sm):\n        this.name = 'sm'\n        break\n      case (md):\n        this.name = 'md'\n        break\n      case (lg):\n        this.name = 'lg'\n        break\n      default:\n        this.name = 'xl'\n        break\n    }\n\n    if (typeof this.mobileBreakpoint === 'number') {\n      this.mobile = width < parseInt(this.mobileBreakpoint, 10)\n\n      return\n    }\n\n    const breakpoints = {\n      xs: 0,\n      sm: 1,\n      md: 2,\n      lg: 3,\n      xl: 4,\n    } as const\n\n    const current = breakpoints[this.name]\n    const max = breakpoints[this.mobileBreakpoint]\n\n    this.mobile = current <= max\n  }\n\n  private onResize () {\n    clearTimeout(this.resizeTimeout)\n\n    // Added debounce to match what\n    // v-resize used to do but was\n    // removed due to a memory leak\n    // https://github.com/vuetifyjs/vuetify/pull/2997\n    this.resizeTimeout = window.setTimeout(this.update.bind(this), 200)\n  }\n\n  // Cross-browser support as described in:\n  // https://stackoverflow.com/questions/1248081\n  private getClientWidth () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientWidth,\n      window.innerWidth || 0\n    )\n  }\n\n  private getClientHeight () {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return 0 // SSR\n    return Math.max(\n      document.documentElement!.clientHeight,\n      window.innerHeight || 0\n    )\n  }\n}\n","export type EasingFunction = (t: number) => number\n\n// linear\nexport const linear = (t: number) => t\n// accelerating from zero velocity\nexport const easeInQuad = (t: number) => t ** 2\n// decelerating to zero velocity\nexport const easeOutQuad = (t: number) => t * (2 - t)\n// acceleration until halfway, then deceleration\nexport const easeInOutQuad = (t: number) => (t < 0.5 ? 2 * t ** 2 : -1 + (4 - 2 * t) * t)\n// accelerating from zero velocity\nexport const easeInCubic = (t: number) => t ** 3\n// decelerating to zero velocity\nexport const easeOutCubic = (t: number) => --t ** 3 + 1\n// acceleration until halfway, then deceleration\nexport const easeInOutCubic = (t: number) => t < 0.5 ? 4 * t ** 3 : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\n// accelerating from zero velocity\nexport const easeInQuart = (t: number) => t ** 4\n// decelerating to zero velocity\nexport const easeOutQuart = (t: number) => 1 - --t ** 4\n// acceleration until halfway, then deceleration\nexport const easeInOutQuart = (t: number) => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t)\n// accelerating from zero velocity\nexport const easeInQuint = (t: number) => t ** 5\n// decelerating to zero velocity\nexport const easeOutQuint = (t: number) => 1 + --t ** 5\n// acceleration until halfway, then deceleration\nexport const easeInOutQuint = (t: number) => t < 0.5 ? 16 * t ** 5 : 1 + 16 * --t ** 5\n","import Vue from 'vue'\n\n// Return target's cumulative offset from the top\nexport function getOffset (target: any): number {\n  if (typeof target === 'number') {\n    return target\n  }\n\n  let el = $(target)\n  if (!el) {\n    throw typeof target === 'string'\n      ? new Error(`Target element \"${target}\" not found.`)\n      : new TypeError(`Target must be a Number/Selector/HTMLElement/VueComponent, received ${type(target)} instead.`)\n  }\n\n  let totalOffset = 0\n  while (el) {\n    totalOffset += el.offsetTop\n    el = el.offsetParent as HTMLElement\n  }\n\n  return totalOffset\n}\n\nexport function getContainer (container: any): HTMLElement {\n  const el = $(container)\n\n  if (el) return el\n\n  throw typeof container === 'string'\n    ? new Error(`Container element \"${container}\" not found.`)\n    : new TypeError(`Container must be a Selector/HTMLElement/VueComponent, received ${type(container)} instead.`)\n}\n\nfunction type (el: any) {\n  return el == null ? el : el.constructor.name\n}\n\nfunction $ (el: any): HTMLElement | null {\n  if (typeof el === 'string') {\n    return document.querySelector<HTMLElement>(el)\n  } else if (el && el._isVue) {\n    return (el as Vue).$el as HTMLElement\n  } else if (el instanceof HTMLElement) {\n    return el\n  } else {\n    return null\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport * as easingPatterns from './easing-patterns'\nimport {\n  getContainer,\n  getOffset,\n} from './util'\n\n// Types\nimport { GoToOptions, VuetifyGoToTarget } from 'vuetify/types/services/goto'\n\nimport { VuetifyServiceContract } from 'vuetify/types/services'\n\nexport default function goTo (\n  _target: VuetifyGoToTarget,\n  _settings: Partial<GoToOptions> = {}\n): Promise<number> {\n  const settings: GoToOptions = {\n    container: (document.scrollingElement as HTMLElement | null) || document.body || document.documentElement,\n    duration: 500,\n    offset: 0,\n    easing: 'easeInOutCubic',\n    appOffset: true,\n    ..._settings,\n  }\n  const container = getContainer(settings.container)\n\n  /* istanbul ignore else */\n  if (settings.appOffset && goTo.framework.application) {\n    const isDrawer = container.classList.contains('v-navigation-drawer')\n    const isClipped = container.classList.contains('v-navigation-drawer--clipped')\n    const { bar, top } = goTo.framework.application as any\n\n    settings.offset += bar\n    /* istanbul ignore else */\n    if (!isDrawer || isClipped) settings.offset += top\n  }\n\n  const startTime = performance.now()\n\n  let targetLocation: number\n  if (typeof _target === 'number') {\n    targetLocation = getOffset(_target) - settings.offset!\n  } else {\n    targetLocation = getOffset(_target) - getOffset(container) - settings.offset!\n  }\n\n  const startLocation = container.scrollTop\n  if (targetLocation === startLocation) return Promise.resolve(targetLocation)\n\n  const ease = typeof settings.easing === 'function'\n    ? settings.easing\n    : easingPatterns[settings.easing!]\n  /* istanbul ignore else */\n  if (!ease) throw new TypeError(`Easing function \"${settings.easing}\" not found.`)\n\n  // Cannot be tested properly in jsdom\n  /* istanbul ignore next */\n  return new Promise(resolve => requestAnimationFrame(function step (currentTime: number) {\n    const timeElapsed = currentTime - startTime\n    const progress = Math.abs(settings.duration ? Math.min(timeElapsed / settings.duration, 1) : 1)\n\n    container.scrollTop = Math.floor(startLocation + (targetLocation - startLocation) * ease(progress))\n\n    const clientHeight = container === document.body ? document.documentElement.clientHeight : container.clientHeight\n    if (progress === 1 || clientHeight + container.scrollTop === container.scrollHeight) {\n      return resolve(targetLocation)\n    }\n\n    requestAnimationFrame(step)\n  }))\n}\n\ngoTo.framework = {} as Record<string, VuetifyServiceContract>\ngoTo.init = () => {}\n\nexport class Goto extends Service {\n  public static property: 'goTo' = 'goTo'\n\n  constructor () {\n    super()\n\n    return goTo\n  }\n}\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z',\n  cancel: 'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z',\n  close: 'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z',\n  delete: 'M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z', // delete (e.g. v-chip close)\n  clear: 'M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z',\n  success: 'M12,2C17.52,2 22,6.48 22,12C22,17.52 17.52,22 12,22C6.48,22 2,17.52 2,12C2,6.48 6.48,2 12,2M11,16.5L18,9.5L16.59,8.09L11,13.67L7.91,10.59L6.5,12L11,16.5Z',\n  info: 'M13,9H11V7H13M13,17H11V11H13M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z',\n  warning: 'M11,4.5H13V15.5H11V4.5M13,17.5V19.5H11V17.5H13Z',\n  error: 'M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z',\n  prev: 'M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z',\n  next: 'M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z',\n  checkboxOn: 'M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z',\n  checkboxOff: 'M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z',\n  checkboxIndeterminate: 'M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19C3,20.1 3.9,21 5,21H19C20.1,21 21,20.1 21,19V5C21,3.89 20.1,3 19,3Z',\n  delimiter: 'M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z', // for carousel\n  sort: 'M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z',\n  expand: 'M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z',\n  menu: 'M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z',\n  subgroup: 'M7,10L12,15L17,10H7Z',\n  dropdown: 'M7,10L12,15L17,10H7Z',\n  radioOn: 'M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2M12,7C9.24,7 7,9.24 7,12C7,14.76 9.24,17 12,17C14.76,17 17,14.76 17,12C17,9.24 14.76,7 12,7Z',\n  radioOff: 'M12,20C7.58,20 4,16.42 4,12C4,7.58 7.58,4 12,4C16.42,4 20,7.58 20,12C20,16.42 16.42,20 12,20M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2Z',\n  edit: 'M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z',\n  ratingEmpty: 'M12,15.39L8.24,17.66L9.23,13.38L5.91,10.5L10.29,10.13L12,6.09L13.71,10.13L18.09,10.5L14.77,13.38L15.76,17.66M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z',\n  ratingFull: 'M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z',\n  ratingHalf: 'M12,15.4V6.1L13.71,10.13L18.09,10.5L14.77,13.39L15.76,17.67M22,9.24L14.81,8.63L12,2L9.19,8.63L2,9.24L7.45,13.97L5.82,21L12,17.27L18.18,21L16.54,13.97L22,9.24Z',\n  loading: 'M19,8L15,12H18C18,15.31 15.31,18 12,18C11,18 10.03,17.75 9.2,17.3L7.74,18.76C8.97,19.54 10.43,20 12,20C16.42,20 20,16.42 20,12H23M6,12C6,8.69 8.69,6 12,6C13,6 13.97,6.25 14.8,6.7L16.26,5.24C15.03,4.46 13.57,4 12,4C7.58,4 4,7.58 4,12H1L5,16L9,12',\n  first: 'M18.41,16.59L13.82,12L18.41,7.41L17,6L11,12L17,18L18.41,16.59M6,6H8V18H6V6Z',\n  last: 'M5.59,7.41L10.18,12L5.59,16.59L7,18L13,12L7,6L5.59,7.41M16,6H18V18H16V6Z',\n  unfold: 'M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z',\n  file: 'M16.5,6V17.5C16.5,19.71 14.71,21.5 12.5,21.5C10.29,21.5 8.5,19.71 8.5,17.5V5C8.5,3.62 9.62,2.5 11,2.5C12.38,2.5 13.5,3.62 13.5,5V15.5C13.5,16.05 13.05,16.5 12.5,16.5C11.95,16.5 11.5,16.05 11.5,15.5V6H10V15.5C10,16.88 11.12,18 12.5,18C13.88,18 15,16.88 15,15.5V5C15,2.79 13.21,1 11,1C8.79,1 7,2.79 7,5V17.5C7,20.54 9.46,23 12.5,23C15.54,23 18,20.54 18,17.5V6H16.5Z',\n  plus: 'M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z',\n  minus: 'M19,13H5V11H19V13Z',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'check',\n  cancel: 'cancel',\n  close: 'close',\n  delete: 'cancel', // delete (e.g. v-chip close)\n  clear: 'clear',\n  success: 'check_circle',\n  info: 'info',\n  warning: 'priority_high',\n  error: 'warning',\n  prev: 'chevron_left',\n  next: 'chevron_right',\n  checkboxOn: 'check_box',\n  checkboxOff: 'check_box_outline_blank',\n  checkboxIndeterminate: 'indeterminate_check_box',\n  delimiter: 'fiber_manual_record', // for carousel\n  sort: 'arrow_upward',\n  expand: 'keyboard_arrow_down',\n  menu: 'menu',\n  subgroup: 'arrow_drop_down',\n  dropdown: 'arrow_drop_down',\n  radioOn: 'radio_button_checked',\n  radioOff: 'radio_button_unchecked',\n  edit: 'edit',\n  ratingEmpty: 'star_border',\n  ratingFull: 'star',\n  ratingHalf: 'star_half',\n  loading: 'cached',\n  first: 'first_page',\n  last: 'last_page',\n  unfold: 'unfold_more',\n  file: 'attach_file',\n  plus: 'add',\n  minus: 'remove',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'mdi-check',\n  cancel: 'mdi-close-circle',\n  close: 'mdi-close',\n  delete: 'mdi-close-circle', // delete (e.g. v-chip close)\n  clear: 'mdi-close',\n  success: 'mdi-check-circle',\n  info: 'mdi-information',\n  warning: 'mdi-exclamation',\n  error: 'mdi-alert',\n  prev: 'mdi-chevron-left',\n  next: 'mdi-chevron-right',\n  checkboxOn: 'mdi-checkbox-marked',\n  checkboxOff: 'mdi-checkbox-blank-outline',\n  checkboxIndeterminate: 'mdi-minus-box',\n  delimiter: 'mdi-circle', // for carousel\n  sort: 'mdi-arrow-up',\n  expand: 'mdi-chevron-down',\n  menu: 'mdi-menu',\n  subgroup: 'mdi-menu-down',\n  dropdown: 'mdi-menu-down',\n  radioOn: 'mdi-radiobox-marked',\n  radioOff: 'mdi-radiobox-blank',\n  edit: 'mdi-pencil',\n  ratingEmpty: 'mdi-star-outline',\n  ratingFull: 'mdi-star',\n  ratingHalf: 'mdi-star-half-full',\n  loading: 'mdi-cached',\n  first: 'mdi-page-first',\n  last: 'mdi-page-last',\n  unfold: 'mdi-unfold-more-horizontal',\n  file: 'mdi-paperclip',\n  plus: 'mdi-plus',\n  minus: 'mdi-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'fas fa-check',\n  cancel: 'fas fa-times-circle',\n  close: 'fas fa-times',\n  delete: 'fas fa-times-circle', // delete (e.g. v-chip close)\n  clear: 'fas fa-times-circle', // delete (e.g. v-chip close)\n  success: 'fas fa-check-circle',\n  info: 'fas fa-info-circle',\n  warning: 'fas fa-exclamation',\n  error: 'fas fa-exclamation-triangle',\n  prev: 'fas fa-chevron-left',\n  next: 'fas fa-chevron-right',\n  checkboxOn: 'fas fa-check-square',\n  checkboxOff: 'far fa-square', // note 'far'\n  checkboxIndeterminate: 'fas fa-minus-square',\n  delimiter: 'fas fa-circle', // for carousel\n  sort: 'fas fa-sort-up',\n  expand: 'fas fa-chevron-down',\n  menu: 'fas fa-bars',\n  subgroup: 'fas fa-caret-down',\n  dropdown: 'fas fa-caret-down',\n  radioOn: 'far fa-dot-circle',\n  radioOff: 'far fa-circle',\n  edit: 'fas fa-edit',\n  ratingEmpty: 'far fa-star',\n  ratingFull: 'fas fa-star',\n  ratingHalf: 'fas fa-star-half',\n  loading: 'fas fa-sync',\n  first: 'fas fa-step-backward',\n  last: 'fas fa-step-forward',\n  unfold: 'fas fa-arrows-alt-v',\n  file: 'fas fa-paperclip',\n  plus: 'fas fa-plus',\n  minus: 'fas fa-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\n\nconst icons: VuetifyIcons = {\n  complete: 'fa fa-check',\n  cancel: 'fa fa-times-circle',\n  close: 'fa fa-times',\n  delete: 'fa fa-times-circle', // delete (e.g. v-chip close)\n  clear: 'fa fa-times-circle', // delete (e.g. v-chip close)\n  success: 'fa fa-check-circle',\n  info: 'fa fa-info-circle',\n  warning: 'fa fa-exclamation',\n  error: 'fa fa-exclamation-triangle',\n  prev: 'fa fa-chevron-left',\n  next: 'fa fa-chevron-right',\n  checkboxOn: 'fa fa-check-square',\n  checkboxOff: 'fa fa-square-o',\n  checkboxIndeterminate: 'fa fa-minus-square',\n  delimiter: 'fa fa-circle', // for carousel\n  sort: 'fa fa-sort-up',\n  expand: 'fa fa-chevron-down',\n  menu: 'fa fa-bars',\n  subgroup: 'fa fa-caret-down',\n  dropdown: 'fa fa-caret-down',\n  radioOn: 'fa fa-dot-circle-o',\n  radioOff: 'fa fa-circle-o',\n  edit: 'fa fa-pencil',\n  ratingEmpty: 'fa fa-star-o',\n  ratingFull: 'fa fa-star',\n  ratingHalf: 'fa fa-star-half-o',\n  loading: 'fa fa-refresh',\n  first: 'fa fa-step-backward',\n  last: 'fa fa-step-forward',\n  unfold: 'fa fa-angle-double-down',\n  file: 'fa fa-paperclip',\n  plus: 'fa fa-plus',\n  minus: 'fa fa-minus',\n}\n\nexport default icons\n","import { VuetifyIcons } from 'vuetify/types/services/icons'\nimport { Component } from 'vue'\nimport icons from './fa'\n\nexport function convertToComponentDeclarations (\n  component: Component | string,\n  iconSet: VuetifyIcons,\n) {\n  const result: Partial<VuetifyIcons> = {}\n\n  for (const key in iconSet) {\n    result[key] = {\n      component,\n      props: {\n        icon: (iconSet[key] as string).split(' fa-'),\n      },\n    }\n  }\n\n  return result as VuetifyIcons\n}\n\nexport default convertToComponentDeclarations('font-awesome-icon', icons)\n","import mdiSvg from './mdi-svg'\nimport md from './md'\nimport mdi from './mdi'\nimport fa from './fa'\nimport fa4 from './fa4'\nimport faSvg from './fa-svg'\n\nexport default Object.freeze({\n  mdiSvg,\n  md,\n  mdi,\n  fa,\n  fa4,\n  faSvg,\n})\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { mergeDeep } from '../../util/helpers'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport { Icons as IIcons } from 'vuetify/types/services/icons'\n\n// Presets\nimport presets from './presets'\n\nexport class Icons extends Service implements IIcons {\n  static property: 'icons' = 'icons'\n\n  public iconfont: IIcons['iconfont']\n\n  public values: IIcons['values']\n\n  public component: IIcons['component']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      iconfont,\n      values,\n      component,\n    } = preset[Icons.property]\n\n    this.component = component\n    this.iconfont = iconfont\n    this.values = mergeDeep(\n      presets[iconfont],\n      values\n    ) as IIcons['values']\n  }\n}\n","// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport { getObjectValueByPath } from '../../util/helpers'\nimport { consoleError, consoleWarn } from '../../util/console'\n\n// Types\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyLocale,\n  Lang as ILang,\n} from 'vuetify/types/services/lang'\n\nconst LANG_PREFIX = '$vuetify.'\nconst fallback = Symbol('Lang fallback')\n\nfunction getTranslation (\n  locale: VuetifyLocale,\n  key: string,\n  usingDefault = false,\n  defaultLocale: VuetifyLocale\n): string {\n  const shortKey = key.replace(LANG_PREFIX, '')\n  let translation = getObjectValueByPath(locale, shortKey, fallback) as string | typeof fallback\n\n  if (translation === fallback) {\n    if (usingDefault) {\n      consoleError(`Translation key \"${shortKey}\" not found in fallback`)\n      translation = key\n    } else {\n      consoleWarn(`Translation key \"${shortKey}\" not found, falling back to default`)\n      translation = getTranslation(defaultLocale, key, true, defaultLocale)\n    }\n  }\n\n  return translation\n}\n\nexport class Lang extends Service implements ILang {\n  static property: 'lang' = 'lang'\n\n  public current: ILang['current']\n\n  public defaultLocale = 'en'\n\n  public locales: ILang['locales']\n\n  private translator: ILang['t']\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      current,\n      locales,\n      t,\n    } = preset[Lang.property]\n\n    this.current = current\n    this.locales = locales\n    this.translator = t || this.defaultTranslator\n  }\n\n  public currentLocale (key: string) {\n    const translation = this.locales[this.current]\n    const defaultLocale = this.locales[this.defaultLocale]\n\n    return getTranslation(translation, key, false, defaultLocale)\n  }\n\n  public t (key: string, ...params: any[]) {\n    if (!key.startsWith(LANG_PREFIX)) return this.replace(key, params)\n\n    return this.translator(key, ...params)\n  }\n\n  private defaultTranslator (key: string, ...params: any[]) {\n    return this.replace(this.currentLocale(key), params)\n  }\n\n  private replace (str: string, params: any[]) {\n    return str.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\n      /* istanbul ignore next */\n      return String(params[+index])\n    })\n  }\n}\n","import { XYZ, LAB } from '../colorUtils'\n\nconst delta = 0.20689655172413793 // 6÷29\n\nconst cielabForwardTransform = (t: number): number => (\n  t > delta ** 3\n    ? Math.cbrt(t)\n    : (t / (3 * delta ** 2)) + 4 / 29\n)\n\nconst cielabReverseTransform = (t: number): number => (\n  t > delta\n    ? t ** 3\n    : (3 * delta ** 2) * (t - 4 / 29)\n)\n\nexport function fromXYZ (xyz: XYZ): LAB {\n  const transform = cielabForwardTransform\n  const transformedY = transform(xyz[1])\n\n  return [\n    116 * transformedY - 16,\n    500 * (transform(xyz[0] / 0.95047) - transformedY),\n    200 * (transformedY - transform(xyz[2] / 1.08883)),\n  ]\n}\n\nexport function toXYZ (lab: LAB): XYZ {\n  const transform = cielabReverseTransform\n  const Ln = (lab[0] + 16) / 116\n  return [\n    transform(Ln + lab[1] / 500) * 0.95047,\n    transform(Ln),\n    transform(Ln - lab[2] / 200) * 1.08883,\n  ]\n}\n","import { keys } from '../../util/helpers'\nimport { colorToInt, intToHex, colorToHex, ColorInt } from '../../util/colorUtils'\nimport * as sRGB from '../../util/color/transformSRGB'\nimport * as LAB from '../../util/color/transformCIELAB'\nimport {\n  VuetifyParsedTheme,\n  VuetifyThemeItem,\n} from 'vuetify/types/services/theme'\n\nexport function parse (\n  theme: Record<string, VuetifyThemeItem>,\n  isItem = false,\n  variations = true,\n): VuetifyParsedTheme {\n  const { anchor, ...variant } = theme\n  const colors = Object.keys(variant)\n  const parsedTheme: any = {}\n\n  for (let i = 0; i < colors.length; ++i) {\n    const name = colors[i]\n    const value = theme[name]\n\n    if (value == null) continue\n\n    if (!variations) {\n      parsedTheme[name] = { base: intToHex(colorToInt(value)) }\n    } else if (isItem) {\n      /* istanbul ignore else */\n      if (name === 'base' || name.startsWith('lighten') || name.startsWith('darken')) {\n        parsedTheme[name] = colorToHex(value)\n      }\n    } else if (typeof value === 'object') {\n      parsedTheme[name] = parse(value, true, variations)\n    } else {\n      parsedTheme[name] = genVariations(name, colorToInt(value))\n    }\n  }\n\n  if (!isItem) {\n    parsedTheme.anchor = anchor || parsedTheme.base || parsedTheme.primary.base\n  }\n\n  return parsedTheme\n}\n\n/**\n * Generate the CSS for a base color (.primary)\n */\nconst genBaseColor = (name: string, value: string): string => {\n  return `\n.v-application .${name} {\n  background-color: ${value} !important;\n  border-color: ${value} !important;\n}\n.v-application .${name}--text {\n  color: ${value} !important;\n  caret-color: ${value} !important;\n}`\n}\n\n/**\n * Generate the CSS for a variant color (.primary.darken-2)\n */\nconst genVariantColor = (name: string, variant: string, value: string): string => {\n  const [type, n] = variant.split(/(\\d)/, 2)\n  return `\n.v-application .${name}.${type}-${n} {\n  background-color: ${value} !important;\n  border-color: ${value} !important;\n}\n.v-application .${name}--text.text--${type}-${n} {\n  color: ${value} !important;\n  caret-color: ${value} !important;\n}`\n}\n\nconst genColorVariableName = (name: string, variant = 'base'): string => `--v-${name}-${variant}`\n\nconst genColorVariable = (name: string, variant = 'base'): string => `var(${genColorVariableName(name, variant)})`\n\nexport function genStyles (theme: VuetifyParsedTheme, cssVar = false): string {\n  const { anchor, ...variant } = theme\n  const colors = Object.keys(variant)\n\n  if (!colors.length) return ''\n\n  let variablesCss = ''\n  let css = ''\n\n  const aColor = cssVar ? genColorVariable('anchor') : anchor\n  css += `.v-application a { color: ${aColor}; }`\n  cssVar && (variablesCss += `  ${genColorVariableName('anchor')}: ${anchor};\\n`)\n\n  for (let i = 0; i < colors.length; ++i) {\n    const name = colors[i]\n    const value = theme[name]\n\n    css += genBaseColor(name, cssVar ? genColorVariable(name) : value.base)\n    cssVar && (variablesCss += `  ${genColorVariableName(name)}: ${value.base};\\n`)\n\n    const variants = keys(value)\n    for (let i = 0; i < variants.length; ++i) {\n      const variant = variants[i]\n      const variantValue = value[variant]\n      if (variant === 'base') continue\n\n      css += genVariantColor(name, variant, cssVar ? genColorVariable(name, variant) : variantValue)\n      cssVar && (variablesCss += `  ${genColorVariableName(name, variant)}: ${variantValue};\\n`)\n    }\n  }\n\n  if (cssVar) {\n    variablesCss = `:root {\\n${variablesCss}}\\n\\n`\n  }\n\n  return variablesCss + css\n}\n\nexport function genVariations (name: string, value: ColorInt): Record<string, string> {\n  const values: Record<string, string> = {\n    base: intToHex(value),\n  }\n\n  for (let i = 5; i > 0; --i) {\n    values[`lighten${i}`] = intToHex(lighten(value, i))\n  }\n\n  for (let i = 1; i <= 4; ++i) {\n    values[`darken${i}`] = intToHex(darken(value, i))\n  }\n\n  return values\n}\n\nexport function lighten (value: ColorInt, amount: number): ColorInt {\n  const lab = LAB.fromXYZ(sRGB.toXYZ(value))\n  lab[0] = lab[0] + amount * 10\n  return sRGB.fromXYZ(LAB.toXYZ(lab))\n}\n\nexport function darken (value: ColorInt, amount: number): ColorInt {\n  const lab = LAB.fromXYZ(sRGB.toXYZ(value))\n  lab[0] = lab[0] - amount * 10\n  return sRGB.fromXYZ(LAB.toXYZ(lab))\n}\n","/* eslint-disable no-multi-spaces */\n// Extensions\nimport { Service } from '../service'\n\n// Utilities\nimport * as ThemeUtils from './utils'\nimport { getNestedValue } from '../../util/helpers'\n\n// Types\nimport Vue from 'vue'\nimport { VuetifyPreset } from 'vuetify/types/services/presets'\nimport {\n  VuetifyParsedTheme,\n  VuetifyThemes,\n  VuetifyThemeVariant,\n  Theme as ITheme,\n} from 'vuetify/types/services/theme'\n\nexport class Theme extends Service {\n  static property: 'theme' = 'theme'\n\n  public disabled = false\n\n  public options: ITheme['options']\n\n  public styleEl?: HTMLStyleElement\n\n  public themes: VuetifyThemes\n\n  public defaults: VuetifyThemes\n\n  private isDark = null as boolean | null\n\n  private unwatch = null as (() => void) | null\n\n  private vueMeta = null as any | null\n\n  constructor (preset: VuetifyPreset) {\n    super()\n\n    const {\n      dark,\n      disable,\n      options,\n      themes,\n    } = preset[Theme.property]\n\n    this.dark = Boolean(dark)\n    this.defaults = this.themes = themes\n    this.options = options\n\n    if (disable) {\n      this.disabled = true\n\n      return\n    }\n\n    this.themes = {\n      dark: this.fillVariant(themes.dark, true),\n      light: this.fillVariant(themes.light, false),\n    }\n  }\n\n  // When setting css, check for element and apply new values\n  /* eslint-disable-next-line accessor-pairs */\n  set css (val: string) {\n    if (this.vueMeta) {\n      if (this.isVueMeta23) {\n        this.applyVueMeta23()\n      }\n      return\n    }\n    this.checkOrCreateStyleElement() && (this.styleEl!.innerHTML = val)\n  }\n\n  set dark (val: boolean) {\n    const oldDark = this.isDark\n\n    this.isDark = val\n    // Only apply theme after dark\n    // has already been set before\n    oldDark != null && this.applyTheme()\n  }\n\n  get dark () {\n    return Boolean(this.isDark)\n  }\n\n  // Apply current theme default\n  // only called on client side\n  public applyTheme (): void {\n    if (this.disabled) return this.clearCss()\n\n    this.css = this.generatedStyles\n  }\n\n  public clearCss (): void {\n    this.css = ''\n  }\n\n  // Initialize theme for SSR and SPA\n  // Attach to ssrContext head or\n  // apply new theme to document\n  public init (root: Vue, ssrContext?: any): void {\n    if (this.disabled) return\n\n    /* istanbul ignore else */\n    if ((root as any).$meta) {\n      this.initVueMeta(root)\n    } else if (ssrContext) {\n      this.initSSR(ssrContext)\n    }\n\n    this.initTheme(root)\n  }\n\n  // Allows for you to set target theme\n  public setTheme (theme: 'light' | 'dark', value: object) {\n    this.themes[theme] = Object.assign(this.themes[theme], value)\n    this.applyTheme()\n  }\n\n  // Reset theme defaults\n  public resetThemes () {\n    this.themes.light = Object.assign({}, this.defaults.light)\n    this.themes.dark = Object.assign({}, this.defaults.dark)\n    this.applyTheme()\n  }\n\n  // Check for existence of style element\n  private checkOrCreateStyleElement (): boolean {\n    this.styleEl = document.getElementById('vuetify-theme-stylesheet') as HTMLStyleElement\n\n    /* istanbul ignore next */\n    if (this.styleEl) return true\n\n    this.genStyleElement() // If doesn't have it, create it\n\n    return Boolean(this.styleEl)\n  }\n\n  private fillVariant (\n    theme: Partial<VuetifyThemeVariant> = {},\n    dark: boolean\n  ): VuetifyThemeVariant {\n    const defaultTheme = this.themes[dark ? 'dark' : 'light']\n\n    return Object.assign({},\n      defaultTheme,\n      theme\n    )\n  }\n\n  // Generate the style element\n  // if applicable\n  private genStyleElement (): void {\n    /* istanbul ignore if */\n    if (typeof document === 'undefined') return\n\n    /* istanbul ignore next */\n    this.styleEl = document.createElement('style')\n    this.styleEl.type = 'text/css'\n    this.styleEl.id = 'vuetify-theme-stylesheet'\n\n    if (this.options.cspNonce) {\n      this.styleEl.setAttribute('nonce', this.options.cspNonce)\n    }\n\n    document.head.appendChild(this.styleEl)\n  }\n\n  private initVueMeta (root: any) {\n    this.vueMeta = root.$meta()\n    if (this.isVueMeta23) {\n      // vue-meta needs to apply after mounted()\n      root.$nextTick(() => {\n        this.applyVueMeta23()\n      })\n      return\n    }\n\n    const metaKeyName = typeof this.vueMeta.getOptions === 'function' ? this.vueMeta.getOptions().keyName : 'metaInfo'\n    const metaInfo = root.$options[metaKeyName] || {}\n\n    root.$options[metaKeyName] = () => {\n      metaInfo.style = metaInfo.style || []\n\n      const vuetifyStylesheet = metaInfo.style.find((s: any) => s.id === 'vuetify-theme-stylesheet')\n\n      if (!vuetifyStylesheet) {\n        metaInfo.style.push({\n          cssText: this.generatedStyles,\n          type: 'text/css',\n          id: 'vuetify-theme-stylesheet',\n          nonce: (this.options || {}).cspNonce,\n        })\n      } else {\n        vuetifyStylesheet.cssText = this.generatedStyles\n      }\n\n      return metaInfo\n    }\n  }\n\n  private applyVueMeta23 () {\n    const { set } = this.vueMeta.addApp('vuetify')\n\n    set({\n      style: [{\n        cssText: this.generatedStyles,\n        type: 'text/css',\n        id: 'vuetify-theme-stylesheet',\n        nonce: this.options.cspNonce,\n      }],\n    })\n  }\n\n  private initSSR (ssrContext?: any) {\n    // SSR\n    const nonce = this.options.cspNonce ? ` nonce=\"${this.options.cspNonce}\"` : ''\n    ssrContext.head = ssrContext.head || ''\n    ssrContext.head += `<style type=\"text/css\" id=\"vuetify-theme-stylesheet\"${nonce}>${this.generatedStyles}</style>`\n  }\n\n  private initTheme (root: Vue) {\n    // Only watch for reactivity on client side\n    if (typeof document === 'undefined') return\n\n    // If we get here somehow, ensure\n    // existing instance is removed\n    if (this.unwatch) {\n      this.unwatch()\n      this.unwatch = null\n    }\n\n    // TODO: Update to use RFC if merged\n    // https://github.com/vuejs/rfcs/blob/advanced-reactivity-api/active-rfcs/0000-advanced-reactivity-api.md\n    root.$once('hook:created', () => {\n      const obs = Vue.observable({ themes: this.themes })\n      this.unwatch = root.$watch(() => obs.themes, () => this.applyTheme(), { deep: true })\n    })\n    this.applyTheme()\n  }\n\n  get currentTheme () {\n    const target = this.dark ? 'dark' : 'light'\n\n    return this.themes[target]\n  }\n\n  get generatedStyles (): string {\n    const theme = this.parsedTheme\n    /* istanbul ignore next */\n    const options = this.options || {}\n    let css\n\n    if (options.themeCache != null) {\n      css = options.themeCache.get(theme)\n      /* istanbul ignore if */\n      if (css != null) return css\n    }\n\n    css = ThemeUtils.genStyles(theme, options.customProperties)\n\n    if (options.minifyTheme != null) {\n      css = options.minifyTheme(css)\n    }\n\n    if (options.themeCache != null) {\n      options.themeCache.set(theme, css)\n    }\n\n    return css\n  }\n\n  get parsedTheme (): VuetifyParsedTheme {\n    return ThemeUtils.parse(\n      this.currentTheme || {},\n      undefined,\n      getNestedValue(this.options, ['variations'], true)\n    )\n  }\n\n  // Is using v2.3 of vue-meta\n  // https://github.com/nuxt/vue-meta/releases/tag/v2.3.0\n  private get isVueMeta23 (): boolean {\n    return typeof this.vueMeta.addApp === 'function'\n  }\n}\n","import { install } from './install'\n\n// Types\nimport Vue from 'vue'\nimport {\n  UserVuetifyPreset,\n  VuetifyPreset,\n} from 'vuetify/types/services/presets'\nimport {\n  VuetifyService,\n  VuetifyServiceContract,\n} from 'vuetify/types/services'\n\n// Services\nimport * as services from './services'\n\nexport default class Vuetify {\n  static install = install\n\n  static installed = false\n\n  static version = __VUETIFY_VERSION__\n\n  static config = {\n    silent: false,\n  }\n\n  public framework: Dictionary<VuetifyServiceContract> = {\n    isHydrating: false,\n  } as any\n\n  public installed: string[] = []\n\n  public preset = {} as VuetifyPreset\n\n  public userPreset: UserVuetifyPreset = {}\n\n  constructor (userPreset: UserVuetifyPreset = {}) {\n    this.userPreset = userPreset\n\n    this.use(services.Presets)\n    this.use(services.Application)\n    this.use(services.Breakpoint)\n    this.use(services.Goto)\n    this.use(services.Icons)\n    this.use(services.Lang)\n    this.use(services.Theme)\n  }\n\n  // Called on the new vuetify instance\n  // bootstrap in install beforeCreate\n  // Exposes ssrContext if available\n  init (root: Vue, ssrContext?: object) {\n    this.installed.forEach(property => {\n      const service = this.framework[property]\n\n      service.framework = this.framework\n\n      service.init(root, ssrContext)\n    })\n\n    // rtl is not installed and\n    // will never be called by\n    // the init process\n    this.framework.rtl = Boolean(this.preset.rtl) as any\n  }\n\n  // Instantiate a VuetifyService\n  use (Service: VuetifyService) {\n    const property = Service.property\n\n    if (this.installed.includes(property)) return\n\n    // TODO maybe a specific type for arg 2?\n    this.framework[property] = new Service(this.preset, this as any)\n    this.installed.push(property)\n  }\n}\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","// Styles\nimport './VMain.sass'\n\n// Mixins\nimport SSRBootable from '../../mixins/ssr-bootable'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default SSRBootable.extend({\n  name: 'v-main',\n\n  props: {\n    tag: {\n      type: String,\n      default: 'main',\n    },\n  },\n\n  computed: {\n    styles (): object {\n      const {\n        bar, top, right, footer, insetFooter, bottom, left,\n      } = this.$vuetify.application\n\n      return {\n        paddingTop: `${top + bar}px`,\n        paddingRight: `${right}px`,\n        paddingBottom: `${footer + insetFooter + bottom}px`,\n        paddingLeft: `${left}px`,\n      }\n    },\n  },\n\n  render (h): VNode {\n    const data = {\n      staticClass: 'v-main',\n      style: this.styles,\n      ref: 'main',\n    }\n\n    return h(this.tag, data, [\n      h(\n        'div',\n        { staticClass: 'v-main__wrap' },\n        this.$slots.default\n      ),\n    ])\n  },\n})\n","'use strict';\n\nvar EventEmitter = require('events').EventEmitter\n  , inherits = require('inherits')\n  ;\n\nfunction XHRFake(/* method, url, payload, opts */) {\n  var self = this;\n  EventEmitter.call(this);\n\n  this.to = setTimeout(function() {\n    self.emit('finish', 200, '{}');\n  }, XHRFake.timeout);\n}\n\ninherits(XHRFake, EventEmitter);\n\nXHRFake.prototype.close = function() {\n  clearTimeout(this.to);\n};\n\nXHRFake.timeout = 2000;\n\nmodule.exports = XHRFake;\n","// `Math.sign` method implementation\n// https://tc39.es/ecma262/#sec-math.sign\nmodule.exports = Math.sign || function sign(x) {\n  // eslint-disable-next-line no-self-compare\n  return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1;\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","import { VNodeDirective } from 'vue/types/vnode'\n\ntype ObserveHandler = (\n  entries: IntersectionObserverEntry[],\n  observer: IntersectionObserver,\n  isIntersecting: boolean,\n) => void\n\ninterface ObserveVNodeDirective extends Omit<VNodeDirective, 'modifiers'> {\n  value?: ObserveHandler | { handler: ObserveHandler, options?: IntersectionObserverInit }\n  modifiers?: {\n    once?: boolean\n    quiet?: boolean\n  }\n}\n\nfunction inserted (el: HTMLElement, binding: ObserveVNodeDirective) {\n  const modifiers = binding.modifiers || {}\n  const value = binding.value\n  const { handler, options } = typeof value === 'object'\n    ? value\n    : { handler: value, options: {} }\n  const observer = new IntersectionObserver((\n    entries: IntersectionObserverEntry[] = [],\n    observer: IntersectionObserver\n  ) => {\n    /* istanbul ignore if */\n    if (!el._observe) return // Just in case, should never fire\n\n    // If is not quiet or has already been\n    // initted, invoke the user callback\n    if (\n      handler && (\n        !modifiers.quiet ||\n        el._observe.init\n      )\n    ) {\n      const isIntersecting = Boolean(entries.find(entry => entry.isIntersecting))\n\n      handler(entries, observer, isIntersecting)\n    }\n\n    // If has already been initted and\n    // has the once modifier, unbind\n    if (el._observe.init && modifiers.once) unbind(el)\n    // Otherwise, mark the observer as initted\n    else (el._observe.init = true)\n  }, options)\n\n  el._observe = { init: false, observer }\n\n  observer.observe(el)\n}\n\nfunction unbind (el: HTMLElement) {\n  /* istanbul ignore if */\n  if (!el._observe) return\n\n  el._observe.observer.unobserve(el)\n  delete el._observe\n}\n\nexport const Intersect = {\n  inserted,\n  unbind,\n}\n\nexport default Intersect\n","import './VResponsive.sass'\n\n// Mixins\nimport Measurable, { NumberOrNumberString } from '../../mixins/measurable'\n\n// Types\nimport { VNode } from 'vue'\n\n// Utils\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Measurable).extend({\n  name: 'v-responsive',\n\n  props: {\n    aspectRatio: [String, Number] as NumberOrNumberString,\n    contentClass: String,\n  },\n\n  computed: {\n    computedAspectRatio (): number {\n      return Number(this.aspectRatio)\n    },\n    aspectStyle (): object | undefined {\n      return this.computedAspectRatio\n        ? { paddingBottom: (1 / this.computedAspectRatio) * 100 + '%' }\n        : undefined\n    },\n    __cachedSizer (): VNode | [] {\n      if (!this.aspectStyle) return []\n\n      return this.$createElement('div', {\n        style: this.aspectStyle,\n        staticClass: 'v-responsive__sizer',\n      })\n    },\n  },\n\n  methods: {\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-responsive__content',\n        class: this.contentClass,\n      }, this.$slots.default)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-responsive',\n      style: this.measurableStyles,\n      on: this.$listeners,\n    }, [\n      this.__cachedSizer,\n      this.genContent(),\n    ])\n  },\n})\n","import VResponsive from './VResponsive'\n\nexport { VResponsive }\nexport default VResponsive\n","// Styles\nimport './VImg.sass'\n\n// Directives\nimport intersect from '../../directives/intersect'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\n// Components\nimport VResponsive from '../VResponsive'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport mixins from '../../util/mixins'\nimport mergeData from '../../util/mergeData'\nimport { consoleWarn } from '../../util/console'\n\n// not intended for public use, this is passed in by vuetify-loader\nexport interface srcObject {\n  src: string\n  srcset?: string\n  lazySrc: string\n  aspect: number\n}\n\nconst hasIntersect = typeof window !== 'undefined' && 'IntersectionObserver' in window\n\n/* @vue/component */\nexport default mixins(\n  VResponsive,\n  Themeable,\n).extend({\n  name: 'v-img',\n\n  directives: { intersect },\n\n  props: {\n    alt: String,\n    contain: Boolean,\n    eager: Boolean,\n    gradient: String,\n    lazySrc: String,\n    options: {\n      type: Object,\n      // For more information on types, navigate to:\n      // https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\n      default: () => ({\n        root: undefined,\n        rootMargin: undefined,\n        threshold: undefined,\n      }),\n    } as PropValidator<IntersectionObserverInit>,\n    position: {\n      type: String,\n      default: 'center center',\n    },\n    sizes: String,\n    src: {\n      type: [String, Object],\n      default: '',\n    } as PropValidator<string | srcObject>,\n    srcset: String,\n    transition: {\n      type: [Boolean, String],\n      default: 'fade-transition',\n    },\n  },\n\n  data () {\n    return {\n      currentSrc: '', // Set from srcset\n      image: null as HTMLImageElement | null,\n      isLoading: true,\n      calculatedAspectRatio: undefined as number | undefined,\n      naturalWidth: undefined as number | undefined,\n      hasError: false,\n    }\n  },\n\n  computed: {\n    computedAspectRatio (): number {\n      return Number(this.normalisedSrc.aspect || this.calculatedAspectRatio)\n    },\n    normalisedSrc (): srcObject {\n      return this.src && typeof this.src === 'object'\n        ? {\n          src: this.src.src,\n          srcset: this.srcset || this.src.srcset,\n          lazySrc: this.lazySrc || this.src.lazySrc,\n          aspect: Number(this.aspectRatio || this.src.aspect),\n        } : {\n          src: this.src,\n          srcset: this.srcset,\n          lazySrc: this.lazySrc,\n          aspect: Number(this.aspectRatio || 0),\n        }\n    },\n    __cachedImage (): VNode | [] {\n      if (!(this.normalisedSrc.src || this.normalisedSrc.lazySrc || this.gradient)) return []\n\n      const backgroundImage: string[] = []\n      const src = this.isLoading ? this.normalisedSrc.lazySrc : this.currentSrc\n\n      if (this.gradient) backgroundImage.push(`linear-gradient(${this.gradient})`)\n      if (src) backgroundImage.push(`url(\"${src}\")`)\n\n      const image = this.$createElement('div', {\n        staticClass: 'v-image__image',\n        class: {\n          'v-image__image--preload': this.isLoading,\n          'v-image__image--contain': this.contain,\n          'v-image__image--cover': !this.contain,\n        },\n        style: {\n          backgroundImage: backgroundImage.join(', '),\n          backgroundPosition: this.position,\n        },\n        key: +this.isLoading,\n      })\n\n      /* istanbul ignore if */\n      if (!this.transition) return image\n\n      return this.$createElement('transition', {\n        attrs: {\n          name: this.transition,\n          mode: 'in-out',\n        },\n      }, [image])\n    },\n  },\n\n  watch: {\n    src () {\n      // Force re-init when src changes\n      if (!this.isLoading) this.init(undefined, undefined, true)\n      else this.loadImage()\n    },\n    '$vuetify.breakpoint.width': 'getSrc',\n  },\n\n  mounted () {\n    this.init()\n  },\n\n  methods: {\n    init (\n      entries?: IntersectionObserverEntry[],\n      observer?: IntersectionObserver,\n      isIntersecting?: boolean\n    ) {\n      // If the current browser supports the intersection\n      // observer api, the image is not observable, and\n      // the eager prop isn't being used, do not load\n      if (\n        hasIntersect &&\n        !isIntersecting &&\n        !this.eager\n      ) return\n\n      if (this.normalisedSrc.lazySrc) {\n        const lazyImg = new Image()\n        lazyImg.src = this.normalisedSrc.lazySrc\n        this.pollForSize(lazyImg, null)\n      }\n      /* istanbul ignore else */\n      if (this.normalisedSrc.src) this.loadImage()\n    },\n    onLoad () {\n      this.getSrc()\n      this.isLoading = false\n      this.$emit('load', this.src)\n\n      if (\n        this.image &&\n        (this.normalisedSrc.src.endsWith('.svg') || this.normalisedSrc.src.startsWith('data:image/svg+xml'))\n      ) {\n        if (this.image.naturalHeight && this.image.naturalWidth) {\n          this.naturalWidth = this.image.naturalWidth\n          this.calculatedAspectRatio = this.image.naturalWidth / this.image.naturalHeight\n        } else {\n          this.calculatedAspectRatio = 1\n        }\n      }\n    },\n    onError () {\n      this.hasError = true\n      this.$emit('error', this.src)\n    },\n    getSrc () {\n      /* istanbul ignore else */\n      if (this.image) this.currentSrc = this.image.currentSrc || this.image.src\n    },\n    loadImage () {\n      const image = new Image()\n      this.image = image\n\n      image.onload = () => {\n        /* istanbul ignore if */\n        if (image.decode) {\n          image.decode().catch((err: DOMException) => {\n            consoleWarn(\n              `Failed to decode image, trying to render anyway\\n\\n` +\n              `src: ${this.normalisedSrc.src}` +\n              (err.message ? `\\nOriginal error: ${err.message}` : ''),\n              this\n            )\n          }).then(this.onLoad)\n        } else {\n          this.onLoad()\n        }\n      }\n      image.onerror = this.onError\n\n      this.hasError = false\n      image.src = this.normalisedSrc.src\n      this.sizes && (image.sizes = this.sizes)\n      this.normalisedSrc.srcset && (image.srcset = this.normalisedSrc.srcset)\n\n      this.aspectRatio || this.pollForSize(image)\n      this.getSrc()\n    },\n    pollForSize (img: HTMLImageElement, timeout: number | null = 100) {\n      const poll = () => {\n        const { naturalHeight, naturalWidth } = img\n\n        if (naturalHeight || naturalWidth) {\n          this.naturalWidth = naturalWidth\n          this.calculatedAspectRatio = naturalWidth / naturalHeight\n        } else if (!img.complete && this.isLoading && !this.hasError && timeout != null) {\n          setTimeout(poll, timeout)\n        }\n      }\n\n      poll()\n    },\n    genContent () {\n      const content: VNode = VResponsive.options.methods.genContent.call(this)\n      if (this.naturalWidth) {\n        this._b(content.data!, 'div', {\n          style: { width: `${this.naturalWidth}px` },\n        })\n      }\n\n      return content\n    },\n    __genPlaceholder (): VNode | void {\n      if (this.$slots.placeholder) {\n        const placeholder = this.isLoading\n          ? [this.$createElement('div', {\n            staticClass: 'v-image__placeholder',\n          }, this.$slots.placeholder)]\n          : []\n\n        if (!this.transition) return placeholder[0]\n\n        return this.$createElement('transition', {\n          props: {\n            appear: true,\n            name: this.transition,\n          },\n        }, placeholder)\n      }\n    },\n  },\n\n  render (h): VNode {\n    const node = VResponsive.options.render.call(this, h)\n\n    const data = mergeData(node.data!, {\n      staticClass: 'v-image',\n      attrs: {\n        'aria-label': this.alt,\n        role: this.alt ? 'img' : undefined,\n      },\n      class: this.themeClasses,\n      // Only load intersect directive if it\n      // will work in the current browser.\n      directives: hasIntersect\n        ? [{\n          name: 'intersect',\n          modifiers: { once: true },\n          value: {\n            handler: this.init,\n            options: this.options,\n          },\n        }]\n        : undefined,\n    })\n\n    node.children = [\n      this.__cachedSizer,\n      this.__cachedImage,\n      this.__genPlaceholder(),\n      this.genContent(),\n    ] as VNode[]\n\n    return h(node.tag, data, node.children)\n  },\n})\n","import Vue from 'vue'\nimport { filterObjectOnKeys } from '../../util/helpers'\nimport { OptionsVue, VueConstructor } from 'vue/types/vue'\n\nconst availableProps = {\n  absolute: Boolean,\n  bottom: Boolean,\n  fixed: Boolean,\n  left: Boolean,\n  right: Boolean,\n  top: Boolean,\n}\ntype props = Record<keyof typeof availableProps, boolean>\n\nexport type Positionable<S extends keyof props> = VueConstructor<Vue & { [P in S]: boolean }, { [P in S]: BooleanConstructor }>\n\nexport function factory <S extends keyof props> (selected?: S[]): Positionable<S>\nexport function factory (selected: undefined): OptionsVue<Vue, {}, {}, {}, props, typeof availableProps>\nexport function factory (selected: any[] = []): any {\n  return Vue.extend({\n    name: 'positionable',\n    props: selected.length ? filterObjectOnKeys(availableProps, selected) : availableProps,\n  })\n}\n\nexport default factory()\n\n// Add a `*` before the second `/`\n/* Tests /\nlet single = factory(['top']).extend({\n  created () {\n    this.top\n    this.bottom\n    this.absolute\n  }\n})\n\nlet some = factory(['top', 'bottom']).extend({\n  created () {\n    this.top\n    this.bottom\n    this.absolute\n  }\n})\n\nlet all = factory().extend({\n  created () {\n    this.top\n    this.bottom\n    this.absolute\n    this.foobar\n  }\n})\n/**/\n","import { factory as PositionableFactory } from '../positionable'\nimport { TargetProp } from 'vuetify/types/services/application'\n\n// Util\nimport mixins from '../../util/mixins'\n\nexport default function applicationable (value: TargetProp, events: string[] = []) {\n  /* @vue/component */\n  return mixins(PositionableFactory(['absolute', 'fixed'])).extend({\n    name: 'applicationable',\n\n    props: {\n      app: Boolean,\n    },\n\n    computed: {\n      applicationProperty (): TargetProp {\n        return value\n      },\n    },\n\n    watch: {\n      // If previous value was app\n      // reset the provided prop\n      app (x: boolean, prev: boolean) {\n        prev\n          ? this.removeApplication(true)\n          : this.callUpdate()\n      },\n      applicationProperty (newVal, oldVal) {\n        this.$vuetify.application.unregister(this._uid, oldVal)\n      },\n    },\n\n    activated () {\n      this.callUpdate()\n    },\n\n    created () {\n      for (let i = 0, length = events.length; i < length; i++) {\n        this.$watch(events[i], this.callUpdate)\n      }\n      this.callUpdate()\n    },\n\n    mounted () {\n      this.callUpdate()\n    },\n\n    deactivated () {\n      this.removeApplication()\n    },\n\n    destroyed () {\n      this.removeApplication()\n    },\n\n    methods: {\n      callUpdate () {\n        if (!this.app) return\n\n        this.$vuetify.application.register(\n          this._uid,\n          this.applicationProperty,\n          this.updateApplication()\n        )\n      },\n      removeApplication (force = false) {\n        if (!force && !this.app) return\n\n        this.$vuetify.application.unregister(\n          this._uid,\n          this.applicationProperty\n        )\n      },\n      updateApplication: () => 0,\n    },\n  })\n}\n","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import Vue from 'vue'\n\nimport mixins from '../../util/mixins'\nimport { VOverlay } from '../../components/VOverlay'\n\ninterface options extends Vue {\n  $el: HTMLElement\n  $refs: {\n    content: HTMLElement\n  }\n  overlay?: InstanceType<typeof VOverlay>\n}\n\ninterface DependentInstance extends Vue {\n  isActive?: boolean\n  isDependent?: boolean\n}\n\nfunction searchChildren (children: Vue[]): DependentInstance[] {\n  const results = []\n  for (let index = 0; index < children.length; index++) {\n    const child = children[index] as DependentInstance\n    if (child.isActive && child.isDependent) {\n      results.push(child)\n    } else {\n      results.push(...searchChildren(child.$children))\n    }\n  }\n\n  return results\n}\n\n/* @vue/component */\nexport default mixins<options>().extend({\n  name: 'dependent',\n\n  data () {\n    return {\n      closeDependents: true,\n      isActive: false,\n      isDependent: true,\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) return\n\n      const openDependents = this.getOpenDependents()\n      for (let index = 0; index < openDependents.length; index++) {\n        openDependents[index].isActive = false\n      }\n    },\n  },\n\n  methods: {\n    getOpenDependents (): any[] {\n      if (this.closeDependents) return searchChildren(this.$children)\n\n      return []\n    },\n    getOpenDependentElements (): HTMLElement[] {\n      const result = []\n      const openDependents = this.getOpenDependents()\n\n      for (let index = 0; index < openDependents.length; index++) {\n        result.push(...openDependents[index].getClickableDependentElements())\n      }\n\n      return result\n    },\n    getClickableDependentElements (): HTMLElement[] {\n      const result = [this.$el]\n      if (this.$refs.content) result.push(this.$refs.content)\n      if (this.overlay) result.push(this.overlay.$el as HTMLElement)\n      result.push(...this.getOpenDependentElements())\n\n      return result\n    },\n  },\n})\n","// Types\nimport { BreakpointName } from 'vuetify/types/services/breakpoint'\nimport { deprecate } from '../../util/console'\nimport Vue, { PropType } from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'mobile',\n\n  props: {\n    mobileBreakpoint: {\n      type: [Number, String] as PropType<number | BreakpointName>,\n      default (): number | BreakpointName | undefined {\n        // Avoid destroying unit\n        // tests for users\n        return this.$vuetify\n          ? this.$vuetify.breakpoint.mobileBreakpoint\n          : undefined\n      },\n      validator: v => (\n        !isNaN(Number(v)) ||\n        ['xs', 'sm', 'md', 'lg', 'xl'].includes(String(v))\n      ),\n    },\n  },\n\n  computed: {\n    isMobile (): boolean {\n      const {\n        mobile,\n        width,\n        name,\n        mobileBreakpoint,\n      } = this.$vuetify.breakpoint\n\n      // Check if local mobileBreakpoint matches\n      // the application's mobileBreakpoint\n      if (mobileBreakpoint === this.mobileBreakpoint) return mobile\n\n      const mobileWidth = parseInt(this.mobileBreakpoint, 10)\n      const isNumber = !isNaN(mobileWidth)\n\n      return isNumber\n        ? width < mobileWidth\n        : name === this.mobileBreakpoint\n    },\n  },\n\n  created () {\n    /* istanbul ignore next */\n    if (this.$attrs.hasOwnProperty('mobile-break-point')) {\n      deprecate('mobile-break-point', 'mobile-breakpoint', this)\n    }\n  },\n})\n","// Styles\nimport './VOverlay.sass'\n\n// Mixins\nimport Colorable from './../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\nimport Toggleable from './../../mixins/toggleable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Themeable,\n  Toggleable\n).extend({\n  name: 'v-overlay',\n\n  props: {\n    absolute: Boolean,\n    color: {\n      type: String,\n      default: '#212121',\n    },\n    dark: {\n      type: Boolean,\n      default: true,\n    },\n    opacity: {\n      type: [Number, String],\n      default: 0.46,\n    },\n    value: {\n      default: true,\n    },\n    zIndex: {\n      type: [Number, String],\n      default: 5,\n    },\n  },\n\n  computed: {\n    __scrim (): VNode {\n      const data = this.setBackgroundColor(this.color, {\n        staticClass: 'v-overlay__scrim',\n        style: {\n          opacity: this.computedOpacity,\n        },\n      })\n\n      return this.$createElement('div', data)\n    },\n    classes (): object {\n      return {\n        'v-overlay--absolute': this.absolute,\n        'v-overlay--active': this.isActive,\n        ...this.themeClasses,\n      }\n    },\n    computedOpacity (): number {\n      return Number(this.isActive ? this.opacity : 0)\n    },\n    styles (): object {\n      return {\n        zIndex: this.zIndex,\n      }\n    },\n  },\n\n  methods: {\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-overlay__content',\n      }, this.$slots.default)\n    },\n  },\n\n  render (h): VNode {\n    const children = [this.__scrim]\n\n    if (this.isActive) children.push(this.genContent())\n\n    return h('div', {\n      staticClass: 'v-overlay',\n      class: this.classes,\n      style: this.styles,\n    }, children)\n  },\n})\n","import VOverlay from './VOverlay'\n\nexport { VOverlay }\n\nexport default VOverlay\n","// Components\nimport VOverlay from '../../components/VOverlay'\n\n// Utilities\nimport {\n  keyCodes,\n  addOnceEventListener,\n  addPassiveEventListener,\n  getZIndex,\n} from '../../util/helpers'\n\n// Types\nimport Vue from 'vue'\n\ninterface Toggleable extends Vue {\n  isActive?: boolean\n}\n\ninterface Stackable extends Vue {\n  activeZIndex: number\n}\n\ninterface options {\n  absolute?: boolean\n  $refs: {\n    dialog?: HTMLElement\n    content?: HTMLElement\n  }\n}\n\n/* @vue/component */\nexport default Vue.extend<Vue & Toggleable & Stackable & options>().extend({\n  name: 'overlayable',\n\n  props: {\n    hideOverlay: Boolean,\n    overlayColor: String,\n    overlayOpacity: [Number, String],\n  },\n\n  data () {\n    return {\n      animationFrame: 0,\n      overlay: null as InstanceType<typeof VOverlay> | null,\n    }\n  },\n\n  watch: {\n    hideOverlay (value) {\n      if (!this.isActive) return\n\n      if (value) this.removeOverlay()\n      else this.genOverlay()\n    },\n  },\n\n  beforeDestroy () {\n    this.removeOverlay()\n  },\n\n  methods: {\n    createOverlay () {\n      const overlay = new VOverlay({\n        propsData: {\n          absolute: this.absolute,\n          value: false,\n          color: this.overlayColor,\n          opacity: this.overlayOpacity,\n        },\n      })\n\n      overlay.$mount()\n\n      const parent = this.absolute\n        ? this.$el.parentNode\n        : document.querySelector('[data-app]')\n\n      parent && parent.insertBefore(overlay.$el, parent.firstChild)\n\n      this.overlay = overlay\n    },\n    genOverlay () {\n      this.hideScroll()\n\n      if (this.hideOverlay) return\n\n      if (!this.overlay) this.createOverlay()\n\n      this.animationFrame = requestAnimationFrame(() => {\n        if (!this.overlay) return\n\n        if (this.activeZIndex !== undefined) {\n          this.overlay.zIndex = String(this.activeZIndex - 1)\n        } else if (this.$el) {\n          this.overlay.zIndex = getZIndex(this.$el)\n        }\n\n        this.overlay.value = true\n      })\n\n      return true\n    },\n    /** removeOverlay(false) will not restore the scollbar afterwards */\n    removeOverlay (showScroll = true) {\n      if (this.overlay) {\n        addOnceEventListener(this.overlay.$el, 'transitionend', () => {\n          if (\n            !this.overlay ||\n            !this.overlay.$el ||\n            !this.overlay.$el.parentNode ||\n            this.overlay.value\n          ) return\n\n          this.overlay.$el.parentNode.removeChild(this.overlay.$el)\n          this.overlay.$destroy()\n          this.overlay = null\n        })\n\n        // Cancel animation frame in case\n        // overlay is removed before it\n        // has finished its animation\n        cancelAnimationFrame(this.animationFrame)\n\n        this.overlay.value = false\n      }\n\n      showScroll && this.showScroll()\n    },\n    scrollListener (e: WheelEvent & KeyboardEvent) {\n      if (e.type === 'keydown') {\n        if (\n          ['INPUT', 'TEXTAREA', 'SELECT'].includes((e.target as Element).tagName) ||\n          // https://github.com/vuetifyjs/vuetify/issues/4715\n          (e.target as HTMLElement).isContentEditable\n        ) return\n\n        const up = [keyCodes.up, keyCodes.pageup]\n        const down = [keyCodes.down, keyCodes.pagedown]\n\n        if (up.includes(e.keyCode)) {\n          (e as any).deltaY = -1\n        } else if (down.includes(e.keyCode)) {\n          (e as any).deltaY = 1\n        } else {\n          return\n        }\n      }\n\n      if (e.target === this.overlay ||\n        (e.type !== 'keydown' && e.target === document.body) ||\n        this.checkPath(e)) e.preventDefault()\n    },\n    hasScrollbar (el?: Element) {\n      if (!el || el.nodeType !== Node.ELEMENT_NODE) return false\n\n      const style = window.getComputedStyle(el)\n      return ['auto', 'scroll'].includes(style.overflowY!) && el.scrollHeight > el.clientHeight\n    },\n    shouldScroll (el: Element, delta: number) {\n      if (el.scrollTop === 0 && delta < 0) return true\n      return el.scrollTop + el.clientHeight === el.scrollHeight && delta > 0\n    },\n    isInside (el: Element, parent: Element): boolean {\n      if (el === parent) {\n        return true\n      } else if (el === null || el === document.body) {\n        return false\n      } else {\n        return this.isInside(el.parentNode as Element, parent)\n      }\n    },\n    checkPath (e: WheelEvent) {\n      const path = e.path || this.composedPath(e)\n      const delta = e.deltaY\n\n      if (e.type === 'keydown' && path[0] === document.body) {\n        const dialog = this.$refs.dialog\n        // getSelection returns null in firefox in some edge cases, can be ignored\n        const selected = window.getSelection()!.anchorNode as Element\n        if (dialog && this.hasScrollbar(dialog) && this.isInside(selected, dialog)) {\n          return this.shouldScroll(dialog, delta)\n        }\n        return true\n      }\n\n      for (let index = 0; index < path.length; index++) {\n        const el = path[index]\n\n        if (el === document) return true\n        if (el === document.documentElement) return true\n        if (el === this.$refs.content) return true\n\n        if (this.hasScrollbar(el as Element)) return this.shouldScroll(el as Element, delta)\n      }\n\n      return true\n    },\n    /**\n     * Polyfill for Event.prototype.composedPath\n     */\n    composedPath (e: WheelEvent): EventTarget[] {\n      if (e.composedPath) return e.composedPath()\n\n      const path = []\n      let el = e.target as Element\n\n      while (el) {\n        path.push(el)\n\n        if (el.tagName === 'HTML') {\n          path.push(document)\n          path.push(window)\n\n          return path\n        }\n\n        el = el.parentElement!\n      }\n      return path\n    },\n    hideScroll () {\n      if (this.$vuetify.breakpoint.smAndDown) {\n        document.documentElement!.classList.add('overflow-y-hidden')\n      } else {\n        addPassiveEventListener(window, 'wheel', this.scrollListener as EventHandlerNonNull, { passive: false })\n        window.addEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n      }\n    },\n    showScroll () {\n      document.documentElement!.classList.remove('overflow-y-hidden')\n      window.removeEventListener('wheel', this.scrollListener as EventHandlerNonNull)\n      window.removeEventListener('keydown', this.scrollListener as EventHandlerNonNull)\n    },\n  },\n})\n","import { VNodeDirective } from 'vue/types/vnode'\n\ninterface ClickOutsideBindingArgs {\n  handler: (e: Event) => void\n  closeConditional?: (e: Event) => boolean\n  include?: () => HTMLElement[]\n}\n\ninterface ClickOutsideDirective extends VNodeDirective {\n  value?: ((e: Event) => void) | ClickOutsideBindingArgs\n}\n\nfunction defaultConditional () {\n  return true\n}\n\nfunction directive (e: PointerEvent, el: HTMLElement, binding: ClickOutsideDirective): void {\n  const handler = typeof binding.value === 'function' ? binding.value : binding.value!.handler\n\n  const isActive = (typeof binding.value === 'object' && binding.value.closeConditional) || defaultConditional\n\n  // The include element callbacks below can be expensive\n  // so we should avoid calling them when we're not active.\n  // Explicitly check for false to allow fallback compatibility\n  // with non-toggleable components\n  if (!e || isActive(e) === false) return\n\n  // Check if additional elements were passed to be included in check\n  // (click must be outside all included elements, if any)\n  const elements = ((typeof binding.value === 'object' && binding.value.include) || (() => []))()\n  // Add the root element for the component this directive was defined on\n  elements.push(el)\n\n  // Check if it's a click outside our elements, and then if our callback returns true.\n  // Non-toggleable components should take action in their callback and return falsy.\n  // Toggleable can return true if it wants to deactivate.\n  // Note that, because we're in the capture phase, this callback will occur before\n  // the bubbling click event on any outside elements.\n  !elements.some(el => el.contains(e.target as Node)) && setTimeout(() => {\n    isActive(e) && handler && handler(e)\n  }, 0)\n}\n\nexport const ClickOutside = {\n  // [data-app] may not be found\n  // if using bind, inserted makes\n  // sure that the root element is\n  // available, iOS does not support\n  // clicks on body\n  inserted (el: HTMLElement, binding: ClickOutsideDirective) {\n    const onClick = (e: Event) => directive(e as PointerEvent, el, binding)\n    // iOS does not recognize click events on document\n    // or body, this is the entire purpose of the v-app\n    // component and [data-app], stop removing this\n    const app = document.querySelector('[data-app]') ||\n      document.body // This is only for unit tests\n    app.addEventListener('click', onClick, true)\n    el._clickOutside = onClick\n  },\n\n  unbind (el: HTMLElement) {\n    if (!el._clickOutside) return\n\n    const app = document.querySelector('[data-app]') ||\n      document.body // This is only for unit tests\n    app && app.removeEventListener('click', el._clickOutside, true)\n    delete el._clickOutside\n  },\n}\n\nexport default ClickOutside\n","import { VNodeDirective, VNode } from 'vue/types/vnode'\nimport { keys } from '../../util/helpers'\nimport { TouchHandlers, TouchValue, TouchWrapper } from 'vuetify/types'\n\nexport interface TouchStoredHandlers {\n  touchstart: (e: TouchEvent) => void\n  touchend: (e: TouchEvent) => void\n  touchmove: (e: TouchEvent) => void\n}\n\ninterface TouchVNodeDirective extends VNodeDirective {\n  value?: TouchValue\n}\n\nconst handleGesture = (wrapper: TouchWrapper) => {\n  const { touchstartX, touchendX, touchstartY, touchendY } = wrapper\n  const dirRatio = 0.5\n  const minDistance = 16\n  wrapper.offsetX = touchendX - touchstartX\n  wrapper.offsetY = touchendY - touchstartY\n\n  if (Math.abs(wrapper.offsetY) < dirRatio * Math.abs(wrapper.offsetX)) {\n    wrapper.left && (touchendX < touchstartX - minDistance) && wrapper.left(wrapper)\n    wrapper.right && (touchendX > touchstartX + minDistance) && wrapper.right(wrapper)\n  }\n\n  if (Math.abs(wrapper.offsetX) < dirRatio * Math.abs(wrapper.offsetY)) {\n    wrapper.up && (touchendY < touchstartY - minDistance) && wrapper.up(wrapper)\n    wrapper.down && (touchendY > touchstartY + minDistance) && wrapper.down(wrapper)\n  }\n}\n\nfunction touchstart (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchstartX = touch.clientX\n  wrapper.touchstartY = touch.clientY\n\n  wrapper.start &&\n    wrapper.start(Object.assign(event, wrapper))\n}\n\nfunction touchend (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchendX = touch.clientX\n  wrapper.touchendY = touch.clientY\n\n  wrapper.end &&\n    wrapper.end(Object.assign(event, wrapper))\n\n  handleGesture(wrapper)\n}\n\nfunction touchmove (event: TouchEvent, wrapper: TouchWrapper) {\n  const touch = event.changedTouches[0]\n  wrapper.touchmoveX = touch.clientX\n  wrapper.touchmoveY = touch.clientY\n\n  wrapper.move && wrapper.move(Object.assign(event, wrapper))\n}\n\nfunction createHandlers (value: TouchHandlers): TouchStoredHandlers {\n  const wrapper = {\n    touchstartX: 0,\n    touchstartY: 0,\n    touchendX: 0,\n    touchendY: 0,\n    touchmoveX: 0,\n    touchmoveY: 0,\n    offsetX: 0,\n    offsetY: 0,\n    left: value.left,\n    right: value.right,\n    up: value.up,\n    down: value.down,\n    start: value.start,\n    move: value.move,\n    end: value.end,\n  }\n\n  return {\n    touchstart: (e: TouchEvent) => touchstart(e, wrapper),\n    touchend: (e: TouchEvent) => touchend(e, wrapper),\n    touchmove: (e: TouchEvent) => touchmove(e, wrapper),\n  }\n}\n\nfunction inserted (el: HTMLElement, binding: TouchVNodeDirective, vnode: VNode) {\n  const value = binding.value!\n  const target = value.parent ? el.parentElement : el\n  const options = value.options || { passive: true }\n\n  // Needed to pass unit tests\n  if (!target) return\n\n  const handlers = createHandlers(binding.value!)\n  target._touchHandlers = Object(target._touchHandlers)\n  target._touchHandlers![vnode.context!._uid] = handlers\n\n  keys(handlers).forEach(eventName => {\n    target.addEventListener(eventName, handlers[eventName] as EventListener, options)\n  })\n}\n\nfunction unbind (el: HTMLElement, binding: TouchVNodeDirective, vnode: VNode) {\n  const target = binding.value!.parent ? el.parentElement : el\n  if (!target || !target._touchHandlers) return\n\n  const handlers = target._touchHandlers[vnode.context!._uid]\n  keys(handlers).forEach(eventName => {\n    target.removeEventListener(eventName, handlers[eventName])\n  })\n  delete target._touchHandlers[vnode.context!._uid]\n}\n\nexport const Touch = {\n  inserted,\n  unbind,\n}\n\nexport default Touch\n","// Styles\nimport './VNavigationDrawer.sass'\n\n// Components\nimport VImg, { srcObject } from '../VImg/VImg'\n\n// Mixins\nimport Applicationable from '../../mixins/applicationable'\nimport Colorable from '../../mixins/colorable'\nimport Dependent from '../../mixins/dependent'\nimport Mobile from '../../mixins/mobile'\nimport Overlayable from '../../mixins/overlayable'\nimport SSRBootable from '../../mixins/ssr-bootable'\nimport Themeable from '../../mixins/themeable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\nimport Resize from '../../directives/resize'\nimport Touch from '../../directives/touch'\n\n// Utilities\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode, VNodeDirective, PropType } from 'vue'\nimport { TouchWrapper } from 'vuetify/types'\n\nconst baseMixins = mixins(\n  Applicationable('left', [\n    'isActive',\n    'isMobile',\n    'miniVariant',\n    'expandOnHover',\n    'permanent',\n    'right',\n    'temporary',\n    'width',\n  ]),\n  Colorable,\n  Dependent,\n  Mobile,\n  Overlayable,\n  SSRBootable,\n  Themeable\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-navigation-drawer',\n\n  directives: {\n    ClickOutside,\n    Resize,\n    Touch,\n  },\n\n  provide (): object {\n    return {\n      isInNav: this.tag === 'nav',\n    }\n  },\n\n  props: {\n    bottom: Boolean,\n    clipped: Boolean,\n    disableResizeWatcher: Boolean,\n    disableRouteWatcher: Boolean,\n    expandOnHover: Boolean,\n    floating: Boolean,\n    height: {\n      type: [Number, String],\n      default (): string {\n        return this.app ? '100vh' : '100%'\n      },\n    },\n    miniVariant: Boolean,\n    miniVariantWidth: {\n      type: [Number, String],\n      default: 56,\n    },\n    permanent: Boolean,\n    right: Boolean,\n    src: {\n      type: [String, Object] as PropType<string | srcObject>,\n      default: '',\n    },\n    stateless: Boolean,\n    tag: {\n      type: String,\n      default (): string {\n        return this.app ? 'nav' : 'aside'\n      },\n    },\n    temporary: Boolean,\n    touchless: Boolean,\n    width: {\n      type: [Number, String],\n      default: 256,\n    },\n    value: null as unknown as PropType<any>,\n  },\n\n  data: () => ({\n    isMouseover: false,\n    touchArea: {\n      left: 0,\n      right: 0,\n    },\n    stackMinZIndex: 6,\n  }),\n\n  computed: {\n    /**\n     * Used for setting an app value from a dynamic\n     * property. Called from applicationable.js\n     */\n    applicationProperty (): string {\n      return this.right ? 'right' : 'left'\n    },\n    classes (): object {\n      return {\n        'v-navigation-drawer': true,\n        'v-navigation-drawer--absolute': this.absolute,\n        'v-navigation-drawer--bottom': this.bottom,\n        'v-navigation-drawer--clipped': this.clipped,\n        'v-navigation-drawer--close': !this.isActive,\n        'v-navigation-drawer--fixed': !this.absolute && (this.app || this.fixed),\n        'v-navigation-drawer--floating': this.floating,\n        'v-navigation-drawer--is-mobile': this.isMobile,\n        'v-navigation-drawer--is-mouseover': this.isMouseover,\n        'v-navigation-drawer--mini-variant': this.isMiniVariant,\n        'v-navigation-drawer--custom-mini-variant': Number(this.miniVariantWidth) !== 56,\n        'v-navigation-drawer--open': this.isActive,\n        'v-navigation-drawer--open-on-hover': this.expandOnHover,\n        'v-navigation-drawer--right': this.right,\n        'v-navigation-drawer--temporary': this.temporary,\n        ...this.themeClasses,\n      }\n    },\n    computedMaxHeight (): number | null {\n      if (!this.hasApp) return null\n\n      const computedMaxHeight = (\n        this.$vuetify.application.bottom +\n        this.$vuetify.application.footer +\n        this.$vuetify.application.bar\n      )\n\n      if (!this.clipped) return computedMaxHeight\n\n      return computedMaxHeight + this.$vuetify.application.top\n    },\n    computedTop (): number {\n      if (!this.hasApp) return 0\n\n      let computedTop = this.$vuetify.application.bar\n\n      computedTop += this.clipped\n        ? this.$vuetify.application.top\n        : 0\n\n      return computedTop\n    },\n    computedTransform (): number {\n      if (this.isActive) return 0\n      if (this.isBottom) return 100\n      return this.right ? 100 : -100\n    },\n    computedWidth (): string | number {\n      return this.isMiniVariant ? this.miniVariantWidth : this.width\n    },\n    hasApp (): boolean {\n      return (\n        this.app &&\n        (!this.isMobile && !this.temporary)\n      )\n    },\n    isBottom (): boolean {\n      return this.bottom && this.isMobile\n    },\n    isMiniVariant (): boolean {\n      return (\n        !this.expandOnHover &&\n        this.miniVariant\n      ) || (\n        this.expandOnHover &&\n        !this.isMouseover\n      )\n    },\n    isMobile (): boolean {\n      return (\n        !this.stateless &&\n        !this.permanent &&\n        Mobile.options.computed.isMobile.call(this)\n      )\n    },\n    reactsToClick (): boolean {\n      return (\n        !this.stateless &&\n        !this.permanent &&\n        (this.isMobile || this.temporary)\n      )\n    },\n    reactsToMobile (): boolean {\n      return (\n        this.app &&\n        !this.disableResizeWatcher &&\n        !this.permanent &&\n        !this.stateless &&\n        !this.temporary\n      )\n    },\n    reactsToResize (): boolean {\n      return !this.disableResizeWatcher && !this.stateless\n    },\n    reactsToRoute (): boolean {\n      return (\n        !this.disableRouteWatcher &&\n        !this.stateless &&\n        (this.temporary || this.isMobile)\n      )\n    },\n    showOverlay (): boolean {\n      return (\n        !this.hideOverlay &&\n        this.isActive &&\n        (this.isMobile || this.temporary)\n      )\n    },\n    styles (): object {\n      const translate = this.isBottom ? 'translateY' : 'translateX'\n      return {\n        height: convertToUnit(this.height),\n        top: !this.isBottom ? convertToUnit(this.computedTop) : 'auto',\n        maxHeight: this.computedMaxHeight != null\n          ? `calc(100% - ${convertToUnit(this.computedMaxHeight)})`\n          : undefined,\n        transform: `${translate}(${convertToUnit(this.computedTransform, '%')})`,\n        width: convertToUnit(this.computedWidth),\n      }\n    },\n  },\n\n  watch: {\n    $route: 'onRouteChange',\n    isActive (val) {\n      this.$emit('input', val)\n    },\n    /**\n     * When mobile changes, adjust the active state\n     * only when there has been a previous value\n     */\n    isMobile (val, prev) {\n      !val &&\n        this.isActive &&\n        !this.temporary &&\n        this.removeOverlay()\n\n      if (prev == null ||\n        !this.reactsToResize ||\n        !this.reactsToMobile\n      ) return\n\n      this.isActive = !val\n    },\n    permanent (val) {\n      // If enabling prop enable the drawer\n      if (val) this.isActive = true\n    },\n    showOverlay (val) {\n      if (val) this.genOverlay()\n      else this.removeOverlay()\n    },\n    value (val) {\n      if (this.permanent) return\n\n      if (val == null) {\n        this.init()\n        return\n      }\n\n      if (val !== this.isActive) this.isActive = val\n    },\n    expandOnHover: 'updateMiniVariant',\n    isMouseover (val) {\n      this.updateMiniVariant(!val)\n    },\n  },\n\n  beforeMount () {\n    this.init()\n  },\n\n  methods: {\n    calculateTouchArea () {\n      const parent = this.$el.parentNode as Element\n\n      if (!parent) return\n\n      const parentRect = parent.getBoundingClientRect()\n\n      this.touchArea = {\n        left: parentRect.left + 50,\n        right: parentRect.right - 50,\n      }\n    },\n    closeConditional () {\n      return this.isActive && !this._isDestroyed && this.reactsToClick\n    },\n    genAppend () {\n      return this.genPosition('append')\n    },\n    genBackground () {\n      const props = {\n        height: '100%',\n        width: '100%',\n        src: this.src,\n      }\n\n      const image = this.$scopedSlots.img\n        ? this.$scopedSlots.img(props)\n        : this.$createElement(VImg, { props })\n\n      return this.$createElement('div', {\n        staticClass: 'v-navigation-drawer__image',\n      }, [image])\n    },\n    genDirectives (): VNodeDirective[] {\n      const directives = [{\n        name: 'click-outside',\n        value: {\n          handler: () => { this.isActive = false },\n          closeConditional: this.closeConditional,\n          include: this.getOpenDependentElements,\n        },\n      }]\n\n      if (!this.touchless && !this.stateless) {\n        directives.push({\n          name: 'touch',\n          value: {\n            parent: true,\n            left: this.swipeLeft,\n            right: this.swipeRight,\n          },\n        } as any)\n      }\n\n      return directives\n    },\n    genListeners () {\n      const on: Record<string, (e: Event) => void> = {\n        transitionend: (e: Event) => {\n          if (e.target !== e.currentTarget) return\n          this.$emit('transitionend', e)\n\n          // IE11 does not support new Event('resize')\n          const resizeEvent = document.createEvent('UIEvents')\n          resizeEvent.initUIEvent('resize', true, false, window, 0)\n          window.dispatchEvent(resizeEvent)\n        },\n      }\n\n      if (this.miniVariant) {\n        on.click = () => this.$emit('update:mini-variant', false)\n      }\n\n      if (this.expandOnHover) {\n        on.mouseenter = () => (this.isMouseover = true)\n        on.mouseleave = () => (this.isMouseover = false)\n      }\n\n      return on\n    },\n    genPosition (name: 'prepend' | 'append') {\n      const slot = getSlot(this, name)\n\n      if (!slot) return slot\n\n      return this.$createElement('div', {\n        staticClass: `v-navigation-drawer__${name}`,\n      }, slot)\n    },\n    genPrepend () {\n      return this.genPosition('prepend')\n    },\n    genContent () {\n      return this.$createElement('div', {\n        staticClass: 'v-navigation-drawer__content',\n      }, this.$slots.default)\n    },\n    genBorder () {\n      return this.$createElement('div', {\n        staticClass: 'v-navigation-drawer__border',\n      })\n    },\n    init () {\n      if (this.permanent) {\n        this.isActive = true\n      } else if (this.stateless ||\n        this.value != null\n      ) {\n        this.isActive = this.value\n      } else if (!this.temporary) {\n        this.isActive = !this.isMobile\n      }\n    },\n    onRouteChange () {\n      if (this.reactsToRoute && this.closeConditional()) {\n        this.isActive = false\n      }\n    },\n    swipeLeft (e: TouchWrapper) {\n      if (this.isActive && this.right) return\n      this.calculateTouchArea()\n\n      if (Math.abs(e.touchendX - e.touchstartX) < 100) return\n      if (this.right &&\n        e.touchstartX >= this.touchArea.right\n      ) this.isActive = true\n      else if (!this.right && this.isActive) this.isActive = false\n    },\n    swipeRight (e: TouchWrapper) {\n      if (this.isActive && !this.right) return\n      this.calculateTouchArea()\n\n      if (Math.abs(e.touchendX - e.touchstartX) < 100) return\n      if (!this.right &&\n        e.touchstartX <= this.touchArea.left\n      ) this.isActive = true\n      else if (this.right && this.isActive) this.isActive = false\n    },\n    /**\n     * Update the application layout\n     */\n    updateApplication () {\n      if (\n        !this.isActive ||\n        this.isMobile ||\n        this.temporary ||\n        !this.$el\n      ) return 0\n\n      const width = Number(this.computedWidth)\n\n      return isNaN(width) ? this.$el.clientWidth : width\n    },\n    updateMiniVariant (val: boolean) {\n      if (this.miniVariant !== val) this.$emit('update:mini-variant', val)\n    },\n  },\n\n  render (h): VNode {\n    const children = [\n      this.genPrepend(),\n      this.genContent(),\n      this.genAppend(),\n      this.genBorder(),\n    ]\n\n    if (this.src || getSlot(this, 'img')) children.unshift(this.genBackground())\n\n    return h(this.tag, this.setBackgroundColor(this.color, {\n      class: this.classes,\n      style: this.styles,\n      directives: this.genDirectives(),\n      on: this.genListeners(),\n    }), children)\n  },\n})\n","'use strict';\n\nvar inherits = require('inherits')\n  , urlUtils = require('../../utils/url')\n  , BufferedSender = require('./buffered-sender')\n  , Polling = require('./polling')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:sender-receiver');\n}\n\nfunction SenderReceiver(transUrl, urlSuffix, senderFunc, Receiver, AjaxObject) {\n  var pollUrl = urlUtils.addPath(transUrl, urlSuffix);\n  debug(pollUrl);\n  var self = this;\n  BufferedSender.call(this, transUrl, senderFunc);\n\n  this.poll = new Polling(Receiver, pollUrl, AjaxObject);\n  this.poll.on('message', function(msg) {\n    debug('poll message', msg);\n    self.emit('message', msg);\n  });\n  this.poll.once('close', function(code, reason) {\n    debug('poll close', code, reason);\n    self.poll = null;\n    self.emit('close', code, reason);\n    self.close();\n  });\n}\n\ninherits(SenderReceiver, BufferedSender);\n\nSenderReceiver.prototype.close = function() {\n  BufferedSender.prototype.close.call(this);\n  debug('close');\n  this.removeAllListeners();\n  if (this.poll) {\n    this.poll.abort();\n    this.poll = null;\n  }\n};\n\nmodule.exports = SenderReceiver;\n","'use strict';\n\n// The simplest and most robust transport, using the well-know cross\n// domain hack - JSONP. This transport is quite inefficient - one\n// message could use up to one http request. But at least it works almost\n// everywhere.\n// Known limitations:\n//   o you will get a spinning cursor\n//   o for Konqueror a dumb timer is needed to detect errors\n\nvar inherits = require('inherits')\n  , SenderReceiver = require('./lib/sender-receiver')\n  , JsonpReceiver = require('./receiver/jsonp')\n  , jsonpSender = require('./sender/jsonp')\n  ;\n\nfunction JsonPTransport(transUrl) {\n  if (!JsonPTransport.enabled()) {\n    throw new Error('Transport created when disabled');\n  }\n  SenderReceiver.call(this, transUrl, '/jsonp', jsonpSender, JsonpReceiver);\n}\n\ninherits(JsonPTransport, SenderReceiver);\n\nJsonPTransport.enabled = function() {\n  return !!global.document;\n};\n\nJsonPTransport.transportName = 'jsonp-polling';\nJsonPTransport.roundTrips = 1;\nJsonPTransport.needBody = true;\n\nmodule.exports = JsonPTransport;\n","'use strict';\n\nvar inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  , EventSourceDriver = require('eventsource')\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:eventsource');\n}\n\nfunction EventSourceReceiver(url) {\n  debug(url);\n  EventEmitter.call(this);\n\n  var self = this;\n  var es = this.es = new EventSourceDriver(url);\n  es.onmessage = function(e) {\n    debug('message', e.data);\n    self.emit('message', decodeURI(e.data));\n  };\n  es.onerror = function(e) {\n    debug('error', es.readyState, e);\n    // ES on reconnection has readyState = 0 or 1.\n    // on network error it's CLOSED = 2\n    var reason = (es.readyState !== 2 ? 'network' : 'permanent');\n    self._cleanup();\n    self._close(reason);\n  };\n}\n\ninherits(EventSourceReceiver, EventEmitter);\n\nEventSourceReceiver.prototype.abort = function() {\n  debug('abort');\n  this._cleanup();\n  this._close('user');\n};\n\nEventSourceReceiver.prototype._cleanup = function() {\n  debug('cleanup');\n  var es = this.es;\n  if (es) {\n    es.onmessage = es.onerror = null;\n    es.close();\n    this.es = null;\n  }\n};\n\nEventSourceReceiver.prototype._close = function(reason) {\n  debug('close', reason);\n  var self = this;\n  // Safari and chrome < 15 crash if we close window before\n  // waiting for ES cleanup. See:\n  // https://code.google.com/p/chromium/issues/detail?id=89155\n  setTimeout(function() {\n    self.emit('close', null, reason);\n    self.removeAllListeners();\n  }, 200);\n};\n\nmodule.exports = EventSourceReceiver;\n","'use strict';\n\nvar utils = require('../../utils/iframe')\n  , random = require('../../utils/random')\n  , browser = require('../../utils/browser')\n  , urlUtils = require('../../utils/url')\n  , inherits = require('inherits')\n  , EventEmitter = require('events').EventEmitter\n  ;\n\nvar debug = function() {};\nif (process.env.NODE_ENV !== 'production') {\n  debug = require('debug')('sockjs-client:receiver:jsonp');\n}\n\nfunction JsonpReceiver(url) {\n  debug(url);\n  var self = this;\n  EventEmitter.call(this);\n\n  utils.polluteGlobalNamespace();\n\n  this.id = 'a' + random.string(6);\n  var urlWithId = urlUtils.addQuery(url, 'c=' + encodeURIComponent(utils.WPrefix + '.' + this.id));\n\n  global[utils.WPrefix][this.id] = this._callback.bind(this);\n  this._createScript(urlWithId);\n\n  // Fallback mostly for Konqueror - stupid timer, 35 seconds shall be plenty.\n  this.timeoutId = setTimeout(function() {\n    debug('timeout');\n    self._abort(new Error('JSONP script loaded abnormally (timeout)'));\n  }, JsonpReceiver.timeout);\n}\n\ninherits(JsonpReceiver, EventEmitter);\n\nJsonpReceiver.prototype.abort = function() {\n  debug('abort');\n  if (global[utils.WPrefix][this.id]) {\n    var err = new Error('JSONP user aborted read');\n    err.code = 1000;\n    this._abort(err);\n  }\n};\n\nJsonpReceiver.timeout = 35000;\nJsonpReceiver.scriptErrorTimeout = 1000;\n\nJsonpReceiver.prototype._callback = function(data) {\n  debug('_callback', data);\n  this._cleanup();\n\n  if (this.aborting) {\n    return;\n  }\n\n  if (data) {\n    debug('message', data);\n    this.emit('message', data);\n  }\n  this.emit('close', null, 'network');\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._abort = function(err) {\n  debug('_abort', err);\n  this._cleanup();\n  this.aborting = true;\n  this.emit('close', err.code, err.message);\n  this.removeAllListeners();\n};\n\nJsonpReceiver.prototype._cleanup = function() {\n  debug('_cleanup');\n  clearTimeout(this.timeoutId);\n  if (this.script2) {\n    this.script2.parentNode.removeChild(this.script2);\n    this.script2 = null;\n  }\n  if (this.script) {\n    var script = this.script;\n    // Unfortunately, you can't really abort script loading of\n    // the script.\n    script.parentNode.removeChild(script);\n    script.onreadystatechange = script.onerror =\n        script.onload = script.onclick = null;\n    this.script = null;\n  }\n  delete global[utils.WPrefix][this.id];\n};\n\nJsonpReceiver.prototype._scriptError = function() {\n  debug('_scriptError');\n  var self = this;\n  if (this.errorTimer) {\n    return;\n  }\n\n  this.errorTimer = setTimeout(function() {\n    if (!self.loadedOkay) {\n      self._abort(new Error('JSONP script loaded abnormally (onerror)'));\n    }\n  }, JsonpReceiver.scriptErrorTimeout);\n};\n\nJsonpReceiver.prototype._createScript = function(url) {\n  debug('_createScript', url);\n  var self = this;\n  var script = this.script = global.document.createElement('script');\n  var script2;  // Opera synchronous load trick.\n\n  script.id = 'a' + random.string(8);\n  script.src = url;\n  script.type = 'text/javascript';\n  script.charset = 'UTF-8';\n  script.onerror = this._scriptError.bind(this);\n  script.onload = function() {\n    debug('onload');\n    self._abort(new Error('JSONP script loaded abnormally (onload)'));\n  };\n\n  // IE9 fires 'error' event after onreadystatechange or before, in random order.\n  // Use loadedOkay to determine if actually errored\n  script.onreadystatechange = function() {\n    debug('onreadystatechange', script.readyState);\n    if (/loaded|closed/.test(script.readyState)) {\n      if (script && script.htmlFor && script.onclick) {\n        self.loadedOkay = true;\n        try {\n          // In IE, actually execute the script.\n          script.onclick();\n        } catch (x) {\n          // intentionally empty\n        }\n      }\n      if (script) {\n        self._abort(new Error('JSONP script loaded abnormally (onreadystatechange)'));\n      }\n    }\n  };\n  // IE: event/htmlFor/onclick trick.\n  // One can't rely on proper order for onreadystatechange. In order to\n  // make sure, set a 'htmlFor' and 'event' properties, so that\n  // script code will be installed as 'onclick' handler for the\n  // script object. Later, onreadystatechange, manually execute this\n  // code. FF and Chrome doesn't work with 'event' and 'htmlFor'\n  // set. For reference see:\n  //   http://jaubourg.net/2010/07/loading-script-as-onclick-handler-of.html\n  // Also, read on that about script ordering:\n  //   http://wiki.whatwg.org/wiki/Dynamic_Script_Execution_Order\n  if (typeof script.async === 'undefined' && global.document.attachEvent) {\n    // According to mozilla docs, in recent browsers script.async defaults\n    // to 'true', so we may use it to detect a good browser:\n    // https://developer.mozilla.org/en/HTML/Element/script\n    if (!browser.isOpera()) {\n      // Naively assume we're in IE\n      try {\n        script.htmlFor = script.id;\n        script.event = 'onclick';\n      } catch (x) {\n        // intentionally empty\n      }\n      script.async = true;\n    } else {\n      // Opera, second sync script hack\n      script2 = this.script2 = global.document.createElement('script');\n      script2.text = \"try{var a = document.getElementById('\" + script.id + \"'); if(a)a.onerror();}catch(x){};\";\n      script.async = script2.async = false;\n    }\n  }\n  if (typeof script.async !== 'undefined') {\n    script.async = true;\n  }\n\n  var head = global.document.getElementsByTagName('head')[0];\n  head.insertBefore(script, head.firstChild);\n  if (script2) {\n    head.insertBefore(script2, head.firstChild);\n  }\n};\n\nmodule.exports = JsonpReceiver;\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('slice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  // eslint-disable-next-line no-undef\n  && !Symbol.sham\n  // eslint-disable-next-line no-undef\n  && typeof Symbol.iterator == 'symbol';\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n"],"sourceRoot":""}